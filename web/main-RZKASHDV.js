import{$ as Yd,$a as Ye,$b as ve,A as Wr,Aa as $p,Ab as ru,B as Lp,Ba as Dn,Bb as u,C as Sn,Ca as at,Cb as h,D as bt,Da as is,Db as w,E as ts,Ea as Wp,Eb as mi,F as $i,Fa as Ki,Fb as gi,G as Kn,Ga as Za,Gb as Mn,Gc as uf,H as Ha,Ha as _n,Hb as $,Hc as cs,I as Gd,Ia as rs,Ib as ou,Ic as qa,J as Kt,Ja as Yi,Jb as as,K as qd,Ka as qr,Kb as S,Kc as hf,L as Wi,La as Gp,Lb as C,M as pi,Ma as qp,Mb as An,Mc as Ka,N as Kd,Na as Kp,Nb as on,O as Bp,Oa as Yp,Ob as Ga,Oc as pf,P as Vp,Pa as Jp,Pb as ft,Q as ja,Qa as Xp,Qb as Be,R as En,Ra as Qp,Rb as ce,S as yt,Sa as Ji,Sb as de,T as Me,Ta as Kr,Tb as Zt,Tc as ff,U as qe,Ua as za,Ub as g,V as oe,Va as ef,Vb as R,W as Bt,Wa as ss,Wb as xe,X as I,Xa as f,Xb as W,Y as ae,Ya as Xi,Yb as G,Z as Hp,Za as _e,Zb as q,_ as O,_a as Ke,_b as Xe,a as k,aa as H,ab as D,ac as Ze,b as ye,ba as y,bb as Ua,bc as Xn,c as N,ca as Gi,cb as jt,cc as rf,d as rn,da as jp,db as $a,dc as be,e as Op,ea as Vt,eb as tf,ec as ke,f as Gn,fa as Ht,fb as Wa,fc as ls,g as zd,ga as Ue,gb as P,gc as vn,h as Ud,ha as M,hb as le,hc as su,i as B,ia as A,ib as z,ic as of,j as vt,ja as ee,jb as Yr,jc as sf,k as $d,ka as Ce,kb as Je,kc as af,l as Xo,la as wt,lb as T,lc as it,m as qn,ma as Gr,mb as Qd,mc as au,n as nt,na as Ae,nb as Jr,nc as lu,o as U,oa as Zp,ob as nf,oc as lf,p as Qo,pa as Jd,pb as eu,pc as ue,q as Ui,qa as zp,qb as tu,qc as zt,r as Np,ra as ns,rb as Yn,rc as Yt,s as X,sa as Z,sb as je,sc as Xr,t as he,ta as ie,tb as b,tc as cf,u as $r,ua as Xd,ub as Jn,uc as Qr,v as Lt,va as gn,vb as we,vc as df,w as es,wa as Y,wb as Tt,x as Va,xa as fi,xb as nu,y as Wd,ya as Up,yb as pt,z as Fp,za as qi,zb as iu}from"./chunk-L337ENAS.js";var K=new O("");var _f=null;function sn(){return _f}function cu(i){_f??=i}var ds=class{},us=(()=>{class i{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(vf),providedIn:"platform"})}return i})(),du=new O(""),vf=(()=>{class i extends us{_location;_history;_doc=y(K);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sn().getBaseHref(this._doc)}onPopState(e){let n=sn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=sn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>new i,providedIn:"platform"})}return i})();function Ya(i,t){return i?t?i.endsWith("/")?t.startsWith("/")?i+t.slice(1):i+t:t.startsWith("/")?i+t:`${i}/${t}`:i:t}function mf(i){let t=i.search(/#|\?|$/);return i[t-1]==="/"?i.slice(0,t-1)+i.slice(t):i}function bn(i){return i&&i[0]!=="?"?`?${i}`:i}var yn=(()=>{class i{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(Xa),providedIn:"root"})}return i})(),Ja=new O(""),Xa=(()=>{class i extends yn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??y(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ya(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+bn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+bn(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+bn(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||i)(H(us),H(Ja,8))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),kn=(()=>{class i{_subject=new B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=H2(mf(gf(n))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+bn(n))}normalize(e){return i.stripTrailingSlash(V2(this._basePath,gf(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bn(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bn(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n??void 0,complete:r??void 0})}static normalizeQueryParams=bn;static joinWithSlash=Ya;static stripTrailingSlash=mf;static \u0275fac=function(n){return new(n||i)(H(yn))};static \u0275prov=I({token:i,factory:()=>B2(),providedIn:"root"})}return i})();function B2(){return new kn(H(yn))}function V2(i,t){if(!i||!t.startsWith(i))return t;let e=t.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function gf(i){return i.replace(/\/index.html$/,"")}function H2(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}var gu=(()=>{class i extends yn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=Ya(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+bn(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+bn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||i)(H(us),H(Ja,8))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();var _u=function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i}(_u||{});var Tn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function eo(i,t){let e=ou(i),n=e[as.NumberSymbols][t];if(typeof n>"u"){if(t===Tn.CurrencyDecimal)return e[as.NumberSymbols][Tn.Decimal];if(t===Tn.CurrencyGroup)return e[as.NumberSymbols][Tn.Group]}return n}function Sf(i,t){return ou(i)[as.NumberFormats][t]}var j2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,bf=22,Qa=".",hs="0",Z2=";",z2=",",uu="#";function U2(i,t,e,n,r,o,s=!1){let a="",l=!1;if(!isFinite(i))a=eo(e,Tn.Infinity);else{let c=G2(i);s&&(c=W2(c));let d=t.minInt,p=t.minFrac,m=t.maxFrac;if(o){let re=o.match(j2);if(re===null)throw new Error(`${o} is not a valid digit info`);let ne=re[1],We=re[3],ht=re[5];ne!=null&&(d=hu(ne)),We!=null&&(p=hu(We)),ht!=null?m=hu(ht):We!=null&&p>m&&(m=p)}q2(c,p,m);let _=c.digits,v=c.integerLen,x=c.exponent,E=[];for(l=_.every(re=>!re);v<d;v++)_.unshift(0);for(;v<0;v++)_.unshift(0);v>0?E=_.splice(v,_.length):(E=_,_=[0]);let F=[];for(_.length>=t.lgSize&&F.unshift(_.splice(-t.lgSize,_.length).join(""));_.length>t.gSize;)F.unshift(_.splice(-t.gSize,_.length).join(""));_.length&&F.unshift(_.join("")),a=F.join(eo(e,n)),E.length&&(a+=eo(e,r)+E.join("")),x&&(a+=eo(e,Tn.Exponential)+"+"+x)}return i<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function Ef(i,t,e){let n=Sf(t,_u.Decimal),r=$2(n,eo(t,Tn.MinusSign));return U2(i,r,t,Tn.Group,Tn.Decimal,e)}function $2(i,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=i.split(Z2),r=n[0],o=n[1],s=r.indexOf(Qa)!==-1?r.split(Qa):[r.substring(0,r.lastIndexOf(hs)+1),r.substring(r.lastIndexOf(hs)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(uu));for(let d=0;d<l.length;d++){let p=l.charAt(d);p===hs?e.minFrac=e.maxFrac=d+1:p===uu?e.maxFrac=d+1:e.posSuf+=p}let c=a.split(z2);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=r.length-e.posPre.length-e.posSuf.length,p=o.indexOf(uu);e.negPre=o.substring(0,p).replace(/'/g,""),e.negSuf=o.slice(p+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function W2(i){if(i.digits[0]===0)return i;let t=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(t===0?i.digits.push(0,0):t===1&&i.digits.push(0),i.integerLen+=2),i}function G2(i){let t=Math.abs(i)+"",e=0,n,r,o,s,a;for((r=t.indexOf(Qa))>-1&&(t=t.replace(Qa,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===hs;o++);if(o===(a=t.length))n=[0],r=1;else{for(a--;t.charAt(a)===hs;)a--;for(r-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(t.charAt(o))}return r>bf&&(n=n.splice(0,bf-1),e=r-1,r=1),{digits:n,exponent:e,integerLen:r}}function q2(i,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let n=i.digits,r=n.length-i.integerLen,o=Math.min(Math.max(t,r),e),s=o+i.integerLen,a=n[s];if(s>0){n.splice(Math.max(i.integerLen,s));for(let p=s;p<n.length;p++)n[p]=0}else{r=Math.max(0,r),i.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let p=1;p<s;p++)n[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)n.unshift(0),i.integerLen++;n.unshift(1),i.integerLen++}else n[s-1]++;for(;r<Math.max(0,o);r++)n.push(0);let l=o!==0,c=t+i.integerLen,d=n.reduceRight(function(p,m,_,v){return m=m+p,v[_]=m<10?m:m-10,l&&(v[_]===0&&_>=c?v.pop():l=!1),m>=10?1:0},0);d&&(n.unshift(d),i.integerLen++)}function hu(i){let t=parseInt(i);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+i);return t}var pu=/\s+/,yf=[],Se=(()=>{class i{_ngEl;_renderer;initialClasses=yf;rawClass;stateMap=new Map;constructor(e,n){this._ngEl=e,this._renderer=n}set klass(e){this.initialClasses=e!=null?e.trim().split(pu):yf}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(pu):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(pu).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(n){return new(n||i)(D(Y),D(Ye))};static \u0275dir=z({type:i,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return i})();var el=class{$implicit;ngForOf;index;count;constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ne=(()=>{class i{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new el(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(o===null?void 0:o);else if(o!==null){let a=n.get(o);n.move(a,s),wf(a,r)}});for(let r=0,o=n.length;r<o;r++){let a=n.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=n.get(r.currentIndex);wf(o,r)})}static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||i)(D(jt),D(_e),D(au))};static \u0275dir=z({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return i})();function wf(i,t){i.context.$implicit=t.item}var me=(()=>{class i{_viewContainer;_context=new tl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Cf(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Cf(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||i)(D(jt),D(_e))};static \u0275dir=z({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return i})(),tl=class{$implicit=null;ngIf=null};function Cf(i,t){if(i&&!i.createEmbeddedView)throw new oe(2020,!1)}var vu=(()=>{class i{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){let[r,o]=e.split("."),s=r.indexOf("-")===-1?void 0:Xi.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${n}${o}`:n,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static \u0275fac=function(n){return new(n||i)(D(Y),D(lu),D(Ye))};static \u0275dir=z({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return i})(),_i=(()=>{class i{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,r):!1,get:(e,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static \u0275fac=function(n){return new(n||i)(D(jt))};static \u0275dir=z({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Ue]})}return i})();function Df(i,t){return new oe(2100,!1)}var fu=class{createSubscription(t,e){return Yt(()=>t.subscribe({next:e,error:n=>{throw n}}))}dispose(t){Yt(()=>t.unsubscribe())}},mu=class{createSubscription(t,e){return t.then(n=>e?.(n),n=>{throw n}),{unsubscribe:()=>{e=null}}}dispose(t){t.unsubscribe()}},K2=new mu,Y2=new fu,vi=(()=>{class i{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(Jr(e))return K2;if(nf(e))return Y2;throw Df(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(n){return new(n||i)(D(it,16))};static \u0275pipe=Yr({name:"async",type:i,pure:!1})}return i})();function J2(i,t){return{key:i,value:t}}var bu=(()=>{class i{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=xf;transform(e,n=xf){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let r=this.differ.diff(e),o=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(J2(s.key,s.currentValue))})),(r||o)&&(n&&this.keyValues.sort(n),this.compareFn=n),this.keyValues}static \u0275fac=function(n){return new(n||i)(D(lu,16))};static \u0275pipe=Yr({name:"keyvalue",type:i,pure:!1})}return i})();function xf(i,t){let e=i.key,n=t.key;if(e===n)return 0;if(e==null)return 1;if(n==null)return-1;if(typeof e=="string"&&typeof n=="string")return e<n?-1:1;if(typeof e=="number"&&typeof n=="number")return e-n;if(typeof e=="boolean"&&typeof n=="boolean")return e<n?-1:1;let r=String(e),o=String(n);return r==o?0:r<o?-1:1}var ps=(()=>{class i{_locale;constructor(e){this._locale=e}transform(e,n,r){if(!X2(e))return null;r||=this._locale;try{let o=Q2(e);return Ef(o,r,n)}catch(o){throw Df(i,o.message)}}static \u0275fac=function(n){return new(n||i)(D(af,16))};static \u0275pipe=Yr({name:"number",type:i,pure:!0})}return i})();function X2(i){return!(i==null||i===""||i!==i)}function Q2(i){if(typeof i=="string"&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if(typeof i!="number")throw new Error(`${i} is not a number`);return i}var Q=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({})}return i})();function fs(i,t){t=encodeURIComponent(t);for(let e of i.split(";")){let n=e.indexOf("="),[r,o]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var nl="browser",Mf="server";function yu(i){return i===nl}function to(i){return i===Mf}var Qi=class{};var kf=(()=>{class i{static \u0275prov=I({token:i,providedIn:"root",factory:()=>new wu(y(K),window)})}return i})(),wu=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=tv(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function tv(i,t){let e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=n.nextNode()}}return null}var ol=new O(""),Eu=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,o){return this._findPluginFor(n).addEventListener(e,n,r,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new oe(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(H(ol),H(ie))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),ms=class{_doc;constructor(t){this._doc=t}manager},il="ng-app-id";function Tf(i){for(let t of i)t.remove()}function If(i,t){let e=t.createElement("style");return e.textContent=i,e}function nv(i,t,e,n){let r=i.head?.querySelectorAll(`style[${il}="${t}"],link[${il}="${t}"]`);if(r)for(let o of r)o.removeAttribute(il),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function xu(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var Du=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.isServer=to(o),nv(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,If);n?.forEach(r=>this.addUsage(r,this.external,xu))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(Tf(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Tf(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,If(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,xu(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(il,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(H(K),H(qi),H(is,8),H(Dn))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),Cu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mu=/%COMP%/g;var Rf="%COMP%",iv=`_nghost-${Rf}`,rv=`_ngcontent-${Rf}`,ov=!0,sv=new O("",{providedIn:"root",factory:()=>ov});function av(i){return rv.replace(Mu,i)}function lv(i){return iv.replace(Mu,i)}function Of(i,t){return t.map(e=>e.replace(Mu,i))}var er=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,o,s,a,l,c=null,d=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=to(a),this.defaultRenderer=new gs(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===rs.ShadowDom&&(n=ye(k({},n),{encapsulation:rs.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof rl?r.applyToHost(e):r instanceof _s&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(n.encapsulation){case rs.Emulated:o=new rl(l,c,n,this.appId,d,s,a,p,m);break;case rs.ShadowDom:return new Su(l,c,e,n,s,a,this.nonce,p,m);default:o=new _s(l,c,n,d,s,a,p,m);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(H(Eu),H(Du),H(qi),H(sv),H(K),H(Dn),H(ie),H(is),H(Wp,8))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),gs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r,o){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Cu[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Pf(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Pf(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new oe(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=Cu[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Cu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Xi.DashCase|Xi.Important)?t.style.setProperty(e,n,r&Xi.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Xi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=sn().getGlobalEventTarget(this.doc,t),!t))throw new oe(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Pf(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Su=class extends gs{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,r,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Of(r.id,d);for(let m of d){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=m,this.shadowRoot.appendChild(_)}let p=r.getExternalStyles?.();if(p)for(let m of p){let _=xu(m,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_s=class extends gs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let d=n.styles;this.styles=c?Of(c,d):d,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},rl=class extends _s{contentAttr;hostAttr;constructor(t,e,n,r,o,s,a,l,c){let d=r+"-"+n.id;super(t,e,n,o,s,a,l,c,d),this.contentAttr=av(d),this.hostAttr=lv(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var sl=class i extends ds{supportsDOMEvents=!0;static makeCurrent(){cu(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=dv();return e==null?null:uv(e)}resetBaseElement(){vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return fs(document.cookie,t)}},vs=null;function dv(){return vs=vs||document.head.querySelector("base"),vs?vs.getAttribute("href"):null}function uv(i){return new URL(i,document.baseURI).pathname}var hv=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),Ff=(()=>{class i extends ms{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,o){return e.addEventListener(n,r,o),()=>this.removeEventListener(e,n,r,o)}removeEventListener(e,n,r,o){return e.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||i)(H(K))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),Nf=["alt","control","meta","shift"],pv={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fv={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Lf=(()=>{class i extends ms{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,o){let s=i.parseEventName(n),a=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sn().onAndCancel(e,s.domEventName,a,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),Nf.forEach(c=>{let d=n.indexOf(c);d>-1&&(n.splice(d,1),s+=c+".")}),s+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,n){let r=pv[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Nf.forEach(s=>{if(s!==r){let a=fv[s];a(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(H(K))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();function Au(i,t){return lf(k({rootComponent:i},mv(t)))}function mv(i){return{appProviders:[...yv,...i?.providers??[]],platformProviders:bv}}function gv(){sl.makeCurrent()}function _v(){return new Xd}function vv(){return Up(document),document}var bv=[{provide:Dn,useValue:nl},{provide:$p,useValue:gv,multi:!0},{provide:K,useFactory:vv}];var yv=[{provide:jp,useValue:"root"},{provide:Xd,useFactory:_v},{provide:ol,useClass:Ff,multi:!0,deps:[K]},{provide:ol,useClass:Lf,multi:!0,deps:[K]},er,Du,Eu,{provide:Ke,useExisting:er},{provide:Qi,useClass:hv},[]];var io=class{},bs=class{},bi=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=e.slice(n+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var ll=class{encodeKey(t){return Bf(t)}encodeValue(t){return Bf(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function wv(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var Cv=/%(\d[a-f0-9])/gi,xv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bf(i){return encodeURIComponent(i).replace(Cv,(t,e)=>xv[e]??t)}function al(i){return`${i}`}var Qn=class i{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new ll,t.fromString){if(t.fromObject)throw new oe(2805,!1);this.map=wv(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(al):[al(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(al(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(al(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var cl=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Sv(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Vf(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Hf(i){return typeof Blob<"u"&&i instanceof Blob}function jf(i){return typeof FormData<"u"&&i instanceof FormData}function Ev(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Zf="Content-Type",zf="Accept",$f="X-Request-URL",Wf="text/plain",Gf="application/json",Dv=`${Gf}, ${Wf}, */*`,no=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,n,r){this.url=e,this.method=t.toUpperCase();let o;if(Sv(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new bi,this.context??=new cl,!this.params)this.params=new Qn,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Vf(this.body)||Hf(this.body)||jf(this.body)||Ev(this.body)?this.body:this.body instanceof Qn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||jf(this.body)?null:Hf(this.body)?this.body.type||null:Vf(this.body)?null:typeof this.body=="string"?Wf:this.body instanceof Qn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Gf:null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((m,_)=>m.set(_,t.setHeaders[_]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((m,_)=>m.set(_,t.setParams[_]),d)),new i(e,n,s,{params:d,headers:c,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},tr=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(tr||{}),ro=class{headers;status;statusText;url;ok;type;constructor(t,e=200,n="OK"){this.headers=t.headers||new bi,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},dl=class i extends ro{constructor(t={}){super(t)}type=tr.ResponseHeader;clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ys=class i extends ro{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=tr.Response;clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ws=class extends ro{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Mv=200,Av=204;function ku(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Ee=(()=>{class i{handler;constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof no)o=e;else{let l;r.headers instanceof bi?l=r.headers:l=new bi(r.headers);let c;r.params&&(r.params instanceof Qn?c=r.params:c=new Qn({fromObject:r.params})),o=new no(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=U(o).pipe(Kn(l=>this.handler.handle(l)));if(e instanceof no||r.observe==="events")return s;let a=s.pipe(bt(l=>l instanceof ys));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new oe(2806,!1);return l.body}));case"blob":return a.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new oe(2807,!1);return l.body}));case"text":return a.pipe(he(l=>{if(l.body!==null&&typeof l.body!="string")throw new oe(2808,!1);return l.body}));case"json":default:return a.pipe(he(l=>l.body))}case"response":return a;default:throw new oe(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Qn().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,ku(r,n))}post(e,n,r={}){return this.request("POST",e,ku(r,n))}put(e,n,r={}){return this.request("PUT",e,ku(r,n))}static \u0275fac=function(n){return new(n||i)(H(io))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();var kv=new O("");function qf(i,t){return t(i)}function Tv(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function Iv(i,t,e){return(n,r)=>Ht(e,()=>t(n,o=>i(o,r)))}var Kf=new O(""),Iu=new O(""),Yf=new O(""),Pu=new O("",{providedIn:"root",factory:()=>!0});function Pv(){let i=null;return(t,e)=>{i===null&&(i=(y(Kf,{optional:!0})??[]).reduceRight(Tv,qf));let n=y(ns);if(y(Pu)){let o=n.add();return i(t,e).pipe(Wi(()=>n.remove(o)))}else return i(t,e)}}var ul=(()=>{class i extends io{backend;injector;chain=null;pendingTasks=y(ns);contributeToStability=y(Pu);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Iu),...this.injector.get(Yf,[])]));this.chain=n.reduceRight((r,o)=>Iv(r,o,this.injector),qf)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Wi(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||i)(H(bs),H(Vt))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();var Rv=/^\)\]\}',?\n/,Ov=RegExp(`^${$f}:`,"m");function Nv(i){return"responseURL"in i&&i.responseURL?i.responseURL:Ov.test(i.getAllResponseHeaders())?i.getResponseHeader($f):null}var Tu=(()=>{class i{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new oe(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?nt(n.\u0275loadImpl()):U(null)).pipe(yt(()=>new Gn(o=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((x,E)=>s.setRequestHeader(x,E.join(","))),e.headers.has(zf)||s.setRequestHeader(zf,Dv),!e.headers.has(Zf)){let x=e.detectContentTypeHeader();x!==null&&s.setRequestHeader(Zf,x)}if(e.responseType){let x=e.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let x=s.statusText||"OK",E=new bi(s.getAllResponseHeaders()),F=Nv(s)||e.url;return l=new dl({headers:E,status:s.status,statusText:x,url:F}),l},d=()=>{let{headers:x,status:E,statusText:F,url:re}=c(),ne=null;E!==Av&&(ne=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=ne?Mv:0);let We=E>=200&&E<300;if(e.responseType==="json"&&typeof ne=="string"){let ht=ne;ne=ne.replace(Rv,"");try{ne=ne!==""?JSON.parse(ne):null}catch(Ur){ne=ht,We&&(We=!1,ne={error:Ur,text:ne})}}We?(o.next(new ys({body:ne,headers:x,status:E,statusText:F,url:re||void 0})),o.complete()):o.error(new ws({error:ne,headers:x,status:E,statusText:F,url:re||void 0}))},p=x=>{let{url:E}=c(),F=new ws({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(F)},m=!1,_=x=>{m||(o.next(c()),m=!0);let E={type:tr.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(E.total=x.total),e.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},v=x=>{let E={type:tr.UploadProgress,loaded:x.loaded};x.lengthComputable&&(E.total=x.total),o.next(E)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:tr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||i)(H(Qi))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),Jf=new O(""),Fv="XSRF-TOKEN",Lv=new O("",{providedIn:"root",factory:()=>Fv}),Bv="X-XSRF-TOKEN",Vv=new O("",{providedIn:"root",factory:()=>Bv}),Cs=class{},Hv=(()=>{class i{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n){this.doc=e,this.cookieName=n}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=fs(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||i)(H(K),H(Lv))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();function jv(i,t){let e=i.url.toLowerCase();if(!y(Jf)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let n=y(Cs).getToken(),r=y(Vv);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var Ru=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Ru||{});function Zv(i,t){return{\u0275kind:i,\u0275providers:t}}function hl(...i){let t=[Ee,Tu,ul,{provide:io,useExisting:ul},{provide:bs,useFactory:()=>y(kv,{optional:!0})??y(Tu)},{provide:Iu,useValue:jv,multi:!0},{provide:Jf,useValue:!0},{provide:Cs,useClass:Hv}];for(let e of i)t.push(...e.\u0275providers);return Gi(t)}var Uf=new O("");function Xf(){return Zv(Ru.LegacyInterceptors,[{provide:Uf,useFactory:Pv},{provide:Iu,useExisting:Uf,multi:!0}])}var Re=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({providers:[hl(Xf())]})}return i})();var Qf=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(H(K))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ou=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=H($v),r},providedIn:"root"})}return i})(),$v=(()=>{class i extends Ou{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Ji.NONE:return n;case Ji.HTML:return qr(n,"HTML")?Yi(n):Qp(this._doc,String(n)).toString();case Ji.STYLE:return qr(n,"Style")?Yi(n):n;case Ji.SCRIPT:if(qr(n,"Script"))return Yi(n);throw new oe(5200,!1);case Ji.URL:return qr(n,"URL")?Yi(n):Xp(String(n));case Ji.RESOURCE_URL:if(qr(n,"ResourceURL"))return Yi(n);throw new oe(5201,!1);default:throw new oe(5202,!1)}}bypassSecurityTrustHtml(e){return Gp(e)}bypassSecurityTrustStyle(e){return qp(e)}bypassSecurityTrustScript(e){return Kp(e)}bypassSecurityTrustUrl(e){return Yp(e)}bypassSecurityTrustResourceUrl(e){return Jp(e)}static \u0275fac=function(n){return new(n||i)(H(K))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var se="primary",Ns=Symbol("RouteTitle"),Vu=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function rr(i){return new Vu(i)}function lm(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=i[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function Wv(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!In(i[e],t[e]))return!1;return!0}function In(i,t){let e=i?Hu(i):void 0,n=t?Hu(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!cm(i[r],t[r]))return!1;return!0}function Hu(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function cm(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function dm(i){return i.length>0?i[i.length-1]:null}function Si(i){return Ui(i)?i:Jr(i)?nt(Promise.resolve(i)):U(i)}var Gv={exact:hm,subset:pm},um={exact:qv,subset:Kv,ignored:()=>!0};function tm(i,t,e){return Gv[e.paths](i.root,t.root,e.matrixParams)&&um[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function qv(i,t){return In(i,t)}function hm(i,t,e){if(!nr(i.segments,t.segments)||!ml(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!hm(i.children[n],t.children[n],e))return!1;return!0}function Kv(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>cm(i[e],t[e]))}function pm(i,t,e){return fm(i,t,t.segments,e)}function fm(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!nr(r,e)||t.hasChildren()||!ml(r,e,n))}else if(i.segments.length===e.length){if(!nr(i.segments,e)||!ml(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!pm(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!nr(i.segments,r)||!ml(i.segments,r,n)||!i.children[se]?!1:fm(i.children[se],t,o,n)}}function ml(i,t,e){return t.every((n,r)=>um[e](i[r].parameters,n.parameters))}var Rn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Te([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=rr(this.queryParams),this._queryParamMap}toString(){return Xv.serialize(this)}},Te=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gl(this)}},yi=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=rr(this.parameters),this._parameterMap}toString(){return gm(this)}};function Yv(i,t){return nr(i,t)&&i.every((e,n)=>In(e.parameters,t[n].parameters))}function nr(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function Jv(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===se&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==se&&(e=e.concat(t(r,n)))}),e}var or=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>new wi,providedIn:"root"})}return i})(),wi=class{parse(t){let e=new Zu(t);return new Rn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${xs(t.root,!0)}`,n=t3(t.queryParams),r=typeof t.fragment=="string"?`#${Qv(t.fragment)}`:"";return`${e}${n}${r}`}},Xv=new wi;function gl(i){return i.segments.map(t=>gm(t)).join("/")}function xs(i,t){if(!i.hasChildren())return gl(i);if(t){let e=i.children[se]?xs(i.children[se],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==se&&n.push(`${r}:${xs(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Jv(i,(n,r)=>r===se?[xs(i.children[se],!1)]:[`${r}:${xs(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[se]!=null?`${gl(i)}/${e[0]}`:`${gl(i)}/(${e.join("//")})`}}function mm(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pl(i){return mm(i).replace(/%3B/gi,";")}function Qv(i){return encodeURI(i)}function ju(i){return mm(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _l(i){return decodeURIComponent(i)}function nm(i){return _l(i.replace(/\+/g,"%20"))}function gm(i){return`${ju(i.path)}${e3(i.parameters)}`}function e3(i){return Object.entries(i).map(([t,e])=>`;${ju(t)}=${ju(e)}`).join("")}function t3(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${pl(e)}=${pl(r)}`).join("&"):`${pl(e)}=${pl(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var n3=/^[^\/()?;#]+/;function Nu(i){let t=i.match(n3);return t?t[0]:""}var i3=/^[^\/()?;=#]+/;function r3(i){let t=i.match(i3);return t?t[0]:""}var o3=/^[^=?&#]+/;function s3(i){let t=i.match(o3);return t?t[0]:""}var a3=/^[^&#]+/;function l3(i){let t=i.match(a3);return t?t[0]:""}var Zu=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[se]=new Te(t,e)),n}parseSegment(){let t=Nu(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(t),new yi(_l(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=r3(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=Nu(this.remaining);r&&(n=r,this.capture(n))}t[_l(e)]=_l(n)}parseQueryParam(t){let e=s3(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=l3(this.remaining);s&&(n=s,this.capture(n))}let r=nm(e),o=nm(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Nu(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new oe(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=se);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[se]:new Te([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new oe(4011,!1)}};function _m(i){return i.segments.length>0?new Te([],{[se]:i}):i}function vm(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=vm(r);if(n===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new Te(i.segments,t);return c3(e)}function c3(i){if(i.numberOfChildren===1&&i.children[se]){let t=i.children[se];return new Te(i.segments.concat(t.segments),t.children)}return i}function Ci(i){return i instanceof Rn}function bm(i,t,e=null,n=null){let r=ym(i);return wm(r,t,e,n)}function ym(i){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new Te(o.url,s);return o===i&&(t=a),a}let n=e(i.root),r=_m(n);return t??r}function wm(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return Fu(r,r,r,e,n);let o=d3(t);if(o.toRoot())return Fu(r,r,new Te([],{}),e,n);let s=u3(o,r,i),a=s.processChildren?Es(s.segmentGroup,s.index,o.commands):xm(s.segmentGroup,s.index,o.commands);return Fu(r,s.segmentGroup,a,e,n)}function bl(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Ms(i){return typeof i=="object"&&i!=null&&i.outlets}function Fu(i,t,e,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;i===t?s=e:s=Cm(i,t,e);let a=_m(vm(s));return new Rn(a,o,r)}function Cm(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=Cm(o,t,e)}),new Te(i.segments,n)}var yl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&bl(n[0]))throw new oe(4003,!1);let r=n.find(Ms);if(r&&r!==dm(n))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function d3(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new yl(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new yl(e,t,n)}var ao=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function u3(i,t,e){if(i.isAbsolute)return new ao(t,!0,0);if(!e)return new ao(t,!1,NaN);if(e.parent===null)return new ao(e,!0,0);let n=bl(i.commands[0])?0:1,r=e.segments.length-1+n;return h3(e,r,i.numberOfDoubleDots)}function h3(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new oe(4005,!1);r=n.segments.length}return new ao(n,!1,r-o)}function p3(i){return Ms(i[0])?i[0].outlets:{[se]:i}}function xm(i,t,e){if(i??=new Te([],{}),i.segments.length===0&&i.hasChildren())return Es(i,t,e);let n=f3(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new Te(i.segments.slice(0,n.pathIndex),{});return o.children[se]=new Te(i.segments.slice(n.pathIndex),i.children),Es(o,0,r)}else return n.match&&r.length===0?new Te(i.segments,{}):n.match&&!i.hasChildren()?zu(i,t,e):n.match?Es(i,0,r):zu(i,t,e)}function Es(i,t,e){if(e.length===0)return new Te(i.segments,{});{let n=p3(e),r={};if(Object.keys(n).some(o=>o!==se)&&i.children[se]&&i.numberOfChildren===1&&i.children[se].segments.length===0){let o=Es(i.children[se],t,e);return new Te(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=xm(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Te(i.segments,r)}}function f3(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let s=i.segments[r],a=e[n];if(Ms(a))break;let l=`${a}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!rm(l,c,s))return o;n+=2}else{if(!rm(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function zu(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Ms(o)){let l=m3(o.outlets);return new Te(n,l)}if(r===0&&bl(e[0])){let l=i.segments[t];n.push(new yi(l.path,im(e[0]))),r++;continue}let s=Ms(o)?o.outlets[se]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&bl(a)?(n.push(new yi(s,im(a))),r+=2):(n.push(new yi(s,{})),r++)}return new Te(n,{})}function m3(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=zu(new Te([],{}),0,n))}),t}function im(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function rm(i,t,e){return i==e.path&&In(t,e.parameters)}var vl="imperative",rt=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(rt||{}),Xt=class{id;url;constructor(t,e){this.id=t,this.url=e}},xi=class extends Xt{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qt=class extends Xt{urlAfterRedirects;type=rt.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Ut||{}),co=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(co||{}),Pn=class extends Xt{reason;code;type=rt.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},On=class extends Xt{reason;code;type=rt.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},uo=class extends Xt{error;target;type=rt.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},As=class extends Xt{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wl=class extends Xt{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cl=class extends Xt{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xl=class extends Xt{urlAfterRedirects;state;type=rt.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sl=class extends Xt{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},El=class{route;type=rt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dl=class{route;type=rt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ml=class{snapshot;type=rt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Al=class{snapshot;type=rt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kl=class{snapshot;type=rt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tl=class{snapshot;type=rt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ho=class{routerEvent;position;anchor;type=rt.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ks=class{},po=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function g3(i,t){return i.providers&&!i._injector&&(i._injector=Wa(i.providers,t,`Route: ${i.path}`)),i._injector??t}function wn(i){return i.outlet||se}function _3(i,t){let e=i.filter(n=>wn(n)===t);return e.push(...i.filter(n=>wn(n)!==t)),e}function Fs(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Il=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new sr(this.rootInjector)}},sr=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Il(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(H(Vt))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Pl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Uu(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=Uu(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=$u(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return $u(t,this._root).map(e=>e.value)}};function Uu(i,t){if(i===t.value)return t;for(let e of t.children){let n=Uu(i,e);if(n)return n}return null}function $u(i,t){if(i===t.value)return[t];for(let e of t.children){let n=$u(i,e);if(n.length)return n.unshift(t),n}return[]}var Jt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function so(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Ts=class extends Pl{snapshot;constructor(t,e){super(t),this.snapshot=e,Qu(this,t)}toString(){return this.snapshot.toString()}};function Sm(i){let t=v3(i),e=new vt([new yi("",{})]),n=new vt({}),r=new vt({}),o=new vt({}),s=new vt(""),a=new an(e,n,o,s,r,se,i,t.root);return a.snapshot=t.root,new Ts(new Jt(a,[]),t)}function v3(i){let t={},e={},n={},r="",o=new ir([],t,n,r,e,se,i,null,{});return new Is("",new Jt(o,[]))}var an=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(he(c=>c[Ns]))??U(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(t=>rr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(t=>rr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rl(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:k(k({},t.params),i.params),data:k(k({},t.data),i.data),resolve:k(k(k(k({},i.data),t.data),r?.data),i._resolvedData)}:n={params:k({},i.params),data:k({},i.data),resolve:k(k({},i.data),i._resolvedData??{})},r&&Dm(r)&&(n.resolve[Ns]=r.title),n}var ir=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ns]}constructor(t,e,n,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=rr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=rr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Is=class extends Pl{url;constructor(t,e){super(e),this.url=t,Qu(this,e)}toString(){return Em(this._root)}};function Qu(i,t){t.value._routerState=i,t.children.forEach(e=>Qu(i,e))}function Em(i){let t=i.children.length>0?` { ${i.children.map(Em).join(", ")} } `:"";return`${i.value}${t}`}function Lu(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,In(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),In(t.params,e.params)||i.paramsSubject.next(e.params),Wv(t.url,e.url)||i.urlSubject.next(e.url),In(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Wu(i,t){let e=In(i.params,t.params)&&Yv(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||Wu(i.parent,t.parent))}function Dm(i){return typeof i.title=="string"||i.title===null}var Mm=new O(""),ar=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new Z;deactivateEvents=new Z;attachEvents=new Z;detachEvents=new Z;routerOutletData=gn(void 0);parentContexts=y(sr);location=y(jt);changeDetector=y(it);inputBinder=y(Ls,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new oe(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Gu(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ue]})}return i})(),Gu=class{route;childContexts;parent;outletData;constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===an?this.route:t===sr?this.childContexts:t===Mm?this.outletData:this.parent.get(t,e)}},Ls=new O(""),e0=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=$r([n.queryParams,n.params,n.data]).pipe(yt(([o,s,a],l)=>(a=k(k(k({},o),s),a),l===0?U(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=df(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),t0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&w(0,"router-outlet")},dependencies:[ar],encapsulation:2})}return i})();function n0(i){let t=i.children&&i.children.map(n0),e=t?ye(k({},i),{children:t}):k({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==se&&(e.component=t0),e}function b3(i,t,e){let n=Ps(i,t._root,e?e._root:void 0);return new Ts(n,t)}function Ps(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=y3(i,t,e);return new Jt(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ps(i,a)),s}}let n=w3(t.value),r=t.children.map(o=>Ps(i,o));return new Jt(n,r)}}function y3(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Ps(i,n,r);return Ps(i,n)})}function w3(i){return new an(new vt(i.url),new vt(i.params),new vt(i.queryParams),new vt(i.fragment),new vt(i.data),i.outlet,i.component,i)}var fo=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Am="ngNavigationCancelingError";function Ol(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=Ci(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=km(!1,Ut.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function km(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[Am]=!0,e.cancellationCode=t,e}function C3(i){return Tm(i)&&Ci(i.url)}function Tm(i){return!!i&&i[Am]}var x3=(i,t,e,n)=>he(r=>(new qu(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),qu=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Lu(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=so(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=so(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=so(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=so(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Tl(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Al(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(Lu(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lu(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},Nl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},lo=class{component;route;constructor(t,e){this.component=t,this.route=e}};function S3(i,t,e){let n=i._root,r=t?t._root:null;return Ss(n,r,e,[n.value])}function E3(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function go(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!Hp(i)?i:t.get(i):n}function Ss(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=so(t);return i.children.forEach(s=>{D3(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ds(a,e.getContext(s),r)),r}function D3(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=M3(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Nl(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ss(i,t,a?a.children:null,n,r):Ss(i,t,e,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new lo(a.outlet.component,s))}else s&&Ds(t,a,r),r.canActivateChecks.push(new Nl(n)),o.component?Ss(i,null,a?a.children:null,n,r):Ss(i,null,e,n,r);return r}function M3(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!nr(i.url,t.url);case"pathParamsOrQueryParamsChange":return!nr(i.url,t.url)||!In(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wu(i,t)||!In(i.queryParams,t.queryParams);case"paramsChange":default:return!Wu(i,t)}}function Ds(i,t,e){let n=so(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?t?Ds(s,t.children.getContext(o),e):Ds(s,null,e):Ds(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new lo(t.outlet.component,r)):e.canDeactivateChecks.push(new lo(null,r)):e.canDeactivateChecks.push(new lo(null,r))}function Bs(i){return typeof i=="function"}function A3(i){return typeof i=="boolean"}function k3(i){return i&&Bs(i.canLoad)}function T3(i){return i&&Bs(i.canActivate)}function I3(i){return i&&Bs(i.canActivateChild)}function P3(i){return i&&Bs(i.canDeactivate)}function R3(i){return i&&Bs(i.canMatch)}function Im(i){return i instanceof Np||i?.name==="EmptyError"}var fl=Symbol("INITIAL_VALUE");function mo(){return yt(i=>$r(i.map(t=>t.pipe(Kt(1),En(fl)))).pipe(he(t=>{for(let e of t)if(e!==!0){if(e===fl)return fl;if(e===!1||O3(e))return e}return!0}),bt(t=>t!==fl),Kt(1)))}function O3(i){return Ci(i)||i instanceof fo}function N3(i,t){return Lt(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?U(ye(k({},e),{guardsResult:!0})):F3(s,n,r,i).pipe(Lt(a=>a&&A3(a)?L3(n,o,i,t):U(a)),he(a=>ye(k({},e),{guardsResult:a})))})}function F3(i,t,e,n){return nt(i).pipe(Lt(r=>Z3(r.component,r.route,e,t,n)),pi(r=>r!==!0,!0))}function L3(i,t,e,n){return nt(t).pipe(Kn(r=>Va(V3(r.route.parent,n),B3(r.route,n),j3(i,r.path,e),H3(i,r.route,e))),pi(r=>r!==!0,!0))}function B3(i,t){return i!==null&&t&&t(new kl(i)),U(!0)}function V3(i,t){return i!==null&&t&&t(new Ml(i)),U(!0)}function H3(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return U(!0);let r=n.map(o=>Wd(()=>{let s=Fs(t)??e,a=go(o,s),l=T3(a)?a.canActivate(t,i):Ht(s,()=>a(t,i));return Si(l).pipe(pi())}));return U(r).pipe(mo())}function j3(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>E3(s)).filter(s=>s!==null).map(s=>Wd(()=>{let a=s.guards.map(l=>{let c=Fs(s.node)??e,d=go(l,c),p=I3(d)?d.canActivateChild(n,i):Ht(c,()=>d(n,i));return Si(p).pipe(pi())});return U(a).pipe(mo())}));return U(o).pipe(mo())}function Z3(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return U(!0);let s=o.map(a=>{let l=Fs(t)??r,c=go(a,l),d=P3(c)?c.canDeactivate(i,t,e,n):Ht(l,()=>c(i,t,e,n));return Si(d).pipe(pi())});return U(s).pipe(mo())}function z3(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return U(!0);let o=r.map(s=>{let a=go(s,i),l=k3(a)?a.canLoad(t,e):Ht(i,()=>a(t,e));return Si(l)});return U(o).pipe(mo(),Pm(n))}function Pm(i){return Op(qe(t=>{if(typeof t!="boolean")throw Ol(i,t)}),he(t=>t===!0))}function U3(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return U(!0);let o=r.map(s=>{let a=go(s,i),l=R3(a)?a.canMatch(t,e):Ht(i,()=>a(t,e));return Si(l)});return U(o).pipe(mo(),Pm(n))}var Rs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Os=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function oo(i){return Qo(new Rs(i))}function $3(i){return Qo(new oe(4e3,!1))}function W3(i){return Qo(km(!1,Ut.GuardRejected))}var Ku=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return U(n);if(r.numberOfChildren>1||!r.children[se])return $3(`${t.redirectTo}`);r=r.children[se]}}applyRedirectCommands(t,e,n,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:d,url:p,outlet:m,params:_,data:v,title:x}=r,E=Ht(o,()=>a({params:_,data:v,queryParams:l,fragment:c,routeConfig:d,url:p,outlet:m,title:x}));if(E instanceof Rn)throw new Os(E);e=E}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new Os(s);return s}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new Rn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[r]=e[a]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,r)}),new Te(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new oe(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},Yu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G3(i,t,e,n,r){let o=Rm(i,t,e);return o.matched?(n=g3(t,n),U3(n,t,e,r).pipe(he(s=>s===!0?o:k({},Yu)))):U(o)}function Rm(i,t,e){if(t.path==="**")return q3(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?k({},Yu):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||lm)(e,i,t);if(!r)return k({},Yu);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?k(k({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function q3(i){return{matched:!0,parameters:i.length>0?dm(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function om(i,t,e,n){return e.length>0&&J3(i,e,n)?{segmentGroup:new Te(t,Y3(n,new Te(e,i.children))),slicedSegments:[]}:e.length===0&&X3(i,e,n)?{segmentGroup:new Te(i.segments,K3(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Te(i.segments,i.children),slicedSegments:e}}function K3(i,t,e,n){let r={};for(let o of e)if(Ll(i,t,o)&&!n[wn(o)]){let s=new Te([],{});r[wn(o)]=s}return k(k({},n),r)}function Y3(i,t){let e={};e[se]=t;for(let n of i)if(n.path===""&&wn(n)!==se){let r=new Te([],{});e[wn(n)]=r}return e}function J3(i,t,e){return e.some(n=>Ll(i,t,n)&&wn(n)!==se)}function X3(i,t,e){return e.some(n=>Ll(i,t,n))}function Ll(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Q3(i,t,e){return t.length===0&&!i.children[e]}var Ju=class{};function eb(i,t,e,n,r,o,s="emptyOnly"){return new Xu(i,t,e,n,r,s,o).recognize()}var tb=31,Xu=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ku(this.urlSerializer,this.urlTree)}noMatchError(t){return new oe(4002,`'${t.segmentGroup}'`)}recognize(){let t=om(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(he(({children:e,rootSnapshot:n})=>{let r=new Jt(n,e),o=new Is("",r),s=bm(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new ir([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,se,e).pipe(he(n=>({children:n,rootSnapshot:e})),$i(n=>{if(n instanceof Os)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Rs?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,o):this.processSegment(t,e,n,n.segments,r,!0,o).pipe(he(s=>s instanceof Jt?[s]:[]))}processChildren(t,e,n,r){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return nt(o).pipe(Kn(s=>{let a=n.children[s],l=_3(e,s);return this.processSegmentGroup(t,l,a,s,r)}),Vp((s,a)=>(s.push(...a),s)),Gd(null),Bp(),Lt(s=>{if(s===null)return oo(n);let a=Om(s);return nb(a),U(a)}))}processSegment(t,e,n,r,o,s,a){return nt(e).pipe(Kn(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,r,o,s,a).pipe($i(c=>{if(c instanceof Rs)return U(null);throw c}))),pi(l=>!!l),$i(l=>{if(Im(l))return Q3(n,r,o)?U(new Ju):oo(n);throw l}))}processSegmentAgainstRoute(t,e,n,r,o,s,a,l){return wn(n)!==s&&(s===se||!Ll(r,o,n))?oo(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s,l):oo(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=Rm(e,r,o);if(!l)return oo(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tb&&(this.allowRedirects=!1));let _=new ir(o,c,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,sm(r),wn(r),r.component??r._loadedComponent??null,r,am(r)),v=Rl(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);let x=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,p,_,t);return this.applyRedirects.lineralizeSegments(r,x).pipe(Lt(E=>this.processSegment(t,n,e,E.concat(m),s,!1,a)))}matchSegmentAgainstRoute(t,e,n,r,o,s){let a=G3(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(yt(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(yt(({routes:c})=>{let d=n._loadedInjector??t,{parameters:p,consumedSegments:m,remainingSegments:_}=l,v=new ir(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,sm(n),wn(n),n.component??n._loadedComponent??null,n,am(n)),x=Rl(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(x.params),v.data=Object.freeze(x.data);let{segmentGroup:E,slicedSegments:F}=om(e,m,_,c);if(F.length===0&&E.hasChildren())return this.processChildren(d,c,E,v).pipe(he(ne=>new Jt(v,ne)));if(c.length===0&&F.length===0)return U(new Jt(v,[]));let re=wn(n)===o;return this.processSegment(d,c,E,F,re?se:o,!0,v).pipe(he(ne=>new Jt(v,ne instanceof Jt?[ne]:[])))}))):oo(e)))}getChildConfig(t,e,n){return e.children?U({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?U({routes:e._loadedRoutes,injector:e._loadedInjector}):z3(t,e,n,this.urlSerializer).pipe(Lt(r=>r?this.configLoader.loadChildren(t,e).pipe(qe(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):W3(e))):U({routes:[],injector:t})}};function nb(i){i.sort((t,e)=>t.value.outlet===se?-1:e.value.outlet===se?1:t.value.outlet.localeCompare(e.value.outlet))}function ib(i){let t=i.value.routeConfig;return t&&t.path===""}function Om(i){let t=[],e=new Set;for(let n of i){if(!ib(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=Om(n.children);t.push(new Jt(n.value,r))}return t.filter(n=>!e.has(n))}function sm(i){return i.data||{}}function am(i){return i.resolve||{}}function rb(i,t,e,n,r,o){return Lt(s=>eb(i,t,e,n,s.extractedUrl,r,o).pipe(he(({state:a,tree:l})=>ye(k({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function ob(i,t){return Lt(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return U(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Nm(l))s.add(c);let a=0;return nt(s).pipe(Kn(l=>o.has(l)?sb(l,n,i,t):(l.data=Rl(l,l.parent,i).resolve,U(void 0))),qe(()=>a++),Kd(1),Lt(l=>a===s.size?U(e):qn))})}function Nm(i){let t=i.children.map(e=>Nm(e)).flat();return[i,...t]}function sb(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!Dm(r)&&(o[Ns]=r.title),ab(o,i,t,n).pipe(he(s=>(i._resolvedData=s,i.data=Rl(i,i.parent,e).resolve,null)))}function ab(i,t,e,n){let r=Hu(i);if(r.length===0)return U({});let o={};return nt(r).pipe(Lt(s=>lb(i[s],t,e,n).pipe(pi(),qe(a=>{if(a instanceof fo)throw Ol(new wi,a);o[s]=a}))),Kd(1),he(()=>o),$i(s=>Im(s)?qn:Qo(s)))}function lb(i,t,e,n){let r=Fs(t)??n,o=go(i,r),s=o.resolve?o.resolve(t,e):Ht(r,()=>o(t,e));return Si(s)}function Bu(i){return yt(t=>{let e=i(t);return e?nt(e).pipe(he(()=>t)):U(t)})}var i0=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===se);return n}getResolvedTitleForRoute(e){return e.data[Ns]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(Fm),providedIn:"root"})}return i})(),Fm=(()=>{class i extends i0{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(H(Qf))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),lr=new O("",{providedIn:"root",factory:()=>({})}),cr=new O(""),Bl=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(of);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return U(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Si(e.loadComponent()).pipe(he(Bm),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Wi(()=>{this.componentLoaders.delete(e)})),r=new Ud(n,()=>new B).pipe(zd());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return U({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=Lm(n,this.compiler,e,this.onLoadEndListener).pipe(Wi(()=>{this.childrenLoaders.delete(n)})),s=new Ud(o,()=>new B).pipe(zd());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Lm(i,t,e,n){return Si(i.loadChildren()).pipe(he(Bm),Lt(r=>r instanceof tf||Array.isArray(r)?U(r):nt(t.compileModuleAsync(r))),he(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(cr,[],{optional:!0,self:!0}).flat()),{routes:s.map(n0),injector:o}}))}function cb(i){return i&&typeof i=="object"&&"default"in i}function Bm(i){return cb(i)?i.default:i}var Vl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(db),providedIn:"root"})}return i})(),db=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),r0=new O(""),o0=new O("");function Vm(i,t,e){let n=i.get(o0),r=i.get(K);return i.get(ie).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),ub(i))),{onViewTransitionCreated:l}=n;return l&&Ht(i,()=>l({transition:a,from:t,to:e})),s})}function ub(i){return new Promise(t=>{_n({read:()=>setTimeout(t)},{injector:i})})}var s0=new O(""),Hl=(()=>{class i{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new B;transitionAbortSubject=new B;configLoader=y(Bl);environmentInjector=y(Vt);destroyRef=y(Jd);urlSerializer=y(or);rootContexts=y(sr);location=y(kn);inputBindingEnabled=y(Ls,{optional:!0})!==null;titleStrategy=y(i0);options=y(lr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Vl);createViewTransition=y(r0,{optional:!0});navigationErrorHandler=y(s0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>U(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new El(r)),n=r=>this.events.next(new Dl(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(ye(k({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new vt(null),this.transitions.pipe(bt(n=>n!==null),yt(n=>{let r=!1,o=!1;return U(n).pipe(yt(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Ut.SupersededByNewNavigation),qn;this.currentTransition=n,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ye(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new On(s.id,this.urlSerializer.serialize(s.rawUrl),c,co.IgnoredSameUrlNavigation)),s.resolve(!1),qn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return U(s).pipe(yt(c=>(this.events.next(new xi(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?qn:Promise.resolve(c))),rb(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(c=>{n.targetSnapshot=c.targetSnapshot,n.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ye(k({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new As(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:d,source:p,restoredState:m,extras:_}=s,v=new xi(c,this.urlSerializer.serialize(d),p,m);this.events.next(v);let x=Sm(this.rootComponentType).snapshot;return this.currentTransition=n=ye(k({},s),{targetSnapshot:x,urlAfterRedirects:d,extras:ye(k({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,U(n)}else{let c="";return this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),c,co.IgnoredByUrlHandlingStrategy)),s.resolve(!1),qn}}),qe(s=>{let a=new wl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),he(s=>(this.currentTransition=n=ye(k({},s),{guards:S3(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),N3(this.environmentInjector,s=>this.events.next(s)),qe(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Ol(this.urlSerializer,s.guardsResult);let a=new Cl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),bt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ut.GuardRejected),!1)),Bu(s=>{if(s.guards.canActivateChecks.length!==0)return U(s).pipe(qe(a=>{let l=new xl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),yt(a=>{let l=!1;return U(a).pipe(ob(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Ut.NoDataFromResolver)}}))}),qe(a=>{let l=new Sl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Bu(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(qe(d=>{l.component=d}),he(()=>{})));for(let d of l.children)c.push(...a(d));return c};return $r(a(s.targetSnapshot.root)).pipe(Gd(null),Kt(1))}),Bu(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:s,targetSnapshot:a}=n,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?nt(l).pipe(he(()=>n)):U(n)}),he(s=>{let a=b3(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=ye(k({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,n}),qe(()=>{this.events.next(new ks)}),x3(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Kt(1),qe({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Me(this.transitionAbortSubject.pipe(qe(s=>{throw s}))),Wi(()=>{!r&&!o&&this.cancelNavigationTransition(n,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),$i(s=>{if(this.destroyed)return n.resolve(!1),qn;if(o=!0,Tm(s))this.events.next(new Pn(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),C3(s)?this.events.next(new po(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let a=new uo(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let l=Ht(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof fo){let{message:c,cancellationCode:d}=Ol(this.urlSerializer,l);this.events.next(new Pn(n.id,this.urlSerializer.serialize(n.extractedUrl),c,d)),this.events.next(new po(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(l)}}return qn}))}))}cancelNavigationTransition(e,n,r){let o=new Pn(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function hb(i){return i!==vl}var Hm=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(pb),providedIn:"root"})}return i})(),Fl=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},pb=(()=>{class i extends Fl{static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),jm=(()=>{class i{urlSerializer=y(or);options=y(lr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(kn);urlHandlingStrategy=y(Vl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=r??o;return s instanceof Rn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=Sm(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(fb),providedIn:"root"})}return i})(),fb=(()=>{class i extends jm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof xi?this.updateStateMemento():e instanceof On?this.commitTransition(n):e instanceof As?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof ks?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Pn&&(e.code===Ut.GuardRejected||e.code===Ut.NoDataFromResolver)?this.restoreHistory(n):e instanceof uo?this.restoreHistory(n,!0):e instanceof Qt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||o){let a=this.browserPageId,l=k(k({},s),this.generateNgRouterState(r,a));this.location.replaceState(e,"",l)}else{let a=k(k({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function jl(i,t){i.events.pipe(bt(e=>e instanceof Qt||e instanceof Pn||e instanceof uo||e instanceof On),he(e=>e instanceof Qt||e instanceof On?0:(e instanceof Pn?e.code===Ut.Redirect||e.code===Ut.SupersededByNewNavigation:!1)?2:1),bt(e=>e!==2),Kt(1)).subscribe(()=>{t()})}var mb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pe=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Qd);stateManager=y(jm);options=y(lr,{optional:!0})||{};pendingTasks=y(ns);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Hl);urlSerializer=y(or);location=y(kn);urlHandlingStrategy=y(Vl);_events=new B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(Hm);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(cr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Ls,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new rn;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Pn&&n.code!==Ut.Redirect&&n.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Qt)this.navigated=!0;else if(n instanceof po){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=k({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hb(r.source)},s);this.scheduleNavigation(a,vl,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}vb(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=k({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(n0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let m=r?r.snapshot:this.routerState.snapshot.root;p=ym(m)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return wm(p,e,d,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Ci(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,vl,null,n)}navigate(e,n={skipLocationChange:!1}){return _b(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=k({},mb):n===!1?r=k({},gb):r=n,Ci(e))return tm(this.currentUrlTree,e,r);let o=this.parseUrl(e);return tm(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,m)=>{a=p,l=m});let d=this.pendingTasks.add();return jl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function _b(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new oe(4008,!1)}function vb(i){return!(i instanceof ks)&&!(i instanceof po)}var _o=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new B;constructor(e,n,r,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Qt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ci(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:ef(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Ci(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(D(pe),D(an),Gr("tabindex"),D(Ye),D(Y),D(yn))};static \u0275dir=z({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&S("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&je("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ue],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ue],replaceUrl:[2,"replaceUrl","replaceUrl",ue],routerLink:"routerLink"},features:[Ue]})}return i})(),l0=(()=>{class i{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Z;constructor(e,n,r,o,s){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Qt&&this.update()})}ngAfterContentInit(){U(this.links.changes,U(null)).pipe(es()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=nt(e).pipe(es()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=bb(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||i)(D(pe),D(Y),D(Ye),D(it),D(_o,8))};static \u0275dir=z({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(n&1&&ft(o,_o,5),n&2){let s;ce(s=de())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ue]})}return i})();function bb(i){return!!i.paths}var Vs=class{};var Zm=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(bt(e=>e instanceof Qt),Kn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=Wa(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return nt(r).pipe(es())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=U(null);let o=r.pipe(Lt(s=>s===null?U(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return nt([o,s]).pipe(es())}else return o})}static \u0275fac=function(n){return new(n||i)(H(pe),H(Vt),H(Vs),H(Bl))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),zm=new O(""),yb=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof xi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Qt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof On&&e.code===co.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ho&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ho(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){Ua()};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();function c0(i,...t){return Gi([{provide:cr,multi:!0,useValue:i},[],{provide:an,useFactory:Um,deps:[pe]},{provide:tu,multi:!0,useFactory:$m},t.map(e=>e.\u0275providers)])}function Um(i){return i.routerState.root}function Hs(i,t){return{\u0275kind:i,\u0275providers:t}}function $m(){let i=y(Ae);return t=>{let e=i.get(Yn);if(t!==e.components[0])return;let n=i.get(pe),r=i.get(Wm);i.get(d0)===1&&n.initialNavigation(),i.get(Km,null,Yd.Optional)?.setUpPreloading(),i.get(zm,null,Yd.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Wm=new O("",{factory:()=>new B}),d0=new O("",{providedIn:"root",factory:()=>1});function Gm(){let i=[{provide:d0,useValue:0},eu(()=>{let t=y(Ae);return t.get(du,Promise.resolve()).then(()=>new Promise(n=>{let r=t.get(pe),o=t.get(Wm);jl(r,()=>{n(!0)}),t.get(Hl).afterPreactivation=()=>(n(!0),o.closed?U(void 0):o),r.initialNavigation()}))})];return Hs(2,i)}function qm(){let i=[eu(()=>{y(pe).setUpLocationChangeListener()}),{provide:d0,useValue:2}];return Hs(3,i)}var Km=new O("");function Ym(i){return Hs(0,[{provide:Km,useExisting:Zm},{provide:Vs,useExisting:i}])}function Jm(){return Hs(8,[e0,{provide:Ls,useExisting:e0}])}function Xm(i){Ki("NgRouterViewTransitions");let t=[{provide:r0,useValue:Vm},{provide:o0,useValue:k({skipNextTransition:!!i?.skipInitialTransition},i)}];return Hs(9,t)}var Qm=[kn,{provide:or,useClass:wi},pe,sr,{provide:an,useFactory:Um,deps:[pe]},Bl,[]],js=(()=>{class i{constructor(){}static forRoot(e,n){return{ngModule:i,providers:[Qm,[],{provide:cr,multi:!0,useValue:e},[],n?.errorHandler?{provide:s0,useValue:n.errorHandler}:[],{provide:lr,useValue:n||{}},n?.useHash?Cb():xb(),wb(),n?.preloadingStrategy?Ym(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Sb(n):[],n?.bindToComponentInputs?Jm().\u0275providers:[],n?.enableViewTransitions?Xm().\u0275providers:[],Eb()]}}static forChild(e){return{ngModule:i,providers:[{provide:cr,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({})}return i})();function wb(){return{provide:zm,useFactory:()=>{let i=y(kf),t=y(ie),e=y(lr),n=y(Hl),r=y(or);return e.scrollOffset&&i.setOffset(e.scrollOffset),new yb(r,n,i,t,e)}}}function Cb(){return{provide:yn,useClass:gu}}function xb(){return{provide:yn,useClass:Xa}}function Sb(i){return[i.initialNavigation==="disabled"?qm().\u0275providers:[],i.initialNavigation==="enabledBlocking"?Gm().\u0275providers:[]]}var a0=new O("");function Eb(){return[{provide:a0,useFactory:$m},{provide:tu,multi:!0,useExisting:a0}]}var Db=(()=>{class i extends Ka{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(H(K),H(cs),H(qa))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();function Mb(){return new hf}function Ab(i,t,e){return new ff(i,t,e)}var e1=[{provide:qa,useFactory:Mb},{provide:Ka,useClass:Db},{provide:Ke,useFactory:Ab,deps:[er,Ka,ie]}],YT=[{provide:cs,useClass:uf},{provide:at,useValue:"NoopAnimations"},...e1],kb=[{provide:cs,useFactory:()=>new pf},{provide:at,useFactory:()=>"BrowserAnimations"},...e1];function t1(){return Ki("NgEagerAnimations"),[...kb]}var sI=new O("Ng Glyph Config");var aI=new O("NgGlyphsToken");function Tb(i){return i==null?"":/^\d+$/.test(i)?`${i}px`:i}var Ib=new O("Ng Icon Pre Processor"),Pb=new O("Ng Icon Post Processor");function Rb(){return y(Ib,{optional:!0})??(i=>i)}function Ob(){return y(Pb,{optional:!0})??(()=>{})}var Nb=new O("Ng Icon Logger"),u0=class{log(t){console.log(t)}warn(t){console.warn(t)}error(t){console.error(t)}};function Fb(){return y(Nb,{optional:!0})??new u0}var Lb=new O("Ng Icon Config");function Bb(){return y(Lb,{optional:!0})??{}}var Vb=new O("Ng Icon Loader Token");var Hb=new O("Ng Icon Cache Token");function jb(){return y(Vb,{optional:!0})}function Zb(){return y(Hb,{optional:!0})}function n1(i){return[{provide:h0,useFactory:(t=y(h0,{optional:!0,skipSelf:!0}))=>k(k({},t?.reduce((e,n)=>k(k({},e),n),{})),i),multi:!0}]}var h0=new O("Icons Token");function zb(){return y(h0,{optional:!0})??[]}function Ub(i){return typeof i=="string"?Promise.resolve(i):Ui(i)?i.toPromise():i}function $b(i){return i.replace(/([^a-zA-Z0-9])+(.)?/g,(t,e,n)=>n?n.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,t=>t.toLowerCase())}var Wb=0,i1=(()=>{class i{constructor(){this.config=Bb(),this.icons=zb(),this.loader=jb(),this.cache=Zb(),this.preProcessor=Rb(),this.postProcessor=Ob(),this.injector=y(Ae),this.renderer=y(Ye),this.platform=y(Dn),this.elementRef=y(Y),this.uniqueId=Wb++,this.logger=Fb(),this.name=gn(),this.svg=gn(),this.size=gn(this.config.size,{transform:Tb}),this.strokeWidth=gn(this.config.strokeWidth),this.color=gn(this.config.color),cf(()=>this.updateIcon()),y(new Zp("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}updateIcon(){return N(this,null,function*(){let e=this.name(),n=this.svg();if(n!==void 0){this.setSvg(n);return}if(e===void 0)return;let r=$b(e);for(let o of[...this.icons].reverse())if(o[r]){this.setSvg(o[r]);return}if(this.loader){let o=yield this.requestIconFromLoader(e);if(o!==null){this.setSvg(o);return}}this.logger.warn(`No icon named ${e} was found. You may need to import it using the withIcons function.`)})}setSvg(e){if(to(this.platform)){this.elementRef.nativeElement.innerHTML=e,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),e===""))return;let n=this.renderer.createElement("template");e=this.replaceIds(e),this.renderer.setProperty(n,"innerHTML",this.preProcessor(e)),this.svgElement=n.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(e){if(!e.includes("ID_PLACEHOLDER_"))return e;let n=/ID_PLACEHOLDER_(\d+)/g,r=new Map,o=new Set(e.match(n));if(o===null)return e;for(let s of o){let a=s.replace("ID_PLACEHOLDER_",""),l=`ng-icon-${this.uniqueId}-${r.size}`;r.set(a,l),e=e.replace(new RegExp(s,"g"),l)}return e}requestIconFromLoader(e){return new Promise(n=>{Ht(this.injector,()=>N(this,null,function*(){if(this.cache){let s=this.cache.get(e);if(typeof s=="string"){n(s);return}if(s instanceof Promise){let a=yield s;n(a);return}}let r=Ub(this.loader(e));this.cache?.set(e,r);let o=yield r;this.cache?.set(e,o),n(o)}))})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=P({type:i,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(n,r){n&2&&Jn("--ng-icon__stroke-width",r.strokeWidth())("--ng-icon__size",r.size())("--ng-icon__color",r.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(n,r){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return i})();var vo=class i{arr_menu=[{menu_id:"0",name:"Request Pengajuan",route:"new-approval",icon:"heroClipboardDocumentListSolid",parent_id:null},{menu_id:"1",name:"Info Pengajuan",route:"info-pengajuan",icon:"heroNewspaperSolid",parent_id:null},{menu_id:"2",name:"Approve Pengajuan",route:"approve-pengajuan",icon:"heroClipboardDocumentCheckSolid",parent_id:null},{menu_id:"3",name:"Histori Pengajuan",route:"cek-pengajuan",icon:"heroClipboardDocumentListSolid",parent_id:null},{menu_id:"4",name:"Master Setup",route:null,icon:"heroCog8ToothSolid",parent_id:null},{menu_id:"41",name:"Suppliers",route:"suppliers",icon:null,parent_id:"4"},{menu_id:"42",name:"Jenis Transaksi",route:"jenis_transaksi",icon:null,parent_id:"4"},{menu_id:"43",name:"Bank",route:"setup-bank",icon:null,parent_id:"4"}];arr_menu_processed=[];get_menu(){return this.arr_menu}build_menu(){let t=e(this.arr_menu,null);function e(n,r){let o=[];for(let s of n)if(s.parent_id==r){let a=e(n,s.menu_id);a.length>0&&(s.CHILDREN=a),o.push(s)}return o}return console.log(t),t}static \u0275fac=function(e){return new(e||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Zl=class i{constructor(t,e){this.router=t;this.repMenu=e}getActRoute(){let t=window.location.pathname.replaceAll("/","");console.log(t)}static \u0275fac=function(e){return new(e||i)(H(pe),H(vo))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var qb=(i,t)=>({"ml-[-220px]":i,"ml-0":t}),Kb=(i,t)=>({hidden:i,fixed:t}),Yb=i=>({"text-[#ac9c1e]":i}),Jb=i=>({"bg-[#e7e0b7]":i}),Xb=i=>({"border-2 border-black":i}),Qb=i=>({"border-2":i}),ey=i=>({"":i});function ty(i,t){i&1&&(u(0,"p"),g(1,"-"),h())}function ny(i,t){i&1&&(u(0,"p"),g(1,"+"),h())}function iy(i,t){if(i&1&&(u(0,"div",37),T(1,ty,2,0,"p",31)(2,ny,2,0,"p",31),h()),i&2){let e=C().$implicit,n=C(6);f(),b("ngIf",n.act_menu.includes(e.name)),f(),b("ngIf",!n.act_menu.includes(e.name))}}function ry(i,t){if(i&1&&w(0,"div",38),i&2){let e=C().$implicit;b("ngClass",ve(1,ey,e.CHILDREN))}}function oy(i,t){i&1&&w(0,"div")}function sy(i,t){if(i&1){let e=$();u(0,"div",33)(1,"div",34),S("click",function(){let r=M(e).$implicit,o=C(6);return A(o.menu_clicked(r))}),T(2,iy,3,2,"div",35)(3,ry,1,3,"div",36),u(4,"p",25),g(5),h()(),T(6,oy,1,0,"div",31),h()}if(i&2){let e=t.$implicit,n=C(6);f(2),b("ngIf",e.CHILDREN),f(),b("ngIf",!e.CHILDREN),f(),b("ngClass",ve(5,Qb,n.act_menu.includes(e.name))),f(),xe(" ",e.name," "),f(),b("ngIf",e.CHILDREN&&n.act_menu.includes(e.name))}}function ay(i,t){if(i&1&&(u(0,"div"),T(1,sy,7,7,"div",32),h()),i&2){let e=C().$implicit;f(),b("ngForOf",e.CHILDREN)}}function ly(i,t){if(i&1){let e=$();u(0,"div",29)(1,"div",30),S("click",function(){let r=M(e).$implicit,o=C(4);return A(o.menu_clicked(r))}),u(2,"p",25),g(3),h()(),T(4,ay,2,1,"div",31),h()}if(i&2){let e=t.$implicit,n=C(4);f(),b("ngClass",ve(4,Jb,e.route==n.act_route)),f(),b("ngClass",ve(6,Xb,n.act_menu.includes(e.name)&&e.CHILDREN)),f(),xe(" ",e.name," "),f(),b("ngIf",e.CHILDREN&&n.act_menu.includes(e.name))}}function cy(i,t){if(i&1&&(u(0,"div",27),T(1,ly,5,8,"div",28),h()),i&2){let e=C().$implicit;f(),b("ngForOf",e.CHILDREN)}}function dy(i,t){if(i&1){let e=$();u(0,"div",22)(1,"div",23),S("click",function(){let r=M(e).$implicit,o=C(2);return A(o.menu_clicked(r))}),w(2,"ng-icon",24),u(3,"p",25),g(4),h()(),T(5,cy,2,1,"div",26),h()}if(i&2){let e=t.$implicit,n=C(2);b("routerLink",e.route),f(2),Ga("name",e.icon),f(),b("ngClass",ve(5,Yb,n.act_menu.includes(e.name)&&e.CHILDREN)),f(),xe(" ",e.name," "),f(),b("ngIf",e.CHILDREN&&n.act_menu.includes(e.name))}}function uy(i,t){if(i&1&&(u(0,"div",20),T(1,dy,6,7,"div",21),h()),i&2){let e=C();f(),b("ngForOf",e.menuItems)}}var zl=class i{constructor(t,e,n){this.repMenu=t;this.router=e;this.repNav=n}fetching_menu=!1;processed_menu=null;is_expanded=!1;act_menu=[];act_route=null;menuItems=[];ngOnInit(){this.get_menu()}get_menu(){this.menuItems=this.repMenu.build_menu(),console.log(this.menuItems)}menu_clicked(t){this.detect_route(),t.route?(this.act_route=t.route,this.router.navigate([t.route])):t.CHILDREN&&this.change_act_menu(t)}detect_route(){return this.repNav.getActRoute()}change_act_menu(t){let e=t.name;this.act_menu.includes(e)?this.act_menu=this.act_menu.filter(n=>n!==e):this.act_menu.push(e)}f_expand(){this.is_expanded=!this.is_expanded}f_close_menu(){this.is_expanded=!0}static \u0275fac=function(e){return new(e||i)(D(vo),D(pe),D(Zl))};static \u0275cmp=P({type:i,selectors:[["app-navleft"]],decls:22,vars:9,consts:[[1,"h-screen"],[1,"h-screen","flex","flex-col","w-[220px]","border-r-2","drop-shadow-lg","bg-white","sm:relative","fixed","z-50","transition-all",3,"ngClass"],[1,"sm:hidden","w-10","h-10","p-1","pr-2","rounded-r-full","bg-[#b8aa5f]","flex","justify-center","items-center","fill-white","text-white","right-[-41px]","bottom-[20lvh]","absolute",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 256 256"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"grow","flex","flex-col","items-center"],[1,""],[1,"w-full","flex","justify-center"],[1,"p-4","w-full","flex","justify-center"],["src","assets/img/w_nav_logo_small.png",1,"h-[14vh]"],[1,"flex","flex-col","font-medium","justify-center","items-center"],[1,"text-lg"],[1,"text-2xl"],[1,"w-[80%]","h-[2px]","bg-[#b8aa5f]","my-3"],[1,"overflow-y-scroll","text-sm","grow","h-[200px]","w-full","select-none","px-2"],[1,"flex","flex-col","relative","z-30","py-3"],["class","flex h-fit flex-col space-y-2",4,"ngIf"],[1,"h-[100px]"],[1,"sm:hidden"],[1,"bg-[#00000030]","w-[200vw]","h-[100vh]","top-0","left-0","z-10",3,"click","ngClass"],[1,"flex","h-fit","flex-col","space-y-2"],["class","rounded-md","routerLinkActive","bg-[#e7e0b7]",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","bg-[#e7e0b7]",1,"rounded-md",3,"routerLink"],[1,"flex","flex-row","transition-all","cursor-pointer","rounded-md","p-2","border-2","border-[#0000]","items-center","hover:border-[#e7e0b7]",3,"click"],[1,"text-[18px]","mr-1",3,"name"],[1,"",3,"ngClass"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"flex","flex-col","space-y-2"],["class","pl-6 mt-2",4,"ngFor","ngForOf"],[1,"pl-6","mt-2"],[1,"flex","flex-row","transition-all","cursor-pointer","rounded-md","p-2","border-2","border-[#0000]","items-center","hover:border-[#e7e0b7]",3,"click","ngClass"],[4,"ngIf"],["class","pl-6",4,"ngFor","ngForOf"],[1,"pl-6"],[1,"flex","flex-row","cursor-pointer","hover:bg-gray-100",3,"click"],["class","w-[20px] h-[20px] text-center",4,"ngIf"],["class","w-[20px] h-[20px]",3,"ngClass",4,"ngIf"],[1,"w-[20px]","h-[20px]","text-center"],[1,"w-[20px]","h-[20px]",3,"ngClass"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"button",2),S("click",function(){return n.f_expand()}),ee(),u(3,"svg",3),w(4,"path",4),h()(),Ce(),u(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),w(9,"img",9),h()(),u(10,"div",10)(11,"p",11),g(12," Transpacific Finance "),h(),u(13,"p",12),g(14," E-Approval "),h()()(),w(15,"div",13),u(16,"div",14)(17,"ul",15),T(18,uy,2,1,"div",16),h()(),w(19,"div",17),h()(),u(20,"div",18)(21,"div",19),S("click",function(){return n.f_close_menu()}),h()()()),e&2&&(f(),b("ngClass",Ze(3,qb,n.is_expanded,!n.is_expanded)),f(17),b("ngIf",!n.fetching_menu),f(3),b("ngClass",Ze(6,Kb,n.is_expanded,!n.is_expanded)))},dependencies:[js,_o,l0,Q,Se,Ne,me,i1],styles:[".active-link[_ngcontent-%COMP%]{transition:cubic-bezier();color:#3a3208}.menu_c_con[_ngcontent-%COMP%]:hover{background-color:#eee8c686}"]})};var p1=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(D(Ye),D(Y))};static \u0275dir=z({type:i})}return i})(),Gs=(()=>{class i extends p1{static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=z({type:i,features:[Je]})}return i})(),Cn=new O(""),hy={provide:Cn,useExisting:Bt(()=>qs),multi:!0},qs=(()=>{class i extends Gs{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=z({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&S("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Xe([hy]),Je]})}return i})(),py={provide:Cn,useExisting:Bt(()=>Ve),multi:!0};function fy(){let i=sn()?sn().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var my=new O(""),Ve=(()=>{class i extends p1{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!fy())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(D(Ye),D(Y),D(my,8))};static \u0275dir=z({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&S("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Xe([py]),Je]})}return i})();function _0(i){return i==null||v0(i)===0}function v0(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var b0=new O(""),y0=new O(""),gy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ei=class{static min(t){return _y(t)}static max(t){return vy(t)}static required(t){return by(t)}static requiredTrue(t){return yy(t)}static email(t){return wy(t)}static minLength(t){return Cy(t)}static maxLength(t){return xy(t)}static pattern(t){return Sy(t)}static nullValidator(t){return f1()}static compose(t){return y1(t)}static composeAsync(t){return C1(t)}};function _y(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function vy(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function by(i){return _0(i.value)?{required:!0}:null}function yy(i){return i.value===!0?null:{required:!0}}function wy(i){return _0(i.value)||gy.test(i.value)?null:{email:!0}}function Cy(i){return t=>{let e=t.value?.length??v0(t.value);return e===null||e===0?null:e<i?{minlength:{requiredLength:i,actualLength:e}}:null}}function xy(i){return t=>{let e=t.value?.length??v0(t.value);return e!==null&&e>i?{maxlength:{requiredLength:i,actualLength:e}}:null}}function Sy(i){if(!i)return f1;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(_0(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function f1(i){return null}function m1(i){return i!=null}function g1(i){return Jr(i)?nt(i):i}function _1(i){let t={};return i.forEach(e=>{t=e!=null?k(k({},t),e):t}),Object.keys(t).length===0?null:t}function v1(i,t){return t.map(e=>e(i))}function Ey(i){return!i.validate}function b1(i){return i.map(t=>Ey(t)?t:e=>t.validate(e))}function y1(i){if(!i)return null;let t=i.filter(m1);return t.length==0?null:function(e){return _1(v1(e,t))}}function w1(i){return i!=null?y1(b1(i)):null}function C1(i){if(!i)return null;let t=i.filter(m1);return t.length==0?null:function(e){let n=v1(e,t).map(g1);return Fp(n).pipe(he(_1))}}function x1(i){return i!=null?C1(b1(i)):null}function o1(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function S1(i){return i._rawValidators}function E1(i){return i._rawAsyncValidators}function p0(i){return i?Array.isArray(i)?i:[i]:[]}function $l(i,t){return Array.isArray(i)?i.includes(t):i===t}function s1(i,t){let e=p0(t);return p0(i).forEach(r=>{$l(e,r)||e.push(r)}),e}function a1(i,t){return p0(t).filter(e=>!$l(i,e))}var Wl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=w1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=x1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},dr=class extends Wl{name;get formDirective(){return null}get path(){return null}},ur=class extends Wl{_parent=null;name=null;valueAccessor=null},Gl=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Dy={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},II=ye(k({},Dy),{"[class.ng-submitted]":"isSubmitted"}),Fe=(()=>{class i extends Gl{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(D(ur,2))};static \u0275dir=z({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&we("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Je]})}return i})(),w0=(()=>{class i extends Gl{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(D(dr,10))};static \u0275dir=z({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&we("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Je]})}return i})();var Zs="VALID",Ul="INVALID",bo="PENDING",zs="DISABLED",Di=class{},ql=class extends Di{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Us=class extends Di{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},$s=class extends Di{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},yo=class extends Di{status;source;constructor(t,e){super(),this.status=t,this.source=e}},f0=class extends Di{source;constructor(t){super(),this.source=t}},m0=class extends Di{source;constructor(t){super(),this.source=t}};function D1(i){return(Xl(i)?i.validators:i)||null}function My(i){return Array.isArray(i)?w1(i):i||null}function M1(i,t){return(Xl(t)?t.asyncValidators:i)||null}function Ay(i){return Array.isArray(i)?x1(i):i||null}function Xl(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function ky(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new oe(1e3,"");if(!n[e])throw new oe(1001,"")}function Ty(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new oe(1002,"")})}var Kl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Yt(this.statusReactive)}set status(t){Yt(()=>this.statusReactive.set(t))}_status=Xr(()=>this.statusReactive());statusReactive=fi(void 0);get valid(){return this.status===Zs}get invalid(){return this.status===Ul}get pending(){return this.status==bo}get disabled(){return this.status===zs}get enabled(){return this.status!==zs}errors;get pristine(){return Yt(this.pristineReactive)}set pristine(t){Yt(()=>this.pristineReactive.set(t))}_pristine=Xr(()=>this.pristineReactive());pristineReactive=fi(!0);get dirty(){return!this.pristine}get touched(){return Yt(this.touchedReactive)}set touched(t){Yt(()=>this.touchedReactive.set(t))}_touched=Xr(()=>this.touchedReactive());touchedReactive=fi(!1);get untouched(){return!this.touched}_events=new B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(s1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(s1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(a1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(a1(t,this._rawAsyncValidators))}hasValidator(t){return $l(this._rawValidators,t)}hasAsyncValidator(t){return $l(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ye(k({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new $s(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new $s(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ye(k({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Us(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Us(!0,n))}markAsPending(t={}){this.status=bo;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new yo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ye(k({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=zs,this.errors=null,this._forEachChild(r=>{r.disable(ye(k({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ql(this.value,n)),this._events.next(new yo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(k({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Zs,this._forEachChild(n=>{n.enable(ye(k({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ye(k({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zs||this.status===bo)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ql(this.value,e)),this._events.next(new yo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ye(k({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zs:Zs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=bo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=g1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new yo(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new Z,this.statusChanges=new Z}_calculateStatus(){return this._allControlsDisabled()?zs:this.errors?Ul:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bo)?bo:this._anyControlsHaveStatus(Ul)?Ul:Zs}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Us(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new $s(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Xl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=My(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Ay(this._rawAsyncValidators)}},Ws=class extends Kl{constructor(t,e,n){super(D1(e),M1(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Ty(this,!0,t),Object.keys(t).forEach(n=>{ky(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ql=new O("",{providedIn:"root",factory:()=>ec}),ec="always";function A1(i,t){return[...t.path,i]}function g0(i,t,e=ec){C0(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),Py(i,t),Oy(i,t),Ry(i,t),Iy(i,t)}function l1(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Jl(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Yl(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Iy(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function C0(i,t){let e=S1(i);t.validator!==null?i.setValidators(o1(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=E1(i);t.asyncValidator!==null?i.setAsyncValidators(o1(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();Yl(t._rawValidators,r),Yl(t._rawAsyncValidators,r)}function Jl(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=S1(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let r=E1(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return Yl(t._rawValidators,n),Yl(t._rawAsyncValidators,n),e}function Py(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&k1(i,t)})}function Ry(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&k1(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function k1(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Oy(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Ny(i,t){i==null,C0(i,t)}function Fy(i,t){return Jl(i,t)}function T1(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Ly(i){return Object.getPrototypeOf(i.constructor)===Gs}function By(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function I1(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===Ve?e=o:Ly(o)?n=o:r=o}),r||n||e||null}function Vy(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function c1(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function d1(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ei=class extends Kl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(D1(e),M1(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(d1(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){c1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){c1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){d1(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Hy=i=>i instanceof ei;var jy={provide:ur,useExisting:Bt(()=>He)},u1=Promise.resolve(),He=(()=>{class i extends ur{_changeDetectorRef;callSetDisabledState;control=new ei;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Z;constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=I1(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),T1(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){g0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){u1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&ue(n);u1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?A1(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(D(dr,9),D(b0,10),D(y0,10),D(Cn,10),D(it,8),D(Ql,8))};static \u0275dir=z({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Xe([jy]),Je,Ue]})}return i})();var x0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})(),Zy={provide:Cn,useExisting:Bt(()=>ti),multi:!0},ti=(()=>{class i extends Gs{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=z({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&S("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Xe([Zy]),Je]})}return i})();var P1=new O("");var zy={provide:dr,useExisting:Bt(()=>tc)},tc=(()=>{class i extends dr{callSetDisabledState;get submitted(){return Yt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Xr(()=>this._submittedReactive());_submittedReactive=fi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Z;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return g0(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){l1(e.control||null,e,!1),Vy(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),By(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new f0(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new m0(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(l1(n||null,e),Hy(r)&&(g0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);Ny(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&Fy(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){C0(this.form,this),this._oldForm&&Jl(this._oldForm,this)}static \u0275fac=function(n){return new(n||i)(D(b0,10),D(y0,10),D(Ql,8))};static \u0275dir=z({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&S("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Xe([zy]),Je,Ue]})}return i})();var Uy={provide:ur,useExisting:Bt(()=>nc)},nc=(()=>{class i extends ur{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Z;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=I1(this,o)}ngOnChanges(e){this._added||this._setUpControl(),T1(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return A1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||i)(D(dr,13),D(b0,10),D(y0,10),D(Cn,10),D(P1,8))};static \u0275dir=z({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Xe([Uy]),Je,Ue]})}return i})();var $y={provide:Cn,useExisting:Bt(()=>$t),multi:!0};function R1(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Wy(i){return i.split(":")[0]}var $t=(()=>{class i extends Gs{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n=this._getOptionId(e),r=R1(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Wy(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=z({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&S("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xe([$y]),Je]})}return i})(),St=(()=>{class i{_element;_renderer;_select;id;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(R1(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(D(Y),D(Ye),D($t,9))};static \u0275dir=z({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),Gy={provide:Cn,useExisting:Bt(()=>O1),multi:!0};function h1(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function qy(i){return i.split(":")[0]}var O1=(()=>{class i extends Gs{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=n.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=qy(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=z({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&S("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xe([Gy]),Je]})}return i})(),Et=(()=>{class i{_element;_renderer;_select;id;_value;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(h1(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(h1(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(D(Y),D(Ye),D(O1,9))};static \u0275dir=z({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();var N1=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({})}return i})();var ge=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Ql,useValue:e.callSetDisabledState??ec}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[N1]})}return i})(),F1=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:P1,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ql,useValue:e.callSetDisabledState??ec}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[N1]})}return i})();function hr(i){return i.buttons===0||i.detail===0}function pr(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var S0;function L1(){if(S0==null){let i=typeof document<"u"?document.head:null;S0=!!(i&&(i.createShadowRoot||i.attachShadow))}return S0}function fr(i){if(L1()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ot(i){return i.composedPath?i.composedPath()[0]:i.target}function et(i,t,e,n,r){let o=parseInt(su.major),s=parseInt(su.minor);return o>19||o===19&&s>0||o===0&&s===0?i.listen(t,e,n,r):(t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)})}var E0;try{E0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E0=!1}var ze=(()=>{class i{_platformId=y(Dn);isBrowser=this._platformId?yu(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||E0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ks;function B1(){if(Ks==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ks=!0}))}finally{Ks=Ks||!1}return Ks}function Mi(i){return B1()?i:!!i.capture}function Ai(i,t=0){return V1(i)?Number(i):arguments.length===2?t:0}function V1(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function lt(i){return i instanceof Y?i.nativeElement:i}var H1=new O("cdk-input-modality-detector-options"),j1={ignoreKeys:[18,17,224,91,16]},Z1=650,D0={passive:!0,capture:!0},z1=(()=>{class i{_platform=y(ze);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new vt(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ot(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<Z1||(this._modality.next(hr(e)?"keyboard":"mouse"),this._mostRecentTarget=ot(e))};_onTouchstart=e=>{if(pr(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ot(e)};constructor(){let e=y(ie),n=y(K),r=y(H1,{optional:!0});if(this._options=k(k({},j1),r),this.modalityDetected=this._modality.pipe(ja(1)),this.modalityChanged=this.modalityDetected.pipe(qd()),this._platform.isBrowser){let o=y(Ke).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[et(o,n,"keydown",this._onKeydown,D0),et(o,n,"mousedown",this._onMousedown,D0),et(o,n,"touchstart",this._onTouchstart,D0)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ys=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(Ys||{}),U1=new O("cdk-focus-monitor-default-options"),ic=Mi({passive:!0,capture:!0}),Js=(()=>{class i{_ngZone=y(ie);_platform=y(ze);_inputModalityDetector=y(z1);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=y(K,{optional:!0});_stopInputModalityDetector=new B;constructor(){let e=y(U1,{optional:!0});this._detectionMode=e?.detectionMode||Ys.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=ot(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=lt(e);if(!this._platform.isBrowser||r.nodeType!==1)return U();let o=fr(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;let a={checkChildren:n,subject:new B,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let n=lt(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=lt(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Ys.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===Ys.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Z1:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=ot(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,ic),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,ic)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Me(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ic),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ic),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var rc=new WeakMap,ln=(()=>{class i{_appRef;_injector=y(Ae);_environmentInjector=y(Vt);load(e){let n=this._appRef=this._appRef||this._injector.get(Yn),r=rc.get(n);r||(r={loaders:new Set,refs:[]},rc.set(n,r),n.onDestroy(()=>{rc.get(n)?.refs.forEach(o=>o.destroy()),rc.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Qr(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var $1=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return i})();function ki(i){return Array.isArray(i)?i:[i]}var W1=new Set,mr,q1=(()=>{class i{_platform=y(ze);_nonce=y(is,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Yy}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Ky(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ky(i,t){if(!W1.has(i))try{mr||(mr=document.createElement("style"),t&&mr.setAttribute("nonce",t),mr.setAttribute("type","text/css"),document.head.appendChild(mr)),mr.sheet&&(mr.sheet.insertRule(`@media ${i} {body{ }}`,0),W1.add(i))}catch(e){console.error(e)}}function Yy(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Xs=(()=>{class i{_mediaMatcher=y(q1);_zone=y(ie);_queries=new Map;_destroySubject=new B;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return G1(ki(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=G1(ki(e)).map(s=>this._registerQuery(s).observable),o=$r(r);return o=Va(o.pipe(Kt(1)),o.pipe(ja(1),Ha(0))),o.pipe(he(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new Gn(s=>{let a=l=>this._zone.run(()=>s.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(En(n),he(({matches:s})=>({query:e,matches:s})),Me(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function G1(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var Jy=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var K1=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({providers:[Jy]})}return i})();var X1=new O("liveAnnouncerElement",{providedIn:"root",factory:Q1});function Q1(){return null}var eg=new O("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Xy=0,A0=(()=>{class i{_ngZone=y(ie);_defaultOptions=y(eg,{optional:!0});_liveElement;_document=y(K);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=y(X1,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${Xy++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ti=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(Ti||{}),Y1="cdk-high-contrast-black-on-white",J1="cdk-high-contrast-white-on-black",M0="cdk-high-contrast-active",oc=(()=>{class i{_platform=y(ze);_hasCheckedHighContrastMode;_document=y(K);_breakpointSubscription;constructor(){this._breakpointSubscription=y(Xs).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ti.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ti.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ti.BLACK_ON_WHITE}return Ti.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(M0,Y1,J1),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Ti.BLACK_ON_WHITE?e.add(M0,Y1):n===Ti.WHITE_ON_BLACK&&e.add(M0,J1)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),k0=(()=>{class i{constructor(){y(oc)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[K1]})}return i})();var T0={},gr=(()=>{class i{_appId=y(qi);getId(e){return this._appId!=="ng"&&(e+=this._appId),T0.hasOwnProperty(e)||(T0[e]=0),`${e}${T0[e]++}`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function tg(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var ig=" ";function Qy(i,t,e){let n=ac(i,t);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),i.setAttribute(t,n.join(ig)))}function ew(i,t,e){let n=ac(i,t);e=e.trim();let r=n.filter(o=>o!==e);r.length?i.setAttribute(t,r.join(ig)):i.removeAttribute(t)}function ac(i,t){return i.getAttribute(t)?.match(/\S+/g)??[]}var rg="cdk-describedby-message",sc="cdk-describedby-host",P0=0,og=(()=>{class i{_platform=y(ze);_document=y(K);_messageRegistry=new Map;_messagesContainer=null;_id=`${P0++}`;constructor(){y(ln).load($1),this._id=y(qi)+"-"+P0++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;let o=I0(n,r);typeof n!="string"?(ng(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;let o=I0(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${sc}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(sc);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let r=this._document.createElement("div");ng(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(I0(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let n=ac(e,"aria-describedby").filter(r=>r.indexOf(rg)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let r=this._messageRegistry.get(n);Qy(e,"aria-describedby",r.messageElement.id),e.setAttribute(sc,this._id),r.referenceCount++}_removeMessageReference(e,n){let r=this._messageRegistry.get(n);r.referenceCount--,ew(e,"aria-describedby",r.messageElement.id),e.removeAttribute(sc)}_isElementDescribedByMessage(e,n){let r=ac(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function I0(i,t){return typeof i=="string"?`${t||""}/${i}`:i}function ng(i,t){i.id||(i.id=`${rg}-${t}-${P0++}`)}function R0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ge(i){return i==null?"":typeof i=="string"?i:`${i}px`}var tw=new O("cdk-dir-doc",{providedIn:"root",factory:nw});function nw(){return y(K)}var iw=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function sg(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?iw.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ii=(()=>{class i{value="ltr";change=new Z;constructor(){let e=y(tw,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=sg(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var _r;function ag(){if(_r==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return _r=!1,_r;if("scrollBehavior"in document.documentElement.style)_r=!0;else{let i=Element.prototype.scrollTo;i?_r=!/\{\s*\[native code\]\s*\}/.test(i.toString()):_r=!1}}return _r}var Pi=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({})}return i})();var rw=20,vr=(()=>{class i{_ngZone=y(ie);_platform=y(ze);_renderer=y(Ke).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new B;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=rw){return this._platform.isBrowser?new Gn(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(ts(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):U()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(bt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_scrollableContainsElement(e,n){let r=lt(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ow=20,Co=(()=>{class i{_platform=y(ze);_listeners;_viewportSize;_change=new B;_document=y(K,{optional:!0});constructor(){let e=y(ie),n=y(Ke).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,a=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(e=ow){return e>0?this._change.pipe(ts(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var wo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({})}return i})(),O0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pi,wo,Pi,wo]})}return i})();var xo=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},ni=class extends xo{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=o}},br=class extends xo{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},lc=class extends xo{element;constructor(t){super(),this.element=t instanceof Y?t.nativeElement:t}},yr=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof ni)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof br)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof lc)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Qs=class extends yr{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,n,r,o){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=r,this._document=o}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get($a,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,r=t.injector||this._defaultInjector||Ae.NULL,o=r.get(Vt,n.injector);e=Qr(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var cc=(()=>{class i extends yr{_moduleRef=y($a,{optional:!0});_document=y(K);_viewContainerRef=y(jt);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new Z;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Je]})}return i})();var dc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({})}return i})();var lg=ag(),uc=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ge(-this._previousScrollPosition.left),t.style.top=Ge(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),lg&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lg&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var hc=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(bt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},ea=class{enable(){}disable(){}attach(){}};function N0(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,o=i.right<e.left,s=i.left>e.right;return n||r||o||s})}function cg(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,o=i.left<e.left,s=i.right>e.right;return n||r||o||s})}var pc=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();N0(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},mg=(()=>{class i{_scrollDispatcher=y(vr);_viewportRuler=y(Co);_ngZone=y(ie);_document=y(K);constructor(){}noop=()=>new ea;close=e=>new hc(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new uc(this._viewportRuler,this._document);reposition=e=>new pc(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),So=class{positionStrategy;scrollStrategy=new ea;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var fc=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var gg=(()=>{class i{_attachedOverlays=[];_document=y(K);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),_g=(()=>{class i extends gg{_ngZone=y(ie);_renderer=y(Ke).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),vg=(()=>{class i extends gg{_platform=y(ze);_ngZone=y(ie);_renderer=y(Ke).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[et(this._renderer,n,"pointerdown",this._pointerDownListener,r),et(this._renderer,n,"click",this._clickListener,r),et(this._renderer,n,"auxclick",this._clickListener,r),et(this._renderer,n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=ot(e)};_clickListener=e=>{let n=ot(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(dg(a.overlayElement,n)||dg(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function dg(i,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===i)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var bg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return i})(),yg=(()=>{class i{_platform=y(ze);_containerElement;_document=y(K);_styleLoader=y(ln);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||R0()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(e),R0()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(bg)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),F0=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,n,r){this._renderer=e,this._ngZone=n,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},mc=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new B;_attachments=new B;_detachments=new B;_positionStrategy;_scrollStrategy;_locationChanges=rn.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new B;_outsidePointerEvents=new B;_renders=new B;_afterRenderRef;_afterNextRenderRef;constructor(t,e,n,r,o,s,a,l,c,d=!1,p,m){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=p,this._renderer=m,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Yt(()=>Za(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=_n(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=k(k({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ye(k({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Ge(this._config.width),t.height=Ge(this._config.height),t.minWidth=Ge(this._config.minWidth),t.minHeight=Ge(this._config.minHeight),t.maxWidth=Ge(this._config.maxWidth),t.maxHeight=Ge(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new F0(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,n){let r=ki(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Me(Sn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},ug="cdk-overlay-connected-position-bounding-box",sw=/([A-Za-z%]+)$/,gc=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new B;_resizeSubscription=rn.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(ug),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&wr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ug),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:a}e.left<0&&(r-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){let o=pg(e),{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,p=s+o.width-n.width,m=0-a,_=a+o.height-n.height,v=this._subtractOverflows(o.width,d,p),x=this._subtractOverflows(o.height,m,_),E=v*x;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,o=n.right-e.x,s=hg(this._overlayRef.getConfig().minHeight),a=hg(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,c=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=pg(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0),d=0,p=0;return r.width<=o.width?d=c||-s:d=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?p=l||-a:p=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:p},{x:t.x+d,y:t.y+p}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!aw(this._lastScrollVisibility,n)){let r=new fc(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(e.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=n.height-t.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let _=Math.min(n.bottom-t.y+n.top,t.y),v=this._lastBoundingBoxSize.height;o=_*2,s=t.y-_,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-v/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,p,m;if(c)m=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)p=t.x,d=n.right-t.x;else{let _=Math.min(n.right-t.x+n.left,t.x),v=this._lastBoundingBoxSize.width;d=_*2,p=t.x-_,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-v/2)}return{top:s,left:p,bottom:a,right:m,width:d,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Ge(n.height),r.top=Ge(n.top),r.bottom=Ge(n.bottom),r.width=Ge(n.width),r.left=Ge(n.left),r.right=Ge(n.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Ge(o)),s&&(r.maxWidth=Ge(s))}this._lastBoundingBoxSize=n,wr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){wr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){wr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();wr(n,this._getExactOverlayY(e,t,d)),wr(n,this._getExactOverlayX(e,t,d))}else n.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=Ge(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Ge(s.maxWidth):o&&(n.maxWidth="")),wr(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Ge(o.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Ge(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cg(t,n),isOriginOutsideView:N0(t,n),isOverlayClipped:cg(e,n),isOverlayOutsideView:N0(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ki(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Y)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}};function wr(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function hg(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(sw);return!e||e==="px"?parseFloat(t):null}return i||null}function pg(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function aw(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var fg="cdk-global-overlay-wrapper",_c=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(fg),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,p=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",_="",v="",x="";l?x="flex-start":d==="center"?(x="center",m?v=p:_=p):m?d==="left"||d==="end"?(x="flex-end",_=p):(d==="right"||d==="start")&&(x="flex-start",v=p):d==="left"||d==="start"?(x="flex-start",_=p):(d==="right"||d==="end")&&(x="flex-end",v=p),t.position=this._cssPosition,t.marginLeft=l?"0":_,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":v,e.justifyContent=x,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(fg),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},wg=(()=>{class i{_viewportRuler=y(Co);_document=y(K);_platform=y(ze);_overlayContainer=y(yg);constructor(){}global(){return new _c}flexibleConnectedTo(e){return new gc(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Nn=(()=>{class i{scrollStrategies=y(mg);_overlayContainer=y(yg);_positionBuilder=y(wg);_keyboardDispatcher=y(_g);_injector=y(Ae);_ngZone=y(ie);_document=y(K);_directionality=y(Ii);_location=y(kn);_outsideClickDispatcher=y(vg);_animationsModuleType=y(at,{optional:!0});_idGenerator=y(gr);_renderer=y(Ke).createRenderer(null,null);_appRef;_styleLoader=y(ln);constructor(){}create(e){this._styleLoader.load(bg);let n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new So(e);return s.direction=s.direction||this._directionality.value,new mc(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Vt),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Yn)),new Qs(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var lw=new O("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(Nn);return()=>i.scrollStrategies.reposition()}});function cw(i){return()=>i.scrollStrategies.reposition()}var dw={provide:lw,deps:[Nn],useFactory:cw},vc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({providers:[Nn,dw],imports:[Pi,dc,O0,O0]})}return i})();function bc(i){return i!=null&&`${i}`!="false"}var ta=(()=>{class i{constructor(){y(oc)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Pi,Pi]})}return i})();var hw=["tooltip"],L0=20;var B0=new O("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(Nn);return()=>i.scrollStrategies.reposition({scrollThrottle:L0})}});function Sg(i){return()=>i.scrollStrategies.reposition({scrollThrottle:L0})}var Eg={provide:B0,deps:[Nn],useFactory:Sg};function Dg(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Mg=new O("mat-tooltip-default-options",{providedIn:"root",factory:Dg});var Cg="tooltip-panel",xg=Mi({passive:!0}),pw=8,fw=8,mw=24,gw=200,V0=(()=>{class i{_elementRef=y(Y);_ngZone=y(ie);_platform=y(ze);_ariaDescriber=y(og);_focusMonitor=y(Js);_dir=y(Ii);_injector=y(Ae);_viewContainerRef=y(jt);_defaultOptions=y(Mg,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Ag;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=bc(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=bc(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ai(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ai(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new B;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=pw}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Me(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,xg)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new ni(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Me(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof Y)return this._overlayRef;this._detach()}let n=this._injector.get(vr).getAncestorScrollContainers(this._elementRef),r=this._injector.get(Nn),o=r.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return o.positionChanges.pipe(Me(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=r.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${Cg}`,scrollStrategy:this._injector.get(B0)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Me(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Me(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Me(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!tg(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Me(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(k(k({},r.main),o.main)),this._addOffset(k(k({},r.fallback),o.fallback))])}_addOffset(e){let n=fw,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=r?-n:n:e.originX==="end"&&(e.offsetX=r?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),_n(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:r,originY:o}=e,s;if(n==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=n==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${Cg}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,xg)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let n=this._injector.get(K).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,r=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||_n({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&we("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),Ag=(()=>{class i{_changeDetectorRef=y(it);_elementRef=y(Y);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new B;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=y(at,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>mw&&e.width>=gw}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(n);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&Be(hw,7),n&2){let o;ce(o=de())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){n&1&&S("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(n&1){let o=$();u(0,"div",1,0),S("animationend",function(a){return M(o),A(r._handleAnimationEnd(a))}),u(2,"div",2),g(3),h()()}n&2&&(we("mdc-tooltip--multiline",r._isMultiline),b("ngClass",r.tooltipClass),f(3),R(r.message))},dependencies:[Se],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return i})(),H0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({providers:[Eg],imports:[k0,vc,ta,ta,wo]})}return i})();function vw(i,t){if(i&1&&(u(0,"div",10),ee(),u(1,"svg",11),w(2,"path",12),h()()),i&2){let e=C();b("matTooltip",e.warning_str)}}var yc=class i{constructor(t){this.router=t}fetching=!0;showMenu=!0;spawn_warning=!1;warning_str="";empl_data;empl_name="";empl_jobcode="";office_name="";arr_warning=[];ngOnInit(){return N(this,null,function*(){this.initLoad()})}initLoad(){return N(this,null,function*(){yield this.fetch_user_data(),this.fetching=!1})}fetch_user_data(){return N(this,null,function*(){var t=localStorage.getItem("user_dtl"),e=JSON.parse(t).data[0];console.log(e),this.empl_data=e,this.empl_name=e.EMPL_NAME,this.empl_jobcode=e.JOB_DESCRIPTION,this.office_name=e.NAME_SHORT,this.f_email_check(),this.f_warning_check()})}f_email_check(){this.empl_data.email||this.arr_warning.push("+ User belum mengisi email")}signOut(){localStorage.clear(),this.router.navigate(["/login"])}go_to_profile(){this.router.navigate(["/profile"])}f_warning_check(){this.arr_warning.length>0?(this.warning_str=this.arr_warning.join(`
`),this.spawn_warning=!0):(this.warning_str="",this.spawn_warning=!1)}static \u0275fac=function(e){return new(e||i)(D(pe))};static \u0275cmp=P({type:i,selectors:[["app-c-navtop"]],decls:17,vars:4,consts:[[1,"flex","flex-row","justify-between","w-full","p-4","py-2","border-[#b8aa5f]","border-b-2","drop-shadow-md","text-xs","z-10"],[1,"flex","flex-row","items-center","py-1","ml-4"],["class","mr-2 fill-red-800 ","matTooltipClass","mat-tooltip",3,"matTooltip",4,"ngIf"],["id","dropdownAvatarNameButton","data-dropdown-toggle","dropdownAvatarName",1,"flex","flex-row","items-center",3,"click"],[1,"w-8","h-8","border-2","border-[#bbb]","rounded-full","mr-4","overflow-hidden"],["src","assets/img/profile_default.png"],[1,"flex","flex-col","w-fit","pr-4","transition-all"],[1,"text-start"],[1,"flex","flex-row","items-center"],[1,"mx-2","w-2","h-2","bg-[#b8aa5f]","rounded-full"],["matTooltipClass","mat-tooltip",1,"mr-2","fill-red-800",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 256 256"],["d","M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"div"),u(2,"div",1),T(3,vw,3,1,"div",2),u(4,"div")(5,"button",3),S("click",function(){return n.go_to_profile()}),u(6,"div",4),w(7,"img",5),h(),u(8,"div",6)(9,"p",7),g(10),h(),u(11,"div",8)(12,"p"),g(13),h(),w(14,"div",9),u(15,"p"),g(16),h()()()()()()()),e&2&&(f(3),b("ngIf",n.spawn_warning),f(7),R(n.empl_name),f(3),R(n.empl_jobcode),f(3),R(n.office_name))},dependencies:[Q,me,ge,H0,V0],encapsulation:2})};function bw(i,t){i&1&&(u(0,"div",3),w(1,"app-navleft"),u(2,"div",4),w(3,"app-c-navtop"),u(4,"div",5),w(5,"router-outlet"),h()()())}function yw(i,t){i&1&&(u(0,"div",6),g(1," loading "),h())}var wc=class i{fetching=!0;user_data;fetch_user_data(){return N(this,null,function*(){yield new Promise((t,e)=>{setTimeout(()=>{this.user_data={empl_code:"71005122",empl_name:"Muhammad Ramzy",function_id:"IT",office_code:"904",office_name:"Depok"},localStorage.setItem("token",this.user_data),t()},1500)})})}ngOnInit(){return N(this,null,function*(){this.fetching=!0,console.log(this.user_data),yield this.fetch_user_data(),console.log(this.user_data),this.fetching=!1})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-p-layout"]],decls:3,vars:2,consts:[[1,"h-screen"],["class","h-full flex flex-row",4,"ngIf"],["class","h-full w-screen flex items-center justify-center",4,"ngIf"],[1,"h-full","flex","flex-row"],[1,"flex","flex-col","h-full","w-full"],[1,"flex-grow","w-full","pt-6","px-6","overflow-auto"],[1,"h-full","w-screen","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0),T(1,bw,6,0,"div",1)(2,yw,2,0,"div",2),h()),e&2&&(f(),b("ngIf",!n.fetching),f(),b("ngIf",n.fetching))},dependencies:[Q,me,zl,js,ar,yc],encapsulation:2})};var Cc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-p-home"]],decls:4,vars:0,consts:[[1,"flex-grow"],[1,"text-xl"],[1,""]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"p",2),g(3,"Selamat Datang,"),h()()())},encapsulation:2})};function Ug(i){let t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return n==="canvas"?Ig(i,t):(n==="input"||n==="select"||n==="textarea")&&Tg(i,t),kg("canvas",i,t,Ig),kg("input, textarea, select",i,t,Tg),t}function kg(i,t,e,n){let r=t.querySelectorAll(i);if(r.length){let o=e.querySelectorAll(i);for(let s=0;s<r.length;s++)n(r[s],o[s])}}var ww=0;function Tg(i,t){t.type!=="file"&&(t.value=i.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${ww++}`)}function Ig(i,t){let e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}function q0(i){let t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function z0(i,t,e){let{top:n,bottom:r,left:o,right:s}=i;return e>=n&&e<=r&&t>=o&&t<=s}function ra(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function Pg(i,t,e,n){let{top:r,right:o,bottom:s,left:a,width:l,height:c}=i,d=l*t,p=c*t;return n>r-p&&n<s+p&&e>a-d&&e<o+d}var xc=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:q0(e)})})}handleScroll(t){let e=ot(t),n=this.positions.get(e);if(!n)return null;let r=n.scrollPosition,o,s;if(e===this._document){let c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=e.scrollTop,s=e.scrollLeft;let a=r.top-o,l=r.left-s;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&ra(c.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function $g(i,t){let e=i.rootNodes;if(e.length===1&&e[0].nodeType===t.ELEMENT_NODE)return e[0];let n=t.createElement("div");return e.forEach(r=>n.appendChild(r)),n}function K0(i,t,e){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];r?i.setProperty(n,r,e?.has(n)?"important":""):i.removeProperty(n)}return i}function Eo(i,t){let e=t?"":"none";K0(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Rg(i,t,e){K0(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Sc(i,t){return t&&t!="none"?i+" "+t:i}function Og(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=Ec(t.left,t.top)}function Ec(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function Ng(i){let t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function Cw(i){let t=getComputedStyle(i),e=j0(t,"transition-property"),n=e.find(a=>a==="transform"||a==="all");if(!n)return 0;let r=e.indexOf(n),o=j0(t,"transition-duration"),s=j0(t,"transition-delay");return Ng(o[r])+Ng(s[r])}function j0(i,t){return i.getPropertyValue(t).split(",").map(n=>n.trim())}var xw=new Set(["position"]),U0=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,e,n,r,o,s,a,l,c,d){this._document=t,this._rootElement=e,this._direction=n,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=d}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),Fg(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return Cw(this._preview)}addEventListener(t,e){return this._renderer.listen(this._preview,t,e)}_createPreview(){let t=this._previewTemplate,e=this._previewClass,n=t?t.template:null,r;if(n&&t){let o=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(n,t.context);s.detectChanges(),r=$g(s,this._document),this._previewEmbeddedView=s,t.matchSize?Og(r,o):r.style.transform=Ec(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=Ug(this._rootElement),Og(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return K0(r.style,{"pointer-events":"none",margin:Fg(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},xw),Eo(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function Fg(i){return"showPopover"in i}var Sw={passive:!0},Lg={passive:!1},Ew={passive:!1,capture:!0},Dw=800,Bg=new Set(["position"]),$0=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=fi(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new B;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=rn.EMPTY;_pointerUpSubscription=rn.EMPTY;_scrollSubscription=rn.EMPTY;_resizeSubscription=rn.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Eo(e,t)))}_disabled=!1;beforeStarted=new B;started=new B;released=new B;ended=new B;entered=new B;exited=new B;dropped=new B;moved=this._moveEvents;data;constrainPosition;constructor(t,e,n,r,o,s,a){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new xc(n),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>lt(n)),this._handles.forEach(n=>Eo(n,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let e=lt(t);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[et(this._renderer,e,"mousedown",this._pointerDown,Lg),et(this._renderer,e,"touchstart",this._pointerDown,Sw),et(this._renderer,e,"dragstart",this._nativeDragStart,Lg)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?lt(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Eo(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Eo(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),l=this._dropContainer;if(!a){this._endDragSequence(t);return}(!l||!l.isDragging()&&!l.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=n.x-r.x+this._passiveTransform.x,o.y=n.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){na(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),n=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=et(this._renderer,e,"selectstart",Mw,Ew)}),n){let r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new U0(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),Rg(r,!1,Bg),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:t}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();let n=this.isDragging(),r=na(e),o=!r&&e.button!==0,s=this._rootElement,a=ot(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+Dw>Date.now(),c=r?pr(e):hr(e);if(a&&a.draggable&&e.type==="mousedown"&&e.preventDefault(),n||o||l||c)return;if(this._handles.length){let m=s.style;this._rootElementTapHighlight=m.webkitTapHighlightColor||"",m.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>this._updateOnScroll(m)),this._boundaryElement&&(this._boundaryRect=q0(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);let p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Rg(this._rootElement,!0,Bg),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),e.drop(this,n,this._initialIndex,this._initialContainer,s,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let r=a=>{(!a||this._preview&&ot(a)===this._preview.element&&a.propertyName==="transform")&&(s(),n(),clearTimeout(o))},o=setTimeout(r,e*1.5),s=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,e=t?t.template:null,n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=$g(this._placeholderRef,this._document)):n=Ug(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e,n){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,s=na(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),l=s.pageX-o.left-a.left,c=s.pageY-o.top-a.top;return{x:o.left-t.left+l,y:o.top-t.top+c}}_getPointerPositionOnPage(t){let e=this._getViewportScrollPosition(),n=na(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,o=n.pageY-e.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+s,p=a.bottom-(c-s),m=a.left+o,_=a.right-(l-o);n=Vg(n,m,_),r=Vg(r,d,p)}return{x:n,y:r}}_updatePointerDirectionDelta(t){let{x:e,y:n}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),a=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>o.y?1:-1,o.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Eo(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,e){let n=1/this.scale,r=Ec(t*n,e*n),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Sc(r,this._initialTransform)}_applyPreviewTransform(t,e){let n=this._previewTemplate?.template?void 0:this._initialTransform,r=Ec(t,e);this._preview.setTransform(Sc(r,n))}_getDragDistance(t){let e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(t===0&&e===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||n.width===0&&n.height===0)return;let o=r.left-n.left,s=n.right-r.right,a=r.top-n.top,l=n.bottom-r.bottom;r.width>n.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>n.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){let e=this.dragStartDelay;return typeof e=="number"?e:na(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){let e=this._parentPositions.handleScroll(t);if(e){let n=ot(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&ra(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=fr(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){let n=this._previewContainer||"global";if(n==="parent")return t;if(n==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return lt(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}};function Vg(i,t,e){return Math.max(t,Math.min(e,i))}function na(i){return i.type[0]==="t"}function Mw(i){i.preventDefault()}function Do(i,t,e){let n=Hg(t,i.length-1),r=Hg(e,i.length-1);if(n===r)return;let o=i[n],s=r<n?-1:1;for(let a=n;a!==r;a+=s)i[a]=i[a+s];i[r]=o}function Hg(i,t){return Math.max(0,Math.min(t,i))}var Dc=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,e,n,r){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",l=o.findIndex(E=>E.drag===t),c=o[s],d=o[l].clientRect,p=c.clientRect,m=l>s?1:-1,_=this._getItemOffsetPx(d,p,m),v=this._getSiblingOffsetPx(l,o,m),x=o.slice();return Do(o,l,s),o.forEach((E,F)=>{if(x[F]===E)return;let re=E.drag===t,ne=re?_:v,We=re?t.getPlaceholderElement():E.drag.getRootElement();E.offset+=ne;let ht=Math.round(E.offset*(1/E.drag.scale));a?(We.style.transform=Sc(`translate3d(${ht}px, 0, 0)`,E.initialTransform),ra(E.clientRect,0,ne)):(We.style.transform=Sc(`translate3d(0, ${ht}px, 0)`,E.initialTransform),ra(E.clientRect,ne,0))}),this._previousSwap.overlaps=z0(p,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(t,e,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,n):r,s=this._activeDraggables,a=s.indexOf(t),l=t.getPlaceholderElement(),c=s[o];if(c===t&&(c=s[o+1]),!c&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),s.splice(o,0,t)}else this._element.appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let e=t.getRootElement();if(e){let n=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:n})=>{ra(n,t,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:q0(n)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getItemOffsetPx(t,e,n){let r=this.orientation==="horizontal",o=r?e.left-t.left:e.top-t.top;return n===-1&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,n){let r=this.orientation==="horizontal",o=e[t].clientRect,s=e[t+n*-1],a=o[r?"width":"height"]*n;if(s){let l=r?"left":"top",c=r?"right":"bottom";n===-1?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,r=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let s=n[n.length-1].clientRect;return r?t>=s.right:e>=s.bottom}else{let s=n[0].clientRect;return r?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,n,r){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(r){let c=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,t)?-1:s}},W0=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,e){this._document=t,this._dragDropRegistry=e}start(t){let e=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<e.length;n++){let r=e[n];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,e,n,r){let o=this._getItemIndexFromPointerPosition(t,e,n),s=this._previousSwap;if(o===-1||this._activeItems[o]===t)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),d=a.getRootElement();o>l?d.after(c):d.before(c),Do(this._activeItems,l,o);let p=this._getRootNode().elementFromPoint(e,n);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=d===p||d.contains(p),{previousIndex:l,currentIndex:o}}enter(t,e,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,n):r;o===-1&&(o=this._getClosestItemIndexToPointer(t,e,n));let s=this._activeItems[o],a=this._activeItems.indexOf(t);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,t),s.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,e=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[r,o]=this._relatedNodes[n];r.parentNode===t&&r.nextSibling!==o&&(o===null?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,n){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(n)),o=r?this._activeItems.findIndex(s=>{let a=s.getRootElement();return r===a||a.contains(r)}):-1;return o===-1||!this._sortPredicate(o,t)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=fr(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==t){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(e-l,n-c);d<r&&(r=d,o=s)}}return o}},jg=.05,Wg=.05,cn=function(i){return i[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i}(cn||{}),It=function(i){return i[i.NONE=0]="NONE",i[i.LEFT=1]="LEFT",i[i.RIGHT=2]="RIGHT",i}(It||{}),G0=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new B;entered=new B;exited=new B;dropped=new B;sorted=new B;receivingStarted=new B;receivingStopped=new B;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=rn.EMPTY;_verticalScrollDirection=cn.NONE;_horizontalScrollDirection=It.NONE;_scrollNode;_stopScrollTimers=new B;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,e,n,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let s=this.element=lt(t);this._document=n,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new xc(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,o,s,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(t){let e=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>t.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof Dc&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new W0(this._document,this._dragDropRegistry);else{let e=new Dc(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,n)=>this.sortPredicate(e,n,this)),this}withScrollableParents(t){let e=this._container;return this._scrollableElements=t.indexOf(e)===-1?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let e=lt(this.element),n=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return n>-1&&this._scrollableElements.splice(n,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._domRect||!Pg(this._domRect,jg,e,n))return;let o=this._sortStrategy.sort(t,e,n,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=cn.NONE,o=It.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||n||Pg(s.clientRect,jg,t,e)&&([r,o]=Aw(a,s.clientRect,this._direction,t,e),(r||o)&&(n=a))}),!r&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=Gg(l,e),o=qg(l,t),n=window}n&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Lp(0,Xo).pipe(Me(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===cn.UP?t.scrollBy(0,-e):this._verticalScrollDirection===cn.DOWN&&t.scrollBy(0,e),this._horizontalScrollDirection===It.LEFT?t.scrollBy(-e,0):this._horizontalScrollDirection===It.RIGHT&&t.scrollBy(e,0)})};_isOverContainer(t,e){return this._domRect!=null&&z0(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._domRect||!z0(this._domRect,e,n)||!this.enterPredicate(t,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,n);return r?r===this._container||this._container.contains(r):!1}_startReceiving(t,e){let n=this._activeSiblings;!n.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=fr(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}};function Gg(i,t){let{top:e,bottom:n,height:r}=i,o=r*Wg;return t>=e-o&&t<=e+o?cn.UP:t>=n-o&&t<=n+o?cn.DOWN:cn.NONE}function qg(i,t){let{left:e,right:n,width:r}=i,o=r*Wg;return t>=e-o&&t<=e+o?It.LEFT:t>=n-o&&t<=n+o?It.RIGHT:It.NONE}function Aw(i,t,e,n,r){let o=Gg(t,r),s=qg(t,n),a=cn.NONE,l=It.NONE;if(o){let c=i.scrollTop;o===cn.UP?c>0&&(a=cn.UP):i.scrollHeight-c>i.clientHeight&&(a=cn.DOWN)}if(s){let c=i.scrollLeft;e==="rtl"?s===It.RIGHT?c<0&&(l=It.RIGHT):i.scrollWidth+c>i.clientWidth&&(l=It.LEFT):s===It.LEFT?c>0&&(l=It.LEFT):i.scrollWidth-c>i.clientWidth&&(l=It.RIGHT)}return[a,l]}var ia={capture:!0},Z0={passive:!1,capture:!0},kw=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(n,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return i})(),Kg=(()=>{class i{_ngZone=y(ie);_document=y(K);_styleLoader=y(ln);_renderer=y(Ke).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=fi([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new B;pointerUp=new B;scroll=new B;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=et(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Z0)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,n){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(kw),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=n.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this.scroll.next(a),ia],["selectstart",this._preventDefaultWhileDragging,Z0]];r?s.push(["touchend",o,ia],["touchcancel",o,ia]):s.push(["mouseup",o,ia]),r||s.push(["mousemove",a=>this.pointerMove.next(a),Z0]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,l,c])=>et(this._renderer,this._document,a,l,c))})}}stopDragging(e){this._activeDragInstances.update(n=>{let r=n.indexOf(e);return r>-1?(n.splice(r,1),[...n]):n}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let n=[this.scroll];return e&&e!==this._document&&n.push(new Gn(r=>this._ngZone.runOutsideAngular(()=>{let o=et(this._renderer,e,"scroll",s=>{this._activeDragInstances().length&&r.next(s)},ia);return()=>{o()}}))),Sn(...n)}registerDirectiveNode(e,n){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,n)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Tw={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Yg=(()=>{class i{_document=y(K);_ngZone=y(ie);_viewportRuler=y(Co);_dragDropRegistry=y(Kg);_renderer=y(Ke).createRenderer(null,null);constructor(){}createDrag(e,n=Tw){return new $0(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new G0(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Zg=new O("CDK_DRAG_PARENT");var Iw=new O("CdkDragHandle");var Jg=new O("CDK_DRAG_CONFIG"),Xg=new O("CdkDropList"),Qg=(()=>{class i{element=y(Y);dropContainer=y(Xg,{optional:!0,skipSelf:!0});_ngZone=y(ie);_viewContainerRef=y(jt);_dir=y(Ii,{optional:!0});_changeDetectorRef=y(it);_selfHandle=y(Iw,{optional:!0,self:!0});_parentDrag=y(Zg,{optional:!0,skipSelf:!0});_dragDropRegistry=y(Kg);_destroyed=new B;_handles=new vt([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Z;released=new Z;ended=new Z;entered=new Z;exited=new Z;dropped=new Z;moved=new Gn(e=>{let n=this._dragRef.moved.pipe(he(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{n.unsubscribe()}});_injector=y(Ae);constructor(){let e=this.dropContainer,n=y(Jg,{optional:!0}),r=y(Yg);this._dragRef=r.createDrag(this.element,{dragStartThreshold:n&&n.dragStartThreshold!=null?n.dragStartThreshold:5,pointerDirectionChangeThreshold:n&&n.pointerDirectionChangeThreshold!=null?n.pointerDirectionChangeThreshold:5,zIndex:n?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),n&&this._assignDefaults(n),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(Me(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){_n(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let n=e.rootElementSelector,r=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let n=this._handles.getValue();n.push(e),this._handles.next(n)}_removeHandle(e){let n=this._handles.getValue(),r=n.indexOf(e);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,n=e;this.rootElementSelector&&(n=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):lt(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let n=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:Ai(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe(Kt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let n=this.element.nativeElement.parentElement;for(;n;){let r=this._dragDropRegistry.getDragDirectiveForNode(n);if(r){e.withParent(r._dragRef);break}n=n.parentElement}})}_handleEvents(e){e.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(e){let{lockAxis:n,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=e;this.disabled=l??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(qe(e=>{let n=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),yt(e=>Sn(...e.map(n=>n._stateChanges.pipe(En(n))))),Me(this._destroyed)).subscribe(e=>{let n=this._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){n&2&&we("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",ue],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",zt]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Xe([{provide:Zg,useExisting:i}]),Ue]})}return i})(),zg=new O("CdkDropListGroup");var e5=(()=>{class i{element=y(Y);_changeDetectorRef=y(it);_scrollDispatcher=y(vr);_dir=y(Ii,{optional:!0});_group=y(zg,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new B;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=y(gr).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new Z;entered=new Z;exited=new Z;sorted=new Z;_unsortedItems=new Set;constructor(){let e=y(Yg),n=y(Jg,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,n&&this._assignDefaults(n),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,s)=>this.sortPredicate(r,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(n=>n._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let n=this._latestSortedRefs.indexOf(e._dragRef);n>-1&&(this._latestSortedRefs.splice(n,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,n)=>e._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(En(this._dir.value),Me(this._destroyed)).subscribe(n=>e.withDirection(n)),e.beforeStarted.subscribe(()=>{let n=ki(this.connectedTo).map(r=>{if(typeof r=="string"){let o=i._dropLists.find(s=>s.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{n.indexOf(r)===-1&&n.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(r)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Ai(this.autoScrollStep,2),e.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(n=>n._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),Sn(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:n,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){n&2&&(je("id",r.id),we("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",ue],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",ue],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",ue],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Xe([{provide:zg,useValue:void 0},{provide:Xg,useExisting:i}])]})}return i})();var J={env_dev:{host:""}};function Ri(){let i=localStorage.getItem("user_dtl");if(i)return JSON.parse(i).data[0].EMPL_CODE}function Ie(){let i=localStorage.getItem("user_dtl"),t=JSON.parse(i).data[0];if(t)return t}var Pw=["content"],Rw=["scroll"],Ow=["padding"],i5=["*"],sa=i=>({searchTerm:i});function Nw(i,t){if(i&1&&(u(0,"div",3),Mn(1,6),h()),i&2){let e=C();f(),b("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",ve(2,sa,e.filterValue))}}function Fw(i,t){if(i&1&&(u(0,"div",5),Mn(1,6),h()),i&2){let e=C();f(),b("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",ve(2,sa,e.filterValue))}}var Lw=["searchInput"],Bw=["clearButton"],Vw=(i,t,e)=>({item:i,clear:t,label:e}),Hw=(i,t)=>({items:i,clear:t}),jw=(i,t,e,n)=>({item:i,item$:t,index:e,searchTerm:n});function Zw(i,t){if(i&1&&(u(0,"div",20),g(1),h()),i&2){let e=C(2);f(),R(e.placeholder)}}function zw(i,t){}function Uw(i,t){if(i&1&&T(0,Zw,2,1,"ng-template",null,1,vn)(2,zw,0,0,"ng-template",19),i&2){let e=Zt(1),n=C();f(2),b("ngTemplateOutlet",n.placeholderTemplate||e)}}function $w(i,t){if(i&1){let e=$();u(0,"span",23),S("click",function(){M(e);let r=C().$implicit,o=C(2);return A(o.unselect(r))}),g(1,"\xD7"),h(),w(2,"span",24)}if(i&2){let e=C().$implicit,n=C(2);f(2),b("ngItemLabel",e.label)("escape",n.escapeHTML)}}function Ww(i,t){}function Gw(i,t){if(i&1&&(u(0,"div",22),T(1,$w,3,2,"ng-template",null,2,vn)(3,Ww,0,0,"ng-template",12),h()),i&2){let e=t.$implicit,n=Zt(2),r=C(2);we("ng-value-disabled",e.disabled),f(3),b("ngTemplateOutlet",r.labelTemplate||n)("ngTemplateOutletContext",Xn(4,Vw,e.value,r.clearItem,e.label))}}function qw(i,t){if(i&1&&iu(0,Gw,4,8,"div",21,nu().trackByOption,!0),i&2){let e=C();ru(e.selectedItems)}}function Kw(i,t){}function Yw(i,t){if(i&1&&T(0,Kw,0,0,"ng-template",12),i&2){let e=C();b("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",Ze(2,Hw,e.selectedValues,e.clearItem))}}function Jw(i,t){i&1&&w(0,"div",25)}function Xw(i,t){}function Qw(i,t){if(i&1&&T(0,Jw,1,0,"ng-template",null,3,vn)(2,Xw,0,0,"ng-template",19),i&2){let e=Zt(1),n=C();f(2),b("ngTemplateOutlet",n.loadingSpinnerTemplate||e)}}function e4(i,t){if(i&1&&Mn(0,19),i&2){let e=C(2);b("ngTemplateOutlet",e.clearButtonTemplate)}}function t4(i,t){if(i&1&&(u(0,"span",26,4)(2,"span",27),g(3,"\xD7"),h()()),i&2){let e=C(2);Ga("title",e.clearAllText),je("tabindex",e.tabFocusOnClearButton()?0:-1)}}function n4(i,t){if(i&1&&T(0,e4,1,1,"ng-container",19)(1,t4,4,2,"span",26),i&2){let e=C();pt(e.clearButtonTemplate?0:1)}}function i4(i,t){if(i&1&&w(0,"span",32),i&2){let e=C().$implicit,n=C(2);b("ngItemLabel",e.label)("escape",n.escapeHTML)}}function r4(i,t){}function o4(i,t){if(i&1){let e=$();u(0,"div",31),S("click",function(){let r=M(e).$implicit,o=C(2);return A(o.toggleItem(r))})("mouseover",function(){let r=M(e).$implicit,o=C(2);return A(o.onItemHover(r))}),T(1,i4,1,2,"ng-template",null,5,vn)(3,r4,0,0,"ng-template",12),h()}if(i&2){let e=t.$implicit,n=Zt(2),r=C(2);we("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===r.itemsList.markedItem),je("role",e.children?"group":"option")("aria-selected",e.selected)("id",e==null?null:e.htmlId)("aria-setsize",r.itemsList.filteredItems.length)("aria-posinset",e.index+1),f(3),b("ngTemplateOutlet",e.children?r.optgroupTemplate||n:r.optionTemplate||n)("ngTemplateOutletContext",rf(19,jw,e.value,e,e.index,r.searchTerm))}}function s4(i,t){if(i&1&&(u(0,"span")(1,"span",34),g(2),h(),g(3),h()),i&2){let e=C(3);f(2),R(e.addTagText),f(),xe('"',e.searchTerm,'"')}}function a4(i,t){}function l4(i,t){if(i&1){let e=$();u(0,"div",33),S("mouseover",function(){M(e);let r=C(2);return A(r.itemsList.unmarkItem())})("click",function(){M(e);let r=C(2);return A(r.selectTag())}),T(1,s4,4,2,"ng-template",null,6,vn)(3,a4,0,0,"ng-template",12),h()}if(i&2){let e=Zt(2),n=C(2);we("ng-option-marked",!n.itemsList.markedItem),f(3),b("ngTemplateOutlet",n.tagTemplate||e)("ngTemplateOutletContext",ve(4,sa,n.searchTerm))}}function c4(i,t){if(i&1&&(u(0,"div",35),g(1),h()),i&2){let e=C(3);f(),R(e.notFoundText)}}function d4(i,t){}function u4(i,t){if(i&1&&T(0,c4,2,1,"ng-template",null,7,vn)(2,d4,0,0,"ng-template",12),i&2){let e=Zt(1),n=C(2);f(2),b("ngTemplateOutlet",n.notFoundTemplate||e)("ngTemplateOutletContext",ve(2,sa,n.searchTerm))}}function h4(i,t){if(i&1&&(u(0,"div",35),g(1),h()),i&2){let e=C(3);f(),R(e.typeToSearchText)}}function p4(i,t){}function f4(i,t){if(i&1&&T(0,h4,2,1,"ng-template",null,8,vn)(2,p4,0,0,"ng-template",19),i&2){let e=Zt(1),n=C(2);f(2),b("ngTemplateOutlet",n.typeToSearchTemplate||e)}}function m4(i,t){if(i&1&&(u(0,"div",35),g(1),h()),i&2){let e=C(3);f(),R(e.loadingText)}}function g4(i,t){}function _4(i,t){if(i&1&&T(0,m4,2,1,"ng-template",null,9,vn)(2,g4,0,0,"ng-template",12),i&2){let e=Zt(1),n=C(2);f(2),b("ngTemplateOutlet",n.loadingTextTemplate||e)("ngTemplateOutletContext",ve(2,sa,n.searchTerm))}}function v4(i,t){if(i&1){let e=$();u(0,"ng-dropdown-panel",28),S("update",function(r){M(e);let o=C();return A(o.viewPortItems=r)})("scroll",function(r){M(e);let o=C();return A(o.scroll.emit(r))})("scrollToEnd",function(r){M(e);let o=C();return A(o.scrollToEnd.emit(r))})("outsideClick",function(){M(e);let r=C();return A(r.close())}),mi(1),iu(2,o4,4,24,"div",29,nu().trackByOption,!0),T(4,l4,4,6,"div",30),gi(),T(5,u4,3,4)(6,f4,3,1)(7,_4,3,4),h()}if(i&2){let e=C();we("ng-select-multiple",e.multiple),b("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.ngClass?e.ngClass:e.classes:null)("id",e.dropdownId)("ariaLabelDropdown",e.ariaLabelDropdown),f(2),ru(e.viewPortItems),f(2),pt(e.showAddTag?4:-1),f(),pt(e.showNoItemsFound()?5:-1),f(),pt(e.showTypeToSearch()?6:-1),f(),pt(e.loading&&e.itemsList.filteredItems.length===0?7:-1)}}function b4(i,t){if(i&1&&g(0),i&2){let e=C();xe(" ",e.notFoundText," ")}}var r5=/[&<>"']/g,y4=RegExp(r5.source),w4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function C4(i){return i&&y4.test(i)?i.replace(r5,t=>w4[t]):i}function $e(i){return i!=null}function oa(i){return typeof i=="object"&&$e(i)}function x4(i){return i instanceof Promise}function Ac(i){return i instanceof Function}var S4=(()=>{class i{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?C4(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(n){return new(n||i)(D(Y))}}static{this.\u0275dir=z({type:i,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[Ue]})}}return i})(),E4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-option-tmp",""]]})}}return i})(),D4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-optgroup-tmp",""]]})}}return i})(),M4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-label-tmp",""]]})}}return i})(),A4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-multi-label-tmp",""]]})}}return i})(),k4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-header-tmp",""]]})}}return i})(),T4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-footer-tmp",""]]})}}return i})(),I4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-notfound-tmp",""]]})}}return i})(),P4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-placeholder-tmp",""]]})}}return i})(),R4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-typetosearch-tmp",""]]})}}return i})(),O4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-loadingtext-tmp",""]]})}}return i})(),N4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-tag-tmp",""]]})}}return i})(),F4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-loadingspinner-tmp",""]]})}}return i})(),L4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(D(_e))}}static{this.\u0275dir=z({type:i,selectors:[["","ng-clearbutton-tmp",""]]})}}return i})();function o5(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var B4={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function Mc(i){let t=e=>B4[e]||e;return i.replace(/[^\u0000-\u007E]/g,t)}var Y0=class{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,n)=>this.mapItem(e,n)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&$e(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return this._ngSelect.compareWith?e=n=>this._ngSelect.compareWith(n.value,t):this._ngSelect.bindValue?e=n=>!n.children&&this.resolveNested(n.value,this._ngSelect.bindValue)===t:e=n=>n.value===t||!n.children&&n.label&&n.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(n=>e(n))}addItem(t){let e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=Mc(t).toLocaleLowerCase(),this.filteredItems.find(e=>Mc(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:Mc(t).toLocaleLowerCase();let e=this._ngSelect.searchFn||this._defaultSearchFn,n=this._ngSelect.hideSelected;for(let r of Array.from(this._groups.keys())){let o=[];for(let s of this._groups.get(r)){if(n&&(s.parent&&s.parent.selected||s.selected))continue;let a=this._ngSelect.searchFn?s.value:s;e(t,a)&&o.push(s)}if(o.length>0){let[s]=o.slice(-1);if(s.parent){let a=this._items.find(l=>l===s.parent);this._filteredItems.push(a)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let e=this._getLastMarkedIndex();e>-1?this._markedIndex=e:this._markedIndex=t?this.filteredItems.findIndex(n=>!n.disabled):-1}resolveNested(t,e){if(!oa(t))return t;if(e.indexOf(".")===-1)return t[e];{let n=e.split("."),r=t;for(let o=0,s=n.length;o<s;++o){if(r==null)return null;r=r[n[o]]}return r}}mapItem(t,e){let n=$e(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),r=$e(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:$e(n)?n.toString():"",value:r,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let e of this.selectedItems){let n=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,r=$e(n)?this.findItem(n):null;this._selectionModel.unselect(e,t),this._selectionModel.select(r||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>this.selectedItems.indexOf(e)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let e=t.parent;this._filteredItems.find(r=>r===e)||this._filteredItems.push(e)}else if(t.children)for(let e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,n)=>e.index-n.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(n=>n.selected)&&(this._filteredItems=this._filteredItems.filter(n=>n!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return Mc(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){let n=new Map;if(t.length===0)return n;if(Array.isArray(t[0].value[e])){for(let s of t){let a=(s.value[e]||[]).map((l,c)=>this.mapItem(l,c));n.set(s,a)}return n}let r=Ac(this._ngSelect.groupBy),o=s=>{let a=r?e(s.value):s.value[e];return $e(a)?a:void 0};for(let s of t){let a=o(s),l=n.get(a);l?l.push(s):n.set(a,[s])}return n}_flatten(t){let e=Ac(this._ngSelect.groupBy),n=[];for(let r of Array.from(t.keys())){let o=n.length;if(r===void 0){let p=t.get(void 0)||[];n.push(...p.map(m=>(m.index=o++,m)));continue}let s=oa(r),a={label:s?"":String(r),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:o5()},l=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>s?r.value:{[l]:r}),d=t.get(r).map(p=>(p.parent=a,p.children=void 0,p.index=o++,p));a.children=d,a.value=c(r,d.map(p=>p.value)),n.push(a),n.push(...d)}return n}},s5=(()=>{class i{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,n,r){let o=this._dimensions,s=o.itemHeight*n,l=Math.max(0,e)/s*n,c=Math.min(n,Math.ceil(l)+(o.itemsPerViewport+1)),p=Math.max(0,c-o.itemsPerViewport),m=Math.min(p,Math.floor(l)),_=o.itemHeight*Math.ceil(m)-o.itemHeight*Math.min(m,r);return _=isNaN(_)?0:_,m=isNaN(m)?-1:m,c=isNaN(c)?-1:c,m-=r,m=Math.max(0,m),c+=r,c=Math.min(n,c),{topPadding:_,scrollHeight:s,start:m,end:c}}setDimensions(e,n){let r=Math.max(1,Math.floor(n/e));this._dimensions={itemHeight:e,panelHeight:n,itemsPerViewport:r}}getScrollTo(e,n,r){let{panelHeight:o}=this.dimensions,s=e+n,a=r,l=a+o;return o>=s&&r===e?null:s>l?a+s-l:e<=a?e:null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=I({token:i,factory:i.\u0275fac})}}return i})(),t5=["top","right","bottom","left"],V4=typeof requestAnimationFrame<"u"?Xo:$d,n5=(()=>{class i{constructor(e,n,r,o,s){this._renderer=e,this._zone=n,this._panelService=r,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.ariaLabelDropdown=gn(null),this.update=new Z,this.scroll=new Z,this.scrollToEnd=new Z,this.outsideClick=new Z,this._destroy$=new B,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:e,panelHeight:n}=this._panelService.dimensions,r=this.markedItem.index*e;return n>r?0:r}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){let n=e.items;this._onItemsChange(n.currentValue,n.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,n=!1){if(!e)return;let r=this.items.indexOf(e);if(r<0||r>=this.itemsLength)return;let o;if(this.virtualScroll){let s=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(r*s,s,this._lastScrollPosition)}else{let s=this._dropdown.querySelector(`#${e.htmlId}`),a=n?s.offsetTop:this._lastScrollPosition;o=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,a)}$e(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){let e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),t5.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){t5.forEach(r=>{let o=`ng-select-${r}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});let n=`ng-select-${e}`;this._renderer.addClass(this._dropdown,n),this._renderer.addClass(this._select,n)}_handleScroll(){this._zone.runOutsideAngular(()=>{Wr(this.scrollElementRef.nativeElement,"scroll").pipe(Me(this._destroy$),ts(0,V4)).subscribe(e=>{let n=e.path||e.composedPath&&e.composedPath();if(!n||n.length===0&&!e.target)return;let r=!n||n.length===0?e.target.scrollTop:n[0].scrollTop;this._onContentScrolled(r)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Sn(Wr(this._document,"touchstart",{capture:!0}),Wr(this._document,"click",{capture:!0})).pipe(Me(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;let n=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,n){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(n):(this._setVirtualHeight(),this._updateItems(n))}_updateItems(e){this.update.emit(this.items),e!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let n=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,n),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;e=e||this._scrollablePanel.scrollTop;let n=this._panelService.calculateItems(e,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform=`translateY(${n.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(n.start,n.end)),this.scroll.emit({start:n.start,end:n.end})}),$e(e)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{let r=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;this._virtualPadding.style.height=`${r*this.itemsLength}px`;let o=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(r,o),this._panelService.dimensions})}_fireScrollToEnd(e){if(this._scrollToEndFired||e===0)return;let n=this.virtualScroll?this._virtualPadding:this._contentPanel;e+this._dropdown.clientHeight>=n.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if(this.position!=="auto")return this.position;let n=this._select.getBoundingClientRect(),r=document.documentElement.scrollTop||document.body.scrollTop,o=n.top+window.pageYOffset,s=n.height,a=e.getBoundingClientRect().height;return o+s+a>r+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=this._dropdown.shadowRoot?this._dropdown.shadowRoot.querySelector(this.appendTo):document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let e=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect(),r=e.left-n.left;this._dropdown.style.left=r+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){let e=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect(),r=e.height;if(this._currentPosition==="top"){let o=n.bottom-e.bottom;this._dropdown.style.bottom=o+r+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let o=e.top-n.top;this._dropdown.style.top=o+r+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Wr(this._dropdown,"mousedown").pipe(Me(this._destroy$)).subscribe(e=>{e.target.tagName!=="INPUT"&&e.preventDefault()})})}static{this.\u0275fac=function(n){return new(n||i)(D(Ye),D(ie),D(s5),D(Y),D(K,8))}}static{this.\u0275cmp=P({type:i,selectors:[["ng-dropdown-panel"]],viewQuery:function(n,r){if(n&1&&(Be(Pw,7,Y),Be(Rw,7,Y),Be(Ow,7,Y)),n&2){let o;ce(o=de())&&(r.contentElementRef=o.first),ce(o=de())&&(r.scrollElementRef=o.first),ce(o=de())&&(r.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",ue],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue",ariaLabelDropdown:[1,"ariaLabelDropdown"]},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[Ue],ngContentSelectors:i5,decls:9,vars:7,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&(An(),T(0,Nw,2,4,"div",3),u(1,"div",4,0),w(3,"div",null,1),u(5,"div",null,2),on(7),h()(),T(8,Fw,2,4,"div",5)),n&2&&(pt(r.headerTemplate?0:-1),f(),je("aria-label",r.ariaLabelDropdown()),f(2),we("total-padding",r.virtualScroll),f(2),we("scrollable-content",r.virtualScroll&&r.items.length),f(3),pt(r.footerTemplate?8:-1))},dependencies:[_i],encapsulation:2,changeDetection:0})}}return i})(),aa=(()=>{class i{constructor(e){this.elementRef=e,this.disabled=!1,this.stateChange$=new B}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static{this.\u0275fac=function(n){return new(n||i)(D(Y))}}static{this.\u0275cmp=P({type:i,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",ue]},features:[Ue],ngContentSelectors:i5,decls:1,vars:0,template:function(n,r){n&1&&(An(),on(0))},encapsulation:2,changeDetection:0})}}return i})(),Fn=function(i){return i.Tab="Tab",i.Enter="Enter",i.Esc="Escape",i.Space=" ",i.ArrowUp="ArrowUp",i.ArrowDown="ArrowDown",i.Backspace="Backspace",i}(Fn||{});function a5(){return new J0}var J0=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,n){if(t.selected=!0,(!t.children||!e&&n)&&this._selected.push(t),e)if(t.parent){let r=t.parent.children.length,o=t.parent.children.filter(s=>s.selected).length;t.parent.selected=r===o}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),n&&this._activeChildren(t)?this._selected=[...this._selected.filter(r=>r.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(r=>!r.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(n=>n!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let n=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...n.filter(r=>r!==t&&!r.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let n of t)n.disabled||(n.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},H4=(()=>{class i{constructor(){this.fixedPlaceholder=!1,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),j4=(()=>{class i{warn(e){console.warn(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),l5=new O("ng-select-selection-model"),Ln=(()=>{class i{constructor(e,n,r,o,s,a,l){this.classes=e,this.autoFocus=n,this.config=r,this._cd=a,this._console=l,this.ariaLabelDropdown="Options List",this.markFirst=!0,this.fixedPlaceholder=!1,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.tabFocusOnClearButton=gn(!0,{transform:ue}),this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new Z,this.focusEvent=new Z,this.changeEvent=new Z,this.openEvent=new Z,this.closeEvent=new Z,this.searchEvent=new Z,this.clearEvent=new Z,this.addEvent=new Z,this.removeEvent=new Z,this.scroll=new Z,this.scrollToEnd=new Z,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=o5(),this.escapeHTML=!0,this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new B,this._keyPress$=new B,this._items=[],this.keyDownFn=c=>!0,this.clearItem=c=>{let d=this.selectedItems.find(p=>p.value===c);this.unselect(d)},this.trackByOption=(c,d)=>this.trackByFn?this.trackByFn(d.value):d,this._onChange=c=>{},this._onTouched=()=>{},this._mergeGlobalConfig(r),this.itemsList=new Y0(this,o?o():a5()),this.element=s.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e??[]}get disabled(){return this.readonly||this._disabled}get compareWith(){return this._compareWith}set compareWith(e){if(e!=null&&!Ac(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return $e(this._clearSearchOnAdd)?this._clearSearchOnAdd:$e(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return $e(this._deselectOnClick)?this._deselectOnClick:$e(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}get showAddTag(){if(!this._validTerm)return!1;let e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(n=>n.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(n=>n.label.toLowerCase()===e))&&!this.loading}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let e=this.searchTerm?.trim();return e&&e.length>=this.minTermLength}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=$e(e.isOpen.currentValue)),e.groupBy&&(e.items||this._setItems([...this.items])),e.inputAttrs&&this._setInputAttributes()}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),$e(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){let n=e.key;if(Object.values(Fn).includes(n)){if(this.keyDownFn(e)===!1)return;this.handleKeyCode(e)}else n&&n.length===1&&this._keyPress$.next(n.toLocaleLowerCase())}handleKeyCode(e){let n=e.target;this.clearButton&&this.clearButton.nativeElement===n?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.key){case Fn.ArrowDown:this._handleArrowDown(e);break;case Fn.ArrowUp:this._handleArrowUp(e);break;case Fn.Space:this._handleSpace(e);break;case Fn.Enter:this._handleEnter(e);break;case Fn.Tab:this._handleTab(e);break;case Fn.Esc:this.close(),e.preventDefault();break;case Fn.Backspace:this._handleBackspace();break}}handleKeyCodeClear(e){switch(e.key){case Fn.Enter:this.handleClearClick(),e.preventDefault();break}}handleMousedown(e){if(this.preventToggleOnRightClick&&e.button===2)return!1;let n=e.target;if(n.tagName!=="INPUT"&&e.preventDefault(),n.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(n.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}n.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value),this._onSelectionChanged())}selectTag(){let e;Ac(this.addTag)?e=this.addTag(this.searchTerm):e=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let n=r=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(r,null):this.itemsList.addItem(r);x4(e)?e.then(r=>this.select(n(r))).catch(()=>{}):e&&this.select(n(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}showNoItemsFound(){let e=this.itemsList.filteredItems.length===0;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(n=>n.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let e=this.selectedItems?.[0];this.searchTerm=e?.label??null}_setItems(e){let n=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=$e(n)?!oa(n):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&$e(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let e=r=>{this.items=r.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},n=()=>{let r=Sn(this.ngOptions.changes,this._destroy$);Sn(...this.ngOptions.map(o=>o.stateChange$)).pipe(Me(r)).subscribe(o=>{let s=this.itemsList.findItem(o.value);s.disabled=o.disabled,s.label=o.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(En(this.ngOptions),Me(this._destroy$)).subscribe(r=>{this.bindLabel=this._defaultLabel,e(r),n()})}_isValidWriteValue(e){if(!$e(e)||this.multiple&&e===""||Array.isArray(e)&&e.length===0)return!1;let n=r=>!$e(this.compareWith)&&oa(r)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(r)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(e)?e.every(r=>n(r)):(this._console.warn("Multiple select ngModel should be array."),!1):n(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;let n=r=>{let o=this.itemsList.findItem(r);if(o)this.itemsList.select(o);else{let s=oa(r),a=!s&&!this.bindValue;s||a?this.itemsList.select(this.itemsList.mapItem(r,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:r},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(r=>n(r)):n(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Me(this._destroy$),qe(e=>this._pressedKeys.push(e)),Ha(200),bt(()=>this._pressedKeys.length>0),he(()=>this._pressedKeys.join(""))).subscribe(e=>{let n=this.itemsList.findByLabel(e);n&&(this.isOpen?(this.itemsList.markItem(n),this._scrollToMarked(),this._cd.markForCheck()):this.select(n)),this._pressedKeys=[]})}_setInputAttributes(){let e=this.searchInput.nativeElement,n=k({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:"off","aria-controls":this.dropdownId},this.inputAttrs);for(let r of Object.keys(n))e.setAttribute(r,n[r])}_updateNgModel(){let e=[];for(let r of this.selectedItems)if(this.bindValue){let o=null;if(r.children){let s=this.groupValue?this.bindValue:this.groupBy;o=r.value[s||this.groupBy]}else o=this.itemsList.resolveNested(r.value,this.bindValue);e.push(o)}else e.push(r.value);let n=this.selectedItems.map(r=>r.value);this.multiple?(this._onChange(e),this.changeEvent.emit(n)):(this._onChange($e(e[0])?e[0]:null),this.changeEvent.emit(n[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(this.isOpen===!1){if(this.showClear()&&!e.shiftKey&&this.tabFocusOnClearButton())this.focusOnClear(),e.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){let n=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(n<0||n===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.fixedPlaceholder=this.fixedPlaceholder||e.fixedPlaceholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=this.getVirtualScroll(e),this.openOnEnter=$e(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}getVirtualScroll(e){return $e(this.virtualScroll)?this.virtualScroll:this.isVirtualScrollDisabled(e)}isVirtualScrollDisabled(e){return $e(e.disableVirtualScroll)?!e.disableVirtualScroll:!1}static{this.\u0275fac=function(n){return new(n||i)(Gr("class"),Gr("autofocus"),D(H4),D(l5,8),D(Y),D(it),D(j4))}}static{this.\u0275cmp=P({type:i,selectors:[["ng-select"]],contentQueries:function(n,r,o){if(n&1&&(ft(o,E4,5,_e),ft(o,D4,5,_e),ft(o,M4,5,_e),ft(o,A4,5,_e),ft(o,k4,5,_e),ft(o,T4,5,_e),ft(o,I4,5,_e),ft(o,P4,5,_e),ft(o,R4,5,_e),ft(o,O4,5,_e),ft(o,N4,5,_e),ft(o,F4,5,_e),ft(o,L4,5,_e),ft(o,aa,5)),n&2){let s;ce(s=de())&&(r.optionTemplate=s.first),ce(s=de())&&(r.optgroupTemplate=s.first),ce(s=de())&&(r.labelTemplate=s.first),ce(s=de())&&(r.multiLabelTemplate=s.first),ce(s=de())&&(r.headerTemplate=s.first),ce(s=de())&&(r.footerTemplate=s.first),ce(s=de())&&(r.notFoundTemplate=s.first),ce(s=de())&&(r.placeholderTemplate=s.first),ce(s=de())&&(r.typeToSearchTemplate=s.first),ce(s=de())&&(r.loadingTextTemplate=s.first),ce(s=de())&&(r.tagTemplate=s.first),ce(s=de())&&(r.loadingSpinnerTemplate=s.first),ce(s=de())&&(r.clearButtonTemplate=s.first),ce(s=de())&&(r.ngOptions=s)}},viewQuery:function(n,r){if(n&1&&(Be(n5,5),Be(Lw,7),Be(Bw,5)),n&2){let o;ce(o=de())&&(r.dropdownPanel=o.first),ce(o=de())&&(r.searchInput=o.first),ce(o=de())&&(r.clearButton=o.first)}},hostVars:20,hostBindings:function(n,r){n&1&&S("keydown",function(s){return r.handleKeyDown(s)}),n&2&&we("ng-select-typeahead",r.typeahead)("ng-select-multiple",r.multiple)("ng-select-taggable",r.addTag)("ng-select-searchable",r.searchable)("ng-select-clearable",r.clearable)("ng-select-opened",r.isOpen)("ng-select",r.useDefaultClass)("ng-select-filtered",r.filtered)("ng-select-single",r.single)("ng-select-disabled",r.disabled)},inputs:{ariaLabelDropdown:"ariaLabelDropdown",bindLabel:"bindLabel",bindValue:"bindValue",ariaLabel:"ariaLabel",markFirst:[2,"markFirst","markFirst",ue],placeholder:"placeholder",fixedPlaceholder:"fixedPlaceholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",ue],closeOnSelect:[2,"closeOnSelect","closeOnSelect",ue],hideSelected:[2,"hideSelected","hideSelected",ue],selectOnTab:[2,"selectOnTab","selectOnTab",ue],openOnEnter:[2,"openOnEnter","openOnEnter",ue],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",zt],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",zt],virtualScroll:[2,"virtualScroll","virtualScroll",ue],selectableGroup:[2,"selectableGroup","selectableGroup",ue],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",ue],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",ue],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",zt],tabFocusOnClearButton:[1,"tabFocusOnClearButton"],readonly:[2,"readonly","readonly",ue],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",ue],minTermLength:[2,"minTermLength","minTermLength",zt],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",ue],ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",ue],addTag:"addTag",searchable:[2,"searchable","searchable",ue],clearable:[2,"clearable","clearable",ue],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick",keyDownFn:"keyDownFn"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[Xe([{provide:Cn,useExisting:Bt(()=>i),multi:!0},s5]),Ue],decls:15,vars:20,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],[1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","ariaLabelDropdown"],["aria-atomic","true","aria-live","polite","role","status",1,"ng-visually-hidden"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],[1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","ariaLabelDropdown"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(n,r){if(n&1){let o=$();u(0,"div",10),S("mousedown",function(a){return M(o),A(r.handleMousedown(a))}),u(1,"div",11),T(2,Uw,3,1)(3,qw,2,0)(4,Yw,1,5,null,12),u(5,"div",13)(6,"input",14,0),S("blur",function(a){return M(o),A(r.onInputBlur(a))})("change",function(a){return M(o),A(a.stopPropagation())})("compositionend",function(){M(o);let a=Zt(7);return A(r.onCompositionEnd(a.value))})("compositionstart",function(){return M(o),A(r.onCompositionStart())})("focus",function(a){return M(o),A(r.onInputFocus(a))})("input",function(){M(o);let a=Zt(7);return A(r.filter(a.value))}),h()()(),T(8,Qw,3,1)(9,n4,2,1),u(10,"span",15),w(11,"span",16),h()(),T(12,v4,8,18,"ng-dropdown-panel",17),u(13,"div",18),T(14,b4,1,1),h()}if(n&2){let o;we("ng-appearance-outline",r.appearance==="outline")("ng-has-value",r.hasValue),f(2),pt(r.selectedItems.length===0&&!r.searchTerm||r.fixedPlaceholder?2:-1),f(),pt((!r.multiLabelTemplate||!r.multiple)&&r.selectedItems.length>0?3:-1),f(),pt(r.multiple&&r.multiLabelTemplate&&r.selectedValues.length>0?4:-1),f(2),b("disabled",r.disabled)("readOnly",!r.searchable||r.itemsList.maxItemsSelected)("value",(o=r.searchTerm)!==null&&o!==void 0?o:""),je("aria-activedescendant",r.isOpen?r.itemsList==null||r.itemsList.markedItem==null?null:r.itemsList.markedItem.htmlId:null)("aria-controls",r.isOpen?r.dropdownId:null)("aria-expanded",r.isOpen)("aria-label",r.ariaLabel)("id",r.labelForId)("tabindex",r.tabIndex),f(2),pt(r.loading?8:-1),f(),pt(r.showClear()?9:-1),f(3),pt(r.isOpen?12:-1),f(2),pt(r.isOpen&&r.showNoItemsFound()?14:-1)}},dependencies:[_i,S4,n5,Se],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}.ng-visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);border:0;white-space:nowrap}
`],encapsulation:2,changeDetection:0})}}return i})(),kc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=le({type:i})}static{this.\u0275inj=ae({providers:[{provide:l5,useValue:a5}]})}}return i})();var Z4=["determinateSpinner"];function z4(i,t){if(i&1&&(ee(),u(0,"svg",11),w(1,"circle",12),h()),i&2){let e=C();je("viewBox",e._viewBox()),f(),Jn("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),je("r",e._circleRadius())}}var U4=new O("mat-progress-spinner-default-options",{providedIn:"root",factory:$4});function $4(){return{diameter:d5}}var d5=100,W4=10,Tc=(()=>{class i{_elementRef=y(Y);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=y(at,{optional:!0}),n=y(U4);this._noopAnimations=e==="NoopAnimations"&&!!n&&!n._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=d5;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-W4)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(n&1&&Be(Z4,5),n&2){let o;ce(o=de())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){n&2&&(je("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),Tt("mat-"+r.color),Jn("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),we("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",zt],diameter:[2,"diameter","diameter",zt],strokeWidth:[2,"strokeWidth","strokeWidth",zt]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(n&1&&(T(0,z4,2,8,"ng-template",null,0,vn),u(2,"div",2,1),ee(),u(4,"svg",3),w(5,"circle",4),h()(),Ce(),u(6,"div",5)(7,"div",6)(8,"div",7),Mn(9,8),h(),u(10,"div",9),Mn(11,8),h(),u(12,"div",10),Mn(13,8),h()()()),n&2){let o=Zt(1);f(4),je("viewBox",r._viewBox()),f(),Jn("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),je("r",r._circleRadius()),f(4),b("ngTemplateOutlet",o),f(2),b("ngTemplateOutlet",o),f(2),b("ngTemplateOutlet",o)}},dependencies:[_i],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return i})();var Ic=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[ta]})}return i})();var Pc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-c-loading-widget"]],decls:7,vars:0,consts:[[1,"w-[100vw]","h-[100vh]","bg-[#000000b1]","flex","items-center","justify-center","z-50","fixed","top-0","left-0"],[1,"p-4","rounded-md","bg-white","flex","flex-col","items-center","justify-center","shadow-md"],[1,"p-4"],["mode","indeterminate"],[1,"py-2"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),w(3,"mat-progress-spinner",3),h(),w(4,"div",4),u(5,"p"),g(6,"Processing..."),h()()())},dependencies:[Ic,Tc],encapsulation:2})};var dn=class i{usr_detail=this.get_curr_usr_dtl();get_curr_usr_dtl(){return JSON.parse(localStorage.getItem("user_dtl")).data[0]}set_user_dtl(){this.usr_detail=JSON.parse(localStorage.getItem("user_dtl")).data[0]}get_usr_detail(){let t=this.usr_detail;return this.usr_detail}get_usr_empl_code(){return this.usr_detail.EMPL_CODE}get_usr_token(){return this.usr_detail.token}isAdmin(){return this.usr_detail.EMPL_JOB=="G00123"}static \u0275fac=function(e){return new(e||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function G4(i,t){if(i&1&&(u(0,"option",8),g(1),h()),i&2){let e=t.$implicit;b("value",e.empl_branch),f(),R(e.cabang)}}function q4(i,t){if(i&1){let e=$();u(0,"select",6),S("change",function(r){M(e);let o=C();return A(o.on_lov_cabang_change(r))}),q("ngModelChange",function(r){M(e);let o=C();return G(o.act_cabang,r)||(o.act_cabang=r),A(r)}),T(1,G4,2,2,"option",7),h()}if(i&2){let e=C();W("ngModel",e.act_cabang),f(),b("ngForOf",e.lov_cabang)}}function K4(i,t){if(i&1&&(u(0,"option",8),g(1),h()),i&2){let e=t.$implicit;b("value",e.personal_subarea),f(),R(e.job_name)}}function Y4(i,t){if(i&1){let e=$();u(0,"select",6),S("change",function(r){M(e);let o=C();return A(o.on_lov0_change(r))}),q("ngModelChange",function(r){M(e);let o=C();return G(o.act_sub_area,r)||(o.act_sub_area=r),A(r)}),T(1,K4,2,2,"option",7),h()}if(i&2){let e=C();W("ngModel",e.act_sub_area),f(),b("ngForOf",e.lov0)}}function J4(i,t){if(i&1&&(u(0,"option"),g(1),h()),i&2){let e=t.$implicit;f(),R(e.empl_name)}}function X4(i,t){if(i&1){let e=$();u(0,"select",6),S("change",function(r){M(e);let o=C();return A(o.on_lov1_change(r))}),q("ngModelChange",function(r){M(e);let o=C();return G(o.act_person,r)||(o.act_person=r),A(r)}),T(1,J4,2,1,"option",9),h()}if(i&2){let e=C();W("ngModel",e.act_person),f(),b("ngForOf",e.lov1)}}function Q4(i,t){if(i&1&&(u(0,"option"),g(1),h()),i&2){let e=t.$implicit;f(),R(e)}}function e6(i,t){if(i&1){let e=$();u(0,"select",6),S("change",function(r){M(e);let o=C();return A(o.on_checker_change(r))}),q("ngModelChange",function(r){M(e);let o=C();return G(o.act_checker,r)||(o.act_checker=r),A(r)}),T(1,Q4,2,1,"option",9),h()}if(i&2){let e=C();W("ngModel",e.act_checker),f(),b("ngForOf",e.arr_checker)}}var Rc=class i{constructor(t,e){this.http=t;this.repUser=e}itemData;itemIndex;total_i;itemDataChange=new Z;deleteThis=new Z;itemDataVal;act_user;act_cabang;act_sub_area;act_job;act_person;act_person_obj;act_checker;last_item=!1;exl_empl_code;lov_cabang;lov0;lov1;fetching_cabang=!0;fetching_subarea=!0;fetching_person=!0;arr_checker=["APPROVE","CEK"];ngOnInit(){this.initLoad()}initLoad(){return N(this,null,function*(){this.set_init(),yield this.get_cabang(),this.act_user=this.repUser.get_usr_empl_code()})}set_init(){this.itemDataVal=k({},this.itemData),this.act_cabang="-",this.act_person=null,this.act_person_obj=null,this.last_item=this.itemIndex+1==this.total_i,console.log(this.itemIndex+1),console.log(this.total_i)}on_lov_cabang_change(t){return N(this,null,function*(){let e=t.target,n=e.value,r=e.options[e.selectedIndex].text,o=e.selectedIndex,s=this.lov_cabang[o];this.act_cabang=n,this.act_job=null,this.act_person=null,this.act_sub_area=s.personal_subarea,this.act_checker=null,this.act_person=null,this.act_person_obj=null,yield this.get_appr_subarea()})}on_lov0_change(t){return N(this,null,function*(){let e=t.target,n=e.value,r=e.options[e.selectedIndex].text;this.act_sub_area=n,this.act_job=r,console.log([this.act_person,this.act_person_obj]),this.act_checker=null,this.act_person=null,yield this.get_appr_person()})}on_lov1_change(t){return N(this,null,function*(){let e=t.target,n=e.options[e.selectedIndex].index;this.act_person_obj=this.lov1[n],this.act_checker=null})}on_checker_change(t){let n=t.target.selectedIndex;this.change_act_person()}change_act_person(){this.itemData.EMPL_NAME=this.act_person_obj.empl_name,this.itemData.EMPL_CODE=this.act_person_obj.empl_code,this.itemData.LVL=this.itemIndex,this.itemData.POSISION=this.act_checker,this.itemDataChange.emit(this.itemData)}removeThis(t){console.log(this.itemIndex),this.deleteThis.emit(this.itemIndex)}get_cabang(){return N(this,null,function*(){this.fetching_cabang=!0;let t={personal_subarea:Ie().personal_subarea,EMPL_BRANCH:Ie().EMPL_BRANCH};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_user_cabang",{params:t}));this.lov_cabang=e.data,this.act_cabang=null,this.act_job=null,this.fetching_cabang=!1})}get_appr_subarea(){return N(this,null,function*(){console.log("get_appr_subarea"),this.fetching_subarea=!0;let t={empl_branch:this.act_cabang,empl_subarea:this.act_sub_area};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_appr_subarea",{params:t}));this.act_sub_area=null,this.lov0=e.data,this.act_job=null,this.act_person=null,this.fetching_subarea=!1})}get_appr_person(){return N(this,null,function*(){console.log("get_user_cabang"),this.fetching_person=!0;let t={EMPL_BRANCH:this.act_cabang,empl_subarea:this.act_sub_area,ACT_JOB:this.act_job,act_user:this.act_user};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_appr_person",{params:t}));this.lov1=e.data,this.act_person_obj=null,this.act_person=null,this.fetching_person=!1})}static \u0275fac=function(e){return new(e||i)(D(Ee),D(dn))};static \u0275cmp=P({type:i,selectors:[["app-c-approval-item"]],inputs:{itemData:"itemData",itemIndex:"itemIndex",total_i:"total_i"},outputs:{itemDataChange:"itemDataChange",deleteThis:"deleteThis"},decls:10,vars:5,consts:[[1,"flex","flex-row","items-center","p-2"],[1,"px-2","pr-4"],["class","w-[240px] mr-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block p-1.5 ",3,"ngModel","change","ngModelChange",4,"ngIf"],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"w-[240px]","mr-4","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-1.5",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),g(2),h(),T(3,q4,2,2,"select",2)(4,Y4,2,2,"select",2)(5,X4,2,2,"select",2)(6,e6,2,2,"select",2),u(7,"button",3),S("click",function(o){return n.removeThis(o)}),ee(),u(8,"svg",4),w(9,"path",5),h()()()),e&2&&(f(2),R(n.itemIndex+1),f(),b("ngIf",!n.fetching_cabang),f(),b("ngIf",n.act_cabang!=null&&!n.fetching_cabang),f(),b("ngIf",n.act_job!=null&&!n.fetching_person),f(),b("ngIf",n.act_person_obj!=null&&n.act_cabang!=null&&n.act_person_obj!=null))},dependencies:[Re,Q,Ne,me,ge,St,Et,$t,Fe,He],encapsulation:2})};var un=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(un||{}),X0=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=un.HIDDEN;constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},h5=Mi({passive:!0,capture:!0}),Q0=class{_events=new Map;addHandler(t,e,n,r){let o=this._events.get(e);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,h5)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,h5)))}_delegateEventHandler=t=>{let e=ot(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}},ca={enterDuration:225,exitDuration:150},t6=800,p5=Mi({passive:!0,capture:!0}),f5=["mousedown","touchstart"],m5=["mouseup","mouseleave","touchend","touchcancel"],n6=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return i})(),Oc=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Q0;constructor(t,e,n,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=lt(n)),o&&o.get(ln).load(n6)}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=k(k({},ca),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let s=n.radius||i6(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),m=p.transitionProperty,_=p.transitionDuration,v=m==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,x=new X0(this,d,n,v);d.style.transform="scale3d(1, 1, 1)",x.state=un.FADING_IN,n.persistent||(this._mostRecentTransientRipple=x);let E=null;return!v&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let F=()=>{E&&(E.fallbackTimer=null),clearTimeout(ne),this._finishRippleTransition(x)},re=()=>this._destroyRipple(x),ne=setTimeout(re,c+100);d.addEventListener("transitionend",F),d.addEventListener("transitioncancel",re),E={onTransitionEnd:F,onTransitionCancel:re,fallbackTimer:ne}}),this._activeRipples.set(x,E),(v||!c)&&this._finishRippleTransition(x),x}fadeOutRipple(t){if(t.state===un.FADING_OUT||t.state===un.HIDDEN)return;let e=t.element,n=k(k({},ca),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=un.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=lt(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,f5.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{m5.forEach(e=>{this._triggerElement.addEventListener(e,this,p5)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===un.FADING_IN?this._startFadeOutTransition(t):t.state===un.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=un.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=un.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=hr(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+t6;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!pr(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===un.VISIBLE||t.config.terminateOnPointerUp&&t.state===un.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(f5.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(m5.forEach(e=>t.removeEventListener(e,this,p5)),this._pointerUpEventsRegistered=!1))}};function i6(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var g5=new O("mat-ripple-global-options");var r6={capture:!0},o6=["focus","mousedown","mouseenter","touchstart"],eh="mat-ripple-loader-uninitialized",th="mat-ripple-loader-class-name",_5="mat-ripple-loader-centered",Nc="mat-ripple-loader-disabled",v5=(()=>{class i{_document=y(K);_animationMode=y(at,{optional:!0});_globalRippleOptions=y(g5,{optional:!0});_platform=y(ze);_ngZone=y(ie);_injector=y(Ae);_eventCleanups;_hosts=new Map;constructor(){let e=y(Ke).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>o6.map(n=>et(e,this._document,n,this._onInteraction,r6)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(eh,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(th))&&e.setAttribute(th,n.className||""),n.centered&&e.setAttribute(_5,""),n.disabled&&e.setAttribute(Nc,"")}setDisabled(e,n){let r=this._hosts.get(e);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):n?e.setAttribute(Nc,""):e.removeAttribute(Nc)}_onInteraction=e=>{let n=ot(e);if(n instanceof HTMLElement){let r=n.closest(`[${eh}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(th)),e.append(n);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=r?0:o?.animation?.enterDuration??ca.enterDuration,a=r?0:o?.animation?.exitDuration??ca.exitDuration,l={rippleDisabled:r||o?.disabled||e.hasAttribute(Nc),rippleConfig:{centered:e.hasAttribute(_5),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},c=new Oc(l,this._ngZone,n,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(eh)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var b5=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return i})();var s6=new O("MAT_BUTTON_CONFIG");var a6=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],y5=(()=>{class i{_elementRef=y(Y);_ngZone=y(ie);_animationMode=y(at,{optional:!0});_focusMonitor=y(Js);_rippleLoader=y(v5);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){y(ln).load(b5);let e=y(s6,{optional:!0}),n=this._elementRef.nativeElement,r=n.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of a6)n.hasAttribute(o)&&r.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ue],disabled:[2,"disabled","disabled",ue],ariaDisabled:[2,"aria-disabled","ariaDisabled",ue],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ue]}})}return i})();var l6=["mat-button",""],c6=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],d6=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var w5=(()=>{class i extends y5{static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275cmp=P({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(je("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Tt(r.color?"mat-"+r.color:""),we("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Je],attrs:l6,ngContentSelectors:d6,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(An(c6),w(0,"span",0),on(1),u(2,"span",1),on(3,1),h(),on(4,2),w(5,"span",2)(6,"span",3)),n&2&&we("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();var C5={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function u6(i,t){if(i&1){let e=$();u(0,"div",1)(1,"button",2),S("click",function(){M(e);let r=C();return A(r.action())}),g(2),h()()}if(i&2){let e=C();f(2),xe(" ",e.data.action," ")}}var h6=["label"];function p6(i,t){}var f6=Math.pow(2,31)-1,da=class{_overlayRef;instance;containerInstance;_afterDismissed=new B;_afterOpened=new B;_onAction=new B;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,f6))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},x5=new O("MatSnackBarData"),Mo=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},m6=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),g6=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),_6=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=z({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),v6=(()=>{class i{snackBarRef=y(da);data=y(x5);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){n&1&&(u(0,"div",0),g(1),h(),T(2,u6,3,1,"div",1)),n&2&&(f(),xe(" ",r.data.message,`
`),f(),pt(r.hasAction?2:-1))},dependencies:[w5,m6,g6,_6],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return i})(),nh="_mat-snack-bar-enter",ih="_mat-snack-bar-exit",b6=(()=>{class i extends yr{_ngZone=y(ie);_elementRef=y(Y);_changeDetectorRef=y(it);_platform=y(ze);_rendersRef;_animationsDisabled=y(at,{optional:!0})==="NoopAnimations";snackBarConfig=y(Mo);_document=y(K);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new B;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new B;_onExit=new B;_onEnter=new B;_animationState="void";_live;_label;_role;_liveElementId=y(gr).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=Za(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){e===ih?this._completeExit():e===nh&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(Kt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(nh)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(nh)},200)))}exit(){return this._destroyed?U(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(Kt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(ih)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(ih),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>e.classList.add(s)):e.classList.add(n)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,n=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(n&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(n&1&&(Be(cc,7),Be(h6,7)),n&2){let o;ce(o=de())&&(r._portalOutlet=o.first),ce(o=de())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,r){n&1&&S("animationend",function(s){return r.onAnimationEnd(s.animationName)})("animationcancel",function(s){return r.onAnimationEnd(s.animationName)}),n&2&&we("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[Je],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(u(0,"div",1)(1,"div",2,0)(3,"div",3),T(4,p6,0,0,"ng-template",4),h(),w(5,"div"),h()()),n&2&&(f(5),je("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[cc],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return i})();function y6(){return new Mo}var w6=new O("mat-snack-bar-default-options",{providedIn:"root",factory:y6}),ct=(()=>{class i{_overlay=y(Nn);_live=y(A0);_injector=y(Ae);_breakpointObserver=y(Xs);_parentSnackBar=y(i,{optional:!0,skipSelf:!0});_defaultConfig=y(w6);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=v6;snackBarContainerComponent=b6;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){let o=k(k({},this._defaultConfig),r);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=Ae.create({parent:r||this._injector,providers:[{provide:Mo,useValue:n}]}),s=new ni(this.snackBarContainerComponent,n.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=n,a.instance}_attach(e,n){let r=k(k(k({},new Mo),this._defaultConfig),n),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new da(s,o);if(e instanceof _e){let l=new br(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(l)}else{let l=this._createInjector(r,a),c=new ni(e,void 0,l),d=s.attachComponentPortal(c);a.instance=d.instance}return this._breakpointObserver.observe(C5.HandsetPortrait).pipe(Me(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let n=new So;n.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,a=!s&&e.horizontalPosition!=="center";return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(e,n){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Ae.create({parent:r||this._injector,providers:[{provide:da,useValue:n},{provide:x5,useValue:e.data}]})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Bn=class i{enc_str(t){try{return t=t.replaceAll("'","%27"),t=t.replaceAll('"',"%22"),t}catch{return""}}dec_str(t){try{return t=t.replaceAll("%27","'"),t=t.replaceAll("%22",'"'),t}catch{return""}}static \u0275fac=function(e){return new(e||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var C6=i=>({"bg-gray-300":i}),x6=i=>({"placeholder-opacity-100":i}),S6=(i,t)=>({"fill-[#159d42]":i,"fill-[#989898]":t}),E6=i=>({"bg-[#46b946]":i});function D6(i,t){i&1&&w(0,"app-c-loading-widget")}function M6(i,t){if(i&1&&(u(0,"option"),g(1),h()),i&2){let e=t.$implicit;f(),R(e)}}function A6(i,t){if(i&1&&(u(0,"option",76),g(1),h()),i&2){let e=t.$implicit;b("value",e.NAME_TYPE),f(),xe(" ",e.NAME_TYPE,"")}}function k6(i,t){if(i&1){let e=$();u(0,"tr",0)(1,"td",0)(2,"div",53),g(3),h()(),u(4,"td",54)(5,"input",55),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.KETERANGAN,r)||(o.KETERANGAN=r),A(r)}),h()(),u(6,"td",56)(7,"ng-select",57),S("change",function(r){let o=M(e).index,s=C();return A(s.on_rek_changed(r,o))}),h()(),u(8,"td")(9,"select",58),q("valueChange",function(r){let o=M(e).$implicit;return G(o.JENIS_PEMBIAYAAN,r)||(o.JENIS_PEMBIAYAAN=r),A(r)}),S("change",function(r){let o=M(e).index,s=C();return A(s.on_type_pengajuan_changed(r,o))}),T(10,A6,2,2,"option",59),h()(),u(11,"td",56)(12,"input",60),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.HARGA_SATUAN,r)||(o.HARGA_SATUAN=r),A(r)}),S("input",function(){let r=M(e).index,o=C();return A(o.getTotalHarga(r))}),h()(),u(13,"td",56)(14,"input",61),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.QTY,r)||(o.QTY=r),A(r)}),S("input",function(){let r=M(e).index,o=C();return A(o.getTotalHarga(r))}),h()(),u(15,"td")(16,"div",62)(17,"div",63)(18,"input",64),S("click",function(r){let o=M(e).index,s=C();return A(s.isPPN_clicked(r,o))}),h(),w(19,"div",65),u(20,"div",66)(21,"input",67),S("input",function(){let r=M(e).index,o=C();return A(o.getTotalHarga(r))}),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.PPN,r)||(o.PPN=r),A(r)}),h(),u(22,"div",68)(23,"p"),g(24,"%"),h()()()()()(),u(25,"td")(26,"div",62)(27,"div",63)(28,"input",64),S("click",function(r){let o=M(e).index,s=C();return A(s.isPPH_clicked(r,o))}),h(),w(29,"div",65),u(30,"div",66)(31,"input",67),S("input",function(){let r=M(e).index,o=C();return A(o.getTotalHarga(r))}),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.PPH,r)||(o.PPH=r),A(r)}),h(),u(32,"div",68)(33,"p"),g(34,"%"),h()()()()()(),u(35,"td",56)(36,"input",69),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.TOTAL_HARGA,r)||(o.TOTAL_HARGA=r),A(r)}),S("change",function(){M(e);let r=C();return A(r.getTotal())}),h()(),u(37,"td",54)(38,"button",70),ee(),u(39,"svg",71),S("click",function(){let r=M(e).index,o=C();return A(o.lockThis(r))}),w(40,"path",72),h()()(),Ce(),u(41,"td",54)(42,"button",73),S("click",function(){let r=M(e).index,o=C();return A(o.removeItem(r))}),ee(),u(43,"svg",74),w(44,"path",75),h()()()()}if(i&2){let e=t.$implicit,n=t.index,r=C();f(3),R(n+1),f(2),W("ngModel",e.KETERANGAN),f(2),b("items",r.arr_rek_data),f(2),W("value",e.JENIS_PEMBIAYAAN),f(),b("ngForOf",r.arr_request_type),f(2),W("ngModel",e.HARGA_SATUAN),b("value",e.HARGA_SATUAN),f(2),W("ngModel",e.QTY),b("value",e.QTY),f(7),b("disabled",e.FLAG_PPN=="N"),W("ngModel",e.PPN),f(10),b("disabled",e.FLAG_PPH=="N"),W("ngModel",e.PPH),f(5),b("disabled",e.bind_calc==!0),W("ngModel",e.TOTAL_HARGA),b("value",e.TOTAL_HARGA),f(2),b("ngClass",Ze(17,S6,e.bind_calc==!0,e.bind_calc==!1))}}function T6(i,t){if(i&1){let e=$();u(0,"div",77)(1,"p"),g(2),h(),w(3,"div",78)(4,"div",65),ee(),u(5,"svg",79),S("click",function(){M(e);let r=C();return A(r.clear_file())}),w(6,"path",80),h()()}if(i&2){let e=C();f(2),R(e.act_file.file_name)}}function I6(i,t){if(i&1){let e=$();u(0,"div",81),w(1,"div",82),u(2,"app-c-approval-item",83),q("itemDataChange",function(r){let o=M(e).index,s=C();return G(s.items_kom_approve[o],r)||(s.items_kom_approve[o]=r),A(r)}),S("deleteThis",function(r){M(e);let o=C();return A(o.remove_appr_person(r))}),h()()}if(i&2){let e=t.index,n=C();f(),b("ngClass",ve(4,E6,e+1==n.items_kom_approve.length)),f(),W("itemData",n.items_kom_approve[e]),b("itemIndex",e)("total_i",n.items_kom_approve.length)}}var ua=class i{constructor(t,e,n,r){this.http=t;this.snackbar=e;this.router=n;this.repValid=r}arr_rek_data=[];arr_request_type=[{NAME_TYPE:""}];act_pengajuan=this.arr_request_type[0].NAME_TYPE;arr_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];act_divisi={EMPL_JOB:null,EMPL_JOB_NAME:null};act_file={file_name:"",file_base64:""};arr_tipe_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];arr_files=[];items_default=[{KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:"0",FLAG_PPN:"N",PPN:0,FLAG_PPH:"N",PPH:0,TOTAL_HARGA:0,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,NO_REK:null,NAMA_REK:null,BANK_NAME:null,unf_rek:null,FILE_NAME:"",FILE_:"",bind_calc:!1}];items=[{KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:"0",FLAG_PPN:"N",PPN:0,FLAG_PPH:"N",PPH:0,TOTAL_HARGA:0,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,NO_REK:null,NAMA_REK:null,BANK_NAME:null,unf_rek:null,FILE_NAME:"",FILE_:"",bind_calc:!1}];arr_kom_type=[{POSISION:"APPROVE"},{POSISION:"CEK"}];items_kom_approve=[{EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null}];arr_office=[{office_name:"Grogol",office_code:"903"},{office_name:"Depok",office_code:"904"},{office_name:"Jakpus",office_code:"911"},{office_name:"Cikupa",office_code:"929"}];arr_tipe_pengajuan=["FPPU"];str_info_pengajuan="";act_office=this.arr_office[0].office_code;is_fetching=!1;base64_sig_data=null;user_cabang;act_tipe_pengajuan="";ngOnInit(){this.initLoad()}init_fetch(){}addItem(){this.items.push({KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:"0",FLAG_PPN:"N",PPN:0,FLAG_PPH:"N",PPH:0,TOTAL_HARGA:0,unf_rek:null,NO_REK:null,NAMA_REK:null,BANK_NAME:null,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,FILE_NAME:"",FILE_:"",bind_calc:!0}),console.log(this.items)}removeItem(t){this.items.splice(t,1)}bankChanged(t){let e=t.target.value,n=t.target.text}addKomite(){this.items_kom_approve.push({EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null})}removeKomite(t){this.items_kom_approve.splice(t,1)}get_kom_appr_detail(t){let e=t.target.value}trackByFn(t,e){return e.LVL}swapOrder(t,e){let n=this.items_kom_approve[t].LVL;this.items_kom_approve[t].LVL=this.items_kom_approve[e].LVL,this.items_kom_approve[e].LVL=n}drop(t){Do(this.items_kom_approve,t.previousIndex,t.currentIndex)}initLoad(){return N(this,null,function*(){this.get_rekening(),this.get_request_type(),this.act_tipe_pengajuan=this.arr_tipe_pengajuan[0],this.setInit()})}get_rekening(){return N(this,null,function*(){let t={data:"test"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_rekening",{params:t}));this.arr_rek_data=e.data})}get_request_type(){return N(this,null,function*(){let t={data:"test"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_request_type",{params:t}));this.arr_request_type=e.data})}setInit(){this.items=[],this.act_divisi={EMPL_JOB:Ie().EMPL_JOB,EMPL_JOB_NAME:Ie().JOB_DESCRIPTION},this.user_cabang=Ie().NAME_FULL}on_rek_changed(t,e){let n=t,r=this.items[e];n?r.unf_rek=n.toString():r.unf_rek=null,console.log(this.items)}isPPN_clicked(t,e){let n=this.items[e],r=t.target.checked;console.log(r),r?(n.FLAG_PPN="Y",n.PPN=0):(n.FLAG_PPN="N",n.PPN=0),this.getTotalHarga(e),console.log(n)}isPPH_clicked(t,e){let n=this.items[e];t.target.checked?(n.FLAG_PPH="Y",n.PPH=0):(n.FLAG_PPH="N",n.PPH=0),this.getTotalHarga(e),console.log(n)}on_type_pengajuan_changed(t,e){let r=t.target.value;console.log(r),this.items[e].JENIS_PEMBIAYAAN=r,console.log(this.items[e])}on_pajak_changed(t,e){var n=t.target.value;this.items[e].PAJAK_TYPE=n,this.items[e].PAJAK_AMOUNT="0",this.getTotalHarga(e)}remove_appr_person(t){this.items_kom_approve.splice(t,1)}lockThis(t){console.log(t),this.items[t].bind_calc=!this.items[t].bind_calc,this.items[t].bind_calc?this.getTotalHarga(t):this.items[t].TOTAL_HARGA=0}change_sig_data(t){this.base64_sig_data=t}chooseFile(t,e){let r=t.target.parentElement?.querySelector(".inputFile");var o=document.createElement("input");o.setAttribute("type","file"),o.click(),o.onchange=s=>{let a=s.target.files;if(a){let l=a[0];this.items[e].FILE_NAME=a[0].name;let c=new FileReader;c.onload=()=>{let d=c.result;this.items[e].FILE_=d},c.readAsDataURL(l)}}}chooseFile_v2(t){let n=t.target.parentElement?.querySelector(".inputFile");var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".pdf"),r.click(),r.onchange=o=>{let s=o.target.files;if(s){let a=s[0],l=new FileReader;l.onload=()=>{let c=l.result;this.act_file={file_name:s[0].name,file_base64:c},this.items.forEach(d=>{d.FILE_NAME=s[0].name})},l.readAsDataURL(a)}}}clear_file(){this.act_file.file_base64="",this.act_file.file_name=""}rm_file(t){this.items[t].FILE_="",this.items[t].FILE_NAME=""}notif_str="";filter_kom_approve(){let t=[...this.items_kom_approve];console.log(t);let e=1;for(let n of t)n.LVL=e,e++;return t}allow_send_pengajuan(){if(console.log("allow_send_pengajuan"),this.act_tipe_pengajuan=="FPPU"){if(this.items.length==0)return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;for(let t of this.items){if(t.KETERANGAN==""||t.HARGA_SATUAN==0||t.QTY==0||t.unf_rek=="")return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;if(t.FLAG_PPN=="Y"&&Number(t.PPN)<=0||t.FLAG_PPH=="Y"&&Number(t.PPH)<=0)return this.snackbar.open("Cek kembali pengisian pajak pada pengajuan.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1}}else for(let t of this.items){if(t.KETERANGAN==""||t.HARGA_SATUAN==0||t.QTY==0)return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;if(t.FLAG_PPN=="Y"&&Number(t.PPN)<=0||t.FLAG_PPH=="Y"&&Number(t.PPH)<=0)return this.snackbar.open("Cek kembali pengisian pajak pada pengajuan.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1}for(let t of this.items_kom_approve)if(t.EMPL_CODE==null)return this.snackbar.open("Silahkan cek kembali komite approval.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;for(let t of this.items_kom_approve){let e=0;for(let n of this.items_kom_approve)t.EMPL_CODE==n.EMPL_CODE&&(e+=1);if(console.log(e),e>1)return this.snackbar.open("Tidak boleh ada duplikat di komite approval.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1}return!0}filter_rek(){this.act_tipe_pengajuan=="FPPU"&&this.items.forEach(t=>{let n=t.unf_rek?.split(" - ");t.NO_REK=n[3].toString(),t.BANK_NAME=n[0].toString(),t.NAMA_REK=n[1].toString()})}filter_file(){this.act_file.file_name==""&&(this.act_file={file_name:"",file_base64:""},this.items.forEach(t=>{t.FILE_NAME=""}))}savePengajuan(){return N(this,null,function*(){this.is_fetching=!0;let t;if(!this.allow_send_pengajuan())return this.is_fetching=!1,!1;var e=this.filter_kom_approve();this.filter_rek(),this.filter_file(),console.log(this.items);try{let n={user_data:{empl_code:Ri(),office_code:this.act_office,pengajuan_type:this.repValid.enc_str(this.str_info_pengajuan),selected_file:this.act_file,base64_sig_data:this.base64_sig_data},data:{pengajuan:this.items,komite_approve:e},file_data:this.act_file};if(console.log(n.data),t=yield X(this.http.post(J.env_dev.host+"/api-eappr/new_pengajuan",n)),t.status!=200)return this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_failed"]}),this.is_fetching=!1,!1;this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_success"]})}catch(n){console.log(n)}return yield this.redirect_to_latest_pengajuan(),this.is_fetching=!1,!0})}getTotal(){let t=0;for(var e of this.items)t=t+Number(e.TOTAL_HARGA);return t}getTotalHarga(t){if(console.log(t),this.items[t].bind_calc){let e=this.items[t],n=e.QTY,r=e.HARGA_SATUAN,o=n*r,s=0;e.PPN!=null,s=Number(e.PPN)/100*o;let a=0;e.PPH!=null,a=Number(e.PPH)/100*o,e.TOTAL_HARGA=o+s-a}}redirect_to_latest_pengajuan(){return N(this,null,function*(){console.log(`
 ======= redirect_to_latest_pengajuan() ======= 
`),this.router.navigate(["info-pengajuan"])})}debug_(){console.log()}static \u0275fac=function(e){return new(e||i)(D(Ee),D(ct),D(pe),D(Bn))};static \u0275cmp=P({type:i,selectors:[["app-h-item-pengajuan"]],decls:102,vars:20,consts:[[1,""],[4,"ngIf"],[1,"flex","flex-row","items-center","text-base"],[1,"mb-2","text-[#282828]"],[1,"mb-2","font-medium","tracking-wider","border-2","border-[#c1c1c1]","rounded-md","p-1","w-fit","px-2"],[1,"mx-8","w-[2px]","h-20","bg-[#c1c1c1]"],[1,"pb-8"],[1,"p-4","rounded-md","border-[1px]","border-[#ccc]","w-fit"],[1,"flex","items-center"],[1,"text-[#282828]","w-40"],[1,"mx-2"],["placeholder","Judul Info Pengajuan","type","text",1,"p-1.5","w-[40vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"py-1"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-fit","p-1.5","tracking-wider",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"border","border-gray-300","w-full","rounded-md","overflow-hidden","overflow-x-hidden","flex","flex-col","items-center"],[1,"bg-gray-100","w-full"],[1,"text-xl","py-2","pl-3","tracking-wide"],[1,"w-[79vw]","overflow-y-auto","h-[50vh]","pb-2","border-b-2","text-xs"],[1,"w-[98%]","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[140px]","border-slate-500","font-medium"],[1,"w-20","border-slate-500","font-medium"],[1,"w-[60px]","border-slate-500","font-medium"],[1,"w-[10%]","border-slate-500","font-medium"],[1,"w-[100px]","border-slate-500","font-medium"],[1,"w-[25px]","border-slate-500","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","items-center","px-4","w-full"],[1,"p-2","my-4","bg-blue-500","text-white","rounded-md",3,"click"],[1,"w-60","justify-between","flex","flex-row"],[1,"py-8"],[1,"text-2xl","mb-4"],[1,"flex"],[1,"w-fit","flex","flex-row","items-center","rounded-md","border","p-2","bg-gray-200","hover:bg-gray-100","transition-all","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 256 256",1,"fill-black","p-1"],["d","M209.66,122.34a8,8,0,0,1,0,11.32l-82.05,82a56,56,0,0,1-79.2-79.21L147.67,35.73a40,40,0,1,1,56.61,56.55L105,193A24,24,0,1,1,71,159L154.3,74.38A8,8,0,1,1,165.7,85.6L82.39,170.31a8,8,0,1,0,11.27,11.36L192.93,81A24,24,0,1,0,159,47L59.76,147.68a40,40,0,1,0,56.53,56.62l82.06-82A8,8,0,0,1,209.66,122.34Z"],[1,"ml-1","mr-1","text-nowrap"],[1,"px-2"],["class","border-[#b8b8b8] border-2 text-[#848484]  p-1 px-2 w-fit rounded-md text-center flex justify-center items-center",4,"ngIf"],[1,"text-sm","mt-2","text-[#777]"],[1,"text-2xl","mb-4","tracking-wide"],[1,"w-full","border","rounded-md","text-sm"],["cdkDropList","",1,"w-full","h-[400px]","overflow-y-scroll","p-2","text-sm",3,"cdkDropListDropped"],["class"," w-fit border border-[#0003] rounded-md m-1 mb-2 relative overflow-hidden flex flex-row items-center","cdkDrag","",4,"ngFor","ngForOf"],[1,"border-t-2","p-2","flex","flex-row","items-center"],[1,"bg-[#46b946]","w-4","h-4","border","rounded-full"],[1,"ml-2"],[1,"flex","flex-row","my-4","items-center"],[1,"w-fit","p-2","bg-green-600","text-[20px]","text-white","rounded-md","transition-all",3,"click","ngClass"],[3,"ngClass"],[1,"ml-4","h-6","text-lg","text-[#d42929]"],[1,"flex","py-4","justify-center"],[1,"border-separate","border-slate-500"],["placeholder","Keterangan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"border-separate","px-2","border-slate-500"],[3,"change","items"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","tracking-wider",3,"valueChange","change","value"],["class","tracking-wider",3,"value",4,"ngFor","ngForOf"],["placeholder","Harga Satuan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],["placeholder","Quantity","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],[1,"flex","flex-row","items-center","justify-center"],[1,"rounded-md","border-2","flex","flex-row","items-center"],["type","checkbox",1,"w-4","h-4","ml-2",3,"click"],[1,"px-1"],[1,"w-20","flex","flex-row","items-center","tracking-wide","rounded-md","border-gray-200","border-l-2","focus:ring-0","outline-blue-200","transition-all","overflow-hidden"],["type","number",1,"p-2","pr-0","w-full","focus:ring-0","outline-none",3,"input","ngModelChange","disabled","ngModel"],[1,"p-2","bg-[#eee]"],["type","number",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","change","disabled","ngModel","value"],[1,"flex","justify-center","items-center",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",3,"click"],["d","M80,120h96a8,8,0,0,0,8-8V64a8,8,0,0,0-8-8H80a8,8,0,0,0-8,8v48A8,8,0,0,0,80,120Zm8-48h80v32H88ZM200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24Zm0,192H56V40H200ZM100,148a12,12,0,1,1-12-12A12,12,0,0,1,100,148Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,140,148Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,180,148Zm-80,40a12,12,0,1,1-12-12A12,12,0,0,1,100,188Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,140,188Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,180,188Z"],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"tracking-wider",3,"value"],[1,"border-[#b8b8b8]","border-2","text-[#848484]","p-1","px-2","w-fit","rounded-md","text-center","flex","justify-center","items-center"],[1,"px-[1px]"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 256 256",1,"fill-[#d34b4b]","cursor-pointer","hover:fill-[#fff]","hover:bg-[#d34b4b]","rounded-full","transition-all",3,"click"],["d","M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"],["cdkDrag","",1,"w-fit","border","border-[#0003]","rounded-md","m-1","mb-2","relative","overflow-hidden","flex","flex-row","items-center"],[1,"w-4","h-10","rounded-tr-md","rounded-br-md",3,"ngClass"],[1,"flex","items-center","w-fit","cursor-move","rounded-md",3,"itemDataChange","deleteThis","itemData","itemIndex","total_i"]],template:function(e,n){e&1&&(u(0,"div",0),T(1,D6,1,0,"app-c-loading-widget",1),u(2,"div",2)(3,"div",0)(4,"p",3),g(5,"Divisi"),h(),u(6,"p",4),g(7),h()(),w(8,"div",5),u(9,"div",0)(10,"p",3),g(11,"Cabang / Outlet"),h(),u(12,"p",4),g(13),h()()(),w(14,"div",6),u(15,"div",7)(16,"div",8)(17,"p",9),g(18,"Judul Info Pengajuan : "),h(),w(19,"div",10),u(20,"input",11),q("ngModelChange",function(o){return G(n.str_info_pengajuan,o)||(n.str_info_pengajuan=o),o}),h()(),w(21,"div",12),u(22,"div",8)(23,"p",9),g(24,"Tipe Pengajuan : "),h(),w(25,"div",10),u(26,"select",13),q("ngModelChange",function(o){return G(n.act_tipe_pengajuan,o)||(n.act_tipe_pengajuan=o),o}),T(27,M6,2,1,"option",14),h()()(),w(28,"div",6),u(29,"div",15)(30,"div",16)(31,"p",17),g(32,"Pengajuan"),h()(),u(33,"div",18)(34,"table",19)(35,"thead",0)(36,"tr")(37,"th",20),g(38,"No"),h(),u(39,"th",21),g(40,"Keterangan"),h(),u(41,"th",21),g(42,"Bank"),h(),u(43,"th",21),g(44,"Jenis Transaksi"),h(),u(45,"th",22),g(46,"Harga Satuan"),h(),u(47,"th",23),g(48,"Quantity"),h(),u(49,"th",24),g(50,"PPN"),h(),u(51,"th",24),g(52,"PPH"),h(),u(53,"th",25),g(54,"Total Harga"),h(),w(55,"th",26)(56,"th",26),h()(),u(57,"tbody",27),T(58,k6,45,20,"tr",28),h()()(),u(59,"div",29)(60,"button",30),S("click",function(){return n.addItem()}),g(61,"Add Item"),h(),u(62,"div",31)(63,"p"),g(64,"Total :"),h(),u(65,"p",0),g(66),be(67,"number"),h()()()(),u(68,"div",32)(69,"p",33),g(70,"Attachment"),h(),u(71,"div",34)(72,"div",35),S("click",function(o){return n.chooseFile_v2(o)}),ee(),u(73,"svg",36),w(74,"path",37),h(),Ce(),u(75,"p",38),g(76,"Upload PDF"),h()(),w(77,"div",39),T(78,T6,7,1,"div",40),h(),u(79,"p",41),g(80,"File yang di upload adalah file .pdf."),h()(),u(81,"div")(82,"div",0)(83,"p",42),g(84,"Pilih Committee Approve"),h()(),u(85,"div",43)(86,"div",44),S("cdkDropListDropped",function(o){return n.drop(o)}),T(87,I6,3,6,"div",45),h(),u(88,"div",46),w(89,"div",47),u(90,"p",48),g(91," : Final Approve"),h()()(),u(92,"div",0)(93,"button",30),S("click",function(){return n.addKomite()}),g(94,"Add Komite"),h()()(),u(95,"div",49)(96,"button",50),S("click",function(){return n.savePengajuan()}),u(97,"P",51),g(98,"Buat Pengajuan"),h(),w(99,"div"),h(),u(100,"p",52),g(101),h()()()),e&2&&(f(),b("ngIf",n.is_fetching),f(6),xe(" ",n.act_divisi.EMPL_JOB_NAME,""),f(6),xe(" ",n.user_cabang,""),f(7),W("ngModel",n.str_info_pengajuan),f(6),W("ngModel",n.act_tipe_pengajuan),f(),b("ngForOf",n.arr_tipe_pengajuan),f(31),b("ngForOf",n.items),f(8),R(ls(67,13,n.getTotal(),"2.")),f(12),b("ngIf",n.act_file.file_name!=""),f(9),b("ngForOf",n.items_kom_approve),f(9),b("ngClass",ve(16,C6,n.is_fetching===!0)),f(),b("ngClass",ve(18,x6,n.is_fetching===!0)),f(4),R(n.notif_str))},dependencies:[ge,St,Et,Ve,ti,$t,Fe,He,Q,Se,Ne,me,ps,e5,Qg,Re,Rc,kc,Ln,Pc],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{transition:all;background-color:#fff;border-color:#949494;box-sizing:border-box;border-radius:4px;box-shadow:0 0 10px -3px #0003}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})};var ha=class i{fillData;arr_pengajuan_type=[{pengajuan_name:"Biaya Operasional"},{pengajuan_name:"Biaya Pembelian Materai"},{pengajuan_name:"Biaya Token Listrik"},{pengajuan_name:"MI Persetujuan Klaim Asuransi"},{pengajuan_name:"MI Pengembalian Klaim Asuransi"},{pengajuan_name:"Pengajuan Penjualan UTN"},{pengajuan_name:"Pengajuan Persetujuan Sewa Ruko"}];act_pengajuan_type=this.arr_pengajuan_type[0].pengajuan_name;arr_cabang=[{office_name:"Depok",office_code:"904"},{office_name:"Grogol",office_code:"903"},{office_name:"Jakpus",office_code:"911"}];act_cabang=this.arr_cabang[0].office_code;deb(){console.log([this.fillData.items,this.fillData.items_kom_approve]),console.log(this.fillData.items_kom_approve)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-p-new-approval"]],viewQuery:function(e,n){if(e&1&&Be(ua,5),e&2){let r;ce(r=de())&&(n.fillData=r.first)}},decls:8,vars:0,consts:[[1,"mom","px-4"],[1,"w-fit","text-3xl","bg-white","rounded-md","flex","mb-4"],[1,"mom_c","bg-white","rounded-md"],[1,"py-4"],[1,"flex","flex-col","py-4"],[1,"h-[400px]"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),g(2," Pengajuan MI/FPPU "),h(),u(3,"div",2)(4,"div",3)(5,"div",4),w(6,"app-h-item-pengajuan"),h(),w(7,"div",5),h()()())},dependencies:[ua,Q,ge],encapsulation:2})};var pa=class i{constructor(t){this.router=t}canActivateChild(){return!localStorage.getItem("user_dtl")?(this.router.navigate(["/login"]),!1):!0}canActivate(){return localStorage.getItem("user_dtl")?(this.router.navigate(["/home"]),!1):!0}static \u0275fac=function(e){return new(e||i)(H(pe))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var P6=(i,t)=>({"bg-gray-300":i,"cursor-not-allowed":t});function R6(i,t){if(i&1&&(u(0,"div",13)(1,"p"),g(2),h()()),i&2){let e=C();f(2),R(e.resp_login)}}var Lc=class i{constructor(t,e,n){this.router=t;this.http=e;this.repUser=n}snackbar;fetching=!1;usn="";pwd="";resp_login="";user_dtl={};login(){return N(this,null,function*(){if(!this.fetching){this.fetching=!0,this.resp_login="";let e={pwd:this.pwd.toString(),usn:this.usn.toString()};var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/login_main",{params:e}));console.log(t),t.isSuccess!=!0?(this.resp_login=t.message,this.fetching=!1):(yield this.account_setup(t),this.repUser.set_user_dtl(),this.router.navigate(["/home"]),this.fetching=!1),this.fetching=!1}})}account_setup(t){return N(this,null,function*(){console.log(t),localStorage.setItem("user_dtl",JSON.stringify(t)),localStorage.setItem("q_paging","1"),localStorage.setItem("act_request_id","")})}getMenu(){return N(this,null,function*(){try{let t={user_dtl:Ie()};return yield X(this.http.post(J.env_dev.host+"/api-eappr/get_menu",t))}catch(t){console.log(t)}})}static \u0275fac=function(e){return new(e||i)(D(pe),D(Ee),D(dn))};static \u0275cmp=P({type:i,selectors:[["app-p-login"]],decls:22,vars:7,consts:[[1,"w-screen","h-screen","flex","items-center","justify-center"],[1,"sm:w-[26vw]","w-[80vw]","p-4","rounded-md","border-2","border-[#917b0075]","flex","flex-col","items-center"],[1,"w-full","flex","items-center","justify-center","py-4"],[1,"flex","flex-row","items-center","justify-center"],["src","assets/img/w_nav_logo_small.png",1,"w-10"],[1,"ml-4","text-nowrap","text-3xl","tracking-wide"],[1,"py-2"],[1,"flex","flex-col","w-full"],[1,"mb-2"],["type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","keydown.enter","ngModel"],["type","password",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","keydown.enter","ngModel"],[1,"p-2","px-6","text-white","font-medium","rounded-full","bg-[#917C00]",3,"click","ngClass"],["class","mt-2 text-[#ab4444]",4,"ngIf"],[1,"mt-2","text-[#ab4444]"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"img",4),u(5,"p",5),g(6,"E-Approval"),h()()(),w(7,"div",6),u(8,"div",7)(9,"p",8),g(10,"Username"),h(),u(11,"input",9),q("ngModelChange",function(o){return G(n.usn,o)||(n.usn=o),o}),S("keydown.enter",function(){return n.login()}),h()(),w(12,"div",6),u(13,"div",7)(14,"p",8),g(15,"Password"),h(),u(16,"input",10),q("ngModelChange",function(o){return G(n.pwd,o)||(n.pwd=o),o}),S("keydown.enter",function(){return n.login()}),h()(),w(17,"div",6),u(18,"div")(19,"button",11),S("click",function(){return n.login()}),g(20," Login "),h()(),T(21,R6,3,1,"div",12),h()()),e&2&&(f(11),W("ngModel",n.usn),f(5),W("ngModel",n.pwd),f(3),b("ngClass",Ze(4,P6,n.fetching==!0,n.fetching==!0)),f(2),b("ngIf",n.resp_login!=""))},dependencies:[Q,Se,me,ge,Ve,Fe,He,Re],encapsulation:2})};var Vn=class i{size=70;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-c-loading-spin"]],inputs:{size:"size"},decls:2,vars:1,consts:[["mode","indeterminate",3,"diameter"]],template:function(e,n){e&1&&(u(0,"div"),w(1,"mat-progress-spinner",0),h()),e&2&&(f(),b("diameter",n.size))},dependencies:[Ic,Tc],encapsulation:2})};var O6=i=>({"text-green-600":i});function N6(i,t){if(i&1&&(u(0,"option"),g(1),h()),i&2){let e=t.$implicit;f(),R(e.string)}}function F6(i,t){i&1&&(u(0,"th",41),g(1," STATUS "),h())}function L6(i,t){if(i&1&&(u(0,"td",44)(1,"div",53),g(2),h()()),i&2){let e=C().$implicit;f(),b("ngClass",ve(2,O6,e.STATUS=="AP")),f(),xe(" ",e.STATUS," ")}}function B6(i,t){if(i&1){let e=$();u(0,"tr",42)(1,"td",43),g(2),h(),u(3,"td",44),g(4),h(),u(5,"td",45),g(6),h(),u(7,"td",46),g(8),h(),T(9,L6,3,4,"td",47),u(10,"td",45),g(11),h(),u(12,"td",48)(13,"button",49),S("click",function(){let r=M(e).$implicit,o=C(2);return A(o.go_to_detail(r.REQUEST_ID))}),ee(),u(14,"svg",50),w(15,"path",51),h(),Ce(),u(16,"p",52),g(17," Detail "),h()()()()}if(i&2){let e=t.$implicit,n=t.index,r=C(2);f(2),R(n+1),f(2),R(e.REQUEST_ID),f(2),R(e.NAME_FULL),f(2),R(r.dec_str(e.KATEGORI_REQUEST)),f(),b("ngIf",r.q_page_code!=1),f(2),R(r.give_date(e.CREATED_DATE))}}function V6(i,t){if(i&1){let e=$();u(0,"div",54)(1,"Button",55),S("click",function(){M(e);let r=C(2);return A(r.get_tableData())}),u(2,"p",14),g(3,"Refresh"),h(),w(4,"div",15),ee(),u(5,"svg",16),w(6,"path",17),h()()()}}function H6(i,t){i&1&&(u(0,"div",54),g(1," No Data "),h())}function j6(i,t){if(i&1){let e=$();u(0,"div",21)(1,"table",22)(2,"thead",23)(3,"tr",24)(4,"th",25),g(5,"NO"),h(),u(6,"th",26),g(7,"REQUEST ID"),h(),u(8,"th",27),g(9,"CABANG"),h(),u(10,"th",28),g(11,"KATEGORI REQUEST"),h(),T(12,F6,2,0,"th",29),u(13,"th",30),g(14,"TANGGAL DIBUAT"),h(),u(15,"th",31),g(16,"ACTION"),h()()(),u(17,"tbody",32),T(18,B6,18,6,"tr",33),h()(),T(19,V6,7,0,"div",34)(20,H6,2,0,"div",34),u(21,"div",35)(22,"button",36),S("click",function(){M(e);let r=C();return A(r.pgDown())}),ee(),u(23,"svg",37),w(24,"path",38),h()(),Ce(),u(25,"input",39),S("keydown.enter",function(r){M(e);let o=C();return A(o.onPageChangeEnter(r))}),h(),u(26,"button",36),S("click",function(){M(e);let r=C();return A(r.pgUp())}),ee(),u(27,"svg",37),w(28,"path",40),h()()()()}if(i&2){let e=C();f(12),b("ngIf",e.q_page_code!=1),f(6),b("ngForOf",e.tableData),f(),b("ngIf",e.first_load==0&&e.first_load==0),f(),b("ngIf",e.tableData.length==0&&e.first_load!=0),f(5),b("value",e.act_page)}}function Z6(i,t){i&1&&(u(0,"div",56),w(1,"app-c-loading-spin"),h())}var Oi=class i{constructor(t,e,n){this.http=t;this.route=e;this.repValid=n}fetching_tableData=!0;first_load=0;q_search="";q_filter="All";q_page_code=0;tableData=[];act_page=localStorage.getItem("q_paging")!=null?parseInt(localStorage.getItem("q_paging")):0;arr_lov_filter=[{string:"All",code:"All"},{string:"On Process",code:"OP"},{string:"Finished",code:"AP"},{string:"Rejected",code:"RJ"}];ngOnInit(){this.initLoad()}initLoad(){return N(this,null,function*(){this.fetching_tableData=!1,this.q_filter=this.arr_lov_filter[0].code,this.pageDetect()})}pageDetect(){console.log(`
 =========== pageDetect() ========== 
`);let t=this.route.url;t=="/cek-pengajuan"?this.q_page_code=2:t=="/approve-pengajuan"?this.q_page_code=1:t=="/info-pengajuan"&&(this.q_page_code=0),console.log(t)}get_tableData(){return N(this,null,function*(){this.fetching_tableData=!0;try{let e={q_page:this.act_page,q_search:this.q_search,q_filter:this.q_filter,user_dtl:JSON.stringify(Ie())};if(this.q_page_code==0){var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data",{params:e}));console.log(t.data),this.tableData=t.data}else if(this.q_page_code==1){var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data_approval",{params:e}));console.log(t.data),this.tableData=t.data}else if(this.q_page_code==2){var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data_histori",{params:e}));console.log(t.data),this.tableData=t.data}}catch(e){console.log(e)}this.first_load=1,this.fetching_tableData=!1})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}onPageChangeEnter(t){let e=t.target.value;parseInt(e)>0&&(this.act_page=parseInt(e),localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}go_to_detail(t){localStorage.setItem("act_request_id",t),this.route.navigate(["request-dtl"],{queryParams:{id:t}}),console.log(t)}on_filter_change(t){let e=t.target.value;console.log(e);let n=0;for(let r=0;r<this.arr_lov_filter.length;r++){let o=this.arr_lov_filter[r].string;if(e==o){n=r;break}}this.q_filter=this.arr_lov_filter[n].code,this.get_tableData()}give_date(t){let e=t.replace(" ",`
`);return t}dec_str(t){return this.repValid.dec_str(t)}static \u0275fac=function(e){return new(e||i)(D(Ee),D(pe),D(Bn))};static \u0275cmp=P({type:i,selectors:[["app-c-pengajuan-table"]],decls:25,vars:4,consts:[[1,"overflow-x-auto","overflow-y-hidden","w-full"],[1,"flex","flex-col","items-center","sm:flex-row","sm:space-y-0","space-y-1"],[1,"rounded-full","sm:w-[30vw]","w-full","border","border-gray-400","p-1","flex","flex-row","justify-between","items-center"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","grow",3,"ngModelChange","keyup.enter","ngModel"],[1,"mx-1"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],[1,"flex","flex-row","items-center","w-full","sm:w-[80vw]"],[1,"bg-gray-50","text-sm","border","border-gray-300","text-gray-900","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-fit","p-2","tracking-wider",3,"change"],[4,"ngFor","ngForOf"],[1,"p-1","h-fit","bg-[#252525]","hover:bg-[#333]","fill-white","rounded-md","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-1","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[0.6px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[2px]"],["d","M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"],[1,"my-4"],["class"," border rounded-md h-[550px] flex flex-col justify-between overflow-y-auto",4,"ngIf"],["class","w-full h-[60vh] flex items-center justify-center",4,"ngIf"],[1,"border","rounded-md","h-[550px]","flex","flex-col","justify-between","overflow-y-auto"],[1,"sm:w-full","w-fit","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,""],[1,"w-[30px]","border-x","border-b","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[140px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[130px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[150px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],["class","w-[80px] border-x border-b border-gray-200 font-medium pl-2 py-4",4,"ngIf"],[1,"w-[160px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[80px]","border-x","border-b","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"border-separate","pt-10","text-xs"],["class","h-8 flex-grow-0 odd:bg-gray-100 ",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[360px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"keydown.enter","value"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"w-[80px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"h-8","flex-grow-0","odd:bg-gray-100"],[1,"text-center","border","border-l-0"],[1,"text-center","border"],[1,"text-center","border","py-2"],[1,"text-start","border","px-2"],["class","text-center border",4,"ngIf"],[1,"text-center","border","border-r-0","py-2"],[1,"mx-2","p-2","rounded-md","py-1","pb-[5px]","text-sm","bg-[#303030]","fill-white","text-white","flex","flex-row",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 256 256"],["d","M88,96a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H96A8,8,0,0,1,88,96Zm8,40h64a8,8,0,0,0,0-16H96a8,8,0,0,0,0,16Zm32,16H96a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16ZM224,48V156.69A15.86,15.86,0,0,1,219.31,168L168,219.31A15.86,15.86,0,0,1,156.69,224H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48ZM48,208H152V160a8,8,0,0,1,8-8h48V48H48Zm120-40v28.7L196.69,168Z"],[1,"ml-1"],[3,"ngClass"],[1,"w-full","flex","items-center","justify-center","h-[360px]"],[1,"p-5","h-fit","bg-[#888]","hover:bg-[#333]","fill-white","rounded-md","text-white","w-fit","flex","items-center",3,"click"],[1,"w-full","h-[60vh]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),q("ngModelChange",function(o){return G(n.q_search,o)||(n.q_search=o),o}),S("keyup.enter",function(){return n.get_tableData()}),h(),w(4,"div",4),u(5,"Button",5),S("click",function(){return n.get_tableData()}),u(6,"p",6),g(7,"Search"),h(),w(8,"div",7),ee(),u(9,"svg",8),w(10,"path",9),h()()(),Ce(),w(11,"div",4),u(12,"div",10)(13,"select",11),S("change",function(o){return n.on_filter_change(o)}),T(14,N6,2,1,"option",12),h(),w(15,"div",4),u(16,"Button",13),S("click",function(){return n.get_tableData()}),u(17,"p",14),g(18,"Refresh"),h(),w(19,"div",15),ee(),u(20,"svg",16),w(21,"path",17),h()()()(),Ce(),w(22,"div",18),T(23,j6,29,5,"div",19)(24,Z6,2,0,"div",20),h()),e&2&&(f(3),W("ngModel",n.q_search),f(11),b("ngForOf",n.arr_lov_filter),f(9),b("ngIf",!n.fetching_tableData),f(),b("ngIf",n.fetching_tableData))},dependencies:[Re,Q,Se,Ne,me,ge,St,Et,Ve,Fe,He,Vn],encapsulation:2})};var Bc=class i{constructor(t,e){this.http=t;this.route=e}fetching_tableData=!0;first_load=0;q_search="";q_filter="All";tableData=[];act_page=localStorage.getItem("q_paging")!=null?parseInt(localStorage.getItem("q_paging")):0;arr_lov_filter=[{string:"All",code:"All"},{string:"On Process",code:"OP"},{string:"Finished",code:"AP"},{string:"Rejected",code:"RJ"}];ngOnInit(){this.initLoad()}initLoad(){return N(this,null,function*(){this.q_filter=this.arr_lov_filter[0].code,this.fetching_tableData=!1})}get_tableData(){return N(this,null,function*(){this.fetching_tableData=!0;let t={q_page:this.act_page,q_search:this.q_search,q_filter:this.q_filter,user_dtl:JSON.stringify(Ie())};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data",{params:t}));console.log(e.data),this.tableData=e.data,this.first_load=1,this.fetching_tableData=!1})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}onPageChangeEnter(t){let e=t.target.value;parseInt(e)>0&&(this.act_page=parseInt(e),localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}go_to_detail(t){localStorage.setItem("act_request_id",t),this.route.navigate(["request-dtl"]),console.log(t)}on_filter_change(t){let e=t.target.value;console.log(e);let n=0;for(let r=0;r<this.arr_lov_filter.length;r++){let o=this.arr_lov_filter[r].string;if(e==o){n=r;break}}this.q_filter=this.arr_lov_filter[n].code,this.get_tableData()}give_date(t){let e=t.replace(" ",`
`);return t}static \u0275fac=function(e){return new(e||i)(D(Ee),D(pe))};static \u0275cmp=P({type:i,selectors:[["app-p-cek-pengajuan"]],decls:3,vars:0,consts:[[1,"sm:w-[calc(100vw-300px)]"],[1,"py-10"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"app-c-pengajuan-table")(2,"div",1),h())},dependencies:[ge,Q,Re,Oi],encapsulation:2})};var Vc=class i{constructor(t,e){this.http=t;this.route=e}fetching_tableData=!0;q_search="";tableData=[];act_page=localStorage.getItem("q_paging")!=null?parseInt(localStorage.getItem("q_paging")):0;ngOnInit(){this.initLoad()}initLoad(){return N(this,null,function*(){this.fetching_tableData=!1})}get_tableData(){return N(this,null,function*(){this.fetching_tableData=!0;let t={q_page:this.act_page,user_dtl:JSON.stringify(Ie())};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data_approval",{params:t}));console.log(e.data),this.tableData=e.data,this.fetching_tableData=!1})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}onPageChangeEnter(t){let e=t.target.value;parseInt(e)>0&&(this.act_page=parseInt(e),localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}go_to_detail(t){localStorage.setItem("act_request_id",t),this.route.navigate(["request-dtl"]),console.log(t)}give_date(t){let e=t.replace(" ",`
`);return t}static \u0275fac=function(e){return new(e||i)(D(Ee),D(pe))};static \u0275cmp=P({type:i,selectors:[["app-p-approve-pengajuan"]],decls:3,vars:0,consts:[[1,"sm:w-[calc(100vw-300px)]"],[1,"py-10"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"app-c-pengajuan-table")(2,"div",1),h())},dependencies:[Q,ge,Re,Oi],encapsulation:2})};var Hc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-p-info-pengajuan"]],decls:3,vars:0,consts:[[1,"sm:w-[calc(100vw-300px)]"],[1,"py-10"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"app-c-pengajuan-table")(2,"div",1),h())},dependencies:[Oi],encapsulation:2})};var z6=i=>({"bg-gray-300":i}),U6=i=>({"placeholder-opacity-100":i}),$6=(i,t)=>({"bg-[#00000048]":i,"opacity-50":t}),W6=(i,t)=>({"fill-[#159d42]":i,"fill-[#989898]":t});function G6(i,t){if(i&1&&(u(0,"option",52),g(1),h()),i&2){let e=t.$implicit;b("value",e.NAME_TYPE),f(),xe(" ",e.NAME_TYPE,"")}}function q6(i,t){if(i&1&&(u(0,"option",53),g(1),h()),i&2){let e=t.$implicit;b("value",e.pajak_type),f(),xe(" ",e.pajak_type," ")}}function K6(i,t){if(i&1){let e=$();u(0,"tr",0)(1,"td",0)(2,"div",31),g(3),h()(),u(4,"td",32)(5,"input",33),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.KETERANGAN,r)||(o.KETERANGAN=r),A(r)}),h()(),u(6,"td",34)(7,"ng-select",35),S("change",function(r){let o=M(e).index,s=C();return A(s.on_rek_changed(r,o))}),h()(),u(8,"td")(9,"select",36),S("change",function(r){M(e);let o=C();return A(o.on_type_pengajuan_changed(r))}),g(10," > "),T(11,G6,2,2,"option",37),h()(),u(12,"td",34)(13,"input",38),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.HARGA_SATUAN,r)||(o.HARGA_SATUAN=r),A(r)}),S("input",function(){let r=M(e).index,o=C();return A(o.getTotalHarga(r))}),h()(),u(14,"td",34)(15,"input",39),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.QTY,r)||(o.QTY=r),A(r)}),S("input",function(){let r=M(e).index,o=C();return A(o.getTotalHarga(r))}),h()(),u(16,"td")(17,"select",40),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.PAJAK_TYPE,r)||(o.PAJAK_TYPE=r),A(r)}),S("change",function(r){let o=M(e).index,s=C();return A(s.on_pajak_changed(r,o))}),g(18," > "),T(19,q6,2,2,"option",41),h()(),u(20,"td",34)(21,"div",42)(22,"input",43),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.PAJAK_AMOUNT,r)||(o.PAJAK_AMOUNT=r),A(r)}),S("input",function(){let r=M(e).index,o=C();return A(o.getTotalHarga(r))}),h(),u(23,"a",44),g(24,"%"),h()()(),u(25,"td",34)(26,"input",45),q("ngModelChange",function(r){let o=M(e).$implicit;return G(o.TOTAL_HARGA,r)||(o.TOTAL_HARGA=r),A(r)}),S("change",function(){M(e);let r=C();return A(r.getTotal())}),h()(),u(27,"td",32)(28,"button",46),ee(),u(29,"svg",47),S("click",function(){let r=M(e).index,o=C();return A(o.lockThis(r))}),w(30,"path",48),h()()(),Ce(),u(31,"td",32)(32,"button",49),S("click",function(){let r=M(e).index,o=C();return A(o.removeItem(r))}),ee(),u(33,"svg",50),w(34,"path",51),h()()()()}if(i&2){let e=t.$implicit,n=t.index,r=C();f(3),R(n+1),f(2),W("ngModel",e.KETERANGAN),f(2),b("items",r.arr_rek_data)("ngModel",e.unf_rek),f(2),b("value",e.JENIS_PEMBIAYAAN),f(2),b("ngForOf",r.arr_request_type),f(2),W("ngModel",e.HARGA_SATUAN),b("value",e.HARGA_SATUAN),f(2),W("ngModel",e.QTY),b("value",e.QTY),f(2),W("ngModel",e.PAJAK_TYPE),f(2),b("ngForOf",r.arr_pajak),f(2),b("ngClass",Ze(19,$6,e.PAJAK_TYPE==null,e.PAJAK_TYPE=="-")),f(),b("disabled",e.PAJAK_TYPE=="-"),W("ngModel",e.PAJAK_AMOUNT),f(4),b("disabled",e.bind_calc==!0),W("ngModel",e.TOTAL_HARGA),b("value",e.TOTAL_HARGA),f(2),b("ngClass",Ze(22,W6,e.bind_calc==!0,e.bind_calc==!1))}}var jc=class i{constructor(t,e,n){this.http=t;this.snackbar=e;this.router=n}arr_rek_data=[];arr_request_type=[{NAME_TYPE:""}];act_pengajuan=this.arr_request_type[0].NAME_TYPE;arr_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];act_divisi={EMPL_JOB:null,EMPL_JOB_NAME:null};user_cabang;act_file={file_name:null,file_base64:null};arr_tipe_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];arr_files=[];items=[{KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:null,TOTAL_HARGA:0,JENIS_PEMBIAYAAN:null,NO_REK:null,NAMA_REK:null,BANK_NAME:null,unf_rek:null,FILE_NAME:null,FILE_:null,bind_calc:!1}];arr_kom_type=[{POSISION:"APPROVE"},{POSISION:"CEK"}];items_kom_approve=[{EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null}];arr_office=[{office_name:"Grogol",office_code:"903"},{office_name:"Depok",office_code:"904"},{office_name:"Jakpus",office_code:"911"},{office_name:"Cikupa",office_code:"929"}];arr_items_before=[];str_info_pengajuan="";act_office=this.arr_office[0].office_code;is_fetching=!1;base64_sig_data=null;ngOnInit(){this.initLoad()}init_fetch(){}addItem(){this.items.push({KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:null,TOTAL_HARGA:0,unf_rek:null,NO_REK:null,NAMA_REK:null,BANK_NAME:null,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,FILE_NAME:null,FILE_:null,bind_calc:!1})}removeItem(t){this.items.splice(t,1)}bankChanged(t){let e=t.target.value,n=t.target.text}addKomite(){this.items_kom_approve.push({EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null})}removeKomite(t){this.items_kom_approve.splice(t,1)}get_kom_appr_detail(t){let e=t.target.value}trackByFn(t,e){return e.LVL}drop(t){Do(this.items_kom_approve,t.previousIndex,t.currentIndex)}initLoad(){return N(this,null,function*(){yield this.get_approval_data(),yield this.get_rekening(),yield this.get_request_type(),this.setInit()})}get_rekening(){return N(this,null,function*(){let t={data:"test"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_rekening",{params:t}));this.arr_rek_data=e.data})}get_request_type(){return N(this,null,function*(){let t={data:"test"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_request_type",{params:t}));this.arr_request_type=e.data})}get_approval_data(){return N(this,null,function*(){console.log("get_approval_data"),this.items=[];let t={data:"RF20250100000016"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_detail_pengajuan_item_revisi",{params:t}));let n=e.data;this.arr_items_before=[...n],console.log(n);let r=o=>`${o[2]} - ${o[1]} - ${o[0]}`;n.forEach(o=>{this.items.push({KETERANGAN:o.KETERANGAN,HARGA_SATUAN:o.HARGA_SATUAN,QTY:o.QTY,PAJAK_TYPE:"-",PAJAK_AMOUNT:null,TOTAL_HARGA:o.TOTAL_HARGA,unf_rek:r([o.NO_REK,o.NAMA_REK,o.BANK_NAME]),NO_REK:o.NO_REK,NAMA_REK:o.NAMA_REK,BANK_NAME:o.BANK_NAME,JENIS_PEMBIAYAAN:o.JENIS_PEMBIAYAAN,FILE_NAME:o.FILE_NAME,FILE_:null,bind_calc:!1})}),console.log(this.items)})}setInit(){this.act_divisi={EMPL_JOB:Ie().EMPL_JOB,EMPL_JOB_NAME:Ie().JOB_DESCRIPTION},this.user_cabang=Ie().NAME_FULL}on_rek_changed(t,e){let n=t,r=this.items[e];n?r.unf_rek=n.toString():r.unf_rek=null,console.log(this.items)}on_type_pengajuan_changed(t){console.log()}on_pajak_changed(t,e){var n=t.target.value;this.items[e].PAJAK_TYPE=n,this.items[e].PAJAK_AMOUNT=null,this.getTotalHarga(e)}remove_appr_person(t){this.items_kom_approve.splice(t,1)}lockThis(t){console.log(t),this.items[t].bind_calc=!this.items[t].bind_calc,this.items[t].bind_calc?this.getTotalHarga(t):this.items[t].TOTAL_HARGA=0}change_sig_data(t){this.base64_sig_data=t,this.allow_send_pengajuan()}chooseFile(t,e){let r=t.target.parentElement?.querySelector(".inputFile");var o=document.createElement("input");o.setAttribute("type","file"),o.click(),o.onchange=s=>{let a=s.target.files;if(a){let l=a[0];this.items[e].FILE_NAME=a[0].name;let c=new FileReader;c.onload=()=>{let d=c.result;this.items[e].FILE_=d},c.readAsDataURL(l)}}}chooseFile_v2(t){let n=t.target.parentElement?.querySelector(".inputFile");var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".pdf, .jpeg, .jpeg, .png"),r.click(),r.onchange=o=>{let s=o.target.files;if(s){let a=s[0],l=new FileReader;l.onload=()=>{let c=l.result;this.act_file={file_name:s[0].name,file_base64:c},this.items.forEach(d=>{d.FILE_NAME=s[0].name})},l.readAsDataURL(a)}}}clear_file(){this.act_file.file_base64=null,this.act_file.file_name=null}rm_file(t){this.items[t].FILE_=null,this.items[t].FILE_NAME=null}notif_str="";filter_kom_approve(){let t=[...this.items_kom_approve];console.log(t);let e=1;for(let n of t)n.LVL=e,e++,console.log(n);return t}allow_send_pengajuan(){for(let t of this.items)if(t.KETERANGAN==""||t.HARGA_SATUAN==0||t.QTY==0)return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;for(let t of this.items_kom_approve)if(t.EMPL_CODE==null)return this.snackbar.open("Silahkan cek kembali komite approval.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;return this.base64_sig_data==null?(this.snackbar.open("Silahkan cek kembali tanda tangan pembuat.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1):!0}filter_rek(){this.items.forEach(t=>{let n=t.unf_rek?.split(" - ");t.NO_REK=n[2].toString(),t.BANK_NAME=n[0].toString(),t.NAMA_REK=n[1].toString()})}savePengajuan(){return N(this,null,function*(){this.is_fetching=!0;let t;if(!this.allow_send_pengajuan())return this.is_fetching=!1,!1;var e=this.filter_kom_approve();this.filter_rek();try{let n={user_data:{empl_code:Ri(),office_code:this.act_office,pengajuan_type:this.str_info_pengajuan,selected_file:this.act_file},data:{pengajuan:this.items,komite_approve:e},file_data:this.act_file};t=yield X(this.http.post(J.env_dev.host+"/api-eappr/new_pengajuan",n)),console.log(t),this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_success"]})}catch(n){console.log(n)}return this.redirect_to_latest_pengajuan(),!0})}getTotal(){let t=0;for(var e of this.items)t=t+Number(e.TOTAL_HARGA);return t}getTotalHarga(t){if(this.items[t].bind_calc){let e=this.items[t],n=e.QTY,r=e.HARGA_SATUAN;e.PAJAK_AMOUNT!=null?e.TOTAL_HARGA=n*r+n*r*(Number(e.PAJAK_AMOUNT)/100):e.TOTAL_HARGA=n*r}}redirect_to_latest_pengajuan(){return N(this,null,function*(){let t={EMPL_CODE:Ie().EMPL_CODE};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_newest_pengajuan",{params:t}));let n=e.data[0].REQUEST_ID;console.log(n),localStorage.setItem("act_request_id",n),setTimeout(()=>{this.router.navigate(["request-dtl"])},2e3)})}debug_(){console.log()}static \u0275fac=function(e){return new(e||i)(D(Ee),D(ct),D(pe))};static \u0275cmp=P({type:i,selectors:[["app-p-revisi-pengajuan"]],decls:66,vars:12,consts:[[1,""],[1,"flex","flex-row","items-center","text-base"],[1,"mb-2","text-[#282828]"],[1,"mb-2","font-medium","tracking-wider","border-2","border-[#c1c1c1]","rounded-md","p-1","w-fit","px-2"],[1,"mx-8","w-[2px]","h-20","bg-[#c1c1c1]"],[1,"pb-8"],[1,"flex","items-center"],[1,"text-[#282828]"],[1,"mx-2"],["placeholder","Info Pengajuan","type","text",1,"p-2","w-[40vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"border","border-gray-300","rounded-md","overflow-hidden"],[1,"bg-gray-100"],[1,"text-xl","py-2","pl-3","tracking-wide"],[1,"overflow-y-auto","h-[50vh]","pb-2","border-b-2","text-sm"],[1,"w-full","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"flex-grow","border-slate-500","font-medium"],[1,"w-[10%]","border-slate-500","font-medium"],[1,"w-32","border-slate-500","font-medium"],[1,"w-20","border-slate-500","font-medium"],[1,"w-[50px]","border-slate-500","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","items-center","px-4"],[1,"p-2","my-4","bg-blue-500","text-white","rounded-md",3,"click"],[1,"w-60","justify-between","flex","flex-row"],[1,"flex","flex-row","my-4","items-center"],[1,"w-32","p-2","bg-blue-500","text-white","rounded-md","transition-all",3,"click","ngClass"],[3,"ngClass"],[1,"ml-4","h-6","text-lg","text-[#d42929]"],[1,"py-20"],[1,"flex","py-4","justify-center"],[1,"border-separate","border-slate-500"],["placeholder","Keterangan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"border-separate","px-2","border-slate-500"],[3,"change","items","ngModel"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","tracking-wider",3,"change","value"],["class","tracking-wider",3,"value",4,"ngFor","ngForOf"],["placeholder","Harga Satuan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],["placeholder","Quantity","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],[1,"w-full","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"w-full","tracking-wide","rounded-md","border-gray-200","border-2","overflow-hidden","focus:ring-0","outline-blue-200","transition-all","flex","flex-row",3,"ngClass"],["type","text",1,"p-2","w-full","tracking-wide","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","disabled","ngModel"],[1,"p-2","bg-[#f7f7f7]","shadow-md","border-l-2"],["type","number",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","change","disabled","ngModel","value"],[1,"flex","justify-center","items-center",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",3,"click"],["d","M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"tracking-wider",3,"value"],[3,"value"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",0)(3,"p",2),g(4,"Divisi"),h(),u(5,"p",3),g(6),h()(),w(7,"div",4),u(8,"div",0)(9,"p",2),g(10,"Cabang / Outlet"),h(),u(11,"p",3),g(12),h()()(),w(13,"div",5),u(14,"div",6)(15,"p",7),g(16,"Info Pengajuan : "),h(),w(17,"div",8),u(18,"input",9),q("ngModelChange",function(o){return G(n.str_info_pengajuan,o)||(n.str_info_pengajuan=o),o}),h()(),w(19,"div",5),u(20,"div",10)(21,"div",11)(22,"p",12),g(23,"Pengajuan"),h()(),u(24,"div",13)(25,"table",14)(26,"thead",0)(27,"tr")(28,"th",15),g(29,"No"),h(),u(30,"th",16),g(31,"Keterangan"),h(),u(32,"th",17),g(33,"Bank"),h(),u(34,"th",17),g(35,"Jenis Pembiayaan"),h(),u(36,"th",18),g(37,"Harga Satuan"),h(),u(38,"th",18),g(39,"Quantity"),h(),u(40,"th",19),g(41,"Tipe Pajak"),h(),u(42,"th",18),g(43,"Jumlah Pajak"),h(),u(44,"th",18),g(45,"Total Harga"),h(),w(46,"th",20)(47,"th",20),h()(),u(48,"tbody",21),T(49,K6,35,25,"tr",22),h()()(),u(50,"div",23)(51,"button",24),S("click",function(){return n.addItem()}),g(52,"Add Item"),h(),u(53,"div",25)(54,"p"),g(55,"Total :"),h(),u(56,"p",0),g(57),h()()()(),u(58,"div",26)(59,"button",27),S("click",function(){return n.savePengajuan()}),u(60,"P",28),g(61,"Save"),h(),w(62,"div"),h(),u(63,"p",29),g(64),h()(),w(65,"div",30),h()),e&2&&(f(6),R(n.act_divisi.EMPL_JOB_NAME),f(6),R(n.user_cabang),f(6),W("ngModel",n.str_info_pengajuan),f(31),b("ngForOf",n.items),f(8),R(n.getTotal()),f(2),b("ngClass",ve(8,z6,n.is_fetching===!0)),f(),b("ngClass",ve(10,U6,n.is_fetching===!0)),f(4),R(n.notif_str))},dependencies:[ge,St,Et,Ve,ti,$t,Fe,He,Q,Se,Ne,Ln,Re],encapsulation:2})};var Y6=(i,t,e)=>({"bg-green-600 opacity-100":i,"opacity-40":t,"opacity-50":e}),Zc=class i{constructor(t,e,n){this.router=t;this.snackbar=e;this.http=n}empl_name="";empl_code="";empl_branch="";empl_mail="";empl_hp="";empl_hp_2="";new_empl_hp="";new_empl_mail="";new_empl_hp_2="";canSave=!1;canSave_email=!1;isFetching_save_email=!1;ngOnInit(){this.initLoad()}initLoad(){this.set_user_info()}inp_listener(){this.empl_hp_2!=this.new_empl_hp_2||this.empl_hp!=this.new_empl_hp||this.empl_mail!=this.new_empl_mail?this.canSave=!0:this.canSave=!1,console.log(this.canSave)}listen_canSave_email(t){var e=t.target.value;this.new_empl_mail=e,console.log(this.new_empl_mail),e!=this.empl_mail?this.canSave=!0:this.canSave=!1}listen_canSave_phone(t){var e=t.target.value;this.new_empl_hp=e,console.log(this.new_empl_hp),e!=this.empl_hp?this.canSave=!0:this.canSave=!1}detect_save_mail(){let t=this.new_empl_mail,e=this.new_empl_hp;return!t.includes("@")||!t.includes(".")?(this.snackbar.open("Format email tidak sesuai",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1):!0}set_user_info(){let t=Ie();console.log(t),console.log(t.email),this.empl_name=t.EMPL_NAME,this.empl_code=t.EMPL_CODE,this.empl_branch=t.NAME_FULL,this.empl_mail=t.email,this.empl_hp=t.NO_HP,this.empl_hp_2=t.NO_HP_2,this.new_empl_mail=this.empl_mail,this.new_empl_hp=this.empl_hp,this.new_empl_hp_2=this.empl_hp_2}is_null(t){return console.log(t),t==null||t.toString().trim()==""?"":t.toString().trim()}signOut(){localStorage.clear(),this.router.navigate(["/login"])}save_email(){return N(this,null,function*(){if(this.canSave&&!this.isFetching_save_email)try{this.isFetching_save_email=!0;let e={empl_code:Ri(),mail_to_change:this.is_null(this.new_empl_mail),phone_to_change:this.is_null(this.new_empl_hp),phone_to_change_2:this.is_null(this.new_empl_hp_2)};var t=yield X(this.http.post(J.env_dev.host+"/api-eappr/user_change_email",e));if(this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_success"]}),t.status==200){let n=localStorage.getItem("user_dtl"),r=JSON.parse(n).data[0];console.log(r),r.email=this.new_empl_mail,r.NO_HP=this.new_empl_hp,r.NO_HP_2=this.new_empl_hp_2,localStorage.setItem("user_dtl",JSON.stringify({isSuccess:!0,message:"success",data:[r]})),this.canSave_email=!1}}catch(e){console.log(e)}finally{this.isFetching_save_email=!1}})}static \u0275fac=function(e){return new(e||i)(D(pe),D(ct),D(Ee))};static \u0275cmp=P({type:i,selectors:[["app-p-user-profile"]],decls:56,vars:11,consts:[[1,"flex","flex-col","px-4"],[1,"text-3xl"],[1,"my-2"],[1,"flex","flex-row","h-[320px]"],[1,"flex","flex-col","h-full"],[1,"flex","flex-col","justify-center"],[1,"text-sm","w-40"],[1,"text-sm","text-[12px]","text-gray-500"],["disabled","",1,"p-1","px-2","w-full","sm:w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"value"],[1,"mx-2","bg-gray-200","h-[full]","w-[2px]"],[1,"flex","flex-col"],[1,"p-1","px-2","w-full","sm:w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"keyup","ngModelChange","ngModel"],["type","number",1,"p-1","px-2","w-full","sm:w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"keyup","ngModelChange","ngModel"],[1,"w-full","sm:w-[26vw]","text-sm","p-[6px]","px-8","pb-[7px]","tracking-wide","text-white","bg-[#888]","rounded-md","transition-all",3,"click","ngClass"],[1,"my-4"],[1,"p-2","bg-[#df6363]","rounded-md","text-white","w-fit","transition-all","pb-[10px]",3,"click"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div")(2,"p",1),g(3,"User Info"),h()(),w(4,"div",2),u(5,"div",3)(6,"div",4)(7,"div",5)(8,"p",6),g(9,"Nama : "),h(),u(10,"p",7),g(11,"Nama karyawan"),h(),w(12,"input",8),h(),w(13,"div",2),u(14,"div",5)(15,"p",6),g(16,"NIK : "),h(),u(17,"p",7),g(18,"NIK karyawan"),h(),w(19,"input",8),h(),w(20,"div",2),u(21,"div",5)(22,"p",6),g(23,"Branch : "),h(),u(24,"p",7),g(25,"Branch Karyawan"),h(),w(26,"input",8),h()(),w(27,"div",9),u(28,"div",10)(29,"div",5)(30,"p",6),g(31,"Email :"),h(),u(32,"p",7),g(33,"Contoh john@transfinance.co.id"),h(),u(34,"input",11),S("keyup",function(){return n.inp_listener()}),q("ngModelChange",function(o){return G(n.new_empl_mail,o)||(n.new_empl_mail=o),o}),h()(),w(35,"div",2),u(36,"div",5)(37,"p",6),g(38,"Nomor Handphone :"),h(),u(39,"p",7),g(40,"Contoh 085522223333"),h(),u(41,"input",12),S("keyup",function(){return n.inp_listener()}),q("ngModelChange",function(o){return G(n.new_empl_hp,o)||(n.new_empl_hp=o),o}),h()(),w(42,"div",2),u(43,"div",5)(44,"p",6),g(45,"Nomor Handphone 2:"),h(),u(46,"p",7),g(47,"Contoh 085522223333"),h(),u(48,"input",12),S("keyup",function(){return n.inp_listener()}),q("ngModelChange",function(o){return G(n.new_empl_hp_2,o)||(n.new_empl_hp_2=o),o}),h()(),w(49,"div",2),u(50,"button",13),S("click",function(){return n.save_email()}),g(51," Save "),h()()(),w(52,"div",14),u(53,"button",15),S("click",function(){return n.signOut()}),g(54," Log out "),h(),w(55,"div",14),h()),e&2&&(f(12),b("value",n.empl_name),f(7),b("value",n.empl_code),f(7),b("value",n.empl_branch),f(8),W("ngModel",n.new_empl_mail),f(7),W("ngModel",n.new_empl_hp),f(7),W("ngModel",n.new_empl_hp_2),f(2),b("ngClass",Xn(7,Y6,n.canSave,!n.canSave,n.isFetching_save_email)))},dependencies:[Q,Se,Re,ge,Ve,ti,Fe,He],encapsulation:2})};var J6=(i,t,e)=>({"border-[#3ba62b] bg-[#e4ffdf]":i,"border-[#a62b2b] bg-[#ffdfdf]":t,"border-[#cfc038] bg-[#fff9c7]":e}),X6=(i,t)=>({"bg-[#333] text-white":i,"bg-[#888] opacity-50 cursor-default":t});function Q6(i,t){if(i&1&&(u(0,"option",19),g(1),h()),i&2){let e=t.$implicit;b("value",e.appr),f(),xe(" ",e.appr_name," ")}}var zc=class i{constructor(t,e,n,r){this.http=t;this.snackbar=e;this.route=n;this.repVal=r}dialog_exit=new Z;req_data;arr_approval=[{appr:"AP",appr_name:"Approve"},{appr:"RJ",appr_name:"Reject"}];canSend=!1;isFetching=!1;act_appr;act_reason="";base64_sig_data;ngOnInit(){this.initLoad()}initLoad(){this.act_appr=this.arr_approval[0].appr,console.log(this.req_data),console.log(this.act_reason.length)}change_sig(t){this.base64_sig_data=t,this.canSend_bool()}on_appr_change(t){let e=t.target.value;this.act_appr=e}onExit(){this.dialog_exit.emit()}send_approve(){return N(this,null,function*(){if(console.log("send_approve"),console.log(this.act_reason),console.log(this.canSend),this.canSend){this.isFetching=!0;let e={REQ_ID:this.req_data.req_id,EMPL_CODE:this.req_data.empl_code,STATUS:this.act_appr,REASON:this.repVal.enc_str(this.act_reason)};var t=yield X(this.http.post(J.env_dev.host+"/api-eappr/approval_approve",{queryParams:e}));let n=t.data;n.toString().toLowerCase().includes("berhasil")?(this.snackbar.open(n,void 0,{duration:5e3,panelClass:["notif_success"]}),this.route.navigate(["approve-pengajuan"])):(this.snackbar.open("Approval gagal.",void 0,{duration:5e3,panelClass:["notif_neutral"]}),this.isFetching=!1)}})}on_reason_change(t){let e=t.target.value;this.act_reason=e,this.canSend_bool()}canSend_bool(){this.act_reason!=""!=null&&!this.isFetching?this.canSend=!0:this.canSend=!1}get_file_name(){let t=this.base64_sig_data.split(";")[0].split("/")[1];return`${this.req_data.req_id}_${this.req_data.empl_code}.${t}`}get_file_data(){return this.base64_sig_data.split(",")[1]}dec_string(t){return this.repVal.dec_str(t)}static \u0275fac=function(e){return new(e||i)(D(Ee),D(ct),D(pe),D(Bn))};static \u0275cmp=P({type:i,selectors:[["app-c-approve-box"]],inputs:{req_data:"req_data"},outputs:{dialog_exit:"dialog_exit"},decls:27,vars:12,consts:[[1,"sm:w-fit","w-[96vw]","h-fit","rounded-md","bg-white","p-1","px-3"],[1,"sm:text-xl","text-md","flex","flex-row","justify-start"],[1,""],[1,"mx-1"],[1,"tracking-wide","font-medium"],[1,"my-6"],[1,"h-fit","overflow-y-auto","pr-2"],[1,"flex","flex-col","items-start","justify-start","p-2","border-2","rounded-md",3,"ngClass"],[1,"text-xl","mb-1"],[1,"my-1"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-[6px]","pb-[8px]","text-md","tracking-wide",3,"valueChange","change","value"],[3,"value",4,"ngFor","ngForOf"],[1,"my-4"],[1,"flex","flex-col","text-sm"],["type","text",1,"p-1","w-full","h-[72px]","tracking-wide","rounded-md","border-[#aaa]","border-2","focus:ring-0","outline-[#999]","transition-all","resize-none",3,"input"],[1,"flex","flex-row","py-2"],[1,"p-2","px-4","text-white","rounded-md","transition-all",3,"click","ngClass"],[1,"mx-2"],[1,"p-2","px-4","bg-[#888]","text-white","rounded-md",3,"click"],[3,"value"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"p",2),g(3,"Request ID :"),h(),w(4,"div",3),u(5,"p",4),g(6),h()(),w(7,"div",5),u(8,"div",6)(9,"div",7)(10,"p",8),g(11,"Approval Status :"),h(),w(12,"div",9),u(13,"select",10),q("valueChange",function(o){return G(n.act_appr,o)||(n.act_appr=o),o}),S("change",function(o){return n.on_appr_change(o)}),T(14,Q6,2,2,"option",11),h()(),w(15,"div",12),u(16,"div",13)(17,"p",8),g(18,"Reason :"),h(),w(19,"div",9),u(20,"textarea",14),S("input",function(o){return n.on_reason_change(o)}),h()()(),u(21,"div",15)(22,"button",16),S("click",function(){return n.send_approve()}),g(23,"Proses"),h(),w(24,"div",17),u(25,"button",18),S("click",function(){return n.onExit()}),g(26,"Cancel"),h()()()),e&2&&(f(6),R(n.req_data.req_id),f(3),b("ngClass",Xn(5,J6,n.act_appr=="AP",n.act_appr=="RJ",n.act_appr=="RC")),f(4),W("value",n.act_appr),f(),b("ngForOf",n.arr_approval),f(8),b("ngClass",Ze(9,X6,n.canSend==!0,n.canSend==!1)))},dependencies:[Q,Se,Ne,ge,St,Et,Re],encapsulation:2})};var eC=["spawnApprove"],tC=["captureDiv"],nC=(i,t,e)=>({"border-green-700 bg-[#fbfffa]":i,"border-red-700 bg-[#fffcfc]":t,"border-yellow-500 bg-[#fffbef]":e}),iC=(i,t,e)=>({"bg-green-700":i,"bg-red-700":t,"bg-yellow-500":e});function rC(i,t){if(i&1&&(u(0,"tr",2)(1,"td",41)(2,"div",42),g(3),h()(),u(4,"td",41)(5,"div",43),g(6),h()(),u(7,"td",41)(8,"div",43),g(9),h()(),u(10,"td",41)(11,"div",44)(12,"p"),g(13),h()()(),u(14,"td",41)(15,"div",45),g(16),be(17,"number"),h()(),u(18,"td",41)(19,"div",42),g(20),h()(),u(21,"td",41)(22,"div",42),g(23),h()(),u(24,"td",41)(25,"div",42),g(26),h()(),u(27,"td",41)(28,"div",45),g(29),be(30,"number"),h()()()),i&2){let e=t.$implicit,n=t.index,r=C();f(3),R(n+1),f(3),R(e.KETERANGAN),f(3),R(e.JENIS_PEMBIAYAAN),f(4),R(e.BANK_NAME+" - "+e.NO_REK+" - "+e.NAMA_REK),f(3),R(ls(17,9,r.format_rp(e.HARGA_SATUAN),"2.")),f(4),R(e.QTY),f(3),R(e.PPN?e.PPN+"%":"-"),f(3),R(e.PPH?e.PPH+"%":"-"),f(3),R(ls(30,12,e.TOTAL_HARGA,"2."))}}function oC(i,t){if(i&1){let e=$();u(0,"div")(1,"div",47)(2,"div",48),ee(),u(3,"svg",49),w(4,"path",50),h(),Ce(),u(5,"div",51),g(6),h()(),w(7,"div",52),u(8,"div",53)(9,"button",54),S("click",function(){M(e);let r=C(2);return A(r.file_download())}),ee(),u(10,"svg",49),w(11,"path",55),h()(),Ce(),w(12,"div",52),u(13,"button",54),S("click",function(){M(e);let r=C(2);return A(r.file_view())}),ee(),u(14,"svg",49),w(15,"path",56),h()()()()()}if(i&2){let e=C(2);f(6),R(e.file_data.file_name)}}function sC(i,t){i&1&&(u(0,"div",57)(1,"p"),g(2,"No file uploaded"),h()())}function aC(i,t){if(i&1&&(u(0,"div"),T(1,oC,16,1,"div",29)(2,sC,3,0,"div",46),h()),i&2){let e=C();f(),b("ngIf",e.file_data.file_name!=""),f(),b("ngIf",e.file_data.file_name=="")}}function lC(i,t){i&1&&(u(0,"div",58),w(1,"app-c-loading-spin",59),h()),i&2&&(f(),b("size",40))}function cC(i,t){if(i&1&&(u(0,"p",73),g(1),h()),i&2){let e=C().$implicit;f(),R(e.STAT_DATE)}}function dC(i,t){i&1&&(u(0,"p",73),g(1,"-"),h())}function uC(i,t){if(i&1&&(u(0,"div",62)(1,"p",63),g(2),h(),u(3,"p",64),g(4),h(),T(5,cC,2,1,"p",65)(6,dC,2,0,"p",65),u(7,"div",66)(8,"p"),g(9,"Reason :"),h(),u(10,"div",67)(11,"p",68),g(12),h()()(),u(13,"div",69)(14,"div",70),g(15),h(),u(16,"div",71),w(17,"img",72),h()()()),i&2){let e=t.$implicit,n=C(2);b("ngClass",Xn(9,nC,e.STATUS=="AP",e.STATUS=="RJ",e.STATUS=="RC")),f(2),R(e.empl_name),f(2),R(e.job_name),f(),b("ngIf",e.STAT_DATE!=null),f(),b("ngIf",e.STAT_DATE==null),f(6),R(n.dec_string(e.REASON)),f(2),b("ngClass",Xn(13,iC,e.STATUS=="AP",e.STATUS=="RJ",e.STATUS=="RC")),f(),xe(" ",n.format_status_str(e.STATUS)," "),f(2),b("src",e.sig_base64,za)}}function hC(i,t){if(i&1&&(u(0,"div",60),T(1,uC,18,17,"div",61),h()),i&2){let e=C();f(),b("ngForOf",e.arr_approval_data)}}function pC(i,t){i&1&&(u(0,"div",74),w(1,"app-c-loading-spin",59),h()),i&2&&(f(),b("size",60))}function fC(i,t){if(i&1){let e=$();u(0,"dialog",75,0)(2,"app-c-approve-box",76),S("dialog_exit",function(){M(e);let r=C();return A(r.dialog_approve_exit())}),h()()}if(i&2){let e=C();f(2),b("req_data",e.send_to_dialog)}}var Uc=class i{constructor(t,e,n){this.http=t;this.act_route=e;this.repVal=n}spawnApprove;captureDiv;req_id;arr_item_pengajuan=[];arr_approval_data=[];pengajuan_header={};arr_img_data=[];spawn_box_approve=!1;send_to_dialog={};order_create_date="";judul_pengajuan="";base64_sig_data=null;isFetching_file=!0;isFetching_approval=!0;exporting_pdf=!1;file_data={file_name:null,data:null};ngOnInit(){this.initLoad()}initLoad(){return N(this,null,function*(){this.req_id=this.act_route.snapshot.queryParams.id,this.get_item_pengajuan(),this.get_approval_data(),this.get_file_data(),console.log(this.file_data),console.log(this.file_data.file_name),this.send_to_dialog={req_id:this.req_id,empl_code:Ie().EMPL_CODE}})}get_item_pengajuan(){return N(this,null,function*(){try{console.log(`
 get_item_pengajuan 
`);let e={req_id:this.req_id};var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_detail_pengajuan_item",{params:e}));console.log(e),console.log(t),this.order_create_date=t.data[0].TGL_PENGAJUAN??"!cek",this.judul_pengajuan=t.data[0].KATEGORI_REQUEST??"!cek",this.arr_item_pengajuan=t.data}catch(e){console.log(e)}})}get_file_data(){return N(this,null,function*(){let t={req_id:this.req_id};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_file_data",{params:t}));console.log(e),this.file_data=e.data,this.isFetching_file=!1})}get_approval_data(){return N(this,null,function*(){let t={req_id:this.req_id};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_approval_data",{params:t}));this.arr_approval_data=e.data,this.isFetching_approval=!1})}get_image_file(){return N(this,null,function*(){console.log("get_image_file");let t={req_id:this.req_id};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_sig_img_data",{params:t}));console.log(e)})}file_view(){let t=this.file_data.data;console.log(t);let e=atob(t),n=Array.from(e,a=>a.charCodeAt(0)),r=new Uint8Array(n),o=new Blob([r],{type:"application/pdf"}),s=URL.createObjectURL(o);window.open(s,"_blank")}file_download(){let t=this.file_data.data,e="download.pdf",n=`data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,${t}`,r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}dialog_approve_exit(){this.spawn_box_approve=!1}dialog_approve_spawn(){this.spawn_box_approve=!0}export_pdf(){return N(this,null,function*(){let t=document.getElementById("export_pdf()");this.exporting_pdf=!0;let e={req_id:this.req_id};console.log(this.req_id),window.open(`${J.env_dev.host}/api-eappr/get_pdf_export?req_id=`+this.req_id,"_blank")})}format_rp(t){return t}format_status_str(t){return t=="AP"?"Approve":t=="RJ"?"Reject":t=="RC"?"Re-check":"-"}dec_string(t){return this.repVal.dec_str(t)}static \u0275fac=function(e){return new(e||i)(D(Ee),D(an),D(Bn))};static \u0275cmp=P({type:i,selectors:[["app-p-request-dtl"]],viewQuery:function(e,n){if(e&1&&(Be(eC,5),Be(tC,5)),e&2){let r;ce(r=de())&&(n.spawnApprove=r.first),ce(r=de())&&(n.captureDiv=r.first)}},decls:75,vars:9,consts:[["spawnApprove",""],["id","printThis",1,""],[1,""],[1,"text-xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center"],[1,"flex","flex-col"],[1,"text-sm","tracking-wider","rounded-sm"],[1,"text-md","mb-2","font-medium","tracking-wide","rounded-sm","text-[18px]"],[1,"py-2","pt-1","sm:pt-0","sm:px-6"],[1,"w-[86vw]","sm:w-[2px]","h-[2px]","sm:h-12","bg-[#ccc]"],[1,"text-md","mb-2","font-medium","tracking-wider","rounded-sm","text-[18px]"],[1,"my-8"],[1,"text-xl","font-medium","py-2","tracking-wide","mb-2"],[1,"sm:w-fit","w-full","overflow-x-auto"],[1,"w-fit","border","border-[#666]","rounded-md","overflow-auto"],[1,"overflow-y-auto","h-fit","border-b-2","text-xs"],[1,"w-fit","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"bg-[#f8f8f8]","mb-2"],[1,"w-[60px]","border-x","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[200px]","border-x","border-gray-200","font-medium"],[1,"w-[300px]","border-x","border-gray-200","font-medium"],[1,"w-[120px]","border-x","border-gray-200","font-medium"],[1,"w-[60px]","border-x","border-gray-200","font-medium"],[1,"w-[120px]","border-x","border-r-0","border-gray-200","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,"my-12"],[1,"flex","flex-col","justify-start"],[1,"text-xl","mb-2","font-medium","tracking-wide","rounded-md","w-fit"],[4,"ngIf"],["class","w-full flex h-fit",4,"ngIf"],[1,"flex","flex-col","flex-shrink-0","w-full","sm:w-[80vw]"],[1,"w-full","overflow-x-auto","pb-2"],["class","flex flex-shrink-0 w-fit",4,"ngIf"],["class","w-full flex justify-center items-center h-fit",4,"ngIf"],["class","fixed h-[100vh] w-[100vw] top-0 left-0 bg-[#00000058] flex justify-center items-center",4,"ngIf"],[1,"my-6"],[1,"flex","flex-row"],[1,"p-2","pb-[10px]","px-4","rounded-md","text-lg","tracking-wide","text-white","border-2","border-[#2f7048]","bg-[#3b905b]","mr-4",3,"click"],[1,"p-2","pb-[10px]","px-4","rounded-md","text-lg","tracking-wide","text-white","border-2","border-[#2f5370]","bg-[#3b6a90]",3,"click"],[1,"my-[40vh]"],[1,"border","px-2"],[1,"flex","py-2","justify-center"],[1,"flex","py-2","justify-start"],[1,"flex","py-2","justify-start","text-start","flex-col","mr-8"],[1,"flex","py-2","justify-end","mr-8"],["class","text-lg text-[#999]",4,"ngIf"],[1,"flex","sm:flex-row","flex-col","mt-2"],[1,"flex","flex-row","p-2","bg-[#fff]","border-2","border-[#aaa]","w-fit","rounded-md","text-[#000]","fill-[#000]","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256"],["d","M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"],[1,"mx-2"],[1,"mx-1"],[1,"flex","flex-row","sm:mt-0","mt-2"],[1,"flex","flex-row","p-2","border-2","border-[#aaa]","bg-[#fff]","w-fit","rounded-md","text-black","fill-black","items-center",3,"click"],["d","M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40a8,8,0,0,0-11.32-11.32L136,124.69V32a8,8,0,0,0-16,0v92.69L93.66,98.34a8,8,0,0,0-11.32,11.32Z"],["d","M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.46,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"],[1,"text-lg","text-[#999]"],[1,"w-full","flex","h-fit"],[3,"size"],[1,"flex","flex-shrink-0","w-fit"],["class","w-80 h-fit border-2 border-[#ddd] rounded-md flex flex-col p-3 mr-6 relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-80","h-fit","border-2","border-[#ddd]","rounded-md","flex","flex-col","p-3","mr-6","relative",3,"ngClass"],[1,"font-medium","tracking-wide","text-sm","text-nowrap"],[1,"text-sm"],["class","text-xs",4,"ngIf"],[1,"flex","flex-col","mt-2"],[1,"border-2","h-24","w-full","rounded-md","border-[#c2c2c2]","mt-2"],[1,"m-2","text-xs"],[1,"flex","justify-between","flex-row","flex-grow-0","items-center"],[1,"flex","flex-col","justify-center","items-center","w-32","flex-grow-0","mt-2","px-2","p-2","rounded-md","text-white",3,"ngClass"],[1,"relative"],[1,"h-[40px]",3,"src"],[1,"text-xs"],[1,"w-full","flex","justify-center","items-center","h-fit"],[1,"fixed","h-[100vh]","w-[100vw]","top-0","left-0","bg-[#00000058]","flex","justify-center","items-center"],[3,"dialog_exit","req_data"]],template:function(e,n){e&1&&(u(0,"div",1)(1,"div")(2,"div",2)(3,"p",3),g(4,"Detail Pengajuan"),h(),u(5,"div",4)(6,"div",5)(7,"p",6),g(8,"Judul Pengajuan"),h(),u(9,"p",7),g(10),h()(),u(11,"div",8),w(12,"div",9),h(),u(13,"div",5)(14,"p",6),g(15,"Nomor Order"),h(),u(16,"p",10),g(17),h()(),u(18,"div",8),w(19,"div",9),h(),u(20,"div",5)(21,"p",6),g(22,"Tanggal Order"),h(),u(23,"p",10),g(24),h()()()()(),w(25,"div",11),u(26,"p",12),g(27,"Item Pengajuan"),h(),u(28,"div",13)(29,"div",14)(30,"div",15)(31,"table",16)(32,"thead",17)(33,"tr")(34,"th",18),g(35,"No"),h(),u(36,"th",19),g(37,"Keterangan"),h(),u(38,"th",19),g(39,"Jenis Pembiayaan"),h(),u(40,"th",20),g(41,"Bank"),h(),u(42,"th",21),g(43,"Harga Satuan"),h(),u(44,"th",22),g(45,"Quantity"),h(),u(46,"th",22),g(47,"PPN"),h(),u(48,"th",22),g(49,"PPH"),h(),u(50,"th",23),g(51,"Total Harga"),h()()(),u(52,"tbody",24),T(53,rC,31,15,"tr",25),h()()()()(),w(54,"div",26),u(55,"div",27)(56,"div",28),g(57,"Uploaded file"),h(),T(58,aC,3,2,"div",29)(59,lC,2,1,"div",30),h(),w(60,"div",26),u(61,"div",31)(62,"div",3),g(63,"Approval"),h(),u(64,"div",32),T(65,hC,2,1,"div",33)(66,pC,2,1,"div",34),h()(),T(67,fC,3,1,"dialog",35),w(68,"div",36),u(69,"div",37)(70,"button",38),S("click",function(){return n.dialog_approve_spawn()}),g(71,"Proses Pengajuan"),h(),u(72,"button",39),S("click",function(){return n.export_pdf()}),g(73,"Export PDF "),h()(),w(74,"div",40),h()),e&2&&(f(10),xe(" ",n.dec_string(n.judul_pengajuan),""),f(7),R(n.req_id),f(7),R(n.order_create_date),f(29),b("ngForOf",n.arr_item_pengajuan),f(5),b("ngIf",!n.isFetching_file),f(),b("ngIf",n.isFetching_file),f(6),b("ngIf",!n.isFetching_approval),f(),b("ngIf",n.isFetching_approval),f(),b("ngIf",n.spawn_box_approve))},dependencies:[Re,Q,Se,Ne,me,ps,ge,zc,Vn],encapsulation:2})};var Ao=class{constructor(t,e,n,r){if(isNaN(t)||isNaN(e))throw new Error(`Point is invalid: (${t}, ${e})`);this.x=+t,this.y=+e,this.pressure=n||0,this.time=r||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}},rh=class i{static fromPoints(t,e){let n=this.calculateControlPoints(t[0],t[1],t[2]).c2,r=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new i(t[1],n,r,t[2],e.start,e.end)}static calculateControlPoints(t,e,n){let r=t.x-e.x,o=t.y-e.y,s=e.x-n.x,a=e.y-n.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+n.x)/2,y:(e.y+n.y)/2},d=Math.sqrt(r*r+o*o),p=Math.sqrt(s*s+a*a),m=l.x-c.x,_=l.y-c.y,v=d+p==0?0:p/(d+p),x={x:c.x+m*v,y:c.y+_*v},E=e.x-x.x,F=e.y-x.y;return{c1:new Ao(l.x+E,l.y+F),c2:new Ao(c.x+E,c.y+F)}}constructor(t,e,n,r,o,s){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=r,this.startWidth=o,this.endWidth=s}length(){let e=0,n,r;for(let o=0;o<=10;o+=1){let s=o/10,a=this.point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){let c=a-n,d=l-r;e+=Math.sqrt(c*c+d*d)}n=a,r=l}return e}point(t,e,n,r,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+o*t*t*t}},oh=class{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,e,n){this._et.addEventListener(t,e,n)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,e,n){this._et.removeEventListener(t,e,n)}};function mC(i,t=250){let e=0,n=null,r,o,s,a=()=>{e=Date.now(),n=null,r=i.apply(o,s),n||(o=null,s=[])};return function(...c){let d=Date.now(),p=t-(d-e);return o=this,s=c,p<=0||p>t?(n&&(clearTimeout(n),n=null),e=d,r=i.apply(o,s),n||(o=null,s=[])):n||(n=window.setTimeout(a,p)),r}}var $c=class i extends oh{constructor(t,e={}){var n,r,o;super(),this.canvas=t,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=s=>{!this._isLeftButtonPressed(s,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(s))},this._handleMouseMove=s=>{if(!this._isLeftButtonPressed(s,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(s),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(s))},this._handleMouseUp=s=>{this._isLeftButtonPressed(s)||this._strokeEnd(this._pointerEventToSignatureEvent(s))},this._handleTouchStart=s=>{s.targetTouches.length!==1||this._drawingStroke||(s.cancelable&&s.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(s)))},this._handleTouchMove=s=>{if(s.targetTouches.length===1){if(s.cancelable&&s.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(s),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(s))}},this._handleTouchEnd=s=>{s.targetTouches.length===0&&(s.cancelable&&s.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(s)))},this._handlePointerDown=s=>{!s.isPrimary||!this._isLeftButtonPressed(s)||this._drawingStroke||typeof this._strokePointerId<"u"&&this._strokePointerId!==this._getPointerId(s)||(this._strokePointerId=this._getPointerId(s),s.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(s)))},this._handlePointerMove=s=>{if(!(!s.isPrimary||this._strokePointerId!==this._getPointerId(s))){if(!this._isLeftButtonPressed(s,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(s),!1);return}s.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(s))}},this._handlePointerUp=s=>{!s.isPrimary||this._isLeftButtonPressed(s)||this._strokePointerId!==this._getPointerId(s)||(this._strokePointerId=void 0,s.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(s)))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle=(n=e.throttle)!==null&&n!==void 0?n:16,this.minDistance=(r=e.minDistance)!==null&&r!==void 0?r:5,this.dotSize=e.dotSize||0,this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=e.compositeOperation||"source-over",this.canvasContextOptions=(o=e.canvasContextOptions)!==null&&o!==void 0?o:{},this._strokeMoveUpdate=this.throttle?mC(i.prototype._strokeUpdate,this.throttle):i.prototype._strokeUpdate,this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){let{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(t,e={}){return new Promise((n,r)=>{let o=new Image,s=e.ratio||window.devicePixelRatio||1,a=e.width||this.canvas.width/s,l=e.height||this.canvas.height/s,c=e.xOffset||0,d=e.yOffset||0;this._reset(this._getPointGroupOptions()),o.onload=()=>{this._ctx.drawImage(o,c,d,a,l),n()},o.onerror=p=>{r(p)},o.crossOrigin="anonymous",o.src=t,this._isEmpty=!1})}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return typeof e!="object"&&(e=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(e))}`;default:return typeof e!="number"&&(e=void 0),this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";let t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){var t;let e=window.document===this.canvas.ownerDocument?window:(t=this.canvas.ownerDocument.defaultView)!==null&&t!==void 0?t:this.canvas.ownerDocument;return{addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}_removeMoveUpEventListeners(){let{removeEventListener:t}=this._getListenerFunctions();t("pointermove",this._handlePointerMove),t("pointerup",this._handlePointerUp),t("mousemove",this._handleMouseMove),t("mouseup",this._handleMouseUp),t("touchmove",this._handleTouchMove),t("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:e=!0}={}){e&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_isLeftButtonPressed(t,e){return e?t.buttons===1:(t.buttons&1)===1}_pointerEventToSignatureEvent(t){return{event:t,type:t.type,x:t.clientX,y:t.clientY,pressure:"pressure"in t?t.pressure:0}}_touchEventToSignatureEvent(t){let e=t.changedTouches[0];return{event:t,type:t.type,x:e.clientX,y:e.clientY,pressure:e.force}}_getPointerId(t){return t.persistentDeviceId||t.pointerId}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;let{addEventListener:n}=this._getListenerFunctions();switch(t.event.type){case"mousedown":n("mousemove",this._handleMouseMove,{passive:!1}),n("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":n("touchmove",this._handleTouchMove,{passive:!1}),n("touchend",this._handleTouchEnd,{passive:!1});break;case"pointerdown":n("pointermove",this._handlePointerMove,{passive:!1}),n("pointerup",this._handlePointerUp,{passive:!1});break}this._drawingStroke=!0;let r=this._getPointGroupOptions(),o=Object.assign(Object.assign({},r),{points:[]});this._data.push(o),this._reset(r),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));let e=this._createPoint(t.x,t.y,t.pressure),n=this._data[this._data.length-1],r=n.points,o=r.length>0&&r[r.length-1],s=o?e.distanceTo(o)<=this.minDistance:!1,a=this._getPointGroupOptions(n);if(!o||!(o&&s)){let l=this._addPoint(e,a);o?l&&this._drawCurve(l,a):this._drawDot(e,a),r.push({time:e.time,x:e.x,y:e.y,pressure:e.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t,e=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(e&&this._strokeUpdate(t),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,e,n){let r=this.canvas.getBoundingClientRect();return new Ao(t-r.left,e-r.top,n,new Date().getTime())}_addPoint(t,e){let{_lastPoints:n}=this;if(n.push(t),n.length>2){n.length===3&&n.unshift(n[0]);let r=this._calculateCurveWidths(n[1],n[2],e),o=rh.fromPoints(n,r);return n.shift(),o}return null}_calculateCurveWidths(t,e,n){let r=n.velocityFilterWeight*e.velocityFrom(t)+(1-n.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(r,n),s={end:o,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=o,s}_strokeWidth(t,e){return Math.max(e.maxWidth/(t+1),e.minWidth)}_drawCurveSegment(t,e,n){let r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,e){let n=this._ctx,r=t.endWidth-t.startWidth,o=Math.ceil(t.length())*2;n.beginPath(),n.fillStyle=e.penColor;for(let s=0;s<o;s+=1){let a=s/o,l=a*a,c=l*a,d=1-a,p=d*d,m=p*d,_=m*t.startPoint.x;_+=3*p*a*t.control1.x,_+=3*d*l*t.control2.x,_+=c*t.endPoint.x;let v=m*t.startPoint.y;v+=3*p*a*t.control1.y,v+=3*d*l*t.control2.y,v+=c*t.endPoint.y;let x=Math.min(t.startWidth+c*r,e.maxWidth);this._drawCurveSegment(_,v,x)}n.closePath(),n.fill()}_drawDot(t,e){let n=this._ctx,r=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,r),n.closePath(),n.fillStyle=e.penColor,n.fill()}_fromData(t,e,n){for(let r of t){let{points:o}=r,s=this._getPointGroupOptions(r);if(o.length>1)for(let a=0;a<o.length;a+=1){let l=o[a],c=new Ao(l.x,l.y,l.pressure,l.time);a===0&&this._reset(s);let d=this._addPoint(c,s);d&&e(d,s)}else this._reset(s),n(o[0],s)}}toSVG({includeBackgroundColor:t=!1}={}){let e=this._data,n=Math.max(window.devicePixelRatio||1,1),r=0,o=0,s=this.canvas.width/n,a=this.canvas.height/n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttribute("viewBox",`${r} ${o} ${s} ${a}`),l.setAttribute("width",s.toString()),l.setAttribute("height",a.toString()),t&&this.backgroundColor){let c=document.createElement("rect");c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill",this.backgroundColor),l.appendChild(c)}return this._fromData(e,(c,{penColor:d})=>{let p=document.createElement("path");if(!isNaN(c.control1.x)&&!isNaN(c.control1.y)&&!isNaN(c.control2.x)&&!isNaN(c.control2.y)){let m=`M ${c.startPoint.x.toFixed(3)},${c.startPoint.y.toFixed(3)} C ${c.control1.x.toFixed(3)},${c.control1.y.toFixed(3)} ${c.control2.x.toFixed(3)},${c.control2.y.toFixed(3)} ${c.endPoint.x.toFixed(3)},${c.endPoint.y.toFixed(3)}`;p.setAttribute("d",m),p.setAttribute("stroke-width",(c.endWidth*2.25).toFixed(3)),p.setAttribute("stroke",d),p.setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),l.appendChild(p)}},(c,{penColor:d,dotSize:p,minWidth:m,maxWidth:_})=>{let v=document.createElement("circle"),x=p>0?p:(m+_)/2;v.setAttribute("r",x.toString()),v.setAttribute("cx",c.x.toString()),v.setAttribute("cy",c.y.toString()),v.setAttribute("fill",d),l.appendChild(v)}),l.outerHTML}};var gC=["canvas"];function _C(i,t){i&1&&(u(0,"p",10),g(1,"Signature is required"),h())}var Wc=class i{canvasEl;base64_sig_data=new Z;signatureNeeded;signaturePad;signatureImg;base64_sig;constructor(){}ngOnInit(){}ngAfterViewInit(){this.signaturePad=new $c(this.canvasEl.nativeElement)}startDrawing(t){console.log("asd")}stopDrawing(t){let e=this.signaturePad.toDataURL();this.base64_sig_data.emit(e)}clearPad(){this.signaturePad.clear(),this.base64_sig_data.emit(null)}savePad(){let t=this.signaturePad.toDataURL();this.signatureImg=t,this.signatureNeeded=this.signaturePad.isEmpty(),this.signatureNeeded||(this.signatureNeeded=!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-c-signature-pad"]],viewQuery:function(e,n){if(e&1&&Be(gC,5),e&2){let r;ce(r=de())&&(n.canvasEl=r.first)}},outputs:{base64_sig_data:"base64_sig_data"},decls:13,vars:1,consts:[["canvas",""],[1,"w-fit","relative"],[1,"mb-2","w-fit"],["width","300","height","160",1,"rounded-md","border-2","border-[#b5b5b5]",3,"pointerup","pointerleave"],["class","error-message",4,"ngIf"],[1,"buttons","flex","justify-end","mt-2"],[1,"p-1","px-2","bg-[#666]","text-white","rounded-md",3,"click"],[1,"absolute","bottom-14","w-full","pointer-events-none","items-center","flex","flex-col","opacity-20"],[1,"w-[80%]","h-[2px]","bg-black"],[1,"mt-1"],[1,"error-message"]],template:function(e,n){if(e&1){let r=$();u(0,"div",1)(1,"h4",2),g(2,"Please Add your signature here"),h(),u(3,"canvas",3,0),S("pointerup",function(s){return M(r),A(n.stopDrawing(s))})("pointerleave",function(s){return M(r),A(n.stopDrawing(s))}),h(),T(5,_C,2,0,"p",4),u(6,"div",5)(7,"button",6),S("click",function(){return M(r),A(n.clearPad())}),g(8," Reset "),h()(),u(9,"div",7),w(10,"div",8),u(11,"p",9),g(12," Nama Penanda Tangan"),h()()()}e&2&&(f(5),b("ngIf",n.signatureNeeded))},dependencies:[Q,me],encapsulation:2})};function vC(i,t){if(i&1){let e=$();u(0,"div",11)(1,"button",12),S("click",function(){M(e);let r=C();return A(r.update_suppl())}),ee(),u(2,"svg",13),w(3,"path",14),h(),Ce(),u(4,"p",15),g(5,"Simpan Perubahan"),h()(),w(6,"div",4),u(7,"button",16),S("click",function(){M(e);let r=C();return A(r.remove_suppl())}),ee(),u(8,"svg",13),w(9,"path",17),h(),Ce(),u(10,"p",15),g(11,"Remove Supplier"),h()()()}}function bC(i,t){i&1&&(u(0,"div",18)(1,"p"),g(2,"Proccessing..."),h()())}var Gc=class i{constructor(t,e){this.http=t;this.snackbar=e}closePopupEvent=new Z;getApproval=new Z;supplData;is_fetching=!1;is_fetching_update=!1;supplData_new=null;ngOnInit(){this.supplData_new=k({},this.supplData)}update_validation_check(){return JSON.stringify(this.supplData)!==JSON.stringify(this.supplData_new)}closeThis(){this.closePopupEvent.emit()}cancelAction(t){t.stopPropagation()}remove_suppl(){return N(this,null,function*(){this.is_fetching_update=!0;let t={supl_id:this.supplData.SUPL_ID};(yield X(this.http.post(J.env_dev.host+"/api-eappr/remove_suppl",t))).status==200&&this.snackbar.open("Update supplier berhasil.",void 0,{duration:5e3,panelClass:["notif_success"]}),this.is_fetching_update=!1})}update_suppl(){return N(this,null,function*(){if(this.update_validation_check()){this.is_fetching_update=!0;let t={data:this.supplData_new};(yield X(this.http.post(J.env_dev.host+"/api-eappr/update_suppl",t))).status==200?(this.snackbar.open("Update supplier berhasil.",void 0,{duration:5e3,panelClass:["notif_success"]}),this.getApproval.emit()):this.snackbar.open("Update supplier gagal.",void 0,{duration:5e3,panelClass:["notif_failed"]}),this.is_fetching_update=!1}else this.snackbar.open("Tidak ada perubahan.",void 0,{duration:5e3,panelClass:["notif_neutral"]})})}static \u0275fac=function(e){return new(e||i)(D(Ee),D(ct))};static \u0275cmp=P({type:i,selectors:[["app-c-suppliers-action-box"]],inputs:{supplData:"supplData"},outputs:{closePopupEvent:"closePopupEvent",getApproval:"getApproval"},decls:49,vars:9,consts:[[1,"w-[100vw]","h-[100vh]","bg-[#0000006b]","fixed","z-20","left-0","top-0","flex","items-center","justify-center",3,"click"],[1,"w-[40vw]","h-fit","p-4","bg-white","rounded-md","relative","border-2","border-[#e0e0e0]","flex","flex-col",3,"click"],[1,"flex","flex-row","items-center"],[1,"text-sm","w-32"],[1,"mx-2"],[1,"p-1","px-2","w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"my-1"],["disabled","",1,"p-1","px-2","w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModel"],["disabled","",1,"p-1","px-2","w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],["class","flex flex-row justify-between mt-4",4,"ngIf"],["class","mt-4 h-[43px] flex items-center justify-center",4,"ngIf"],[1,"flex","flex-row","justify-between","mt-4"],[1,"p-2","bg-green-700","border-2","border-green-600","text-white","fill-white","rounded-md","flex","flex-row","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 256 256"],["d","M219.31,72,184,36.69A15.86,15.86,0,0,0,172.69,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V83.31A15.86,15.86,0,0,0,219.31,72ZM168,208H88V152h80Zm40,0H184V152a16,16,0,0,0-16-16H88a16,16,0,0,0-16,16v56H48V48H172.69L208,83.31ZM160,72a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h56A8,8,0,0,1,160,72Z"],[1,"ml-1"],[1,"p-2","bg-red-700","border-2","border-red-600","text-white","fill-white","rounded-md","flex","flex-row","items-center",3,"click"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"mt-4","h-[43px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0),S("click",function(){return n.closeThis()}),u(1,"div",1),S("click",function(o){return n.cancelAction(o)}),u(2,"div",2)(3,"p",3),g(4,"Nama Supplier: "),h(),w(5,"div",4),u(6,"input",5),q("ngModelChange",function(o){return G(n.supplData_new.SUPPLIER_NAME,o)||(n.supplData_new.SUPPLIER_NAME=o),o}),h()(),w(7,"div",6),u(8,"div",2)(9,"p",3),g(10,"No. Rek: "),h(),w(11,"div",4)(12,"input",7),h(),w(13,"div",6),u(14,"div",2)(15,"p",3),g(16,"Nama Rek: "),h(),w(17,"div",4)(18,"input",7),h(),w(19,"div",6),u(20,"div",2)(21,"p",3),g(22,"Bank Name: "),h(),w(23,"div",4),u(24,"input",8),q("ngModelChange",function(o){return G(n.supplData_new.BANK_NAME,o)||(n.supplData_new.BANK_NAME=o),o}),h()(),w(25,"div",6),u(26,"div",2)(27,"p",3),g(28,"Is Active: "),h(),w(29,"div",4),u(30,"select",5),q("ngModelChange",function(o){return G(n.supplData_new.IS_ACTIVE,o)||(n.supplData_new.IS_ACTIVE=o),o}),u(31,"option"),g(32,"Y"),h(),u(33,"option"),g(34,"N"),h()()(),w(35,"div",6),u(36,"div",2)(37,"p",3),g(38,"Created By: "),h(),w(39,"div",4)(40,"input",7),h(),w(41,"div",6),u(42,"div",2)(43,"p",3),g(44,"Created Date: "),h(),w(45,"div",4)(46,"input",7),h(),T(47,vC,12,0,"div",9)(48,bC,3,0,"div",10),h()()),e&2&&(f(6),W("ngModel",n.supplData_new.SUPPLIER_NAME),f(6),b("ngModel",n.supplData_new.REK_NO),f(6),b("ngModel",n.supplData_new.REK_NAME),f(6),W("ngModel",n.supplData_new.BANK_NAME),f(6),W("ngModel",n.supplData_new.IS_ACTIVE),f(10),b("ngModel",n.supplData_new.CREATED_BY),f(6),b("ngModel",n.supplData_new.CREATED_DATE),f(),b("ngIf",!n.is_fetching_update),f(),b("ngIf",n.is_fetching_update))},dependencies:[Re,ge,St,Et,Ve,$t,Fe,He,Q,me],encapsulation:2})};var S5=i=>({"placeholder-opacity-100":i}),yC=(i,t)=>({"bg-gray-300":i,"opacity-50":t});function wC(i,t){if(i&1){let e=$();u(0,"div")(1,"app-c-suppliers-action-box",29),S("closePopupEvent",function(){M(e);let r=C(2);return A(r.show_suppl_action_box=!1)}),h()()}if(i&2){let e=C(2);f(),b("supplData",e.act_suppl)}}function CC(i,t){if(i&1){let e=$();u(0,"tr",47)(1,"td",48),g(2),h(),u(3,"td",49),g(4),h(),u(5,"td",50),g(6),h(),u(7,"td",51),g(8),h(),u(9,"td",52),g(10),h(),u(11,"td",53),g(12),h(),u(13,"td",53),g(14),h(),u(15,"td",54)(16,"button",55),S("click",function(){let r=M(e).index,o=C(3);return A(o.f_show_suppl_action_box(r))}),g(17," Action "),h()()()}if(i&2){let e=t.$implicit,n=t.index;f(2),R(n+1),f(2),R(e.SUPPLIER_NAME),f(2),R(e.REK_NAME),f(2),R(e.REK_NO),f(2),R(e.BANK_NAME),f(2),R(e.CREATED_BY),f(2),R(e.CREATED_DATE)}}function xC(i,t){i&1&&(u(0,"div",56),g(1," No Data "),h())}function SC(i,t){if(i&1){let e=$();u(0,"div",30)(1,"table",31)(2,"thead",32)(3,"tr",0)(4,"th",33),g(5,"NO"),h(),u(6,"th",34),g(7,"Nama Supplier"),h(),u(8,"th",34),g(9,"Nama Rekening"),h(),u(10,"th",35),g(11,"No. Rekening"),h(),u(12,"th",36),g(13,"Nama Bank"),h(),u(14,"th",37),g(15,"Created by"),h(),u(16,"th",35),g(17,"Created Date"),h(),u(18,"th",35),g(19,"ACTION"),h()()(),u(20,"tbody",38),T(21,CC,18,7,"tr",39),h()(),T(22,xC,2,0,"div",40),u(23,"div",41)(24,"button",42),S("click",function(){M(e);let r=C(2);return A(r.pgDown())}),ee(),u(25,"svg",43),w(26,"path",44),h()(),Ce(),w(27,"input",45),u(28,"button",42),S("click",function(){M(e);let r=C(2);return A(r.pgUp())}),ee(),u(29,"svg",43),w(30,"path",46),h()()()()}if(i&2){let e=C(2);f(21),b("ngForOf",e.tableData),f(),b("ngIf",e.tableData.length==0),f(5),b("value",e.act_page)}}function EC(i,t){i&1&&(u(0,"div",57)(1,"p"),g(2,"Fetching data..."),h()())}function DC(i,t){if(i&1){let e=$();u(0,"div",16),w(1,"div",17),u(2,"p",1),g(3,"Edit Supplier"),h(),T(4,wC,2,1,"div",18),u(5,"div",19)(6,"div",20)(7,"input",21),q("ngModelChange",function(r){M(e);let o=C();return G(o.q_search,r)||(o.q_search=r),A(r)}),S("keyup.enter",function(){M(e);let r=C();return A(r.get_suppliers())}),h(),w(8,"div",13),u(9,"Button",22),S("click",function(){M(e);let r=C();return A(r.get_suppliers())}),u(10,"p",23),g(11,"Search"),h(),w(12,"div",24),ee(),u(13,"svg",25),w(14,"path",26),h()()()(),T(15,SC,31,3,"div",27)(16,EC,3,0,"div",28),Ce(),w(17,"div",17),h()}if(i&2){let e=C();f(4),b("ngIf",e.show_suppl_action_box),f(3),W("ngModel",e.q_search),f(8),b("ngIf",!e.is_fetching_data),f(),b("ngIf",e.is_fetching_data)}}var qc=class i{constructor(t,e){this.http=t;this.snackbar=e}is_fetching=!0;can_add_suppl=!1;is_fetching_data=!0;show_suppl_action_box=!1;isFetching_add_suppl=!1;act_bank=null;act_suppl=null;act_page=1;tableData=[];arr_banks=[];arr_banks_base=[];suppl_name="";suppl_rek_name="";suppl_rek_no="";suppl_bank_name="";q_search="";ngOnInit(){this.initLoad(),this.is_fetching=!1}initLoad(){return N(this,null,function*(){yield this.get_banks(),this.get_suppliers()})}jobCheck_it(){return Ie().EMPL_JOB=="G00123"}get_banks(){return N(this,null,function*(){let t={data:"data"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_banks",{params:t}));this.arr_banks_base=e.data;let n=[];e.data.forEach(r=>{var o=r.BANK_NAME;n.push(o)}),this.arr_banks=n})}get_suppliers(){return N(this,null,function*(){this.is_fetching_data=!0;let t={q_page:this.act_page,q_search:this.q_search.toLowerCase()};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_suppliers",{params:t}));console.log(e),this.tableData=e.data,this.is_fetching_data=!1})}clear_act_bank(){this.act_bank=null,this.listen_inps()}on_banks_changed(t){let e=0;this.arr_banks_base.forEach(n=>{n.BANK_NAME==t&&(this.act_bank=this.arr_banks_base[e],console.log(this.act_bank)),e++}),this.listen_inps()}add_supplier(){return N(this,null,function*(){if(this.can_add_suppl||this.snackbar.open("Periksa kembali informasi penambahan supplier.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!this.isFetching_add_suppl&&this.can_add_suppl){this.isFetching_add_suppl=!0;try{let e={bank_code:this.act_bank.BANK_ID,bank_name:this.act_bank.BANK_NAME,suppl_rek_no:this.suppl_rek_no,suppl_rek_name:this.suppl_rek_name,suppl_name:this.suppl_name,suppl_bank_name:this.suppl_bank_name,empl_code:Ie().EMPL_CODE};var t=yield X(this.http.post(J.env_dev.host+"/api-eappr/add_supplier",e));console.log(t),t.data.includes("berhasil")?this.snackbar.open(t.data,void 0,{duration:5e3,panelClass:["notif_success"]}):this.snackbar.open(t.data,void 0,{duration:5e3,panelClass:["notif_failed"]})}catch(e){console.log(e.error.message),this.snackbar.open(e.error.message,void 0,{duration:5e3,panelClass:["notif_failed"]})}finally{this.isFetching_add_suppl=!1}}})}listen_inps(){console.log(this.act_bank),this.suppl_name.length!=0&&this.suppl_rek_name.length!=0&&this.suppl_rek_no.length!=0&&this.act_bank!=null?this.can_add_suppl=!0:this.can_add_suppl=!1,console.log(this.can_add_suppl)}reset_add_suppl(){this.suppl_bank_name="",this.suppl_name="",this.suppl_rek_name="",this.suppl_rek_no="",this.listen_inps()}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_suppliers()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_suppliers())}f_show_suppl_action_box(t){let e=this.tableData[t];this.act_suppl=e,this.show_suppl_action_box=!0}static \u0275fac=function(e){return new(e||i)(D(Ee),D(ct))};static \u0275cmp=P({type:i,selectors:[["app-p-suppliers"]],decls:34,vars:15,consts:[[1,""],[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"text-sm"],[1,"flex","flex-col","justify-center"],[1,"mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","ngModel"],[1,"my-4"],[1,"w-[30vw]"],[3,"remove","clear","change","items"],[1,"my-6"],[1,"flex","flex-row"],[1,"w-24","p-2","bg-red-700","border-2","opacity-100","border-red-600","text-white","rounded-md","transition-all",3,"click"],[3,"ngClass"],[1,"mx-1"],[1,"w-44","p-2","bg-green-700","border-2","opacity-100","border-green-600","text-white","rounded-md","transition-all",3,"click","ngClass"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],[1,"py-8"],[4,"ngIf"],[1,"mb-4"],[1,"rounded-full","border","border-gray-400","p-1","flex","flex-row","items-center","w-fit"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","w-[200px]",3,"ngModelChange","keyup.enter","ngModel"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],["class"," border rounded-md flex flex-col justify-between h-[520px]",4,"ngIf"],["class","w-full h-[560px] flex items-center justify-center",4,"ngIf"],[3,"closePopupEvent","supplData"],[1,"border","rounded-md","flex","flex-col","justify-between","h-[520px]"],[1,"w-full","overflow-x-auto","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,"w-[30px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[130px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[60px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[80px]","border-slate-500","font-medium","pl-2","py-4"],[1,"border-separate","pt-10"],["class","h-8 flex-grow-0 odd:bg-gray-100 border-b",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[420px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"value"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"h-8","flex-grow-0","odd:bg-gray-100","border-b"],[1,"px-2","border","border-l-0","text-center"],[1,"px-2","border","text-left"],[1,"px-2","border","text-start"],[1,"px-2","border","text-center","py-4"],[1,"px-2","border","text-center"],[1,"px-2","border","text-center","py-2"],[1,"px-2","border","border-r-0","text-center","py-2"],[1,"mx-2","rounded-full","px-4","py-1","bg-[#242424]","text-white",3,"click"],[1,"w-full","flex","items-center","justify-center","h-[420px]"],[1,"w-full","h-[560px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),g(2,"Set Up Supplier"),h(),u(3,"div",2)(4,"div",3)(5,"label",4),g(6,"Supplier name :"),h(),u(7,"input",5),S("input",function(){return n.listen_inps()}),q("ngModelChange",function(o){return G(n.suppl_name,o)||(n.suppl_name=o),o}),h()(),w(8,"div",6),u(9,"div",3)(10,"label",4),g(11,"Nama Rekening Supplier :"),h(),u(12,"input",5),S("input",function(){return n.listen_inps()}),q("ngModelChange",function(o){return G(n.suppl_rek_name,o)||(n.suppl_rek_name=o),o}),h()(),w(13,"div",6),u(14,"div",3)(15,"label",4),g(16,"Nomor Rekening Supplier :"),h(),u(17,"input",5),S("input",function(){return n.listen_inps()}),q("ngModelChange",function(o){return G(n.suppl_rek_no,o)||(n.suppl_rek_no=o),o}),h()(),w(18,"div",6),u(19,"div",3)(20,"label",4),g(21,"Bank :"),h(),u(22,"div",7)(23,"ng-select",8),S("remove",function(){return n.clear_act_bank()})("clear",function(){return n.clear_act_bank()})("change",function(o){return n.on_banks_changed(o)}),h()()(),w(24,"div",9),u(25,"div",10)(26,"button",11),S("click",function(){return n.reset_add_suppl()}),u(27,"p",12),g(28,"Reset"),h()(),w(29,"div",13),u(30,"button",14),S("click",function(){return n.add_supplier()}),u(31,"p",12),g(32,"Tambah Supplier"),h()()()(),T(33,DC,18,4,"div",15),h()),e&2&&(f(7),W("ngModel",n.suppl_name),f(5),W("ngModel",n.suppl_rek_name),f(5),W("ngModel",n.suppl_rek_no),f(6),b("items",n.arr_banks),f(4),b("ngClass",ve(8,S5,n.is_fetching===!0)),f(3),b("ngClass",Ze(10,yC,n.is_fetching===!0,!n.can_add_suppl)),f(),b("ngClass",ve(13,S5,n.is_fetching===!0)),f(2),b("ngIf",!0))},dependencies:[Q,Se,Ne,me,ge,Ve,Fe,He,Re,kc,Ln,Gc],encapsulation:2})};var E5=i=>({"placeholder-opacity-100":i}),MC=(i,t)=>({"bg-gray-300":i,"opacity-50":t}),D5=i=>({"border-r-0":i});function AC(i,t){if(i&1&&(u(0,"option"),g(1),h()),i&2){let e=t.$implicit;f(),xe(" ",e," ")}}function kC(i,t){if(i&1&&(u(0,"th",51),g(1,"Action"),h()),i&2){let e=C(2);b("ngClass",ve(1,D5,e.jobCheck_it()))}}function TC(i,t){if(i&1){let e=$();u(0,"td",58)(1,"button",59),S("click",function(){M(e);let r=C().index,o=C(2);return A(o.f_show_jenis_pemb_action_box(r))}),g(2," Action "),h()()}if(i&2){let e=C(3);b("ngClass",ve(1,D5,e.jobCheck_it()))}}function IC(i,t){if(i&1&&(u(0,"tr",52)(1,"td",53),g(2),h(),u(3,"td",54),g(4),h(),u(5,"td",55),g(6),h(),u(7,"td",56),g(8),h(),u(9,"td",56),g(10),h(),u(11,"td",56),g(12),h(),T(13,TC,3,3,"td",57),h()),i&2){let e=t.$implicit,n=t.index,r=C(2);f(2),R(n+1),f(2),R(e.NAME_TYPE),f(2),R(e.group_type),f(2),R(e.is_active),f(2),R(e.created_by),f(2),R(e.created_date),f(),b("ngIf",r.jobCheck_it())}}function PC(i,t){i&1&&(u(0,"div",60),g(1," No Data "),h())}function RC(i,t){if(i&1){let e=$();u(0,"div",33)(1,"table",34)(2,"thead",35)(3,"tr",3)(4,"th",36),g(5,"NO"),h(),u(6,"th",37),g(7,"Name Type"),h(),u(8,"th",38),g(9,"Group Type"),h(),u(10,"th",39),g(11,"Is Active"),h(),u(12,"th",40),g(13,"Created By"),h(),u(14,"th",38),g(15,"Created Date"),h(),T(16,kC,2,3,"th",41),h()(),u(17,"tbody",42),T(18,IC,14,7,"tr",43),h()(),T(19,PC,2,0,"div",44),u(20,"div",45)(21,"button",46),S("click",function(){M(e);let r=C();return A(r.pgDown())}),ee(),u(22,"svg",47),w(23,"path",48),h()(),Ce(),w(24,"input",49),u(25,"button",46),S("click",function(){M(e);let r=C();return A(r.pgUp())}),ee(),u(26,"svg",47),w(27,"path",50),h()()()()}if(i&2){let e=C();f(16),b("ngIf",e.jobCheck_it()),f(2),b("ngForOf",e.tableData),f(),b("ngIf",e.tableData.length==0),f(5),b("value",e.act_page)}}function OC(i,t){i&1&&(u(0,"div",61)(1,"p"),g(2,"Fetching data..."),h(),w(3,"app-c-loading-spin"),h())}var Kc=class i{constructor(t,e){this.http=t;this.snackbar=e}is_fetching=!0;is_fetching_data=!1;tableData=[];q_search="";act_page=1;act_jenis_pemb="";act_jenis_pemb_group="";allow_add_jenis_pemb=!1;arr_jenis_pemb_group=["P_CABANG","P_PUSAT"];ngOnInit(){this.act_jenis_pemb_group=this.arr_jenis_pemb_group[0]}listen_inps(){this.act_jenis_pemb.length!=0&&this.act_jenis_pemb_group.length!=0?this.allow_add_jenis_pemb=!0:this.allow_add_jenis_pemb=!1}get_tableData(){return N(this,null,function*(){this.is_fetching_data=!0;let t={q_page:this.act_page,q_search:this.q_search.toLowerCase()};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_jenis_pembayaran",{params:t}));console.log(e),this.tableData=e.data,this.is_fetching_data=!1})}jobCheck_it(){return Ie().EMPL_JOB=="G00123"}reset_jenis_pemb(){}f_show_jenis_pemb_action_box(t){console.log(t)}add_jenis_pemb(){return N(this,null,function*(){if(this.allow_add_jenis_pemb){let e={name_type:this.act_jenis_pemb,group_type:this.act_jenis_pemb_group,empl_code:Ri()};var t=yield X(this.http.post(J.env_dev.host+"/api-eappr/add_jenis_pembayaran",e));console.log(t),t.status==200?(this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:"notif_success"}),this.get_tableData()):this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:"notif_failed"})}})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}clear_act_pemb_group(){this.act_jenis_pemb="",this.listen_inps()}static \u0275fac=function(e){return new(e||i)(D(Ee),D(ct))};static \u0275cmp=P({type:i,selectors:[["app-p-jenis-pembayaran"]],decls:49,vars:16,consts:[[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"text-sm"],[1,"flex","flex-col","justify-center"],[1,""],[1,"text-sm","text-[#888]","tracking-wide","rounded-md","w-fit","mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","ngModel"],[1,"py-2"],[1,"mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"my-6"],[1,"flex","flex-row"],[1,"w-24","p-2","bg-red-700","border-2","opacity-100","border-red-600","text-white","rounded-md","transition-all",3,"click"],[3,"ngClass"],[1,"mx-1"],[1,"w-52","p-2","bg-green-700","border-2","opacity-100","border-green-600","text-white","rounded-md","transition-all",3,"click","ngClass"],[1,"flex","flex-col"],[1,"py-8"],[1,"mb-4","flex","flex-row","items-center"],[1,"rounded-full","border","border-gray-400","p-1","flex","flex-row","items-center","w-fit"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","w-[200px]",3,"ngModelChange","keyup.enter","ngModel"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],[1,"p-1","px-2","h-fit","bg-[#252525]","hover:bg-[#333]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-1","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[0.6px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[2px]"],["d","M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"],["class"," border rounded-md flex flex-col justify-between h-[480px]",4,"ngIf"],["class","w-full h-[480px] flex items-center justify-center",4,"ngIf"],[1,"border","rounded-md","flex","flex-col","justify-between","h-[480px]"],[1,"w-full","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,"w-[30px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[200px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[100px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[80px]","border-slate-500","font-medium","pl-2","py-4"],["class","w-[130px] border-slate-500 font-medium pl-2 py-4",3,"ngClass",4,"ngIf"],[1,"border-separate","pt-10"],["class","h-8 flex-grow-0 odd:bg-gray-100 ",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[480px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"value"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"w-[130px]","border-slate-500","font-medium","pl-2","py-4",3,"ngClass"],[1,"h-8","flex-grow-0","odd:bg-gray-100"],[1,"px-2","border-2","border-gray-200","border-l-0","text-center"],[1,"px-2","border-2","border-gray-200","text-left"],[1,"px-2","border-2","border-gray-200","text-center"],[1,"px-2","border-2","border-gray-200","text-center","py-2"],["class","px-2 border-2 border-gray-200 text-center py-2",3,"ngClass",4,"ngIf"],[1,"px-2","border-2","border-gray-200","text-center","py-2",3,"ngClass"],[1,"mx-2","rounded-full","px-4","py-1","bg-[#242424]","text-white",3,"click"],[1,"w-full","flex","items-center","justify-center","h-[480px]"],[1,"w-full","h-[480px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div")(1,"p",0),g(2,"Set Up Jenis Transaksi"),h(),u(3,"div",1)(4,"div",2)(5,"label",3),g(6,"Nama Jenis Transaksi : "),h(),u(7,"p",4),g(8," Pastikan jenis Transaksi belum ada / belum dibuat. "),h(),u(9,"input",5),S("input",function(){return n.listen_inps()}),q("ngModelChange",function(o){return G(n.act_jenis_pemb,o)||(n.act_jenis_pemb=o),o}),h()(),w(10,"div",6),u(11,"div",2)(12,"label",7),g(13,"Group Jenis Transaksi : "),h(),u(14,"select",8),q("ngModelChange",function(o){return G(n.act_jenis_pemb_group,o)||(n.act_jenis_pemb_group=o),o}),T(15,AC,2,1,"option",9),h()(),w(16,"div",10),u(17,"div",11)(18,"button",12),S("click",function(){return n.clear_act_pemb_group()}),u(19,"p",13),g(20,"Reset"),h()(),w(21,"div",14),u(22,"button",15),S("click",function(){return n.add_jenis_pemb()}),u(23,"p",13),g(24,"Tambah Jenis Transaksi"),h()()()(),u(25,"div",16),w(26,"div",17),u(27,"p",0),g(28,"Jenis Transaksi"),h(),u(29,"div",18)(30,"div",19)(31,"input",20),q("ngModelChange",function(o){return G(n.q_search,o)||(n.q_search=o),o}),S("keyup.enter",function(){return n.get_tableData()}),h(),w(32,"div",14),u(33,"Button",21),S("click",function(){return n.get_tableData()}),u(34,"p",22),g(35,"Search"),h(),w(36,"div",23),ee(),u(37,"svg",24),w(38,"path",25),h()()(),Ce(),w(39,"div",14),u(40,"Button",26),S("click",function(){return n.get_tableData()}),u(41,"p",27),g(42,"Refresh"),h(),w(43,"div",28),ee(),u(44,"svg",29),w(45,"path",30),h()()(),T(46,RC,28,4,"div",31)(47,OC,4,0,"div",32),Ce(),w(48,"div",17),h()()),e&2&&(f(9),W("ngModel",n.act_jenis_pemb),f(5),W("ngModel",n.act_jenis_pemb_group),f(),b("ngForOf",n.arr_jenis_pemb_group),f(4),b("ngClass",ve(9,E5,n.is_fetching===!0)),f(3),b("ngClass",Ze(11,MC,n.is_fetching===!0,!n.allow_add_jenis_pemb)),f(),b("ngClass",ve(14,E5,n.is_fetching===!0)),f(8),W("ngModel",n.q_search),f(15),b("ngIf",!n.is_fetching_data),f(),b("ngIf",n.is_fetching_data))},dependencies:[ge,St,Et,Ve,$t,Fe,He,Q,Se,Ne,me,Re,Vn],encapsulation:2})};var M5=i=>typeof i>"u"||i===null,NC=i=>i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),FC=i=>{let t={};return Object.keys(i).forEach(e=>{i[e]&&(t[e]=i[e])}),t},Yc=i=>{let t=FC(i);return Object.entries(t).map(([e,n])=>`${NC(e)}:${n}`).join(";")},ko=class extends Error{constructor(t){super(t),this.name=this.constructor.name}},sh=()=>{let i=Date.now().toString(36),t=Math.random().toString(36).substring(2,7);return`${i}${t}`},A5=(i,t,e)=>Math.min(Math.max(i,t),e);function Dt(i){this.content=i}Dt.prototype={constructor:Dt,find:function(i){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===i)return t;return-1},get:function(i){var t=this.find(i);return t==-1?void 0:this.content[t+1]},update:function(i,t,e){var n=e&&e!=i?this.remove(e):this,r=n.find(i),o=n.content.slice();return r==-1?o.push(e||i,t):(o[r+1]=t,e&&(o[r]=e)),new Dt(o)},remove:function(i){var t=this.find(i);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new Dt(e)},addToStart:function(i,t){return new Dt([i,t].concat(this.remove(i).content))},addToEnd:function(i,t){var e=this.remove(i).content.slice();return e.push(i,t),new Dt(e)},addBefore:function(i,t,e){var n=this.remove(t),r=n.content.slice(),o=n.find(i);return r.splice(o==-1?r.length:o,0,t,e),new Dt(r)},forEach:function(i){for(var t=0;t<this.content.length;t+=2)i(this.content[t],this.content[t+1])},prepend:function(i){return i=Dt.from(i),i.size?new Dt(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=Dt.from(i),i.size?new Dt(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var t=this;i=Dt.from(i);for(var e=0;e<i.content.length;e+=2)t=t.remove(i.content[e]);return t},toObject:function(){var i={};return this.forEach(function(t,e){i[t]=e}),i},get size(){return this.content.length>>1}};Dt.from=function(i){if(i instanceof Dt)return i;var t=[];if(i)for(var e in i)t.push(e,i[e]);return new Dt(t)};var ah=Dt;function B5(i,t,e){for(let n=0;;n++){if(n==i.childCount||n==t.childCount)return i.childCount==t.childCount?null:e;let r=i.child(n),o=t.child(n);if(r==o){e+=r.nodeSize;continue}if(!r.sameMarkup(o))return e;if(r.isText&&r.text!=o.text){for(let s=0;r.text[s]==o.text[s];s++)e++;return e}if(r.content.size||o.content.size){let s=B5(r.content,o.content,e+1);if(s!=null)return s}e+=r.nodeSize}}function V5(i,t,e,n){for(let r=i.childCount,o=t.childCount;;){if(r==0||o==0)return r==o?null:{a:e,b:n};let s=i.child(--r),a=t.child(--o),l=s.nodeSize;if(s==a){e-=l,n-=l;continue}if(!s.sameMarkup(a))return{a:e,b:n};if(s.isText&&s.text!=a.text){let c=0,d=Math.min(s.text.length,a.text.length);for(;c<d&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,e--,n--;return{a:e,b:n}}if(s.content.size||a.content.size){let c=V5(s.content,a.content,e-1,n-1);if(c)return c}e-=l,n-=l}}var L=class i{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,e,n,r=0,o){for(let s=0,a=0;a<e;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&n(l,r+a,o||null,s)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,e-d),n,r+d)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let o="",s=!0;return this.nodesBetween(t,e,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,e-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(s?s=!1:o+=n),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new i(r,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let n=[],r=0;if(e>t)for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>e)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,e-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,e-s-1))),n.push(a),r+=a.nodeSize),s=l}return new i(n,r)}cutByIndex(t,e){return t==e?i.empty:t==0&&e==this.content.length?this:new i(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new i(r,o)}addToStart(t){return new i([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new i(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return B5(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return V5(this,t,e,n)}findIndex(t,e=-1){if(t==0)return Jc(0,t);if(t==this.size)return Jc(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),s=r+o.nodeSize;if(s>=t)return s==t||e>0?Jc(n+1,s):Jc(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return i.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return i.empty;let e,n=0;for(let r=0;r<t.length;r++){let o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new i(e||t,n)}static from(t){if(!t)return i.empty;if(t instanceof i)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new i([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};L.empty=new L([],0);var lh={index:0,offset:0};function Jc(i,t){return lh.index=i,lh.offset=t,lh}function Qc(i,t){if(i===t)return!0;if(!(i&&typeof i=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(i);if(Array.isArray(t)!=e)return!1;if(e){if(i.length!=t.length)return!1;for(let n=0;n<i.length;n++)if(!Qc(i[n],t[n]))return!1}else{for(let n in i)if(!(n in t)||!Qc(i[n],t[n]))return!1;for(let n in t)if(!(n in i))return!1}return!0}var Oe=(()=>{class i{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Qc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return i.none;if(e instanceof i)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}}return i.none=[],i})(),Sr=class extends Error{},j=class i{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=j5(this.content,t+this.openStart,e);return n&&new i(n,this.openStart,this.openEnd)}removeBetween(t,e){return new i(H5(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return i.empty;let n=e.openStart||0,r=e.openEnd||0;if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new i(L.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new i(t,n,r)}};j.empty=new j(L.empty,0,0);function H5(i,t,e){let{index:n,offset:r}=i.findIndex(t),o=i.maybeChild(n),{index:s,offset:a}=i.findIndex(e);if(r==t||o.isText){if(a!=e&&!i.child(s).isText)throw new RangeError("Removing non-flat range");return i.cut(0,t).append(i.cut(e))}if(n!=s)throw new RangeError("Removing non-flat range");return i.replaceChild(n,o.copy(H5(o.content,t-r-1,e-r-1)))}function j5(i,t,e,n){let{index:r,offset:o}=i.findIndex(t),s=i.maybeChild(r);if(o==t||s.isText)return n&&!n.canReplace(r,r,e)?null:i.cut(0,t).append(e).append(i.cut(t));let a=j5(s.content,t-o-1,e);return a&&i.replaceChild(r,s.copy(a))}function LC(i,t,e){if(e.openStart>i.depth)throw new Sr("Inserted content deeper than insertion position");if(i.depth-e.openStart!=t.depth-e.openEnd)throw new Sr("Inconsistent open depths");return Z5(i,t,e,0)}function Z5(i,t,e,n){let r=i.index(n),o=i.node(n);if(r==t.index(n)&&n<i.depth-e.openStart){let s=Z5(i,t,e,n+1);return o.copy(o.content.replaceChild(r,s))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&i.depth==n&&t.depth==n){let s=i.parent,a=s.content;return xr(s,a.cut(0,i.parentOffset).append(e.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=BC(e,i);return xr(o,U5(i,s,a,t,n))}else return xr(o,ed(i,t,n))}function z5(i,t){if(!t.type.compatibleContent(i.type))throw new Sr("Cannot join "+t.type.name+" onto "+i.type.name)}function dh(i,t,e){let n=i.node(e);return z5(n,t.node(e)),n}function Cr(i,t){let e=t.length-1;e>=0&&i.isText&&i.sameMarkup(t[e])?t[e]=i.withText(t[e].text+i.text):t.push(i)}function fa(i,t,e,n){let r=(t||i).node(e),o=0,s=t?t.index(e):r.childCount;i&&(o=i.index(e),i.depth>e?o++:i.textOffset&&(Cr(i.nodeAfter,n),o++));for(let a=o;a<s;a++)Cr(r.child(a),n);t&&t.depth==e&&t.textOffset&&Cr(t.nodeBefore,n)}function xr(i,t){return i.type.checkContent(t),i.copy(t)}function U5(i,t,e,n,r){let o=i.depth>r&&dh(i,t,r+1),s=n.depth>r&&dh(e,n,r+1),a=[];return fa(null,i,r,a),o&&s&&t.index(r)==e.index(r)?(z5(o,s),Cr(xr(o,U5(i,t,e,n,r+1)),a)):(o&&Cr(xr(o,ed(i,t,r+1)),a),fa(t,e,r,a),s&&Cr(xr(s,ed(e,n,r+1)),a)),fa(n,null,r,a),new L(a)}function ed(i,t,e){let n=[];if(fa(null,i,e,n),i.depth>e){let r=dh(i,t,e+1);Cr(xr(r,ed(i,t,e+1)),n)}return fa(t,null,e,n),new L(n)}function BC(i,t){let e=t.depth-i.openStart,r=t.node(e).copy(i.content);for(let o=e-1;o>=0;o--)r=t.node(o).copy(L.from(r));return{start:r.resolveNoCache(i.openStart+e),end:r.resolveNoCache(r.content.size-i.openEnd-e)}}var td=class i{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[e*3],r=e==0?0:this.path[e*3-1]+1;for(let o=0;o<t;o++)r+=n.child(o).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return Oe.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let a=n;n=r,r=a}let o=n.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!r||!n[o].isInSet(r.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Er(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,o=e;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(n.push(s,a,r+l),!c||(s=s.child(a),s.isText))break;o=c-1,r+=l+1}return new i(e,n,o)}static resolveCached(t,e){let n=k5.get(t);if(n)for(let o=0;o<n.elts.length;o++){let s=n.elts[o];if(s.pos==e)return s}else k5.set(t,n=new uh);let r=n.elts[n.i]=i.resolve(t,e);return n.i=(n.i+1)%VC,r}},uh=class{constructor(){this.elts=[],this.i=0}},VC=12,k5=new WeakMap,Er=class{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},HC=Object.create(null),Hn=class i{constructor(t,e,n,r=Oe.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||L.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&Qc(this.attrs,e||t.defaultAttrs||HC)&&Oe.sameSet(this.marks,n||Oe.none)}copy(t=null){return t==this.content?this:new i(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return j.empty;let r=this.resolve(t),o=this.resolve(e),s=n?0:r.sharedDepth(e),a=r.start(s),c=r.node(s).content.cut(r.pos-a,o.pos-a);return new j(c,r.depth-s,o.depth-s)}replace(t,e,n){return LC(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return td.resolveCached(this,t)}resolveNoCache(t){return td.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,o=>(n.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),$5(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=L.empty,r=0,o=n.childCount){let s=this.contentMatchAt(t).matchFragment(n,r,o),a=s&&s.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(n),s=o&&o.matchFragment(this.content,e);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Oe.none;for(let e=0;e<this.marks.length;e++){let n=this.marks[e];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!Oe.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=L.fromJSON(t,e.content),o=t.nodeType(e.type).create(e.attrs,r,n);return o.type.checkAttrs(o.attrs),o}};Hn.prototype.text=void 0;var hh=class i extends Hn{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):$5(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new i(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function $5(i,t){for(let e=i.length-1;e>=0;e--)t=i[e].type.name+"("+t+")";return t}var Dr=class i{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new ph(t,e);if(n.next==null)return i.empty;let r=W5(n);n.next&&n.err("Unexpected trailing text");let o=GC(WC(r));return qC(o,n),o}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];function o(s,a){let l=s.matchFragment(t,n);if(l&&(!e||l.validEnd))return L.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:d,next:p}=s.next[c];if(!(d.isText||d.hasRequiredAttrs())&&r.indexOf(p)==-1){r.push(p);let m=o(p,a.concat(d));if(m)return m}}return null}return o(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(t)){let s=[];for(let a=r;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in e)&&(!r.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:r}),e[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(n){t.push(n);for(let r=0;r<n.next.length;r++)t.indexOf(n.next[r].next)==-1&&e(n.next[r].next)}return e(this),t.map((n,r)=>{let o=r+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)o+=(s?", ":"")+n.next[s].type.name+"->"+t.indexOf(n.next[s].next);return o}).join(`
`)}};Dr.empty=new Dr(!0);var ph=class{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}};function W5(i){let t=[];do t.push(jC(i));while(i.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function jC(i){let t=[];do t.push(ZC(i));while(i.next&&i.next!=")"&&i.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function ZC(i){let t=$C(i);for(;;)if(i.eat("+"))t={type:"plus",expr:t};else if(i.eat("*"))t={type:"star",expr:t};else if(i.eat("?"))t={type:"opt",expr:t};else if(i.eat("{"))t=zC(i,t);else break;return t}function T5(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let t=Number(i.next);return i.pos++,t}function zC(i,t){let e=T5(i),n=e;return i.eat(",")&&(i.next!="}"?n=T5(i):n=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:e,max:n,expr:t}}function UC(i,t){let e=i.nodeTypes,n=e[t];if(n)return[n];let r=[];for(let o in e){let s=e[o];s.isInGroup(t)&&r.push(s)}return r.length==0&&i.err("No node type or group '"+t+"' found"),r}function $C(i){if(i.eat("(")){let t=W5(i);return i.eat(")")||i.err("Missing closing paren"),t}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let t=UC(i,i.next).map(e=>(i.inline==null?i.inline=e.isInline:i.inline!=e.isInline&&i.err("Mixing inline and block content"),{type:"name",value:e}));return i.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function WC(i){let t=[[]];return r(o(i,0),e()),t;function e(){return t.push([])-1}function n(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function r(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;r(c,a=e())}else if(s.type=="star"){let l=e();return n(a,l),r(o(s.expr,l),l),[n(l)]}else if(s.type=="plus"){let l=e();return r(o(s.expr,a),l),r(o(s.expr,l),l),[n(l)]}else{if(s.type=="opt")return[n(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let d=e();r(o(s.expr,l),d),l=d}if(s.max==-1)r(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let d=e();n(l,d),r(o(s.expr,l),d),l=d}return[n(l)]}else{if(s.type=="name")return[n(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function G5(i,t){return t-i}function I5(i,t){let e=[];return n(t),e.sort(G5);function n(r){let o=i[r];if(o.length==1&&!o[0].term)return n(o[0].to);e.push(r);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&e.indexOf(l)==-1&&n(l)}}}function GC(i){let t=Object.create(null);return e(I5(i,0));function e(n){let r=[];n.forEach(s=>{i[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<r.length;d++)r[d][0]==a&&(c=r[d][1]);I5(i,l).forEach(d=>{c||r.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let o=t[n.join(",")]=new Dr(n.indexOf(i.length-1)>-1);for(let s=0;s<r.length;s++){let a=r[s][1].sort(G5);o.next.push({type:r[s][0],next:t[a.join(",")]||e(a)})}return o}}function qC(i,t){for(let e=0,n=[i];e<n.length;e++){let r=n[e],o=!r.validEnd,s=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function q5(i){let t=Object.create(null);for(let e in i){let n=i[e];if(!n.hasDefault)return null;t[e]=n.default}return t}function K5(i,t){let e=Object.create(null);for(let n in i){let r=t&&t[n];if(r===void 0){let o=i[n];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+n)}e[n]=r}return e}function Y5(i,t,e,n){for(let r in t)if(!(r in i))throw new RangeError(`Unsupported attribute ${r} for ${e} of type ${r}`);for(let r in i){let o=i[r];o.validate&&o.validate(t[r])}}function J5(i,t){let e=Object.create(null);if(t)for(let n in t)e[n]=new fh(i,n,t[n]);return e}var nd=class i{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=J5(t,n.attrs),this.defaultAttrs=q5(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Dr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:K5(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Hn(this,this.computeAttrs(t),L.from(e),Oe.setFrom(n))}createChecked(t=null,e,n){return e=L.from(e),this.checkContent(e),new Hn(this,this.computeAttrs(t),e,Oe.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),e=L.from(e),e.size){let s=this.contentMatch.fillBefore(e);if(!s)return null;e=s.append(e)}let r=this.contentMatch.matchFragment(e),o=r&&r.fillBefore(L.empty,!0);return o?new Hn(this,t,e.append(o),Oe.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){Y5(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:Oe.none:t}static compile(t,e){let n=Object.create(null);t.forEach((o,s)=>n[o]=new i(o,e,s));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function KC(i,t,e){let n=e.split("|");return r=>{let o=r===null?"null":typeof r;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${i}, got ${o}`)}}var fh=class{constructor(t,e,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?KC(t,e,n.validate):n.validate}get isRequired(){return!this.hasDefault}},ga=class i{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=J5(t,r.attrs),this.excluded=null;let o=q5(this.attrs);this.instance=o?new Oe(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Oe(this,K5(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach((o,s)=>n[o]=new i(o,r++,e,s)),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){Y5(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},id=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=ah.from(t.nodes),e.marks=ah.from(t.marks||{}),this.nodes=nd.compile(this.spec.nodes,this),this.marks=ga.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=n[s]||(n[s]=Dr.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?P5(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:P5(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof nd){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new hh(n,n.defaultAttrs,t,Oe.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return Hn.fromJSON(this,t)}markFromJSON(t){return Oe.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}};function P5(i,t){let e=[];for(let n=0;n<t.length;n++){let r=t[n],o=i.marks[r],s=o;if(o)e.push(o);else for(let a in i.marks){let l=i.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&e.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return e}function YC(i){return i.tag!=null}function JC(i){return i.style!=null}var Ni=class i{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let n=this.matchedStyles=[];e.forEach(r=>{if(YC(r))this.tags.push(r);else if(JC(r)){let o=/[^=]*/.exec(r.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=t.nodes[r.node];return o.contentMatch.matchType(o)})}parse(t,e={}){let n=new rd(this,e,!1);return n.addAll(t,Oe.none,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new rd(this,e,!0);return n.addAll(t,Oe.none,e.from,e.to),j.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(ex(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,e,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!n.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=e))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let e=[];function n(r){let o=r.priority==null?50:r.priority,s=0;for(;s<e.length;s++){let a=e[s];if((a.priority==null?50:a.priority)<o)break}e.splice(s,0,r)}for(let r in t.marks){let o=t.marks[r].spec.parseDOM;o&&o.forEach(s=>{n(s=O5(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in t.nodes){let o=t.nodes[r].spec.parseDOM;o&&o.forEach(s=>{n(s=O5(s)),s.node||s.ignore||s.mark||(s.node=r)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new i(t,i.schemaRules(t)))}},X5={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},XC={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Q5={ol:!0,ul:!0},_a=1,mh=2,ma=4;function R5(i,t,e){return t!=null?(t?_a:0)|(t==="full"?mh:0):i&&i.whitespace=="pre"?_a|mh:e&~ma}var To=class{constructor(t,e,n,r,o,s){this.type=t,this.attrs=e,this.marks=n,this.solid=r,this.options=s,this.content=[],this.activeMarks=Oe.none,this.match=o||(s&ma?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(L.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(t.type))?(this.match=n,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&_a)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let e=L.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(L.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!X5.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}},rd=class{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=e.topNode,o,s=R5(null,e.preserveWhitespace,0)|(n?ma:0);r?o=new To(r.type,r.attrs,Oe.none,!0,e.topMatch||r.type.contentMatch,s):n?o=new To(null,null,Oe.none,!0,null,s):o=new To(t.schema.topNodeType,null,Oe.none,!0,null,s),this.nodes=[o],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let n=t.nodeValue,r=this.top,o=r.options&mh?"full":this.localPreserveWS||(r.options&_a)>0;if(o==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(o)o!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],a=t.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),e,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,e,n){let r=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;Q5.hasOwnProperty(s)&&this.parser.normalizeLists&&QC(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,n));e:if(l?l.ignore:XC.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,d=this.needsBlock;if(X5.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let p=l&&l.skip?e:this.readStyles(t,e);p&&this.addAll(t,p),c&&this.sync(o),this.needsBlock=d}else{let c=this.readStyles(t,e);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e,!0)}readStyles(t,e){let n=t.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],s=n.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?e=e.filter(c=>!l.clearMark(c)):e=e.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return e}addElementByRule(t,e,n,r){let o,s;if(e.node)if(s=this.parser.schema.nodes[e.node],s.isLeaf)this.insertNode(s.create(e.attrs),n,t.nodeName=="BR")||this.leafFallback(t,n);else{let l=this.enter(s,e.attrs||null,n,e.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[e.mark];n=n.concat(l.create(e.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,n,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=t;typeof e.contentElement=="string"?l=t.querySelector(e.contentElement):typeof e.contentElement=="function"?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l,n),this.findAround(t,l,!1)}o&&this.sync(a)&&this.open--}addAll(t,e,n,r){let o=n||0;for(let s=n?t.childNodes[n]:t.firstChild,a=r==null?null:t.childNodes[r];s!=a;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s,e);this.findAtPoint(t,o)}findPlace(t,e,n){let r,o;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(t);if(c&&(!r||r.length>c.length+a)&&(r=c,o=l,!c.length))break;if(l.solid){if(n)break;a+=2}}if(!r)return null;this.sync(o);for(let s=0;s<r.length;s++)e=this.enterInner(r[s],null,e,!1);return e}insertNode(t,e,n){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(e=this.enterInner(o,null,e))}let r=this.findPlace(t,e,n);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let s=Oe.none;for(let a of r.concat(t.marks))(o.type?o.type.allowsMarkType(a.type):N5(a.type,t.type))&&(s=a.addToSet(s));return o.content.push(t.mark(s)),!0}return!1}enter(t,e,n,r){let o=this.findPlace(t.create(e),n,!1);return o&&(o=this.enterInner(t,e,n,!0,r)),o}enterInner(t,e,n,r=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=R5(t,o,s.options);s.options&ma&&s.content.length==0&&(a|=ma);let l=Oe.none;return n=n.filter(c=>(s.type?s.type.allowsMarkType(c.type):N5(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new To(t,e,l,r,null,a)),this.open++,n}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=_a)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),s=(a,l)=>{for(;a>=0;a--){let c=e[a];if(c==""){if(a==e.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let d=l>0||l==0&&r?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return s(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let n=this.parser.schema.nodes[e];if(n.isTextblock&&n.defaultAttrs)return n}}};function QC(i){for(let t=i.firstChild,e=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&Q5.hasOwnProperty(n)&&e?(e.appendChild(t),t=e):n=="li"?e=t:n&&(e=null)}}function ex(i,t){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,t)}function O5(i){let t={};for(let e in i)t[e]=i[e];return t}function N5(i,t){let e=t.schema.nodes;for(let n in e){let r=e[n];if(!r.allowsMarkType(i))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:d}=a.edge(l);if(c==t||o.indexOf(d)<0&&s(d))return!0}};if(s(r.contentMatch))return!0}}var ri=class i{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=ch(e).createDocumentFragment());let r=n,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)r=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],d=this.serializeMark(c,s.isInline,e);d&&(o.push([c,r]),r.appendChild(d.dom),r=d.contentDOM||d.dom)}}r.appendChild(this.serializeNodeInner(s,e))}),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=Xc(ch(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&Xc(ch(n),r(t,e),null,t.attrs)}static renderSpec(t,e,n=null,r){return Xc(t,e,n,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new i(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=F5(t.nodes);return e.text||(e.text=n=>n.text),e}static marksFromSchema(t){return F5(t.marks)}};function F5(i){let t={};for(let e in i){let n=i[e].spec.toDOM;n&&(t[e]=n)}return t}function ch(i){return i.document||window.document}var L5=new WeakMap;function tx(i){let t=L5.get(i);return t===void 0&&L5.set(i,t=nx(i)),t}function nx(i){let t=null;function e(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let r=0;r<n.length;r++)e(n[r]);else for(let r in n)e(n[r])}return e(i),t}function Xc(i,t,e,n){if(typeof t=="string")return{dom:i.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=tx(n))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(e=r.slice(0,s),r=r.slice(s+1));let a,l=e?i.createElementNS(e,r):i.createElement(r),c=t[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let p in c)if(c[p]!=null){let m=p.indexOf(" ");m>0?l.setAttributeNS(p.slice(0,m),p.slice(m+1),c[p]):l.setAttribute(p,c[p])}}for(let p=d;p<t.length;p++){let m=t[p];if(m===0){if(p<t.length-1||p>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:_,contentDOM:v}=Xc(i,m,e,n);if(l.appendChild(_),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:l,contentDOM:a}}var n_=65535,i_=Math.pow(2,16);function ix(i,t){return i+t*i_}function e_(i){return i&n_}function rx(i){return(i-(i&n_))/i_}var r_=1,o_=2,od=4,s_=8,ya=class{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(this.delInfo&s_)>0}get deletedBefore(){return(this.delInfo&(r_|od))>0}get deletedAfter(){return(this.delInfo&(o_|od))>0}get deletedAcross(){return(this.delInfo&od)>0}},oi=class i{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&i.empty)return i.empty}recover(t){let e=0,n=e_(t);if(!this.inverted)for(let r=0;r<n;r++)e+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[n*3]+e+rx(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+o],d=this.ranges[a+s],p=l+c;if(t<=p){let m=c?t==l?-1:t==p?1:e:e,_=l+r+(m<0?0:d);if(n)return _;let v=t==(e<0?l:p)?null:ix(a/3,t-l),x=t==l?o_:t==p?r_:od;return(e<0?t!=l:t!=p)&&(x|=s_),new ya(_,x,v)}r+=d-c}return n?t+r:new ya(t+r,0,null)}touches(t,e){let n=0,r=e_(e),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;let c=this.ranges[a+o],d=l+c;if(t<=d&&a==r*3)return!0;n+=this.ranges[a+s]-c}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let s=this.ranges[r],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[r+e],d=this.ranges[r+n];t(a,a+c,l,l+d),o+=d-c}}invert(){return new i(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?i.empty:new i(t<0?[0,-t,0]:[0,0,t])}};oi.empty=new oi([]);var wa=class i{constructor(t,e,n=0,r=t?t.length:0){this.mirror=e,this.from=n,this.to=r,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new i(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),e!=null&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,n=this._maps.length;e<t._maps.length;e++){let r=t.getMirror(e);this.appendMap(t._maps[e],r!=null&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this._maps.length+t._maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t._maps[e].invert(),r!=null&&r>e?n-r-1:void 0)}}invert(){let t=new i;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(t,e);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,t=a.pos}return n?t:new ya(t,r,null)}},gh=Object.create(null),dt=class{getMap(){return oi.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=gh[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in gh)throw new RangeError("Duplicate use of step JSON ID "+t);return gh[t]=e,e.prototype.jsonID=t,e}},mt=class i{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new i(t,null)}static fail(t){return new i(null,t)}static fromReplace(t,e,n,r){try{return i.ok(t.replace(e,n,r))}catch(o){if(o instanceof Sr)return i.fail(o.message);throw o}}};function wh(i,t,e){let n=[];for(let r=0;r<i.childCount;r++){let o=i.child(r);o.content.size&&(o=o.copy(wh(o.content,t,o))),o.isInline&&(o=t(o,e,r)),n.push(o)}return L.fromArray(n)}var Ca=class i extends dt{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new j(wh(e.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),e.openStart,e.openEnd);return mt.fromReplace(t,this.from,this.to,o)}invert(){return new Mr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};dt.jsonID("addMark",Ca);var Mr=class i extends dt{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new j(wh(e.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),e.openStart,e.openEnd);return mt.fromReplace(t,this.from,this.to,n)}invert(){return new Ca(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};dt.jsonID("removeMark",Mr);var xa=class i extends dt{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return mt.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return mt.fromReplace(t,this.pos,this.pos+1,new j(L.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let n=this.mark.addToSet(e.marks);if(n.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(n))return new i(this.pos,e.marks[r]);return new i(this.pos,this.mark)}}return new Io(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};dt.jsonID("addNodeMark",xa);var Io=class i extends dt{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return mt.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return mt.fromReplace(t,this.pos,this.pos+1,new j(L.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new xa(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};dt.jsonID("removeNodeMark",Io);var en=class i extends dt{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&bh(t,this.from,this.to)?mt.fail("Structure replace would overwrite content"):mt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new oi([this.from,this.to-this.from,this.slice.size])}invert(t){return new i(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new i(e.pos,Math.max(e.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof i)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?j.empty:new j(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new i(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?j.empty:new j(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new i(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new i(e.from,e.to,j.fromJSON(t,e.slice),!!e.structure)}};dt.jsonID("replace",en);var ut=class i extends dt{constructor(t,e,n,r,o,s,a=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(bh(t,this.from,this.gapFrom)||bh(t,this.gapTo,this.to)))return mt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return mt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?mt.fromReplace(t,this.from,this.to,n):mt.fail("Content does not fit in gap")}getMap(){return new oi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new i(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||o>n.pos?null:new i(e.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new i(e.from,e.to,e.gapFrom,e.gapTo,j.fromJSON(t,e.slice),e.insert,!!e.structure)}};dt.jsonID("replaceAround",ut);function bh(i,t,e){let n=i.resolve(t),r=e-t,o=n.depth;for(;r>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,r--;if(r>0){let s=n.node(o).maybeChild(n.indexAfter(o));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function ox(i,t,e,n){let r=[],o=[],s,a;i.doc.nodesBetween(t,e,(l,c,d)=>{if(!l.isInline)return;let p=l.marks;if(!n.isInSet(p)&&d.type.allowsMarkType(n.type)){let m=Math.max(c,t),_=Math.min(c+l.nodeSize,e),v=n.addToSet(p);for(let x=0;x<p.length;x++)p[x].isInSet(v)||(s&&s.to==m&&s.mark.eq(p[x])?s.to=_:r.push(s=new Mr(m,_,p[x])));a&&a.to==m?a.to=_:o.push(a=new Ca(m,_,n))}}),r.forEach(l=>i.step(l)),o.forEach(l=>i.step(l))}function sx(i,t,e,n){let r=[],o=0;i.doc.nodesBetween(t,e,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(n instanceof ga){let c=s.marks,d;for(;d=n.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,e);for(let d=0;d<l.length;d++){let p=l[d],m;for(let _=0;_<r.length;_++){let v=r[_];v.step==o-1&&p.eq(r[_].style)&&(m=v)}m?(m.to=c,m.step=o):r.push({style:p,from:Math.max(a,t),to:c,step:o})}}}),r.forEach(s=>i.step(new Mr(s.from,s.to,s.style)))}function Ch(i,t,e,n=e.contentMatch,r=!0){let o=i.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),d=a+c.nodeSize,p=n.matchType(c.type);if(!p)s.push(new en(a,d,j.empty));else{n=p;for(let m=0;m<c.marks.length;m++)e.allowsMarkType(c.marks[m].type)||i.step(new Mr(a,d,c.marks[m]));if(r&&c.isText&&e.whitespace!="pre"){let m,_=/\r?\n|\r/g,v;for(;m=_.exec(c.text);)v||(v=new j(L.from(e.schema.text(" ",e.allowedMarks(c.marks))),0,0)),s.push(new en(a+m.index,a+m.index+m[0].length,v))}}a=d}if(!n.validEnd){let l=n.fillBefore(L.empty,!0);i.replace(a,a,new j(l,0,0))}for(let l=s.length-1;l>=0;l--)i.step(s[l])}function ax(i,t,e){return(t==0||i.canReplace(t,i.childCount))&&(e==i.childCount||i.canReplace(0,e))}function Ar(i){let e=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let n=i.depth;;--n){let r=i.$from.node(n),o=i.$from.index(n),s=i.$to.indexAfter(n);if(n<i.depth&&r.canReplace(o,s,e))return n;if(n==0||r.type.spec.isolating||!ax(r,o,s))break}return null}function lx(i,t,e){let{$from:n,$to:r,depth:o}=t,s=n.before(o+1),a=r.after(o+1),l=s,c=a,d=L.empty,p=0;for(let v=o,x=!1;v>e;v--)x||n.index(v)>0?(x=!0,d=L.from(n.node(v).copy(d)),p++):l--;let m=L.empty,_=0;for(let v=o,x=!1;v>e;v--)x||r.after(v+1)<r.end(v)?(x=!0,m=L.from(r.node(v).copy(m)),_++):c++;i.step(new ut(l,c,s,a,new j(d.append(m),p,_),d.size-p,!0))}function Ro(i,t,e=null,n=i){let r=cx(i,t),o=r&&dx(n,t);return o?r.map(t_).concat({type:t,attrs:e}).concat(o.map(t_)):null}function t_(i){return{type:i,attrs:null}}function cx(i,t){let{parent:e,startIndex:n,endIndex:r}=i,o=e.contentMatchAt(n).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return e.canReplaceWith(n,r,s)?o:null}function dx(i,t){let{parent:e,startIndex:n,endIndex:r}=i,o=e.child(n),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let c=n;l&&c<r;c++)l=l.matchType(e.child(c).type);return!l||!l.validEnd?null:s}function ux(i,t,e){let n=L.empty;for(let s=e.length-1;s>=0;s--){if(n.size){let a=e[s].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=L.from(e[s].type.create(e[s].attrs,n))}let r=t.start,o=t.end;i.step(new ut(r,o,r,o,new j(n,0,0),e.length,!0))}function hx(i,t,e,n,r){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=i.steps.length;i.doc.nodesBetween(t,e,(s,a)=>{let l=typeof r=="function"?r(s):r;if(s.isTextblock&&!s.hasMarkup(n,l)&&px(i.doc,i.mapping.slice(o).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let _=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);_&&!v?c=!1:!_&&v&&(c=!0)}c===!1&&l_(i,s,a,o),Ch(i,i.mapping.slice(o).map(a,1),n,void 0,c===null);let d=i.mapping.slice(o),p=d.map(a,1),m=d.map(a+s.nodeSize,1);return i.step(new ut(p,m,p+1,m-1,new j(L.from(n.create(l,null,s.marks)),0,0),1,!0)),c===!0&&a_(i,s,a,o),!1}})}function a_(i,t,e,n){t.forEach((r,o)=>{if(r.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(r.text);){let l=i.mapping.slice(n).map(e+1+o+s.index);i.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function l_(i,t,e,n){t.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let s=i.mapping.slice(n).map(e+1+o);i.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function px(i,t,e){let n=i.resolve(t),r=n.index();return n.parent.canReplaceWith(r,r+1,e)}function fx(i,t,e,n,r){let o=i.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);let s=e.create(n,null,r||o.marks);if(o.isLeaf)return i.replaceWith(t,t+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);i.step(new ut(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new j(L.from(s),0,0),1,!0))}function Fi(i,t,e=1,n){let r=i.resolve(t),o=r.depth-e,s=n&&n[n.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,d=e-2;c>o;c--,d--){let p=r.node(c),m=r.index(c);if(p.type.spec.isolating)return!1;let _=p.content.cutByIndex(m,p.childCount),v=n&&n[d+1];v&&(_=_.replaceChild(0,v.type.create(v.attrs)));let x=n&&n[d]||p;if(!p.canReplace(m+1,p.childCount)||!x.type.validContent(_))return!1}let a=r.indexAfter(o),l=n&&n[0];return r.node(o).canReplaceWith(a,a,l?l.type:r.node(o+1).type)}function mx(i,t,e=1,n){let r=i.doc.resolve(t),o=L.empty,s=L.empty;for(let a=r.depth,l=r.depth-e,c=e-1;a>l;a--,c--){o=L.from(r.node(a).copy(o));let d=n&&n[c];s=L.from(d?d.type.create(d.attrs,s):r.node(a).copy(s))}i.step(new en(t,t,new j(o.append(s),e,e),!0))}function kr(i,t){let e=i.resolve(t),n=e.index();return _x(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(n,n+1)}function gx(i,t){t.content.size||i.type.compatibleContent(t.type);let e=i.contentMatchAt(i.childCount),{linebreakReplacement:n}=i.type.schema;for(let r=0;r<t.childCount;r++){let o=t.child(r),s=o.type==n?i.type.schema.nodes.text:o.type;if(e=e.matchType(s),!e||!i.type.allowsMarks(o.marks))return!1}return e.validEnd}function _x(i,t){return!!(i&&t&&!i.isLeaf&&gx(i,t))}function vx(i,t,e){let n=null,{linebreakReplacement:r}=i.doc.type.schema,o=i.doc.resolve(t-e),s=o.node().type;if(r&&s.inlineContent){let d=s.whitespace=="pre",p=!!s.contentMatch.matchType(r);d&&!p?n=!1:!d&&p&&(n=!0)}let a=i.steps.length;if(n===!1){let d=i.doc.resolve(t+e);l_(i,d.node(),d.before(),a)}s.inlineContent&&Ch(i,t+e-1,s,o.node().contentMatchAt(o.index()),n==null);let l=i.mapping.slice(a),c=l.map(t-e);if(i.step(new en(c,l.map(t+e,-1),j.empty,!0)),n===!0){let d=i.doc.resolve(c);a_(i,d.node(),d.before(),i.steps.length)}return i}function bx(i,t,e){let n=i.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),e))return t;if(n.parentOffset==0)for(let r=n.depth-1;r>=0;r--){let o=n.index(r);if(n.node(r).canReplaceWith(o,o,e))return n.before(r+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let r=n.depth-1;r>=0;r--){let o=n.indexAfter(r);if(n.node(r).canReplaceWith(o,o,e))return n.after(r+1);if(o<n.node(r).childCount)return null}return null}function c_(i,t,e){let n=i.resolve(t);if(!e.content.size)return t;let r=e.content;for(let o=0;o<e.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(e.openStart==0&&e.size?2:1);o++)for(let s=n.depth;s>=0;s--){let a=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,l=n.index(s)+(a>0?1:0),c=n.node(s),d=!1;if(o==1)d=c.canReplace(l,l,r);else{let p=c.contentMatchAt(l).findWrapping(r.firstChild.type);d=p&&c.canReplaceWith(l,l,p[0])}if(d)return a==0?n.pos:a<0?n.before(s+1):n.after(s+1)}return null}function cd(i,t,e=t,n=j.empty){if(t==e&&!n.size)return null;let r=i.resolve(t),o=i.resolve(e);return d_(r,o,n)?new en(t,e,n):new yh(r,o,n).fit()}function d_(i,t,e){return!e.openStart&&!e.openEnd&&i.start()==t.start()&&i.parent.canReplace(i.index(),t.index(),e.content)}var yh=class{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=L.empty;for(let r=0;r<=t.depth;r++){let o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=L.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(t<0?this.$to:n.doc.resolve(t));if(!r)return null;let o=this.placed,s=n.depth,a=r.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new j(o,s,a);return t>-1?new ut(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new en(n.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let o=e.firstChild;if(e.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){t=n;break}e=o.content}for(let e=1;e<=2;e++)for(let n=e==1?t:this.unplaced.openStart;n>=0;n--){let r,o=null;n?(o=_h(this.unplaced.content,n-1).firstChild,r=o.content):r=this.unplaced.content;let s=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],d,p=null;if(e==1&&(s?c.matchType(s.type)||(p=c.fillBefore(L.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:a,parent:o,inject:p};if(e==2&&s&&(d=c.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:a,parent:o,wrap:d};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=_h(t,e);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new j(t,e+1,Math.max(n,r.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=_h(t,e);if(r.childCount<=1&&e>0){let o=t.size-e<=e+r.size;this.unplaced=new j(va(t,e-1,1),e-1,o?e-1:n)}else this.unplaced=new j(va(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:r,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let x=0;x<o.length;x++)this.openFrontierNode(o[x]);let s=this.unplaced,a=n?n.content:s.content,l=s.openStart-t,c=0,d=[],{match:p,type:m}=this.frontier[e];if(r){for(let x=0;x<r.childCount;x++)d.push(r.child(x));p=p.matchFragment(r)}let _=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let x=a.child(c),E=p.matchType(x.type);if(!E)break;c++,(c>1||l==0||x.content.size)&&(p=E,d.push(u_(x.mark(m.allowedMarks(x.marks)),c==1?l:0,c==a.childCount?_:-1)))}let v=c==a.childCount;v||(_=-1),this.placed=ba(this.placed,e,L.from(d)),this.frontier[e].match=p,v&&_<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,E=a;x<_;x++){let F=E.lastChild;this.frontier.push({type:F.type,match:F.contentMatchAt(F.childCount)}),E=F.content}this.unplaced=v?t==0?j.empty:new j(va(s.content,t-1,1),t-1,_<0?s.openEnd:t-1):new j(va(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!vh(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=vh(t,e,r,n,o);if(s){for(let a=e-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],d=vh(t,a,c,l,!0);if(!d||d.childCount)continue e}return{depth:e,fit:s,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=ba(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(t,e=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=ba(this.placed,this.depth,L.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(L.empty,!0);e.childCount&&(this.placed=ba(this.placed,this.frontier.length,e))}};function va(i,t,e){return t==0?i.cutByIndex(e,i.childCount):i.replaceChild(0,i.firstChild.copy(va(i.firstChild.content,t-1,e)))}function ba(i,t,e){return t==0?i.append(e):i.replaceChild(i.childCount-1,i.lastChild.copy(ba(i.lastChild.content,t-1,e)))}function _h(i,t){for(let e=0;e<t;e++)i=i.firstChild.content;return i}function u_(i,t,e){if(t<=0)return i;let n=i.content;return t>1&&(n=n.replaceChild(0,u_(n.firstChild,t-1,n.childCount==1?e-1:0))),t>0&&(n=i.type.contentMatch.fillBefore(n).append(n),e<=0&&(n=n.append(i.type.contentMatch.matchFragment(n).fillBefore(L.empty,!0)))),i.copy(n)}function vh(i,t,e,n,r){let o=i.node(t),s=r?i.indexAfter(t):i.index(t);if(s==o.childCount&&!e.compatibleContent(o.type))return null;let a=n.fillBefore(o.content,!0,s);return a&&!yx(e,o.content,s)?a:null}function yx(i,t,e){for(let n=e;n<t.childCount;n++)if(!i.allowsMarks(t.child(n).marks))return!0;return!1}function wx(i){return i.spec.defining||i.spec.definingForContent}function Cx(i,t,e,n){if(!n.size)return i.deleteRange(t,e);let r=i.doc.resolve(t),o=i.doc.resolve(e);if(d_(r,o,n))return i.step(new en(t,e,n));let s=p_(r,i.doc.resolve(e));s[s.length-1]==0&&s.pop();let a=-(r.depth+1);s.unshift(a);for(let m=r.depth,_=r.pos-1;m>0;m--,_--){let v=r.node(m).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;s.indexOf(m)>-1?a=m:r.before(m)==_&&s.splice(1,0,-m)}let l=s.indexOf(a),c=[],d=n.openStart;for(let m=n.content,_=0;;_++){let v=m.firstChild;if(c.push(v),_==n.openStart)break;m=v.content}for(let m=d-1;m>=0;m--){let _=c[m],v=wx(_.type);if(v&&!_.sameMarkup(r.node(Math.abs(a)-1)))d=m;else if(v||!_.type.isTextblock)break}for(let m=n.openStart;m>=0;m--){let _=(m+d+1)%(n.openStart+1),v=c[_];if(v)for(let x=0;x<s.length;x++){let E=s[(x+l)%s.length],F=!0;E<0&&(F=!1,E=-E);let re=r.node(E-1),ne=r.index(E-1);if(re.canReplaceWith(ne,ne,v.type,v.marks))return i.replace(r.before(E),F?o.after(E):e,new j(h_(n.content,0,n.openStart,_),_,n.openEnd))}}let p=i.steps.length;for(let m=s.length-1;m>=0&&(i.replace(t,e,n),!(i.steps.length>p));m--){let _=s[m];_<0||(t=r.before(_),e=o.after(_))}}function h_(i,t,e,n,r){if(t<e){let o=i.firstChild;i=i.replaceChild(0,o.copy(h_(o.content,t+1,e,n,o)))}if(t>n){let o=r.contentMatchAt(0),s=o.fillBefore(i).append(i);i=s.append(o.matchFragment(s).fillBefore(L.empty,!0))}return i}function xx(i,t,e,n){if(!n.isInline&&t==e&&i.doc.resolve(t).parent.content.size){let r=bx(i.doc,t,n.type);r!=null&&(t=e=r)}i.replaceRange(t,e,new j(L.from(n),0,0))}function Sx(i,t,e){let n=i.doc.resolve(t),r=i.doc.resolve(e),o=p_(n,r);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return i.delete(n.start(a),r.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return i.delete(n.before(a),r.after(a))}for(let s=1;s<=n.depth&&s<=r.depth;s++)if(t-n.start(s)==n.depth-s&&e>n.end(s)&&r.end(s)-e!=r.depth-s&&n.start(s-1)==r.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),r.index(s-1)))return i.delete(n.before(s),e);i.delete(t,e)}function p_(i,t){let e=[],n=Math.min(i.depth,t.depth);for(let r=n;r>=0;r--){let o=i.start(r);if(o<i.pos-(i.depth-r)||t.end(r)>t.pos+(t.depth-r)||i.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==i.depth&&r==t.depth&&i.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&e.push(r)}return e}var sd=class i extends dt{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return mt.fail("No node at attribute step's position");let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,null,e.marks);return mt.fromReplace(t,this.pos,this.pos+1,new j(L.from(r),0,e.isLeaf?0:1))}getMap(){return oi.empty}invert(t){return new i(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new i(e.pos,e.attr,e.value)}};dt.jsonID("attr",sd);var ad=class i extends dt{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return mt.ok(n)}getMap(){return oi.empty}invert(t){return new i(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new i(e.attr,e.value)}};dt.jsonID("docAttr",ad);var Po=class extends Error{};Po=function i(t){let e=Error.call(this,t);return e.__proto__=i.prototype,e};Po.prototype=Object.create(Error.prototype);Po.prototype.constructor=Po;Po.prototype.name="TransformError";var ld=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new wa}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new Po(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=j.empty){let r=cd(this.doc,t,e,n);return r&&this.step(r),this}replaceWith(t,e,n){return this.replace(t,e,new j(L.from(n),0,0))}delete(t,e){return this.replace(t,e,j.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return Cx(this,t,e,n),this}replaceRangeWith(t,e,n){return xx(this,t,e,n),this}deleteRange(t,e){return Sx(this,t,e),this}lift(t,e){return lx(this,t,e),this}join(t,e=1){return vx(this,t,e),this}wrap(t,e){return ux(this,t,e),this}setBlockType(t,e=t,n,r=null){return hx(this,t,e,n,r),this}setNodeMarkup(t,e,n=null,r){return fx(this,t,e,n,r),this}setNodeAttribute(t,e,n){return this.step(new sd(t,e,n)),this}setDocAttribute(t,e){return this.step(new ad(t,e)),this}addNodeMark(t,e){return this.step(new xa(t,e)),this}removeNodeMark(t,e){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(e instanceof Oe)e.isInSet(n.marks)&&this.step(new Io(t,e));else{let r=n.marks,o,s=[];for(;o=e.isInSet(r);)s.push(new Io(t,o)),r=o.removeFromSet(r);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(t,e=1,n){return mx(this,t,e,n),this}addMark(t,e,n){return ox(this,t,e,n),this}removeMark(t,e,n){return sx(this,t,e,n),this}clearIncompatible(t,e,n){return Ch(this,t,e,n),this}};var xh=Object.create(null),fe=class{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new No(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=j.empty){let n=e.content.lastChild,r=null;for(let a=0;a<e.openEnd;a++)r=n,n=n.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],d=t.mapping.slice(o);t.replaceRange(d.map(l.pos),d.map(c.pos),a?j.empty:e),a==0&&g_(t,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:s,$to:a}=r[o],l=t.mapping.slice(n),c=l.map(s.pos),d=l.map(a.pos);o?t.deleteRange(c,d):(t.replaceRangeWith(c,d,e),g_(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new Pe(t):Oo(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let o=t.depth-1;o>=0;o--){let s=e<0?Oo(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):Oo(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(s)return s}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new tn(t.node(0))}static atStart(t){return Oo(t,t,0,0,1)||new tn(t)}static atEnd(t){return Oo(t,t,t.content.size,t.childCount,-1)||new tn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=xh[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in xh)throw new RangeError("Duplicate use of selection JSON ID "+t);return xh[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Pe.between(this.$anchor,this.$head).getBookmark()}};fe.prototype.visible=!0;var No=class{constructor(t,e){this.$from=t,this.$to=e}},f_=!1;function m_(i){!f_&&!i.parent.inlineContent&&(f_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}var Pe=class i extends fe{constructor(t,e=t){m_(t),m_(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return fe.near(n);let r=t.resolve(e.map(this.anchor));return new i(r.parent.inlineContent?r:n,n)}replace(t,e=j.empty){if(super.replace(t,e),e==j.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof i&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new ud(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new i(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if((!n||r)&&(n=r>=0?1:-1),!e.parent.inlineContent){let o=fe.findFrom(e,n,!0)||fe.findFrom(e,-n,!0);if(o)e=o.$head;else return fe.near(e,n)}return t.parent.inlineContent||(r==0?t=e:(t=(fe.findFrom(t,-n,!0)||fe.findFrom(t,n,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new i(t,e)}};fe.jsonID("text",Pe);var ud=class i{constructor(t,e){this.anchor=t,this.head=e}map(t){return new i(t.map(this.anchor),t.map(this.head))}resolve(t){return Pe.between(t.resolve(this.anchor),t.resolve(this.head))}},te=class i extends fe{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),o=t.resolve(r);return n?fe.near(o):new i(o)}content(){return new j(L.from(this.node),0,0)}eq(t){return t instanceof i&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Eh(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new i(t.resolve(e.anchor))}static create(t,e){return new i(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};te.prototype.visible=!1;fe.jsonID("node",te);var Eh=class i{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new ud(n,n):new i(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&te.isSelectable(n)?new te(e):fe.near(e)}},tn=class i extends fe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=j.empty){if(e==j.empty){t.delete(0,t.doc.content.size);let n=fe.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new i(t)}map(t){return new i(t)}eq(t){return t instanceof i}getBookmark(){return Ex}};fe.jsonID("all",tn);var Ex={map(){return this},resolve(i){return new tn(i)}};function Oo(i,t,e,n,r,o=!1){if(t.inlineContent)return Pe.create(i,e);for(let s=n-(r>0?0:1);r>0?s<t.childCount:s>=0;s+=r){let a=t.child(s);if(a.isAtom){if(!o&&te.isSelectable(a))return te.create(i,e-(r<0?a.nodeSize:0))}else{let l=Oo(i,a,e+r,r<0?a.childCount:0,r,o);if(l)return l}e+=a.nodeSize*r}return null}function g_(i,t,e){let n=i.steps.length-1;if(n<t)return;let r=i.steps[n];if(!(r instanceof en||r instanceof ut))return;let o=i.mapping.maps[n],s;o.forEach((a,l,c,d)=>{s==null&&(s=d)}),i.setSelection(fe.near(i.doc.resolve(s),e))}var __=1,dd=2,v_=4,Dh=class extends ld{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|__)&~dd,this.storedMarks=null,this}get selectionSet(){return(this.updated&__)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=dd,this}ensureMarks(t){return Oe.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&dd)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~dd,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Oe.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(n==null&&(n=e),n=n??e,!t)return this.deleteRange(e,n);let o=this.storedMarks;if(!o){let s=this.doc.resolve(e);o=n==e?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(fe.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=v_,this}get scrolledIntoView(){return(this.updated&v_)>0}};function b_(i,t){return!t||!i?i:i.bind(t)}var Tr=class{constructor(t,e,n){this.name=t,this.init=b_(e.init,n),this.apply=b_(e.apply,n)}},Dx=[new Tr("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new Tr("selection",{init(i,t){return i.selection||fe.atStart(t.doc)},apply(i){return i.selection}}),new Tr("storedMarks",{init(i){return i.storedMarks||null},apply(i,t,e,n){return n.selection.$cursor?i.storedMarks:null}}),new Tr("scrollToSelection",{init(){return 0},apply(i,t){return i.scrolledIntoView?t+1:t}})],Sa=class{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Dx.slice(),e&&e.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Tr(n.key,n.spec.state,n))})}},hd=class i{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=r?r[s].n:0,c=r?r[s].state:this,d=l<e.length&&a.spec.appendTransaction.call(a,l?e.slice(l):e,c,n);if(d&&n.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",t),!r){r=[];for(let p=0;p<this.config.plugins.length;p++)r.push(p<s?{state:n,n:e.length}:{state:this,n:0})}e.push(d),n=n.applyInner(d),o=!0}r&&(r[s]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new i(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}return e}get tr(){return new Dh(this)}static create(t){let e=new Sa(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new i(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new Sa(this.schema,t.plugins),n=e.fields,r=new i(e);for(let o=0;o<n.length;o++){let s=n[o].name;r[s]=this.hasOwnProperty(s)?this[s]:n[o].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new Sa(t.schema,t.plugins),o=new i(r);return r.fields.forEach(s=>{if(s.name=="doc")o.doc=Hn.fromJSON(t.schema,e.doc);else if(s.name=="selection")o.selection=fe.fromJSON(o.doc,e.selection);else if(s.name=="storedMarks")e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,a)){o[s.name]=c.fromJSON.call(l,t,e[a],o);return}}o[s.name]=s.init(t,o)}}),o}};function y_(i,t,e){for(let n in i){let r=i[n];r instanceof Function?r=r.bind(t):n=="handleDOMEvents"&&(r=y_(r,t,{})),e[n]=r}return e}var Mt=class{constructor(t){this.spec=t,this.props={},t.props&&y_(t.props,this,this.props),this.key=t.key?t.key.key:w_("plugin")}getState(t){return t[this.key]}},Sh=Object.create(null);function w_(i){return i in Sh?i+"$"+ ++Sh[i]:(Sh[i]=0,i+"$")}var nn=class{constructor(t="key"){this.key=w_(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}};var gt=function(i){for(var t=0;;t++)if(i=i.previousSibling,!i)return t},Ho=function(i){let t=i.assignedSlot||i.parentNode;return t&&t.nodeType==11?t.host:t},Ph=null,ai=function(i,t,e){let n=Ph||(Ph=document.createRange());return n.setEnd(i,e??i.nodeValue.length),n.setStart(i,t||0),n},Mx=function(){Ph=null},Lr=function(i,t,e,n){return e&&(C_(i,t,e,n,-1)||C_(i,t,e,n,1))},Ax=/^(img|br|input|textarea|hr)$/i;function C_(i,t,e,n,r){for(var o;;){if(i==e&&t==n)return!0;if(t==(r<0?0:pn(i))){let s=i.parentNode;if(!s||s.nodeType!=1||Pa(i)||Ax.test(i.nodeName)||i.contentEditable=="false")return!1;t=gt(i)+(r<0?0:1),i=s}else if(i.nodeType==1){let s=i.childNodes[t+(r<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=r;else return!1;else i=s,t=r<0?pn(i):0}else return!1}}function pn(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function kx(i,t){for(;;){if(i.nodeType==3&&t)return i;if(i.nodeType==1&&t>0){if(i.contentEditable=="false")return null;i=i.childNodes[t-1],t=pn(i)}else if(i.parentNode&&!Pa(i))t=gt(i),i=i.parentNode;else return null}}function Tx(i,t){for(;;){if(i.nodeType==3&&t<i.nodeValue.length)return i;if(i.nodeType==1&&t<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[t],t=0}else if(i.parentNode&&!Pa(i))t=gt(i)+1,i=i.parentNode;else return null}}function Ix(i,t,e){for(let n=t==0,r=t==pn(i);n||r;){if(i==e)return!0;let o=gt(i);if(i=i.parentNode,!i)return!1;n=n&&o==0,r=r&&o==pn(i)}}function Pa(i){let t;for(let e=i;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==i||t.contentDOM==i)}var xd=function(i){return i.focusNode&&Lr(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function Ir(i,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=i,e.key=e.code=t,e}function Px(i){let t=i.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Rx(i,t,e){if(i.caretPositionFromPoint)try{let n=i.caretPositionFromPoint(t,e);if(n)return{node:n.offsetNode,offset:Math.min(pn(n.offsetNode),n.offset)}}catch{}if(i.caretRangeFromPoint){let n=i.caretRangeFromPoint(t,e);if(n)return{node:n.startContainer,offset:Math.min(pn(n.startContainer),n.startOffset)}}}var jn=typeof navigator<"u"?navigator:null,x_=typeof document<"u"?document:null,Zi=jn&&jn.userAgent||"",Rh=/Edge\/(\d+)/.exec(Zi),t7=/MSIE \d/.exec(Zi),Oh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zi),Gt=!!(t7||Oh||Rh),Hi=t7?document.documentMode:Oh?+Oh[1]:Rh?+Rh[1]:0,xn=!Gt&&/gecko\/(\d+)/i.test(Zi);xn&&+(/Firefox\/(\d+)/.exec(Zi)||[0,0])[1];var Nh=!Gt&&/Chrome\/(\d+)/.exec(Zi),kt=!!Nh,n7=Nh?+Nh[1]:0,Rt=!Gt&&!!jn&&/Apple Computer/.test(jn.vendor),jo=Rt&&(/Mobile\/\w+/.test(Zi)||!!jn&&jn.maxTouchPoints>2),hn=jo||(jn?/Mac/.test(jn.platform):!1),Ox=jn?/Win/.test(jn.platform):!1,li=/Android \d/.test(Zi),Ra=!!x_&&"webkitFontSmoothing"in x_.documentElement.style,Nx=Ra?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Fx(i){let t=i.defaultView&&i.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function si(i,t){return typeof i=="number"?i:i[t]}function Lx(i){let t=i.getBoundingClientRect(),e=t.width/i.offsetWidth||1,n=t.height/i.offsetHeight||1;return{left:t.left,right:t.left+i.clientWidth*e,top:t.top,bottom:t.top+i.clientHeight*n}}function S_(i,t,e){let n=i.someProp("scrollThreshold")||0,r=i.someProp("scrollMargin")||5,o=i.dom.ownerDocument;for(let s=e||i.dom;s;){if(s.nodeType!=1){s=Ho(s);continue}let a=s,l=a==o.body,c=l?Fx(o):Lx(a),d=0,p=0;if(t.top<c.top+si(n,"top")?p=-(c.top-t.top+si(r,"top")):t.bottom>c.bottom-si(n,"bottom")&&(p=t.bottom-t.top>c.bottom-c.top?t.top+si(r,"top")-c.top:t.bottom-c.bottom+si(r,"bottom")),t.left<c.left+si(n,"left")?d=-(c.left-t.left+si(r,"left")):t.right>c.right-si(n,"right")&&(d=t.right-c.right+si(r,"right")),d||p)if(l)o.defaultView.scrollBy(d,p);else{let _=a.scrollLeft,v=a.scrollTop;p&&(a.scrollTop+=p),d&&(a.scrollLeft+=d);let x=a.scrollLeft-_,E=a.scrollTop-v;t={left:t.left-x,top:t.top-E,right:t.right-x,bottom:t.bottom-E}}let m=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(m))break;s=m=="absolute"?s.offsetParent:Ho(s)}}function Bx(i){let t=i.dom.getBoundingClientRect(),e=Math.max(0,t.top),n,r;for(let o=(t.left+t.right)/2,s=e+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=i.root.elementFromPoint(o,s);if(!a||a==i.dom||!i.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=e-20){n=a,r=l.top;break}}return{refDOM:n,refTop:r,stack:i7(i.dom)}}function i7(i){let t=[],e=i.ownerDocument;for(let n=i;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),i!=e);n=Ho(n));return t}function Vx({refDOM:i,refTop:t,stack:e}){let n=i?i.getBoundingClientRect().top:0;r7(e,n==0?0:n-t)}function r7(i,t){for(let e=0;e<i.length;e++){let{dom:n,top:r,left:o}=i[e];n.scrollTop!=r+t&&(n.scrollTop=r+t),n.scrollLeft!=o&&(n.scrollLeft=o)}}var Fo=null;function Hx(i){if(i.setActive)return i.setActive();if(Fo)return i.focus(Fo);let t=i7(i);i.focus(Fo==null?{get preventScroll(){return Fo={preventScroll:!0},!0}}:void 0),Fo||(Fo=!1,r7(t,0))}function o7(i,t){let e,n=2e8,r,o=0,s=t.top,a=t.top,l,c;for(let d=i.firstChild,p=0;d;d=d.nextSibling,p++){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=ai(d).getClientRects();else continue;for(let _=0;_<m.length;_++){let v=m[_];if(v.top<=s&&v.bottom>=a){s=Math.max(v.bottom,s),a=Math.min(v.top,a);let x=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(x<n){e=d,n=x,r=x&&e.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,d.nodeType==1&&x&&(o=p+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!l&&v.left<=t.left&&v.right>=t.left&&(l=d,c={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!e&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(o=p+1)}}return!e&&l&&(e=l,r=c,n=0),e&&e.nodeType==3?jx(e,r):!e||n&&e.nodeType==1?{node:i,offset:o}:o7(e,r)}function jx(i,t){let e=i.nodeValue.length,n=document.createRange();for(let r=0;r<e;r++){n.setEnd(i,r+1),n.setStart(i,r);let o=Li(n,1);if(o.top!=o.bottom&&Yh(t,o))return{node:i,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:i,offset:0}}function Yh(i,t){return i.left>=t.left-1&&i.left<=t.right+1&&i.top>=t.top-1&&i.top<=t.bottom+1}function Zx(i,t){let e=i.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<i.getBoundingClientRect().left?e:i}function zx(i,t,e){let{node:n,offset:r}=o7(t,e),o=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();o=s.left!=s.right&&e.left>(s.left+s.right)/2?1:-1}return i.docView.posFromDOM(n,r,o)}function Ux(i,t,e,n){let r=-1;for(let o=t,s=!1;o!=i.dom;){let a=i.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!s&&l.left>n.left||l.top>n.top?r=a.posBefore:(!s&&l.right<n.left||l.bottom<n.top)&&(r=a.posAfter),s=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return r>-1?r:i.docView.posFromDOM(t,e,-1)}function s7(i,t,e){let n=i.childNodes.length;if(n&&e.top<e.bottom)for(let r=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-e.top)/(e.bottom-e.top))-2)),o=r;;){let s=i.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Yh(t,c))return s7(s,t,c)}}if((o=(o+1)%n)==r)break}return i}function $x(i,t){let e=i.dom.ownerDocument,n,r=0,o=Rx(e,t.left,t.top);o&&({node:n,offset:r}=o);let s=(i.root.elementFromPoint?i.root:e).elementFromPoint(t.left,t.top),a;if(!s||!i.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=i.dom.getBoundingClientRect();if(!Yh(t,c)||(s=s7(i.dom,t,c),!s))return null}if(Rt)for(let c=s;n&&c;c=Ho(c))c.draggable&&(n=void 0);if(s=Zx(s,t),n){if(xn&&n.nodeType==1&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let d=n.childNodes[r],p;d.nodeName=="IMG"&&(p=d.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&r++}let c;Ra&&r&&n.nodeType==1&&(c=n.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&r--,n==i.dom&&r==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?a=i.state.doc.content.size:(r==0||n.nodeType!=1||n.childNodes[r-1].nodeName!="BR")&&(a=Ux(i,n,r,t))}a==null&&(a=zx(i,s,t));let l=i.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function E_(i){return i.top<i.bottom||i.left<i.right}function Li(i,t){let e=i.getClientRects();if(e.length){let n=e[t<0?0:e.length-1];if(E_(n))return n}return Array.prototype.find.call(e,E_)||i.getBoundingClientRect()}var Wx=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function a7(i,t,e){let{node:n,offset:r,atom:o}=i.docView.domFromPos(t,e<0?-1:1),s=Ra||xn;if(n.nodeType==3)if(s&&(Wx.test(n.nodeValue)||(e<0?!r:r==n.nodeValue.length))){let l=Li(ai(n,r,r),e);if(xn&&r&&/\s/.test(n.nodeValue[r-1])&&r<n.nodeValue.length){let c=Li(ai(n,r-1,r-1),-1);if(c.top==l.top){let d=Li(ai(n,r,r+1),-1);if(d.top!=l.top)return Ea(d,d.left<c.left)}}return l}else{let l=r,c=r,d=e<0?1:-1;return e<0&&!r?(c++,d=-1):e>=0&&r==n.nodeValue.length?(l--,d=1):e<0?l--:c++,Ea(Li(ai(n,l,c),d),d<0)}if(!i.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&r&&(e<0||r==pn(n))){let l=n.childNodes[r-1];if(l.nodeType==1)return Mh(l.getBoundingClientRect(),!1)}if(o==null&&r<pn(n)){let l=n.childNodes[r];if(l.nodeType==1)return Mh(l.getBoundingClientRect(),!0)}return Mh(n.getBoundingClientRect(),e>=0)}if(o==null&&r&&(e<0||r==pn(n))){let l=n.childNodes[r-1],c=l.nodeType==3?ai(l,pn(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Ea(Li(c,1),!1)}if(o==null&&r<pn(n)){let l=n.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ai(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Ea(Li(c,-1),!0)}return Ea(Li(n.nodeType==3?ai(n):n,-e),e>=0)}function Ea(i,t){if(i.width==0)return i;let e=t?i.left:i.right;return{top:i.top,bottom:i.bottom,left:e,right:e}}function Mh(i,t){if(i.height==0)return i;let e=t?i.top:i.bottom;return{top:e,bottom:e,left:i.left,right:i.right}}function l7(i,t,e){let n=i.state,r=i.root.activeElement;n!=t&&i.updateState(t),r!=i.dom&&i.focus();try{return e()}finally{n!=t&&i.updateState(n),r!=i.dom&&r&&r.focus()}}function Gx(i,t,e){let n=t.selection,r=e=="up"?n.$from:n.$to;return l7(i,t,()=>{let{node:o}=i.docView.domFromPos(r.pos,e=="up"?-1:1);for(;;){let a=i.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=a7(i,r.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ai(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(e=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}var qx=/[\u0590-\u08ac]/;function Kx(i,t,e){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let r=n.parentOffset,o=!r,s=r==n.parent.content.size,a=i.domSelection();return a?!qx.test(n.parent.textContent)||!a.modify?e=="left"||e=="backward"?o:s:l7(i,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:p}=i.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",e,"character");let _=n.depth?i.docView.domAfterPos(n.before()):i.dom,{focusNode:v,focusOffset:x}=i.domSelectionRange(),E=v&&!_.contains(v.nodeType==1?v:v.parentNode)||l==v&&c==x;try{a.collapse(d,p),l&&(l!=d||c!=p)&&a.extend&&a.extend(l,c)}catch{}return m!=null&&(a.caretBidiLevel=m),E}):n.pos==n.start()||n.pos==n.end()}var D_=null,M_=null,A_=!1;function Yx(i,t,e){return D_==t&&M_==e?A_:(D_=t,M_=e,A_=e=="up"||e=="down"?Gx(i,t,e):Kx(i,t,e))}var fn=0,k_=1,Pr=2,Zn=3,Br=class{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=fn,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let o,s;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=e>gt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&e==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let o=this.getDesc(r),s;if(o&&(!e||o.node))if(n&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))n=!1;else return o}}getDesc(t){let e=t.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)for(let s=0;s<r.children.length;s++){let a=r.children[s];if(a.size){r=a;break}}return r}if(t<o)return r.descAt(t-n-r.border);n=o}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,r=0;for(let o=0;n<this.children.length;n++){let s=this.children[n],a=o+s.size;if(a>t||s instanceof md){r=t-o;break}o=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof pd&&o.side>=0;n--);if(e<=0){let o,s=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,s=!1);return o&&e&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,e):{node:this.contentDOM,offset:o?gt(o.dom)+1:0}}else{let o,s=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,e):{node:this.contentDOM,offset:o?gt(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let s=n,a=0;;a++){let l=this.children[a],c=s+l.size;if(r==-1&&t<=c){let d=s+l.border;if(t>=d&&e<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,d);t=s;for(let p=a;p>0;p--){let m=this.children[p-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){r=gt(m.dom)+1;break}t-=m.size}r==-1&&(r=0)}if(r>-1&&(c>e||a==this.children.length-1)){e=c;for(let d=a+1;d<this.children.length;d++){let p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){o=gt(p.dom);break}e+=p.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(e.nodeType!=1||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let o=Math.min(t,e),s=Math.max(t,e);for(let _=0,v=0;_<this.children.length;_++){let x=this.children[_],E=v+x.size;if(o>v&&s<E)return x.setSelection(t-v-x.border,e-v-x.border,n,r);v=E}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),c=n.root.getSelection(),d=n.domSelectionRange(),p=!1;if((xn||Rt)&&t==e){let{node:_,offset:v}=a;if(_.nodeType==3){if(p=!!(v&&_.nodeValue[v-1]==`
`),p&&v==_.nodeValue.length)for(let x=_,E;x;x=x.parentNode){if(E=x.nextSibling){E.nodeName=="BR"&&(a=l={node:E.parentNode,offset:gt(E)+1});break}let F=x.pmViewDesc;if(F&&F.node&&F.node.isBlock)break}}else{let x=_.childNodes[v-1];p=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(xn&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let _=d.focusNode.childNodes[d.focusOffset];_&&_.contentEditable=="false"&&(r=!0)}if(!(r||p&&Rt)&&Lr(a.node,a.offset,d.anchorNode,d.anchorOffset)&&Lr(l.node,l.offset,d.focusNode,d.focusOffset))return;let m=!1;if((c.extend||t==e)&&!p){c.collapse(a.node,a.offset);try{t!=e&&c.extend(l.node,l.offset),m=!0}catch{}}if(!m){if(t>e){let v=a;a=l,l=v}let _=document.createRange();_.setEnd(l.node,l.offset),_.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(_)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],s=n+o.size;if(n==s?t<=s&&e>=n:t<s&&e>n){let a=n+o.border,l=s-o.border;if(t>=a&&e<=l){this.dirty=t==n||e==s?Pr:k_,t==a&&e==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Zn:o.markDirty(t-a,e-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Pr:Zn}n=s}this.dirty=Pr}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=t==1?Pr:k_;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}},pd=class extends Br{constructor(t,e,n,r){let o,s=e.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!e.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=e,this.widget=e,o=this}matchesWidget(t){return this.dirty==fn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}},Fh=class extends Br{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}},Zo=class i extends Br{constructor(t,e,n,r,o){super(t,[],n,r),this.mark=e,this.spec=o}static create(t,e,n,r){let o=r.nodeViews[e.type.name],s=o&&o(e,r,n);return(!s||!s.dom)&&(s=ri.renderSpec(document,e.type.spec.toDOM(e,n),null,e.attrs)),new i(t,e,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Zn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Zn&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=fn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=fn}}slice(t,e,n){let r=i.create(this.parent,this.mark,!0,n),o=this.children,s=this.size;e<s&&(o=Hh(o,e,s,n)),t>0&&(o=Hh(o,0,t,n));for(let a=0;a<o.length;a++)o[a].parent=r;return r.children=o,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},ji=class i extends Br{constructor(t,e,n,r,o,s,a,l,c){super(t,[],o,s),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(t,e,n,r,o,s){let a=o.nodeViews[e.type.name],l,c=a&&a(e,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},n,r),d=c&&c.dom,p=c&&c.contentDOM;if(e.isText){if(!d)d=document.createTextNode(e.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:p}=ri.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!p&&!e.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),e.type.spec.draggable&&(d.draggable=!0));let m=d;return d=u7(d,n,e),c?l=new Lh(t,e,n,r,d,p||null,m,c,o,s+1):e.isText?new fd(t,e,n,r,d,m,o):new i(t,e,n,r,d,p||null,m,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>L.empty)}return t}matchesNode(t,e,n){return this.dirty==fn&&t.eq(this.node)&&gd(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Vh(this,s&&s.node,t);e8(this.node,this.innerDeco,(c,d,p)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,t):c.type.side>=0&&!p&&l.syncToMarks(d==this.node.childCount?Oe.none:this.node.child(d).marks,n,t),l.placeWidget(c,t,r)},(c,d,p,m)=>{l.syncToMarks(c.marks,n,t);let _;l.findNodeMatch(c,d,p,m)||a&&t.state.selection.from>r&&t.state.selection.to<r+c.nodeSize&&(_=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,d,p,_,t)||l.updateNextNode(c,d,p,t,m,r)||l.addNode(c,d,p,t,r),r+=c.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Pr)&&(s&&this.protectLocalComposition(t,s),c7(this.contentDOM,this.children,t),jo&&t8(this.dom))}localCompositionInfo(t,e){let{from:n,to:r}=t.state.selection;if(!(t.state.selection instanceof Pe)||n<e||r>e+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=n8(this.node.content,s,n-e,r-e);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let o=e;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Fh(this,o,e,r);t.input.compositionNodes.push(s),this.children=Hh(this.children,n,n+r.length,t,s)}update(t,e,n,r){return this.dirty==Zn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=fn}updateOuterDeco(t){if(gd(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=d7(this.dom,this.nodeDOM,Bh(this.outerDeco,this.node,e),Bh(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function T_(i,t,e,n,r){u7(n,t,i);let o=new ji(void 0,i,t,e,n,n,n,r,0);return o.contentDOM&&o.updateChildren(r,0),o}var fd=class i extends ji{constructor(t,e,n,r,o,s,a){super(t,e,n,r,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return this.dirty==Zn||this.dirty!=fn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=fn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=fn,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,n){let r=this.node.cut(t,e),o=document.createTextNode(r.text);return new i(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=Zn)}get domAtom(){return!1}isText(t){return this.node.text==t}},md=class extends Br{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==fn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Lh=class extends ji{constructor(t,e,n,r,o,s,a,l,c,d){super(t,e,n,r,o,s,a,c,d),this.spec=l}update(t,e,n,r){if(this.dirty==Zn)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,e,n);return o&&this.updateInner(t,e,n,r),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n.root):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}};function c7(i,t,e){let n=i.firstChild,r=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==i){for(;a!=n;)n=I_(n),r=!0;n=n.nextSibling}else r=!0,i.insertBefore(a,n);if(s instanceof Zo){let l=n?n.previousSibling:i.lastChild;c7(s.contentDOM,s.children,e),n=l?l.nextSibling:i.firstChild}}for(;n;)n=I_(n),r=!0;r&&e.trackWrites==i&&(e.trackWrites=null)}var Da=function(i){i&&(this.nodeName=i)};Da.prototype=Object.create(null);var Rr=[new Da];function Bh(i,t,e){if(i.length==0)return Rr;let n=e?Rr[0]:new Da,r=[n];for(let o=0;o<i.length;o++){let s=i[o].type.attrs;if(s){s.nodeName&&r.push(n=new Da(s.nodeName));for(let a in s){let l=s[a];l!=null&&(e&&r.length==1&&r.push(n=new Da(t.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return r}function d7(i,t,e,n){if(e==Rr&&n==Rr)return t;let r=t;for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(o){let l;a&&a.nodeName==s.nodeName&&r!=i&&(l=r.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=Rr[0]),r=l}Jx(r,a||Rr[0],s)}return r}function Jx(i,t,e){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in e)&&i.removeAttribute(n);for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&e[n]!=t[n]&&i.setAttribute(n,e[n]);if(t.class!=e.class){let n=t.class?t.class.split(" ").filter(Boolean):[],r=e.class?e.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)r.indexOf(n[o])==-1&&i.classList.remove(n[o]);for(let o=0;o<r.length;o++)n.indexOf(r[o])==-1&&i.classList.add(r[o]);i.classList.length==0&&i.removeAttribute("class")}if(t.style!=e.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(t.style);)i.style.removeProperty(r[1])}e.style&&(i.style.cssText+=e.style)}}function u7(i,t,e){return d7(i,i,Rr,Bh(t,e,i.nodeType!=1))}function gd(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(!i[e].type.eq(t[e].type))return!1;return!0}function I_(i){let t=i.nextSibling;return i.parentNode.removeChild(i),t}var Vh=class{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Xx(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;r<s&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=fn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Zo.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,e,n,r){let o=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(t,e,n))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,e,n)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,r,o){let s=this.top.children[r];return s.dirty==Zn&&s.dom==s.contentDOM&&(s.dirty=Pr),s.update(t,e,n,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r}return-1}t=e}}updateNextNode(t,e,n,r,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ji){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let d=l.dom,p,m=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Zn&&gd(e,l.outerDeco));if(!m&&l.update(t,e,n,r))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!m&&(p=this.recreateWrapper(l,t,e,n,r,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=Pr,p.updateChildren(r,s+1),p.dirty=fn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,o,s){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!gd(n,t.outerDeco)||!r.eq(t.innerDeco))return null;let a=ji.create(this.top,e,n,r,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,e,n,r,o){let s=ji.create(this.top,t,e,n,r,o);s.contentDOM&&s.updateChildren(r,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new pd(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Zo;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof fd)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Rt||kt)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let r=new md(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}};function Xx(i,t){let e=t,n=e.children.length,r=i.childCount,o=new Map,s=[];e:for(;r>0;){let a;for(;;)if(n){let c=e.children[n-1];if(c instanceof Zo)e=c,n=c.children.length;else{a=c,n--;break}}else{if(e==t)break e;n=e.parent.children.indexOf(e),e=e.parent}let l=a.node;if(l){if(l!=i.child(r-1))break;--r,o.set(a,r),s.push(a)}}return{index:r,matched:o,matches:s.reverse()}}function Qx(i,t){return i.type.side-t.type.side}function e8(i,t,e,n){let r=t.locals(i),o=0;if(r.length==0){for(let c=0;c<i.childCount;c++){let d=i.child(c);n(d,r,t.forChild(o,d),c),o+=d.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let d,p;for(;s<r.length&&r[s].to==o;){let E=r[s++];E.widget&&(d?(p||(p=[d])).push(E):d=E)}if(d)if(p){p.sort(Qx);for(let E=0;E<p.length;E++)e(p[E],c,!!l)}else e(d,c,!!l);let m,_;if(l)_=-1,m=l,l=null;else if(c<i.childCount)_=c,m=i.child(c++);else break;for(let E=0;E<a.length;E++)a[E].to<=o&&a.splice(E--,1);for(;s<r.length&&r[s].from<=o&&r[s].to>o;)a.push(r[s++]);let v=o+m.nodeSize;if(m.isText){let E=v;s<r.length&&r[s].from<E&&(E=r[s].from);for(let F=0;F<a.length;F++)a[F].to<E&&(E=a[F].to);E<v&&(l=m.cut(E-o),m=m.cut(0,E-o),v=E,_=-1)}else for(;s<r.length&&r[s].to<v;)s++;let x=m.isInline&&!m.isLeaf?a.filter(E=>!E.inline):a.slice();n(m,x,t.forChild(o,m),_),o=v}}function t8(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let t=i.style.cssText;i.style.cssText=t+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=t}}function n8(i,t,e,n){for(let r=0,o=0;r<i.childCount&&o<=n;){let s=i.child(r++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;r<i.childCount;){let c=i.child(r++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=e){if(o>=n&&l.slice(n-t.length-a,n-a)==t)return n-t.length;let c=a<n?l.lastIndexOf(t,n-a-1):-1;if(c>=0&&c+t.length+a>=e)return a+c;if(e==n&&l.length>=n+t.length-a&&l.slice(n-a,n-a+t.length)==t)return n}}return-1}function Hh(i,t,e,n,r){let o=[];for(let s=0,a=0;s<i.length;s++){let l=i[s],c=a,d=a+=l.size;c>=e||d<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,n)),r&&(o.push(r),r=void 0),d>e&&o.push(l.slice(e-c,l.size,n)))}return o}function Jh(i,t=null){let e=i.domSelectionRange(),n=i.state.doc;if(!e.focusNode)return null;let r=i.docView.nearestDesc(e.focusNode),o=r&&r.size==0,s=i.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(s<0)return null;let a=n.resolve(s),l,c;if(xd(e)){for(l=s;r&&!r.node;)r=r.parent;let p=r.node;if(r&&p.isAtom&&te.isSelectable(p)&&r.parent&&!(p.isInline&&Ix(e.focusNode,e.focusOffset,r.dom))){let m=r.posBefore;c=new te(s==m?a:n.resolve(m))}}else{if(e instanceof i.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let p=s,m=s;for(let _=0;_<e.rangeCount;_++){let v=e.getRangeAt(_);p=Math.min(p,i.docView.posFromDOM(v.startContainer,v.startOffset,1)),m=Math.max(m,i.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(p<0)return null;[l,s]=m==i.state.selection.anchor?[m,p]:[p,m],a=n.resolve(s)}else l=i.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(l<0)return null}let d=n.resolve(l);if(!c){let p=t=="pointer"||i.state.selection.head<a.pos&&!o?1:-1;c=Xh(i,d,a,p)}return c}function h7(i){return i.editable?i.hasFocus():f7(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function ci(i,t=!1){let e=i.state.selection;if(p7(i,e),!!h7(i)){if(!t&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&kt){let n=i.domSelectionRange(),r=i.domObserver.currentSelection;if(n.anchorNode&&r.anchorNode&&Lr(n.anchorNode,n.anchorOffset,r.anchorNode,r.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)r8(i);else{let{anchor:n,head:r}=e,o,s;P_&&!(e instanceof Pe)&&(e.$from.parent.inlineContent||(o=R_(i,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(s=R_(i,e.to))),i.docView.setSelection(n,r,i,t),P_&&(o&&O_(o),s&&O_(s)),e.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&i8(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}var P_=Rt||kt&&n7<63;function R_(i,t){let{node:e,offset:n}=i.docView.domFromPos(t,0),r=n<e.childNodes.length?e.childNodes[n]:null,o=n?e.childNodes[n-1]:null;if(Rt&&r&&r.contentEditable=="false")return Ah(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return Ah(r);if(o)return Ah(o)}}function Ah(i){return i.contentEditable="true",Rt&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function O_(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function i8(i){let t=i.dom.ownerDocument;t.removeEventListener("selectionchange",i.input.hideSelectionGuard);let e=i.domSelectionRange(),n=e.anchorNode,r=e.anchorOffset;t.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(e.anchorNode!=n||e.anchorOffset!=r)&&(t.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!h7(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function r8(i){let t=i.domSelection(),e=document.createRange();if(!t)return;let n=i.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.setStart(n.parentNode,gt(n)+1):e.setStart(n,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e),!r&&!i.state.selection.visible&&Gt&&Hi<=11&&(n.disabled=!0,n.disabled=!1)}function p7(i,t){if(t instanceof te){let e=i.docView.descAt(t.from);e!=i.lastSelectedViewDesc&&(N_(i),e&&e.selectNode(),i.lastSelectedViewDesc=e)}else N_(i)}function N_(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function Xh(i,t,e,n){return i.someProp("createSelectionBetween",r=>r(i,t,e))||Pe.between(t,e,n)}function F_(i){return i.editable&&!i.hasFocus()?!1:f7(i)}function f7(i){let t=i.domSelectionRange();if(!t.anchorNode)return!1;try{return i.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(i.editable||i.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function o8(i){let t=i.docView.domFromPos(i.state.selection.anchor,0),e=i.domSelectionRange();return Lr(t.node,t.offset,e.anchorNode,e.anchorOffset)}function jh(i,t){let{$anchor:e,$head:n}=i.selection,r=t>0?e.max(n):e.min(n),o=r.parent.inlineContent?r.depth?i.doc.resolve(t>0?r.after():r.before()):null:r;return o&&fe.findFrom(o,t)}function Bi(i,t){return i.dispatch(i.state.tr.setSelection(t).scrollIntoView()),!0}function L_(i,t,e){let n=i.state.selection;if(n instanceof Pe)if(e.indexOf("s")>-1){let{$head:r}=n,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=i.state.doc.resolve(r.pos+o.nodeSize*(t<0?-1:1));return Bi(i,new Pe(n.$anchor,s))}else if(n.empty){if(i.endOfTextblock(t>0?"forward":"backward")){let r=jh(i.state,t);return r&&r instanceof te?Bi(i,r):!1}else if(!(hn&&e.indexOf("m")>-1)){let r=n.$head,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(s=i.docView.descAt(a))&&!s.contentDOM?te.isSelectable(o)?Bi(i,new te(t<0?i.state.doc.resolve(r.pos-o.nodeSize):r)):Ra?Bi(i,new Pe(i.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof te&&n.node.isInline)return Bi(i,new Pe(t>0?n.$to:n.$from));{let r=jh(i.state,t);return r?Bi(i,r):!1}}}function _d(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Ma(i,t){let e=i.pmViewDesc;return e&&e.size==0&&(t<0||i.nextSibling||i.nodeName!="BR")}function Lo(i,t){return t<0?s8(i):a8(i)}function s8(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r,o,s=!1;for(xn&&e.nodeType==1&&n<_d(e)&&Ma(e.childNodes[n],-1)&&(s=!0);;)if(n>0){if(e.nodeType!=1)break;{let a=e.childNodes[n-1];if(Ma(a,-1))r=e,o=--n;else if(a.nodeType==3)e=a,n=e.nodeValue.length;else break}}else{if(m7(e))break;{let a=e.previousSibling;for(;a&&Ma(a,-1);)r=e.parentNode,o=gt(a),a=a.previousSibling;if(a)e=a,n=_d(e);else{if(e=e.parentNode,e==i.dom)break;n=0}}}s?Zh(i,e,n):r&&Zh(i,r,o)}function a8(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r=_d(e),o,s;for(;;)if(n<r){if(e.nodeType!=1)break;let a=e.childNodes[n];if(Ma(a,1))o=e,s=++n;else break}else{if(m7(e))break;{let a=e.nextSibling;for(;a&&Ma(a,1);)o=a.parentNode,s=gt(a)+1,a=a.nextSibling;if(a)e=a,n=0,r=_d(e);else{if(e=e.parentNode,e==i.dom)break;n=r=0}}}o&&Zh(i,o,s)}function m7(i){let t=i.pmViewDesc;return t&&t.node&&t.node.isBlock}function l8(i,t){for(;i&&t==i.childNodes.length&&!Pa(i);)t=gt(i)+1,i=i.parentNode;for(;i&&t<i.childNodes.length;){let e=i.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=0}}function c8(i,t){for(;i&&!t&&!Pa(i);)t=gt(i),i=i.parentNode;for(;i&&t;){let e=i.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=i.childNodes.length}}function Zh(i,t,e){if(t.nodeType!=3){let o,s;(s=l8(t,e))?(t=s,e=0):(o=c8(t,e))&&(t=o,e=o.nodeValue.length)}let n=i.domSelection();if(!n)return;if(xd(n)){let o=document.createRange();o.setEnd(t,e),o.setStart(t,e),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(t,e);i.domObserver.setCurSelection();let{state:r}=i;setTimeout(()=>{i.state==r&&ci(i)},50)}function B_(i,t){let e=i.state.doc.resolve(t);if(!(kt||Ox)&&e.parent.inlineContent){let r=i.coordsAtPos(t);if(t>e.start()){let o=i.coordsAtPos(t-1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<e.end()){let o=i.coordsAtPos(t+1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function V_(i,t,e){let n=i.state.selection;if(n instanceof Pe&&!n.empty||e.indexOf("s")>-1||hn&&e.indexOf("m")>-1)return!1;let{$from:r,$to:o}=n;if(!r.parent.inlineContent||i.endOfTextblock(t<0?"up":"down")){let s=jh(i.state,t);if(s&&s instanceof te)return Bi(i,s)}if(!r.parent.inlineContent){let s=t<0?r:o,a=n instanceof tn?fe.near(s,t):fe.findFrom(s,t);return a?Bi(i,a):!1}return!1}function H_(i,t){if(!(i.state.selection instanceof Pe))return!0;let{$head:e,$anchor:n,empty:r}=i.state.selection;if(!e.sameParent(n))return!0;if(!r)return!1;if(i.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(o&&!o.isText){let s=i.state.tr;return t<0?s.delete(e.pos-o.nodeSize,e.pos):s.delete(e.pos,e.pos+o.nodeSize),i.dispatch(s),!0}return!1}function j_(i,t,e){i.domObserver.stop(),t.contentEditable=e,i.domObserver.start()}function d8(i){if(!Rt||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=i.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;j_(i,n,"true"),setTimeout(()=>j_(i,n,"false"),20)}return!1}function u8(i){let t="";return i.ctrlKey&&(t+="c"),i.metaKey&&(t+="m"),i.altKey&&(t+="a"),i.shiftKey&&(t+="s"),t}function h8(i,t){let e=t.keyCode,n=u8(t);if(e==8||hn&&e==72&&n=="c")return H_(i,-1)||Lo(i,-1);if(e==46&&!t.shiftKey||hn&&e==68&&n=="c")return H_(i,1)||Lo(i,1);if(e==13||e==27)return!0;if(e==37||hn&&e==66&&n=="c"){let r=e==37?B_(i,i.state.selection.from)=="ltr"?-1:1:-1;return L_(i,r,n)||Lo(i,r)}else if(e==39||hn&&e==70&&n=="c"){let r=e==39?B_(i,i.state.selection.from)=="ltr"?1:-1:1;return L_(i,r,n)||Lo(i,r)}else{if(e==38||hn&&e==80&&n=="c")return V_(i,-1,n)||Lo(i,-1);if(e==40||hn&&e==78&&n=="c")return d8(i)||V_(i,1,n)||Lo(i,1);if(n==(hn?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function Qh(i,t){i.someProp("transformCopied",_=>{t=_(t,i)});let e=[],{content:n,openStart:r,openEnd:o}=t;for(;r>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){r--,o--;let _=n.firstChild;e.push(_.type.name,_.attrs!=_.type.defaultAttrs?_.attrs:null),n=_.content}let s=i.someProp("clipboardSerializer")||ri.fromSchema(i.state.schema),a=w7(),l=a.createElement("div");l.appendChild(s.serializeFragment(n,{document:a}));let c=l.firstChild,d,p=0;for(;c&&c.nodeType==1&&(d=y7[c.nodeName.toLowerCase()]);){for(let _=d.length-1;_>=0;_--){let v=a.createElement(d[_]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),p++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${o}${p?` -${p}`:""} ${JSON.stringify(e)}`);let m=i.someProp("clipboardTextSerializer",_=>_(t,i))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:m,slice:t}}function g7(i,t,e,n,r){let o=r.parent.type.spec.code,s,a;if(!e&&!t)return null;let l=t&&(n||o||!e);if(l){if(i.someProp("transformPastedText",m=>{t=m(t,o||n,i)}),o)return t?new j(L.from(i.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):j.empty;let p=i.someProp("clipboardTextParser",m=>m(t,r,n,i));if(p)a=p;else{let m=r.marks(),{schema:_}=i.state,v=ri.fromSchema(_);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let E=s.appendChild(document.createElement("p"));x&&E.appendChild(v.serializeNode(_.text(x,m)))})}}else i.someProp("transformPastedHTML",p=>{e=p(e,i)}),s=g8(e),Ra&&_8(s);let c=s&&s.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let p=+d[3];p>0;p--){let m=s.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;s=m}if(a||(a=(i.someProp("clipboardParser")||i.someProp("domParser")||Ni.fromSchema(i.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||d),context:r,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!p8.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)a=v8(Z_(a,+d[1],+d[2]),d[4]);else if(a=j.maxOpen(f8(a.content,r),!0),a.openStart||a.openEnd){let p=0,m=0;for(let _=a.content.firstChild;p<a.openStart&&!_.type.spec.isolating;p++,_=_.firstChild);for(let _=a.content.lastChild;m<a.openEnd&&!_.type.spec.isolating;m++,_=_.lastChild);a=Z_(a,p,m)}return i.someProp("transformPasted",p=>{a=p(a,i)}),a}var p8=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function f8(i,t){if(i.childCount<2)return i;for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.index(e)),o,s=[];if(i.forEach(a=>{if(!s)return;let l=r.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&v7(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=b7(s[s.length-1],o.length));let d=_7(a,l);s.push(d),r=r.matchType(d.type),o=l}}),s)return L.from(s)}return i}function _7(i,t,e=0){for(let n=t.length-1;n>=e;n--)i=t[n].create(null,L.from(i));return i}function v7(i,t,e,n,r){if(r<i.length&&r<t.length&&i[r]==t[r]){let o=v7(i,t,e,n.lastChild,r+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(r==i.length-1?e.type:i[r+1]))return n.copy(n.content.append(L.from(_7(e,i,r+1))))}}function b7(i,t){if(t==0)return i;let e=i.content.replaceChild(i.childCount-1,b7(i.lastChild,t-1)),n=i.contentMatchAt(i.childCount).fillBefore(L.empty,!0);return i.copy(e.append(n))}function zh(i,t,e,n,r,o){let s=t<0?i.firstChild:i.lastChild,a=s.content;return i.childCount>1&&(o=0),r<n-1&&(a=zh(a,t,e,n,r+1,o)),r>=e&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(L.empty,!0))),i.replaceChild(t<0?0:i.childCount-1,s.copy(a))}function Z_(i,t,e){return t<i.openStart&&(i=new j(zh(i.content,-1,t,i.openStart,0,i.openEnd),t,i.openEnd)),e<i.openEnd&&(i=new j(zh(i.content,1,e,i.openEnd,0,0),i.openStart,e)),i}var y7={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},z_=null;function w7(){return z_||(z_=document.implementation.createHTMLDocument("title"))}var kh=null;function m8(i){let t=window.trustedTypes;return t?(kh||(kh=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),kh.createHTML(i)):i}function g8(i){let t=/^(\s*<meta [^>]*>)*/.exec(i);t&&(i=i.slice(t[0].length));let e=w7().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(i),r;if((r=n&&y7[n[1].toLowerCase()])&&(i=r.map(o=>"<"+o+">").join("")+i+r.map(o=>"</"+o+">").reverse().join("")),e.innerHTML=m8(i),r)for(let o=0;o<r.length;o++)e=e.querySelector(r[o])||e;return e}function _8(i){let t=i.querySelectorAll(kt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let n=t[e];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),n)}}function v8(i,t){if(!i.size)return i;let e=i.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return i}let{content:r,openStart:o,openEnd:s}=i;for(let a=n.length-2;a>=0;a-=2){let l=e.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;r=L.from(l.create(n[a+1],r)),o++,s++}return new j(r,o,s)}var Ot={},Nt={},b8={touchstart:!0,touchmove:!0},Uh=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function y8(i){for(let t in Ot){let e=Ot[t];i.dom.addEventListener(t,i.input.eventHandlers[t]=n=>{C8(i,n)&&!ep(i,n)&&(i.editable||!(n.type in Nt))&&e(i,n)},b8[t]?{passive:!0}:void 0)}Rt&&i.dom.addEventListener("input",()=>null),$h(i)}function Vi(i,t){i.input.lastSelectionOrigin=t,i.input.lastSelectionTime=Date.now()}function w8(i){i.domObserver.stop();for(let t in i.input.eventHandlers)i.dom.removeEventListener(t,i.input.eventHandlers[t]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function $h(i){i.someProp("handleDOMEvents",t=>{for(let e in t)i.input.eventHandlers[e]||i.dom.addEventListener(e,i.input.eventHandlers[e]=n=>ep(i,n))})}function ep(i,t){return i.someProp("handleDOMEvents",e=>{let n=e[t.type];return n?n(i,t)||t.defaultPrevented:!1})}function C8(i,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=i.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function x8(i,t){!ep(i,t)&&Ot[t.type]&&(i.editable||!(t.type in Nt))&&Ot[t.type](i,t)}Nt.keydown=(i,t)=>{let e=t;if(i.input.shiftKey=e.keyCode==16||e.shiftKey,!x7(i,e)&&(i.input.lastKeyCode=e.keyCode,i.input.lastKeyCodeTime=Date.now(),!(li&&kt&&e.keyCode==13)))if(e.keyCode!=229&&i.domObserver.forceFlush(),jo&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let n=Date.now();i.input.lastIOSEnter=n,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==n&&(i.someProp("handleKeyDown",r=>r(i,Ir(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",n=>n(i,e))||h8(i,e)?e.preventDefault():Vi(i,"key")};Nt.keyup=(i,t)=>{t.keyCode==16&&(i.input.shiftKey=!1)};Nt.keypress=(i,t)=>{let e=t;if(x7(i,e)||!e.charCode||e.ctrlKey&&!e.altKey||hn&&e.metaKey)return;if(i.someProp("handleKeyPress",r=>r(i,e))){e.preventDefault();return}let n=i.state.selection;if(!(n instanceof Pe)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(e.charCode),o=()=>i.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!i.someProp("handleTextInput",s=>s(i,n.$from.pos,n.$to.pos,r,o))&&i.dispatch(o()),e.preventDefault()}};function Sd(i){return{left:i.clientX,top:i.clientY}}function S8(i,t){let e=t.x-i.clientX,n=t.y-i.clientY;return e*e+n*n<100}function tp(i,t,e,n,r){if(n==-1)return!1;let o=i.state.doc.resolve(n);for(let s=o.depth+1;s>0;s--)if(i.someProp(t,a=>s>o.depth?a(i,e,o.nodeAfter,o.before(s),r,!0):a(i,e,o.node(s),o.before(s),r,!1)))return!0;return!1}function Vo(i,t,e){if(i.focused||i.focus(),i.state.selection.eq(t))return;let n=i.state.tr.setSelection(t);e=="pointer"&&n.setMeta("pointer",!0),i.dispatch(n)}function E8(i,t){if(t==-1)return!1;let e=i.state.doc.resolve(t),n=e.nodeAfter;return n&&n.isAtom&&te.isSelectable(n)?(Vo(i,new te(e),"pointer"),!0):!1}function D8(i,t){if(t==-1)return!1;let e=i.state.selection,n,r;e instanceof te&&(n=e.node);let o=i.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(te.isSelectable(a)){n&&e.$from.depth>0&&s>=e.$from.depth&&o.before(e.$from.depth+1)==e.$from.pos?r=o.before(e.$from.depth):r=o.before(s);break}}return r!=null?(Vo(i,te.create(i.state.doc,r),"pointer"),!0):!1}function M8(i,t,e,n,r){return tp(i,"handleClickOn",t,e,n)||i.someProp("handleClick",o=>o(i,t,n))||(r?D8(i,e):E8(i,e))}function A8(i,t,e,n){return tp(i,"handleDoubleClickOn",t,e,n)||i.someProp("handleDoubleClick",r=>r(i,t,n))}function k8(i,t,e,n){return tp(i,"handleTripleClickOn",t,e,n)||i.someProp("handleTripleClick",r=>r(i,t,n))||T8(i,e,n)}function T8(i,t,e){if(e.button!=0)return!1;let n=i.state.doc;if(t==-1)return n.inlineContent?(Vo(i,Pe.create(n,0,n.content.size),"pointer"),!0):!1;let r=n.resolve(t);for(let o=r.depth+1;o>0;o--){let s=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(s.inlineContent)Vo(i,Pe.create(n,a+1,a+1+s.content.size),"pointer");else if(te.isSelectable(s))Vo(i,te.create(n,a),"pointer");else continue;return!0}}function np(i){return vd(i)}var C7=hn?"metaKey":"ctrlKey";Ot.mousedown=(i,t)=>{let e=t;i.input.shiftKey=e.shiftKey;let n=np(i),r=Date.now(),o="singleClick";r-i.input.lastClick.time<500&&S8(e,i.input.lastClick)&&!e[C7]&&i.input.lastClick.button==e.button&&(i.input.lastClick.type=="singleClick"?o="doubleClick":i.input.lastClick.type=="doubleClick"&&(o="tripleClick")),i.input.lastClick={time:r,x:e.clientX,y:e.clientY,type:o,button:e.button};let s=i.posAtCoords(Sd(e));s&&(o=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new Wh(i,s,e,!!n)):(o=="doubleClick"?A8:k8)(i,s.pos,s.inside,e)?e.preventDefault():Vi(i,"pointer"))};var Wh=class{constructor(t,e,n,r){this.view=t,this.pos=e,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[C7],this.allowDefault=n.shiftKey;let o,s;if(e.inside>-1)o=t.state.doc.nodeAt(e.inside),s=e.inside;else{let d=t.state.doc.resolve(e.pos);o=d.parent,s=d.depth?d.before():0}let a=r?null:n.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof te&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&xn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Vi(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ci(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Sd(t))),this.updateAllowDefault(t),this.allowDefault||!e?Vi(this.view,"pointer"):M8(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Rt&&this.mightDrag&&!this.mightDrag.node.isAtom||kt&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Vo(this.view,fe.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Vi(this.view,"pointer")}move(t){this.updateAllowDefault(t),Vi(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}};Ot.touchstart=i=>{i.input.lastTouch=Date.now(),np(i),Vi(i,"pointer")};Ot.touchmove=i=>{i.input.lastTouch=Date.now(),Vi(i,"pointer")};Ot.contextmenu=i=>np(i);function x7(i,t){return i.composing?!0:Rt&&Math.abs(t.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}var I8=li?5e3:-1;Nt.compositionstart=Nt.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:t}=i,e=t.selection.$to;if(t.selection instanceof Pe&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||e.marks(),vd(i,!0),i.markCursor=null;else if(vd(i,!t.selection.empty),xn&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let n=i.domSelectionRange();for(let r=n.focusNode,o=n.focusOffset;r&&r.nodeType==1&&o!=0;){let s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=i.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else r=s,o=-1}}i.input.composing=!0}S7(i,I8)};Nt.compositionend=(i,t)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=t.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,S7(i,20))};function S7(i,t){clearTimeout(i.input.composingTimeout),t>-1&&(i.input.composingTimeout=setTimeout(()=>vd(i),t))}function E7(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=R8());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function P8(i){let t=i.domSelectionRange();if(!t.focusNode)return null;let e=kx(t.focusNode,t.focusOffset),n=Tx(t.focusNode,t.focusOffset);if(e&&n&&e!=n){let r=n.pmViewDesc,o=i.domObserver.lastChangedTextNode;if(e==o||n==o)return o;if(!r||!r.isText(n.nodeValue))return n;if(i.input.compositionNode==n){let s=e.pmViewDesc;if(!(!s||!s.isText(e.nodeValue)))return n}}return e||n}function R8(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function vd(i,t=!1){if(!(li&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),E7(i),t||i.docView&&i.docView.dirty){let e=Jh(i),n=i.state.selection;return e&&!e.eq(n)?i.dispatch(i.state.tr.setSelection(e)):(i.markCursor||t)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function O8(i,t){if(!i.dom.parentNode)return;let e=i.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),r=document.createRange();r.selectNodeContents(t),i.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),i.focus()},50)}var Aa=Gt&&Hi<15||jo&&Nx<604;Ot.copy=Nt.cut=(i,t)=>{let e=t,n=i.state.selection,r=e.type=="cut";if(n.empty)return;let o=Aa?null:e.clipboardData,s=n.content(),{dom:a,text:l}=Qh(i,s);o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):O8(i,a),r&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function N8(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function F8(i,t){if(!i.dom.parentNode)return;let e=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,n=i.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let r=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),n.parentNode&&n.parentNode.removeChild(n),e?ka(i,n.value,null,r,t):ka(i,n.textContent,n.innerHTML,r,t)},50)}function ka(i,t,e,n,r){let o=g7(i,t,e,n,i.state.selection.$from);if(i.someProp("handlePaste",l=>l(i,r,o||j.empty)))return!0;if(!o)return!1;let s=N8(o),a=s?i.state.tr.replaceSelectionWith(s,n):i.state.tr.replaceSelection(o);return i.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function D7(i){let t=i.getData("text/plain")||i.getData("Text");if(t)return t;let e=i.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}Nt.paste=(i,t)=>{let e=t;if(i.composing&&!li)return;let n=Aa?null:e.clipboardData,r=i.input.shiftKey&&i.input.lastKeyCode!=45;n&&ka(i,D7(n),n.getData("text/html"),r,e)?e.preventDefault():F8(i,e)};var bd=class{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}},L8=hn?"altKey":"ctrlKey";function M7(i,t){let e=i.someProp("dragCopies",n=>!n(t));return e??!t[L8]}Ot.dragstart=(i,t)=>{let e=t,n=i.input.mouseDown;if(n&&n.done(),!e.dataTransfer)return;let r=i.state.selection,o=r.empty?null:i.posAtCoords(Sd(e)),s;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof te?r.to-1:r.to))){if(n&&n.mightDrag)s=te.create(i.state.doc,n.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let p=i.docView.nearestDesc(e.target,!0);p&&p.node.type.spec.draggable&&p!=i.docView&&(s=te.create(i.state.doc,p.posBefore))}}let a=(s||i.state.selection).content(),{dom:l,text:c,slice:d}=Qh(i,a);(!e.dataTransfer.files.length||!kt||n7>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(Aa?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",Aa||e.dataTransfer.setData("text/plain",c),i.dragging=new bd(d,M7(i,e),s)};Ot.dragend=i=>{let t=i.dragging;window.setTimeout(()=>{i.dragging==t&&(i.dragging=null)},50)};Nt.dragover=Nt.dragenter=(i,t)=>t.preventDefault();Nt.drop=(i,t)=>{let e=t,n=i.dragging;if(i.dragging=null,!e.dataTransfer)return;let r=i.posAtCoords(Sd(e));if(!r)return;let o=i.state.doc.resolve(r.pos),s=n&&n.slice;s?i.someProp("transformPasted",v=>{s=v(s,i)}):s=g7(i,D7(e.dataTransfer),Aa?null:e.dataTransfer.getData("text/html"),!1,o);let a=!!(n&&M7(i,e));if(i.someProp("handleDrop",v=>v(i,e,s||j.empty,a))){e.preventDefault();return}if(!s)return;e.preventDefault();let l=s?c_(i.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=i.state.tr;if(a){let{node:v}=n;v?v.replace(c):c.deleteSelection()}let d=c.mapping.map(l),p=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,m=c.doc;if(p?c.replaceRangeWith(d,d,s.content.firstChild):c.replaceRange(d,d,s),c.doc.eq(m))return;let _=c.doc.resolve(d);if(p&&te.isSelectable(s.content.firstChild)&&_.nodeAfter&&_.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new te(_));else{let v=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,E,F,re)=>v=re),c.setSelection(Xh(i,_,c.doc.resolve(v)))}i.focus(),i.dispatch(c.setMeta("uiEvent","drop"))};Ot.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&ci(i)},20))};Ot.blur=(i,t)=>{let e=t;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),e.relatedTarget&&i.dom.contains(e.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)};Ot.beforeinput=(i,t)=>{if(kt&&li&&t.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:n}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=n||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",o=>o(i,Ir(8,"Backspace")))))return;let{$cursor:r}=i.state.selection;r&&r.pos>0&&i.dispatch(i.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let i in Nt)Ot[i]=Nt[i];function Ta(i,t){if(i==t)return!0;for(let e in i)if(i[e]!==t[e])return!1;for(let e in t)if(!(e in i))return!1;return!0}var yd=class i{constructor(t,e){this.toDOM=t,this.spec=e||Nr,this.side=this.spec.side||0}map(t,e,n,r){let{pos:o,deleted:s}=t.mapResult(e.from+r,this.side<0?-1:1);return s?null:new zn(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof i&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ta(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},Or=class i{constructor(t,e){this.attrs=t,this.spec=e||Nr}map(t,e,n,r){let o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,s=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=s?null:new zn(o,s,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof i&&Ta(this.attrs,t.attrs)&&Ta(this.spec,t.spec)}static is(t){return t.type instanceof i}destroy(){}},Gh=class i{constructor(t,e){this.attrs=t,this.spec=e||Nr}map(t,e,n,r){let o=t.mapResult(e.from+r,1);if(o.deleted)return null;let s=t.mapResult(e.to+r,-1);return s.deleted||s.pos<=o.pos?null:new zn(o.pos-n,s.pos-n,this)}valid(t,e){let{index:n,offset:r}=t.content.findIndex(e.from),o;return r==e.from&&!(o=t.child(n)).isText&&r+o.nodeSize==e.to}eq(t){return this==t||t instanceof i&&Ta(this.attrs,t.attrs)&&Ta(this.spec,t.spec)}destroy(){}},zn=class i{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new i(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new i(t,t,new yd(e,n))}static inline(t,e,n,r){return new i(t,e,new Or(n,r))}static node(t,e,n,r){return new i(t,e,new Gh(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Or}get widget(){return this.type instanceof yd}},Bo=[],Nr={},Pt=class i{constructor(t,e){this.local=t.length?t:Bo,this.children=e.length?e:Bo}static create(t,e){return e.length?Cd(e,t,0,Nr):At}find(t,e,n){let r=[];return this.findInner(t??0,e??1e9,r,0,n),r}findInner(t,e,n,r,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=e&&a.to>=t&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,e-a,n,r+a,o)}}map(t,e,n){return this==At||t.maps.length==0?this:this.mapInner(t,e,0,0,n||Nr)}mapInner(t,e,n,r,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,n,r);l&&l.type.valid(e,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?B8(this.children,s||[],t,e,n,r,o):s?new i(s.sort(Fr),Bo):At}add(t,e){return e.length?this==At?i.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,o=0;t.forEach((a,l)=>{let c=l+n,d;if(d=k7(e,a,c)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(a,d,c+1):r.splice(o,0,l,l+a.nodeSize,Cd(d,a,c+1,Nr)),o+=3}});let s=A7(o?T7(e):e,-n);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new i(s.length?this.local.concat(s).sort(Fr):this.local,r||this.children)}remove(t){return t.length==0||this==At?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let s,a=n[o]+e,l=n[o+1]+e;for(let d=0,p;d<t.length;d++)(p=t[d])&&p.from>a&&p.to<l&&(t[d]=null,(s||(s=[])).push(p));if(!s)continue;n==this.children&&(n=this.children.slice());let c=n[o+2].removeInner(s,a+1);c!=At?n[o+2]=c:(n.splice(o,3),o-=3)}if(r.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<r.length;a++)r[a].eq(s,e)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new i(r,n):At}forChild(t,e){if(this==At)return this;if(e.isLeaf)return i.empty;let n,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(n=this.children[a+2]);break}let o=t+1,s=o+e.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Or){let c=Math.max(o,l.from)-o,d=Math.min(s,l.to)-o;c<d&&(r||(r=[])).push(l.copy(c,d))}}if(r){let a=new i(r.sort(Fr),Bo);return n?new wd([a,n]):a}return n||At}eq(t){if(this==t)return!0;if(!(t instanceof i)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return ip(this.localsInner(t))}localsInner(t){if(this==At)return Bo;if(t.inlineContent||!this.local.some(Or.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Or||e.push(this.local[n]);return e}forEachSet(t){t(this)}};Pt.empty=new Pt([],[]);Pt.removeOverlap=ip;var At=Pt.empty,wd=class i{constructor(t){this.members=t}map(t,e){let n=this.members.map(r=>r.map(t,e,Nr));return i.from(n)}forChild(t,e){if(e.isLeaf)return Pt.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(t,e);o!=At&&(o instanceof i?n=n.concat(o.members):n.push(o))}return i.from(n)}eq(t){if(!(t instanceof i)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(t);if(o.length)if(!e)e=o;else{n&&(e=e.slice(),n=!1);for(let s=0;s<o.length;s++)e.push(o[s])}}return e?ip(n?e:e.sort(Fr)):Bo}static from(t){switch(t.length){case 0:return At;case 1:return t[0];default:return new i(t.every(e=>e instanceof Pt)?t:t.reduce((e,n)=>e.concat(n instanceof Pt?n:n.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}};function B8(i,t,e,n,r,o,s){let a=i.slice();for(let c=0,d=o;c<e.maps.length;c++){let p=0;e.maps[c].forEach((m,_,v,x)=>{let E=x-v-(_-m);for(let F=0;F<a.length;F+=3){let re=a[F+1];if(re<0||m>re+d-p)continue;let ne=a[F]+d-p;_>=ne?a[F+1]=m<=ne?-2:-1:m>=d&&E&&(a[F]+=E,a[F+1]+=E)}p+=E}),d=e.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let d=e.map(i[c]+o),p=d-r;if(p<0||p>=n.content.size){l=!0;continue}let m=e.map(i[c+1]+o,-1),_=m-r,{index:v,offset:x}=n.content.findIndex(p),E=n.maybeChild(v);if(E&&x==p&&x+E.nodeSize==_){let F=a[c+2].mapInner(e,E,d+1,i[c]+o+1,s);F!=At?(a[c]=p,a[c+1]=_,a[c+2]=F):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=V8(a,i,t,e,r,o,s),d=Cd(c,n,0,s);t=d.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,m=0;p<d.children.length;p+=3){let _=d.children[p];for(;m<a.length&&a[m]<_;)m+=3;a.splice(m,0,d.children[p],d.children[p+1],d.children[p+2])}}return new Pt(t.sort(Fr),a)}function A7(i,t){if(!t||!i.length)return i;let e=[];for(let n=0;n<i.length;n++){let r=i[n];e.push(new zn(r.from+t,r.to+t,r.type))}return e}function V8(i,t,e,n,r,o,s){function a(l,c){for(let d=0;d<l.local.length;d++){let p=l.local[d].map(n,r,c);p?e.push(p):s.onRemove&&s.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<i.length;l+=3)i[l+1]==-1&&a(i[l+2],t[l]+o+1);return e}function k7(i,t,e){if(t.isLeaf)return null;let n=e+t.nodeSize,r=null;for(let o=0,s;o<i.length;o++)(s=i[o])&&s.from>e&&s.to<n&&((r||(r=[])).push(s),i[o]=null);return r}function T7(i){let t=[];for(let e=0;e<i.length;e++)i[e]!=null&&t.push(i[e]);return t}function Cd(i,t,e,n){let r=[],o=!1;t.forEach((a,l)=>{let c=k7(i,a,l+e);if(c){o=!0;let d=Cd(c,a,e+l+1,n);d!=At&&r.push(l,l+a.nodeSize,d)}});let s=A7(o?T7(i):i,-e).sort(Fr);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(n.onRemove&&n.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new Pt(s,r):At}function Fr(i,t){return i.from-t.from||i.to-t.to}function ip(i){let t=i;for(let e=0;e<t.length-1;e++){let n=t[e];if(n.from!=n.to)for(let r=e+1;r<t.length;r++){let o=t[r];if(o.from==n.from){o.to!=n.to&&(t==i&&(t=i.slice()),t[r]=o.copy(o.from,n.to),U_(t,r+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==i&&(t=i.slice()),t[e]=n.copy(n.from,o.from),U_(t,r,n.copy(o.from,n.to)));break}}}return t}function U_(i,t,e){for(;t<i.length&&Fr(e,i[t])>0;)t++;i.splice(t,0,e)}function Th(i){let t=[];return i.someProp("decorations",e=>{let n=e(i.state);n&&n!=At&&t.push(n)}),i.cursorWrapper&&t.push(Pt.create(i.state.doc,[i.cursorWrapper.deco])),wd.from(t)}var H8={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},j8=Gt&&Hi<=11,qh=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}},Kh=class{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new qh,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let r=0;r<n.length;r++)this.queue.push(n[r]);Gt&&Hi<=11&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),j8&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,H8)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(F_(this.view)){if(this.suppressingSelectionUpdates)return ci(this.view);if(Gt&&Hi<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Lr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,n;for(let o=t.focusNode;o;o=Ho(o))e.add(o);for(let o=t.anchorNode;o;o=Ho(o))if(e.has(o)){n=o;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&F_(t)&&!this.ignoreSelectionChange(n),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let d=0;d<e.length;d++){let p=this.registerMutation(e[d],l);p&&(o=o<0?p.from:Math.min(p.from,o),s=s<0?p.to:Math.max(p.to,s),p.typeOver&&(a=!0))}if(xn&&l.length){let d=l.filter(p=>p.nodeName=="BR");if(d.length==2){let[p,m]=d;p.parentNode&&p.parentNode.parentNode==m.parentNode?m.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let m of d){let _=m.parentNode;_&&_.nodeName=="LI"&&(!p||U8(t,p)!=_)&&m.remove()}}}let c=null;o<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&xd(n)&&(c=Jh(t))&&c.eq(fe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,ci(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||r)&&(o>-1&&(t.docView.markDirty(o,s),Z8(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||ci(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let p=t.addedNodes[d];e.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,o=t.nextSibling;if(Gt&&Hi<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:p,nextSibling:m}=t.addedNodes[d];(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(r=p),(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(o=m)}let s=r&&r.parentNode==t.target?gt(r)+1:0,a=n.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?gt(o):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}},$_=new WeakMap,W_=!1;function Z8(i){if(!$_.has(i)&&($_.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=xn,W_)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),W_=!0}}function G_(i,t){let e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset,s=i.domAtPos(i.state.selection.anchor);return Lr(s.node,s.offset,r,o)&&([e,n,r,o]=[r,o,e,n]),{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:o}}function z8(i,t){if(t.getComposedRanges){let r=t.getComposedRanges(i.root)[0];if(r)return G_(i,r)}let e;function n(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",n,!0),e?G_(i,e):null}function U8(i,t){for(let e=t.parentNode;e&&e!=i.dom;e=e.parentNode){let n=i.docView.nearestDesc(e,!0);if(n&&n.node.isBlock)return e}return null}function $8(i,t,e){let{node:n,fromOffset:r,toOffset:o,from:s,to:a}=i.docView.parseRange(t,e),l=i.domSelectionRange(),c,d=l.anchorNode;if(d&&i.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],xd(l)||c.push({node:l.focusNode,offset:l.focusOffset})),kt&&i.input.lastKeyCode===8)for(let E=o;E>r;E--){let F=n.childNodes[E-1],re=F.pmViewDesc;if(F.nodeName=="BR"&&!re){o=E;break}if(!re||re.size)break}let p=i.state.doc,m=i.someProp("domParser")||Ni.fromSchema(i.state.schema),_=p.resolve(s),v=null,x=m.parse(n,{topNode:_.parent,topMatch:_.parent.contentMatchAt(_.index()),topOpen:!0,from:r,to:o,preserveWhitespace:_.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:W8,context:_});if(c&&c[0].pos!=null){let E=c[0].pos,F=c[1]&&c[1].pos;F==null&&(F=E),v={anchor:E+s,head:F+s}}return{doc:x,sel:v,from:s,to:a}}function W8(i){let t=i.pmViewDesc;if(t)return t.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(Rt&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(i.parentNode.lastChild==i||Rt&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}var G8=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function q8(i,t,e,n,r){let o=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,t<0){let De=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,st=Jh(i,De);if(st&&!i.state.selection.eq(st)){if(kt&&li&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",L2=>L2(i,Ir(13,"Enter"))))return;let Ft=i.state.tr.setSelection(st);De=="pointer"?Ft.setMeta("pointer",!0):De=="key"&&Ft.scrollIntoView(),o&&Ft.setMeta("composition",o),i.dispatch(Ft)}return}let s=i.state.doc.resolve(t),a=s.sharedDepth(e);t=s.before(a+1),e=i.state.doc.resolve(e).after(a+1);let l=i.state.selection,c=$8(i,t,e),d=i.state.doc,p=d.slice(c.from,c.to),m,_;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(m=i.state.selection.to,_="end"):(m=i.state.selection.from,_="start"),i.input.lastKeyCode=null;let v=J8(p.content,c.doc.content,c.from,m,_);if(v&&i.input.domChangeCount++,(jo&&i.input.lastIOSEnter>Date.now()-225||li)&&r.some(De=>De.nodeType==1&&!G8.test(De.nodeName))&&(!v||v.endA>=v.endB)&&i.someProp("handleKeyDown",De=>De(i,Ir(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!v)if(n&&l instanceof Pe&&!l.empty&&l.$head.sameParent(l.$anchor)&&!i.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))v={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let De=q_(i,i.state.doc,c.sel);if(De&&!De.eq(i.state.selection)){let st=i.state.tr.setSelection(De);o&&st.setMeta("composition",o),i.dispatch(st)}}return}i.state.selection.from<i.state.selection.to&&v.start==v.endB&&i.state.selection instanceof Pe&&(v.start>i.state.selection.from&&v.start<=i.state.selection.from+2&&i.state.selection.from>=c.from?v.start=i.state.selection.from:v.endA<i.state.selection.to&&v.endA>=i.state.selection.to-2&&i.state.selection.to<=c.to&&(v.endB+=i.state.selection.to-v.endA,v.endA=i.state.selection.to)),Gt&&Hi<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>c.from&&c.doc.textBetween(v.start-c.from-1,v.start-c.from+1)==" \xA0"&&(v.start--,v.endA--,v.endB--);let x=c.doc.resolveNoCache(v.start-c.from),E=c.doc.resolveNoCache(v.endB-c.from),F=d.resolve(v.start),re=x.sameParent(E)&&x.parent.inlineContent&&F.end()>=v.endA,ne;if((jo&&i.input.lastIOSEnter>Date.now()-225&&(!re||r.some(De=>De.nodeName=="DIV"||De.nodeName=="P"))||!re&&x.pos<c.doc.content.size&&(!x.sameParent(E)||!x.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(x.pos,E.pos,"",""))&&(ne=fe.findFrom(c.doc.resolve(x.pos+1),1,!0))&&ne.head>x.pos)&&i.someProp("handleKeyDown",De=>De(i,Ir(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>v.start&&Y8(d,v.start,v.endA,x,E)&&i.someProp("handleKeyDown",De=>De(i,Ir(8,"Backspace")))){li&&kt&&i.domObserver.suppressSelectionUpdates();return}kt&&v.endB==v.start&&(i.input.lastChromeDelete=Date.now()),li&&!re&&x.start()!=E.start()&&E.parentOffset==0&&x.depth==E.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==v.endA&&(v.endB-=2,E=c.doc.resolveNoCache(v.endB-c.from),setTimeout(()=>{i.someProp("handleKeyDown",function(De){return De(i,Ir(13,"Enter"))})},20));let We=v.start,ht=v.endA,Ur=De=>{let st=De||i.state.tr.replace(We,ht,c.doc.slice(v.start-c.from,v.endB-c.from));if(c.sel){let Ft=q_(i,st.doc,c.sel);Ft&&!(kt&&i.composing&&Ft.empty&&(v.start!=v.endB||i.input.lastChromeDelete<Date.now()-100)&&(Ft.head==We||Ft.head==st.mapping.map(ht)-1)||Gt&&Ft.empty&&Ft.head==We)&&st.setSelection(Ft)}return o&&st.setMeta("composition",o),st.scrollIntoView()},Ba;if(re){if(x.pos==E.pos){Gt&&Hi<=11&&x.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>ci(i),20));let De=Ur(i.state.tr.delete(We,ht)),st=d.resolve(v.start).marksAcross(d.resolve(v.endA));st&&De.ensureMarks(st),i.dispatch(De)}else if(v.endA==v.endB&&(Ba=K8(x.parent.content.cut(x.parentOffset,E.parentOffset),F.parent.content.cut(F.parentOffset,v.endA-F.start())))){let De=Ur(i.state.tr);Ba.type=="add"?De.addMark(We,ht,Ba.mark):De.removeMark(We,ht,Ba.mark),i.dispatch(De)}else if(x.parent.child(x.index()).isText&&x.index()==E.index()-(E.textOffset?0:1)){let De=x.parent.textBetween(x.parentOffset,E.parentOffset),st=()=>Ur(i.state.tr.insertText(De,We,ht));i.someProp("handleTextInput",Ft=>Ft(i,We,ht,De,st))||i.dispatch(st())}}else i.dispatch(Ur())}function q_(i,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:Xh(i,t.resolve(e.anchor),t.resolve(e.head))}function K8(i,t){let e=i.firstChild.marks,n=t.firstChild.marks,r=e,o=n,s,a,l;for(let d=0;d<n.length;d++)r=n[d].removeFromSet(r);for(let d=0;d<e.length;d++)o=e[d].removeFromSet(o);if(r.length==1&&o.length==0)a=r[0],s="add",l=d=>d.mark(a.addToSet(d.marks));else if(r.length==0&&o.length==1)a=o[0],s="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<t.childCount;d++)c.push(l(t.child(d)));if(L.from(c).eq(i))return{mark:a,type:s}}function Y8(i,t,e,n,r){if(e-t<=r.pos-n.pos||Ih(n,!0,!1)<r.pos)return!1;let o=i.resolve(t);if(!n.parent.isTextblock){let a=o.nodeAfter;return a!=null&&e==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=i.resolve(Ih(o,!0,!0));return!s.parent.isTextblock||s.pos>e||Ih(s,!0,!1)<e?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function Ih(i,t,e){let n=i.depth,r=t?i.end():i.pos;for(;n>0&&(t||i.indexAfter(n)==i.node(n).childCount);)n--,r++,t=!1;if(e){let o=i.node(n).maybeChild(i.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function J8(i,t,e,n,r){let o=i.findDiffStart(t,e);if(o==null)return null;let{a:s,b:a}=i.findDiffEnd(t,e+i.size,e+t.size);if(r=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&i.size<t.size){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<t.size&&K_(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<i.size&&K_(i.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function K_(i){if(i.length!=2)return!1;let t=i.charCodeAt(0),e=i.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}var Ia=class{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Uh,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(e7),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=X_(this),J_(this),this.nodeViews=Q_(this),this.docView=T_(this.state.doc,Y_(this),Th(this),this.dom,this),this.domObserver=new Kh(this,(n,r,o,s)=>q8(this,n,r,o,s)),this.domObserver.start(),y8(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&$h(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(e7),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n;let r=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(E7(this),s=!0),this.state=t;let a=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(a||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let _=Q_(this);Q8(_,this.nodeViews)&&(this.nodeViews=_,o=!0)}(a||e.handleDOMEvents!=this._props.handleDOMEvents)&&$h(this),this.editable=X_(this),J_(this);let l=Th(this),c=Y_(this),d=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",p=o||!this.docView.matchesNode(t.doc,c,l);(p||!t.selection.eq(r.selection))&&(s=!0);let m=d=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Bx(this);if(s){this.domObserver.stop();let _=p&&(Gt||kt)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&X8(r.selection,t.selection);if(p){let v=kt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=P8(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=T_(t.doc,c,l,this.dom,this)),v&&!this.trackWrites&&(_=!0)}_||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&o8(this))?ci(this,_):(p7(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((n=this.dragging)===null||n===void 0)&&n.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():m&&Vx(m)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof te){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&S_(this,e.getBoundingClientRect(),t)}else S_(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let n=this.directPlugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let n=this.state.plugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}}updateDraggedNode(t,e){let n=t.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let o=n.from+(this.state.doc.content.size-e.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(r=o)}this.dragging=new bd(t.slice,t.move,r<0?void 0:te.create(this.state.doc,r))}someProp(t,e){let n=this._props&&this._props[t],r;if(n!=null&&(r=e?e(n):n))return r;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(r=e?e(a):a))return r}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(r=e?e(a):a))return r}}hasFocus(){if(Gt){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Hx(this.dom),ci(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return $x(this,t)}coordsAtPos(t,e=1){return a7(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return Yx(this,e||this.state,t)}pasteHTML(t,e){return ka(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return ka(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return Qh(this,t)}destroy(){this.docView&&(w8(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Th(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Mx())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return x8(this,t)}domSelectionRange(){let t=this.domSelection();return t?Rt&&this.root.nodeType===11&&Px(this.dom.ownerDocument)==this.dom&&z8(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};Ia.prototype.dispatch=function(i){let t=this._props.dispatchTransaction;t?t.call(this,i):this.updateState(this.state.apply(i))};function Y_(i){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(i.editable),i.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(i.state)),e)for(let n in e)n=="class"?t.class+=" "+e[n]:n=="style"?t.style=(t.style?t.style+";":"")+e[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(e[n]))}),t.translate||(t.translate="no"),[zn.node(0,i.state.doc.content.size,t)]}function J_(i){if(i.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),i.cursorWrapper={dom:t,deco:zn.widget(i.state.selection.from,t,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function X_(i){return!i.someProp("editable",t=>t(i.state)===!1)}function X8(i,t){let e=Math.min(i.$anchor.sharedDepth(i.head),t.$anchor.sharedDepth(t.head));return i.$anchor.start(e)!=t.$anchor.start(e)}function Q_(i){let t=Object.create(null);function e(n){for(let r in n)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=n[r])}return i.someProp("nodeViews",e),i.someProp("markViews",e),t}function Q8(i,t){let e=0,n=0;for(let r in i){if(i[r]!=t[r])return!0;e++}for(let r in t)n++;return e!=n}function e7(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var eS=["ol",0],tS=["ul",0],nS=["li",0],I7={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(i){return{order:i.hasAttribute("start")?+i.getAttribute("start"):1}}}],toDOM(i){return i.attrs.order==1?eS:["ol",{start:i.attrs.order},0]}},P7={parseDOM:[{tag:"ul"}],toDOM(){return tS}},R7={parseDOM:[{tag:"li"}],toDOM(){return nS},defining:!0};function O7(i,t=null){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o);if(!s)return!1;let a=n?e.tr:null;return iS(a,s,i,t)?(n&&n(a.scrollIntoView()),!0):!1}}function iS(i,t,e,n=null){let r=!1,o=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);o=new Er(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Er(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let a=Ro(o,e,n,t);return a?(i&&rS(i,t,a,r,e),!0):!1}function rS(i,t,e,n,r){let o=L.empty;for(let d=e.length-1;d>=0;d--)o=L.from(e[d].type.create(e[d].attrs,o));i.step(new ut(t.start-(n?2:0),t.end,t.start,t.end,new j(o,0,0),e.length,!0));let s=0;for(let d=0;d<e.length;d++)e[d].type==r&&(s=d+1);let a=e.length-s,l=t.start+e.length-(n?2:0),c=t.parent;for(let d=t.startIndex,p=t.endIndex,m=!0;d<p;d++,m=!1)!m&&Fi(i.doc,l,a)&&(i.split(l,a),l+=2*a),l+=c.child(d).nodeSize;return i}function N7(i,t){return function(e,n){let{$from:r,$to:o,node:s}=e.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(o))return!1;let a=r.node(-1);if(a.type!=i)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=i||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let p=L.empty,m=r.index(-1)?1:r.index(-2)?2:3;for(let F=r.depth-m;F>=r.depth-3;F--)p=L.from(r.node(F).copy(p));let _=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;p=p.append(L.from(i.createAndFill()));let v=r.before(r.depth-(m-1)),x=e.tr.replace(v,r.after(-_),new j(p,4-m,0)),E=-1;x.doc.nodesBetween(v,x.doc.content.size,(F,re)=>{if(E>-1)return!1;F.isTextblock&&F.content.size==0&&(E=re+1)}),E>-1&&x.setSelection(fe.near(x.doc.resolve(E))),n(x.scrollIntoView())}return!0}let l=o.pos==r.end()?a.contentMatchAt(0).defaultType:null,c=e.tr.delete(r.pos,o.pos),d=l?[t?{type:i,attrs:t}:null,{type:l}]:void 0;return Fi(c.doc,r.pos,2,d)?(n&&n(c.split(r.pos,2,d).scrollIntoView()),!0):!1}}function rp(i){return function(t,e){let{$from:n,$to:r}=t.selection,o=n.blockRange(r,s=>s.childCount>0&&s.firstChild.type==i);return o?e?n.node(o.depth-1).type==i?oS(t,e,i,o):sS(t,e,o):!0:!1}}function oS(i,t,e,n){let r=i.tr,o=n.end,s=n.$to.end(n.depth);o<s&&(r.step(new ut(o-1,s,o,s,new j(L.from(e.create(null,n.parent.copy())),1,0),1,!0)),n=new Er(r.doc.resolve(n.$from.pos),r.doc.resolve(s),n.depth));let a=Ar(n);if(a==null)return!1;r.lift(n,a);let l=r.doc.resolve(r.mapping.map(o,-1)-1);return kr(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),t(r.scrollIntoView()),!0}function sS(i,t,e){let n=i.tr,r=e.parent;for(let _=e.end,v=e.endIndex-1,x=e.startIndex;v>x;v--)_-=r.child(v).nodeSize,n.delete(_-1,_+1);let o=n.doc.resolve(e.start),s=o.nodeAfter;if(n.mapping.map(e.end)!=e.start+o.nodeAfter.nodeSize)return!1;let a=e.startIndex==0,l=e.endIndex==r.childCount,c=o.node(-1),d=o.index(-1);if(!c.canReplace(d+(a?0:1),d+1,s.content.append(l?L.empty:L.from(r))))return!1;let p=o.pos,m=p+s.nodeSize;return n.step(new ut(p-(a?1:0),m+(l?1:0),p+1,m-1,new j((a?L.empty:L.from(r.copy(L.empty))).append(l?L.empty:L.from(r.copy(L.empty))),a?0:1,l?0:1),a?0:1)),t(n.scrollIntoView()),!0}function op(i){return function(t,e){let{$from:n,$to:r}=t.selection,o=n.blockRange(r,c=>c.childCount>0&&c.firstChild.type==i);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=i)return!1;if(e){let c=l.lastChild&&l.lastChild.type==a.type,d=L.from(c?i.create():null),p=new j(L.from(i.create(null,L.from(a.type.create(null,d)))),c?3:1,0),m=o.start,_=o.end;e(t.tr.step(new ut(m-(c?3:1),_,m,_,p,1,!0)).scrollIntoView())}return!0}}var lS={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(i){return{href:i.getAttribute("href"),title:i.getAttribute("title"),target:i.getAttribute("target")}}}],toDOM(i){let{href:t,title:e,target:n}=i.attrs;return["a",{href:t,title:e,target:n},0]}},cS={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},dS={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:i=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(i)&&null}],toDOM(){return["strong",0]}},uS={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},hS={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},pS={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},fS={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:i=>({color:i})}],toDOM(i){let{color:t}=i.attrs;return["span",{style:`color:${t};`},0]}},mS={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:i=>({backgroundColor:i})}],toDOM(i){let{backgroundColor:t}=i.attrs;return["span",{style:`background-color:${t};`},0]}},gS={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},_S={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},vS={link:lS,em:cS,strong:dS,code:uS,u:hS,s:pS,text_color:fS,text_background_color:mS,sup:gS,sub:_S},bS={content:"block+"},yS={group:"inline"},wS={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{align:t,indent:e}=i.attrs,n={textAlign:t!=="left"?t:null,marginLeft:e!==null?`${e*40}px`:null};return["p",{style:Yc(n)||null,"data-indent":e??null},0]}},CS={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(i){let t=i.getAttribute("data-indent")||null;return{indent:parseInt(t,10)||null}}}],toDOM(i){let{indent:t}=i.attrs,e={marginLeft:t!==null?`${t*40}px`:null};return["blockquote",{style:Yc(e)||null,"data-indent":t??null},0]}},xS={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},SS={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:1,align:e,indent:parseInt(n,10)||null}}},{tag:"h2",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:2,align:e,indent:parseInt(n,10)||null}}},{tag:"h3",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:3,align:e,indent:parseInt(n,10)||null}}},{tag:"h4",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:4,align:e,indent:parseInt(n,10)||null}}},{tag:"h5",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:5,align:e,indent:parseInt(n,10)||null}}},{tag:"h6",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:6,align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{level:t,align:e,indent:n}=i.attrs,r={textAlign:e!=="left"?e:null,marginLeft:n!==null?`${n*40}px`:null},s={style:Yc(r)||null,"data-indent":n??null};return[`h${t}`,s,0]}},ES={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},DS={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},MS={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(i){return{src:i.getAttribute("src"),title:i.getAttribute("title"),alt:i.getAttribute("alt"),width:i.getAttribute("width")}}}],toDOM(i){let{src:t,alt:e,title:n,width:r}=i.attrs;return["img",{src:t,alt:e,title:n,width:r}]}},AS=ye(k({},R7),{content:"paragraph block*"}),kS=ye(k({},I7),{content:"list_item+",group:"block"}),TS=ye(k({},P7),{content:"list_item+",group:"block"}),IS={doc:bS,text:yS,paragraph:wS,blockquote:CS,horizontal_rule:xS,heading:SS,hard_break:DS,code_block:ES,image:MS,list_item:AS,ordered_list:kS,bullet_list:TS},Oa=new id({marks:vS,nodes:IS});var L7=(i,t)=>i.selection.empty?!1:(t&&t(i.tr.deleteSelection().scrollIntoView()),!0);function PS(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("backward",i):e.parentOffset>0)?null:e}var RS=(i,t,e)=>{let n=PS(i,e);if(!n)return!1;let r=B7(n);if(!r){let s=n.blockRange(),a=s&&Ar(s);return a==null?!1:(t&&t(i.tr.lift(s,a).scrollIntoView()),!0)}let o=r.nodeBefore;if(j7(i,r,t,-1))return!0;if(n.parent.content.size==0&&(zo(o,"end")||te.isSelectable(o)))for(let s=n.depth;;s--){let a=cd(i.doc,n.before(s),n.after(s),j.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=i.tr.step(a);l.setSelection(zo(o,"end")?fe.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):te.create(l.doc,r.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return o.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1};function zo(i,t,e=!1){for(let n=i;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(e&&n.childCount!=1)return!1}return!1}var OS=(i,t,e)=>{let{$head:n,empty:r}=i.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("backward",i):n.parentOffset>0)return!1;o=B7(n)}let s=o&&o.nodeBefore;return!s||!te.isSelectable(s)?!1:(t&&t(i.tr.setSelection(te.create(i.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function B7(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){if(i.index(t)>0)return i.doc.resolve(i.before(t+1));if(i.node(t).type.spec.isolating)break}return null}function NS(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("forward",i):e.parentOffset<e.parent.content.size)?null:e}var FS=(i,t,e)=>{let n=NS(i,e);if(!n)return!1;let r=V7(n);if(!r)return!1;let o=r.nodeAfter;if(j7(i,r,t,1))return!0;if(n.parent.content.size==0&&(zo(o,"start")||te.isSelectable(o))){let s=cd(i.doc,n.before(),n.after(),j.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=i.tr.step(s);a.setSelection(zo(o,"start")?fe.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):te.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},LS=(i,t,e)=>{let{$head:n,empty:r}=i.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("forward",i):n.parentOffset<n.parent.content.size)return!1;o=V7(n)}let s=o&&o.nodeAfter;return!s||!te.isSelectable(s)?!1:(t&&t(i.tr.setSelection(te.create(i.doc,o.pos)).scrollIntoView()),!0)};function V7(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){let e=i.node(t);if(i.index(t)+1<e.childCount)return i.doc.resolve(i.after(t+1));if(e.type.spec.isolating)break}return null}var H7=(i,t)=>{let{$from:e,$to:n}=i.selection,r=e.blockRange(n),o=r&&Ar(r);return o==null?!1:(t&&t(i.tr.lift(r,o).scrollIntoView()),!0)},ap=(i,t)=>{let{$head:e,$anchor:n}=i.selection;return!e.parent.type.spec.code||!e.sameParent(n)?!1:(t&&t(i.tr.insertText(`
`).scrollIntoView()),!0)};function lp(i){for(let t=0;t<i.edgeCount;t++){let{type:e}=i.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}var cp=(i,t)=>{let{$head:e,$anchor:n}=i.selection;if(!e.parent.type.spec.code||!e.sameParent(n))return!1;let r=e.node(-1),o=e.indexAfter(-1),s=lp(r.contentMatchAt(o));if(!s||!r.canReplaceWith(o,o,s))return!1;if(t){let a=e.after(),l=i.tr.replaceWith(a,a,s.createAndFill());l.setSelection(fe.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},dp=(i,t)=>{let e=i.selection,{$from:n,$to:r}=e;if(e instanceof tn||n.parent.inlineContent||r.parent.inlineContent)return!1;let o=lp(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!n.parentOffset&&r.index()<r.parent.childCount?n:r).pos,a=i.tr.insert(s,o.createAndFill());a.setSelection(Pe.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},up=(i,t)=>{let{$cursor:e}=i.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let o=e.before();if(Fi(i.doc,o))return t&&t(i.tr.split(o).scrollIntoView()),!0}let n=e.blockRange(),r=n&&Ar(n);return r==null?!1:(t&&t(i.tr.lift(n,r).scrollIntoView()),!0)};function BS(i){return(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof te&&t.selection.node.isBlock)return!n.parentOffset||!Fi(t.doc,n.pos)?!1:(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],s,a,l=!1,c=!1;for(let _=n.depth;;_--)if(n.node(_).isBlock){l=n.end(_)==n.pos+(n.depth-_),c=n.start(_)==n.pos-(n.depth-_),a=lp(n.node(_-1).contentMatchAt(n.indexAfter(_-1)));let x=i&&i(r.parent,l,n);o.unshift(x||(l&&a?{type:a}:null)),s=_;break}else{if(_==1)return!1;o.unshift(null)}let d=t.tr;(t.selection instanceof Pe||t.selection instanceof tn)&&d.deleteSelection();let p=d.mapping.map(n.pos),m=Fi(d.doc,p,o.length,o);if(m||(o[0]=a?{type:a}:null,m=Fi(d.doc,p,o.length,o)),!m)return!1;if(d.split(p,o.length,o),!l&&c&&n.node(s).type!=a){let _=d.mapping.map(n.before(s)),v=d.doc.resolve(_);a&&n.node(s-1).canReplaceWith(v.index(),v.index()+1,a)&&d.setNodeMarkup(d.mapping.map(n.before(s)),a)}return e&&e(d.scrollIntoView()),!0}}var hp=BS();var VS=(i,t)=>(t&&t(i.tr.setSelection(new tn(i.doc))),!0);function HS(i,t,e){let n=t.nodeBefore,r=t.nodeAfter,o=t.index();return!n||!r||!n.type.compatibleContent(r.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(e&&e(i.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(r.isTextblock||kr(i.doc,t.pos))?!1:(e&&e(i.tr.join(t.pos).scrollIntoView()),!0)}function j7(i,t,e,n){let r=t.nodeBefore,o=t.nodeAfter,s,a,l=r.type.spec.isolating||o.type.spec.isolating;if(!l&&HS(i,t,e))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(a=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(e){let _=t.pos+o.nodeSize,v=L.empty;for(let F=s.length-1;F>=0;F--)v=L.from(s[F].create(null,v));v=L.from(r.copy(v));let x=i.tr.step(new ut(t.pos-1,_,t.pos,_,new j(v,1,0),s.length,!0)),E=x.doc.resolve(_+2*s.length);E.nodeAfter&&E.nodeAfter.type==r.type&&kr(x.doc,E.pos)&&x.join(E.pos),e(x.scrollIntoView())}return!0}let d=o.type.spec.isolating||n>0&&l?null:fe.findFrom(t,1),p=d&&d.$from.blockRange(d.$to),m=p&&Ar(p);if(m!=null&&m>=t.depth)return e&&e(i.tr.lift(p,m).scrollIntoView()),!0;if(c&&zo(o,"start",!0)&&zo(r,"end")){let _=r,v=[];for(;v.push(_),!_.isTextblock;)_=_.lastChild;let x=o,E=1;for(;!x.isTextblock;x=x.firstChild)E++;if(_.canReplace(_.childCount,_.childCount,x.content)){if(e){let F=L.empty;for(let ne=v.length-1;ne>=0;ne--)F=L.from(v[ne].copy(F));let re=i.tr.step(new ut(t.pos-v.length,t.pos+o.nodeSize,t.pos+E,t.pos+o.nodeSize-E,new j(F,v.length,0),0,!0));e(re.scrollIntoView())}return!0}}return!1}function Z7(i){return function(t,e){let n=t.selection,r=i<0?n.$from:n.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(e&&e(t.tr.setSelection(Pe.create(t.doc,i<0?r.start(o):r.end(o)))),!0):!1}}var jS=Z7(-1),ZS=Z7(1);function z7(i,t=null){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o),a=s&&Ro(s,i,t);return a?(n&&n(e.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Ed(i,t=null){return function(e,n){let r=!1;for(let o=0;o<e.selection.ranges.length&&!r;o++){let{$from:{pos:s},$to:{pos:a}}=e.selection.ranges[o];e.doc.nodesBetween(s,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(i,t)))if(l.type==i)r=!0;else{let d=e.doc.resolve(c),p=d.index();r=d.parent.canReplaceWith(p,p+1,i)}})}if(!r)return!1;if(n){let o=e.tr;for(let s=0;s<e.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=e.selection.ranges[s];o.setBlockType(a,l,i,t)}n(o.scrollIntoView())}return!0}}function zS(i,t,e,n){for(let r=0;r<t.length;r++){let{$from:o,$to:s}=t[r],a=o.depth==0?i.inlineContent&&i.type.allowsMarkType(e):!1;if(i.nodesBetween(o.pos,s.pos,(l,c)=>{if(a||!n&&l.isAtom&&l.isInline&&c>=o.pos&&c+l.nodeSize<=s.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(e)}),a)return!0}return!1}function US(i){let t=[];for(let e=0;e<i.length;e++){let{$from:n,$to:r}=i[e];n.doc.nodesBetween(n.pos,r.pos,(o,s)=>{if(o.isAtom&&o.content.size&&o.isInline&&s>=n.pos&&s+o.nodeSize<=r.pos)return s+1>n.pos&&t.push(new No(n,n.doc.resolve(s+1))),n=n.doc.resolve(s+1+o.content.size),!1}),n.pos<r.pos&&t.push(new No(n,r))}return t}function Vr(i,t=null,e){let n=(e&&e.removeWhenPresent)!==!1,r=(e&&e.enterInlineAtoms)!==!1,o=!(e&&e.includeWhitespace);return function(s,a){let{empty:l,$cursor:c,ranges:d}=s.selection;if(l&&!c||!zS(s.doc,d,i,r))return!1;if(a)if(c)i.isInSet(s.storedMarks||c.marks())?a(s.tr.removeStoredMark(i)):a(s.tr.addStoredMark(i.create(t)));else{let p,m=s.tr;r||(d=US(d)),n?p=!d.some(_=>s.doc.rangeHasMark(_.$from.pos,_.$to.pos,i)):p=!d.every(_=>{let v=!1;return m.doc.nodesBetween(_.$from.pos,_.$to.pos,(x,E,F)=>{if(v)return!1;v=!i.isInSet(x.marks)&&!!F&&F.type.allowsMarkType(i)&&!(x.isText&&/^\s*$/.test(x.textBetween(Math.max(0,_.$from.pos-E),Math.min(x.nodeSize,_.$to.pos-E))))}),!v});for(let _=0;_<d.length;_++){let{$from:v,$to:x}=d[_];if(!p)m.removeMark(v.pos,x.pos,i);else{let E=v.pos,F=x.pos,re=v.nodeAfter,ne=x.nodeBefore,We=o&&re&&re.isText?/^\s*/.exec(re.text)[0].length:0,ht=o&&ne&&ne.isText?/\s*$/.exec(ne.text)[0].length:0;E+We<F&&(E+=We,F-=ht),m.addMark(E,F,i.create(t))}}a(m.scrollIntoView())}return!0}}function Uo(...i){return function(t,e,n){for(let r=0;r<i.length;r++)if(i[r](t,e,n))return!0;return!1}}var sp=Uo(L7,RS,OS),F7=Uo(L7,FS,LS),di={Enter:Uo(ap,dp,up,hp),"Mod-Enter":cp,Backspace:sp,"Mod-Backspace":sp,"Shift-Backspace":sp,Delete:F7,"Mod-Delete":F7,"Mod-a":VS},U7={"Ctrl-h":di.Backspace,"Alt-Backspace":di["Mod-Backspace"],"Ctrl-d":di.Delete,"Ctrl-Alt-Backspace":di["Mod-Delete"],"Alt-Delete":di["Mod-Delete"],"Alt-d":di["Mod-Delete"],"Ctrl-a":jS,"Ctrl-e":ZS};for(let i in di)U7[i]=di[i];var $S=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,$7=$S?U7:di;var mn=class{constructor(t,e,n={}){this.match=t,this.match=t,this.handler=typeof e=="string"?WS(e):e,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}};function WS(i){return function(t,e,n,r){let o=i;if(e[1]){let s=e[0].lastIndexOf(e[1]);o+=e[0].slice(s+e[1].length),n+=s;let a=n-r;a>0&&(o=e[0].slice(s-a,s)+o,n=r)}return t.tr.insertText(o,n,r)}}var GS=500;function G7({rules:i}){let t=new Mt({state:{init(){return null},apply(e,n){let r=e.getMeta(this);return r||(e.selectionSet||e.docChanged?null:n)}},props:{handleTextInput(e,n,r,o){return W7(e,n,r,o,i,t)},handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:n}=e.state.selection;n&&W7(e,n.pos,n.pos,"",i,t)})}}},isInputRules:!0});return t}function W7(i,t,e,n,r,o){if(i.composing)return!1;let s=i.state,a=s.doc.resolve(t),l=a.parent.textBetween(Math.max(0,a.parentOffset-GS),a.parentOffset,null,"\uFFFC")+n;for(let c=0;c<r.length;c++){let d=r[c];if(!d.inCodeMark&&a.marks().some(_=>_.type.spec.code))continue;if(a.parent.type.spec.code){if(!d.inCode)continue}else if(d.inCode==="only")continue;let p=d.match.exec(l),m=p&&p[0].length>=n.length&&d.handler(s,p,t-(p[0].length-n.length),e);if(m)return d.undoable&&m.setMeta(o,{transform:m,from:t,to:e,text:n}),i.dispatch(m),!0}return!1}var q7=new mn(/--$/,"\u2014",{inCodeMark:!1}),K7=new mn(/\.\.\.$/,"\u2026",{inCodeMark:!1}),qS=new mn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C",{inCodeMark:!1}),KS=new mn(/"$/,"\u201D",{inCodeMark:!1}),YS=new mn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018",{inCodeMark:!1}),JS=new mn(/'$/,"\u2019",{inCodeMark:!1}),Y7=[qS,KS,YS,JS];function Dd(i,t,e=null,n){return new mn(i,(r,o,s,a)=>{let l=e instanceof Function?e(o):e,c=r.tr.delete(s,a),d=c.doc.resolve(s),p=d.blockRange(),m=p&&Ro(p,t,l);if(!m)return null;c.wrap(p,m);let _=c.doc.resolve(s-1).nodeBefore;return _&&_.type==t&&kr(c.doc,s-1)&&(!n||n(o,_))&&c.join(s-1),c})}function pp(i,t,e=null){return new mn(i,(n,r,o,s)=>{let a=n.doc.resolve(o),l=e instanceof Function?e(r):e;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?n.tr.delete(o,s).setBlockType(o,o,t,l):null})}var Md=(i,t)=>{let{from:e,$from:n,to:r,empty:o}=i.selection;return o?!!t.isInSet(i.storedMarks||n.marks()):i.doc.rangeHasMark(e,r,t)},XS=(i,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===i)return t.node(e).type;return null},fp=(i,t,e={})=>{let{selection:n}=i,{$from:r,to:o}=n,s=XS(t,r);return!Object.entries(e).length||!s?!!s:o<=r.end()&&r.parent.hasMarkup(t,e)},J7=i=>{let t=[],{selection:e,storedMarks:n}=i,{from:r,to:o,empty:s,$from:a}=e;return s?t=n||a.marks():i.doc.nodesBetween(r,o,l=>{t=[...t,...l.marks]}),t},mp=i=>{let t=[],{selection:{from:e,to:n}}=i;return i.doc.nodesBetween(e,n,r=>{t.push(r)}),t},gp=(i,t,e)=>{for(let n of t){let{$from:r,$to:o}=n,s=r.depth===0?i.type.allowsMarkType(e):!1;if(i.nodesBetween(r.pos,o.pos,a=>s?!1:(s=a.inlineContent&&a.type.allowsMarkType(e),!0)),s)return!0}return!1},_p=(i,t,e)=>new mn(i,(n,r,o,s)=>{let{tr:a}=n,l=o,c=s,[d,,p]=r,m=d.search(/\S/);if(p){let _=o+d.indexOf(p),v=_+p.length;v<s&&a.delete(v,s),_>o&&a.delete(o+m,_),c=o+p.length+m}return a.addMark(l,c,t.create(e)),a.removeStoredMark(t),a}),X7=(i,t)=>{let{$from:e}=i.selection;for(let n=e.depth;n>=0;n-=1){let r=e.index(n);if(e.node(n).canReplaceWith(r,r,t))return!0}return!1};var Q7=()=>(i,t)=>{let{doc:e,selection:n,tr:r,schema:o}=i,{$head:{pos:s},from:a,to:l}=n,c=o.marks.link;if(a===l){let d=e.resolve(s),p=s-d.textOffset,m=p+d.parent.child(d.index()).nodeSize;r.removeMark(p,m,c)}else r.removeMark(a,l,c);return r.docChanged?(t?.(r),!0):!1},vp=(i,t={})=>(e,n)=>{let{tr:r,selection:o}=e,{empty:s,ranges:a,$from:l,$to:c}=o;if(s&&o instanceof Pe){let{$cursor:d}=o;if(!d||!gp(e.doc,a,i)||(r.addStoredMark(i.create(t)),!r.storedMarksSet))return!1;n?.(r)}else{if(r.addMark(l.pos,c.pos,i.create(t)),!r.docChanged)return!1;n?.(r.scrollIntoView())}return!0},e2=i=>(t,e)=>{let{tr:n,selection:r,storedMarks:o,doc:s}=t,{empty:a,ranges:l}=r;if(a&&r instanceof Pe){let{$cursor:c}=r;if(!c||!gp(t.doc,l,i))return!1;if(i.isInSet(o||c.marks()))return n.removeStoredMark(i),e?.(n),!0}else{for(let c of l){let{$from:d,$to:p}=c;s.rangeHasMark(d.pos,p.pos,i)&&n.removeMark(d.pos,p.pos,i)}if(!n.docChanged)return!1;e?.(n.scrollIntoView())}return!1};var Ad=200,_t=function(){};_t.prototype.append=function(t){return t.length?(t=_t.from(t),!this.length&&t||t.length<Ad&&this.leafAppend(t)||this.length<Ad&&t.leafPrepend(this)||this.appendInner(t)):this};_t.prototype.prepend=function(t){return t.length?_t.from(t).append(this):this};_t.prototype.appendInner=function(t){return new QS(this,t)};_t.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?_t.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};_t.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};_t.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)};_t.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(o,s){return r.push(t(o,s))},e,n),r};_t.from=function(t){return t instanceof _t?t:t&&t.length?new t2(t):_t.empty};var t2=function(i){function t(n){i.call(this),this.values=n}i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,s,a){for(var l=o;l<s;l++)if(r(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,s,a){for(var l=o-1;l>=s;l--)if(r(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Ad)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Ad)return new t(r.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(_t);_t.empty=new t2([]);var QS=function(i){function t(e,n){i.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,r,o,s){var a=this.left.length;if(r<a&&this.left.forEachInner(n,r,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(n,Math.max(r-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(n,r,o,s){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(n,r-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(n,Math.min(r,a),o,s)===!1)return!1},t.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(n,r):n>=o?this.right.slice(n-o,r-o):this.left.slice(n,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new t(r,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(_t),bp=_t;var eE=500,jr=class i{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let r,o;e&&(r=this.remapping(n,this.items.length),o=r.maps.length);let s=t.tr,a,l,c=[],d=[];return this.items.forEach((p,m)=>{if(!p.step){r||(r=this.remapping(n,m+1),o=r.maps.length),o--,d.push(p);return}if(r){d.push(new Un(p.map));let _=p.step.map(r.slice(o)),v;_&&s.maybeStep(_).doc&&(v=s.mapping.maps[s.mapping.maps.length-1],c.push(new Un(v,void 0,void 0,c.length+d.length))),o--,v&&r.appendMap(v,o)}else s.maybeStep(p.step);if(p.selection)return a=r?p.selection.map(r.slice(o)):p.selection,l=new i(this.items.slice(0,n).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,e,n,r){let o=[],s=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let d=0;d<t.steps.length;d++){let p=t.steps[d].invert(t.docs[d]),m=new Un(t.mapping.maps[d],p,e),_;(_=l&&l.merge(m))&&(m=_,d?o.pop():a=a.slice(0,a.length-1)),o.push(m),e&&(s++,e=void 0),r||(l=m)}let c=s-n.depth;return c>nE&&(a=tE(a,c),s-=c),new i(a.append(o),s)}remapping(t,e){let n=new wa;return this.items.forEach((r,o)=>{let s=r.mirrorOffset!=null&&o-r.mirrorOffset>=t?n.maps.length-r.mirrorOffset:void 0;n.appendMap(r.map,s)},t,e),n}addMaps(t){return this.eventCount==0?this:new i(this.items.append(t.map(e=>new Un(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},r);let l=e;this.items.forEach(m=>{let _=o.getMirror(--l);if(_==null)return;s=Math.min(s,_);let v=o.maps[_];if(m.step){let x=t.steps[_].invert(t.docs[_]),E=m.selection&&m.selection.map(o.slice(l+1,_));E&&a++,n.push(new Un(v,x,E))}else n.push(new Un(v))},r);let c=[];for(let m=e;m<s;m++)c.push(new Un(o.maps[m]));let d=this.items.slice(0,r).append(c).append(n),p=new i(d,a);return p.emptyItemCount()>eE&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)r.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(e.slice(n)),c=l&&l.getMap();if(n--,c&&e.appendMap(c,n),l){let d=s.selection&&s.selection.map(e.slice(n));d&&o++;let p=new Un(c.invert(),l,d),m,_=r.length-1;(m=r.length&&r[_].merge(p))?r[_]=m:r.push(p)}}else s.map&&n--},this.items.length,0),new i(bp.from(r.reverse()),o)}};jr.empty=new jr(bp.empty,0);function tE(i,t){let e;return i.forEach((n,r)=>{if(n.selection&&t--==0)return e=r,!1}),i.slice(e)}var Un=class i{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new i(e.getMap().invert(),e,this.selection)}}},$n=class{constructor(t,e,n,r,o){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}},nE=20;function iE(i,t,e,n){let r=e.getMeta(Hr),o;if(r)return r.historyState;e.getMeta(sE)&&(i=new $n(i.done,i.undone,null,0,-1));let s=e.getMeta("appendedTransaction");if(e.steps.length==0)return i;if(s&&s.getMeta(Hr))return s.getMeta(Hr).redo?new $n(i.done.addTransform(e,void 0,n,kd(t)),i.undone,n2(e.mapping.maps),i.prevTime,i.prevComposition):new $n(i.done,i.undone.addTransform(e,void 0,n,kd(t)),null,i.prevTime,i.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=e.getMeta("composition"),l=i.prevTime==0||!s&&i.prevComposition!=a&&(i.prevTime<(e.time||0)-n.newGroupDelay||!rE(e,i.prevRanges)),c=s?yp(i.prevRanges,e.mapping):n2(e.mapping.maps);return new $n(i.done.addTransform(e,l?t.selection.getBookmark():void 0,n,kd(t)),jr.empty,c,e.time,a??i.prevComposition)}else return(o=e.getMeta("rebased"))?new $n(i.done.rebased(e,o),i.undone.rebased(e,o),yp(i.prevRanges,e.mapping),i.prevTime,i.prevComposition):new $n(i.done.addMaps(e.mapping.maps),i.undone.addMaps(e.mapping.maps),yp(i.prevRanges,e.mapping),i.prevTime,i.prevComposition)}function rE(i,t){if(!t)return!1;if(!i.docChanged)return!0;let e=!1;return i.mapping.maps[0].forEach((n,r)=>{for(let o=0;o<t.length;o+=2)n<=t[o+1]&&r>=t[o]&&(e=!0)}),e}function n2(i){let t=[];for(let e=i.length-1;e>=0&&t.length==0;e--)i[e].forEach((n,r,o,s)=>t.push(o,s));return t}function yp(i,t){if(!i)return null;let e=[];for(let n=0;n<i.length;n+=2){let r=t.map(i[n],1),o=t.map(i[n+1],-1);r<=o&&e.push(r,o)}return e}function oE(i,t,e){let n=kd(t),r=Hr.get(t).spec.config,o=(e?i.undone:i.done).popEvent(t,n);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(e?i.done:i.undone).addTransform(o.transform,t.selection.getBookmark(),r,n),l=new $n(e?a:o.remaining,e?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Hr,{redo:e,historyState:l})}var wp=!1,i2=null;function kd(i){let t=i.plugins;if(i2!=t){wp=!1,i2=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){wp=!0;break}}return wp}var Hr=new nn("history"),sE=new nn("closeHistory");function r2(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new Mt({key:Hr,state:{init(){return new $n(jr.empty,jr.empty,null,0,-1)},apply(t,e,n){return iE(e,n,t,i)}},config:i,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r=n=="historyUndo"?Id:n=="historyRedo"?Na:null;return r?(e.preventDefault(),r(t.state,t.dispatch)):!1}}}})}function Td(i,t){return(e,n)=>{let r=Hr.getState(e);if(!r||(i?r.undone:r.done).eventCount==0)return!1;if(n){let o=oE(r,e,i);o&&n(t?o.scrollIntoView():o)}return!0}}var Id=Td(!1,!0),Na=Td(!0,!0),Nj=Td(!1,!1),Fj=Td(!0,!1);var ui={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Rd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},aE=typeof navigator<"u"&&/Mac/.test(navigator.platform),lE=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(tt=0;tt<10;tt++)ui[48+tt]=ui[96+tt]=String(tt);var tt;for(tt=1;tt<=24;tt++)ui[tt+111]="F"+tt;var tt;for(tt=65;tt<=90;tt++)ui[tt]=String.fromCharCode(tt+32),Rd[tt]=String.fromCharCode(tt);var tt;for(Pd in ui)Rd.hasOwnProperty(Pd)||(Rd[Pd]=ui[Pd]);var Pd;function o2(i){var t=aE&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||lE&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",e=!t&&i.key||(i.shiftKey?Rd:ui)[i.keyCode]||i.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}var cE=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),dE=typeof navigator<"u"&&/Win/.test(navigator.platform);function uE(i){let t=i.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let n,r,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))cE?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),s&&(e="Meta-"+e),o&&(e="Shift-"+e),e}function hE(i){let t=Object.create(null);for(let e in i)t[uE(e)]=i[e];return t}function Cp(i,t,e=!0){return t.altKey&&(i="Alt-"+i),t.ctrlKey&&(i="Ctrl-"+i),t.metaKey&&(i="Meta-"+i),e&&t.shiftKey&&(i="Shift-"+i),i}function Fa(i){return new Mt({props:{handleKeyDown:pE(i)}})}function pE(i){let t=hE(i);return function(e,n){let r=o2(n),o,s=t[Cp(r,n)];if(s&&s(e.state,e.dispatch,e))return!0;if(r.length==1&&r!=" "){if(n.shiftKey){let a=t[Cp(r,n,!1)];if(a&&a(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(dE&&n.ctrlKey&&n.altKey)&&(o=ui[n.keyCode])&&o!=r){let a=t[Cp(o,n)];if(a&&a(e.state,e.dispatch,e))return!0}}return!1}}var fE=["imgEl"],mE=i=>({"NgxEditor__Resizer--Active":i});function gE(i,t){if(i&1){let e=$();u(0,"span",4)(1,"span",5),S("mousedown",function(r){M(e);let o=C();return A(o.startResizing(r,"left"))}),h(),u(2,"span",6),S("mousedown",function(r){M(e);let o=C();return A(o.startResizing(r,"right"))}),h(),u(3,"span",7),S("mousedown",function(r){M(e);let o=C();return A(o.startResizing(r,"left"))}),h(),u(4,"span",8),S("mousedown",function(r){M(e);let o=C();return A(o.startResizing(r,"right"))}),h()()}}var _E=["ngxEditor"],vE=["*"];function bE(i,t){if(i&1&&(u(0,"div",12),g(1),be(2,"async"),h()),i&2){let e=C(2);f(),xe(" ",ke(2,1,(e.href.errors==null?null:e.href.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function yE(i,t){if(i&1&&(u(0,"div",12),g(1),h()),i&2){let e=C(2);f(),xe(" ",(e.text.errors==null?null:e.text.errors.required)&&"This is required"," ")}}function wE(i,t){if(i&1&&(u(0,"div",4)(1,"div",5)(2,"label"),w(3,"input",13),g(4),be(5,"async"),h()()()),i&2){let e=C(2);f(4),xe(" ",ke(5,1,e.getLabel("openInNewTab"))," ")}}function CE(i,t){if(i&1){let e=$();u(0,"div",2)(1,"form",3),S("ngSubmit",function(r){M(e);let o=C();return A(o.insertLink(r))}),u(2,"div",4)(3,"div",5)(4,"label",6),g(5),be(6,"async"),h(),w(7,"input",7),T(8,bE,3,3,"div",8),h()(),u(9,"div",4)(10,"div",5)(11,"label",6),g(12),be(13,"async"),h(),w(14,"input",9),T(15,yE,2,1,"div",8),h()(),T(16,wE,6,3,"div",10),u(17,"button",11),g(18),be(19,"async"),h()()()}if(i&2){let e=C();f(),b("formGroup",e.form),f(3),b("htmlFor",e.getId("link-popup-url")),f(),R(ke(6,12,e.getLabel("url"))),f(2),b("id",e.getId("link-popup-url")),f(),b("ngIf",e.href.touched&&e.href.invalid),f(3),b("htmlFor",e.getId("link-popup-label")),f(),R(ke(13,14,e.getLabel("text"))),f(2),b("id",e.getId("link-popup-label")),f(),b("ngIf",e.text.touched&&e.text.invalid),f(),b("ngIf",e.options.showOpenInNewTab),f(),b("disabled",!e.form.valid),f(),R(ke(19,16,e.getLabel("insert")))}}var xE=(i,t)=>({"NgxEditor__Dropdown--Active":i,"NgxEditor--Disabled":t});function SE(i,t){if(i&1){let e=$();u(0,"button",4),be(1,"async"),S("mousedown",function(r){let o=M(e).$implicit,s=C(2);return A(s.onDropdownItemMouseClick(r,o))})("keydown.enter",function(r){let o=M(e).$implicit,s=C(2);return A(s.onDropdownItemKeydown(r,o))})("keydown.space",function(r){let o=M(e).$implicit,s=C(2);return A(s.onDropdownItemKeydown(r,o))}),g(2),be(3,"async"),h()}if(i&2){let e=t.$implicit,n=C(2);b("ngClass",Ze(8,xE,e===n.activeItem,n.disabledItems.includes(e)))("ariaLabel",ke(1,4,n.getName(e))),je("aria-selected",e===n.activeItem),f(2),xe(" ",ke(3,6,n.getName(e))," ")}}function EE(i,t){if(i&1&&(u(0,"div",2),T(1,SE,4,11,"button",3),h()),i&2){let e=C();f(),b("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}function DE(i,t){if(i&1&&(u(0,"div",12),g(1),be(2,"async"),h()),i&2){let e=C(2);f(),xe(" ",ke(2,1,(e.src.errors==null?null:e.src.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function ME(i,t){if(i&1){let e=$();u(0,"div",2)(1,"form",3),S("ngSubmit",function(r){M(e);let o=C();return A(o.insertLink(r))}),u(2,"div",4)(3,"div",5)(4,"label",6),g(5),be(6,"async"),h(),w(7,"input",7),T(8,DE,3,3,"div",8),h()(),u(9,"div",4)(10,"div",5)(11,"label",6),g(12),be(13,"async"),h(),w(14,"input",9),h()(),u(15,"div",4)(16,"div",5)(17,"label",6),g(18),be(19,"async"),h(),w(20,"input",10),h()(),u(21,"button",11),g(22),be(23,"async"),h()()()}if(i&2){let e=C();f(),b("formGroup",e.form),f(3),b("htmlFor",e.getId("image-popup-url")),f(),R(ke(6,13,e.getLabel("url"))),f(2),b("id",e.getId("image-popup-url")),f(),b("ngIf",e.src.touched&&e.src.invalid),f(3),b("htmlFor",e.getId("image-popup-label")),f(),R(ke(13,15,e.getLabel("altText"))),f(2),b("id",e.getId("image-popup-label")),f(3),b("htmlFor",e.getId("image-popup-title")),f(),R(ke(19,17,e.getLabel("title"))),f(2),b("id",e.getId("image-popup-title")),f(),b("disabled",!e.form.valid||!e.form.dirty),f(),R(ke(23,19,e.getLabel("insert")))}}var AE=(i,t)=>({backgroundColor:i,color:t}),kE=i=>({"NgxEditor__Color--Active":i});function TE(i,t){if(i&1){let e=$();u(0,"button",7),S("mousedown",function(r){let o=M(e).$implicit,s=C(3);return A(s.onColorSelectMouseClick(r,o))})("keydown.enter",function(){let r=M(e).$implicit,o=C(3);return A(o.onColorSelectKeydown(r))})("keydown.space",function(){let r=M(e).$implicit,o=C(3);return A(o.onColorSelectKeydown(r))}),h()}if(i&2){let e=t.$implicit,n=C(3);b("ngStyle",Ze(3,AE,e,n.getContrastYIQ(e)))("title",e)("ngClass",ve(6,kE,n.activeColors.includes(e)))}}function IE(i,t){if(i&1&&(u(0,"div",5),T(1,TE,1,8,"button",6),h()),i&2){let e=t.$implicit,n=C(2);f(),b("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function PE(i,t){if(i&1){let e=$();u(0,"div",2),T(1,IE,2,2,"div",3),u(2,"button",4),S("mousedown",function(r){M(e);let o=C();return A(o.onRemoveMouseClick(r))})("keydown.enter",function(){M(e);let r=C();return A(r.onRemoveKeydown())})("keydown.space",function(){M(e);let r=C();return A(r.onRemoveKeydown())}),g(3),be(4,"async"),h()()}if(i&2){let e=C();f(),b("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),f(),b("disabled",!e.isActive),f(),xe(" ",ke(4,4,e.getLabel("remove"))," ")}}var RE=(i,t)=>({"NgxEditor--Disabled":i,"NgxEditor__MenuBar--Reverse":t});function OE(i,t){if(i&1&&w(0,"ngx-toggle-command",7),i&2){let e=C().$implicit,n=C(2);Tt(n.iconContainerClass),b("toolbarItem",e)}}function NE(i,t){if(i&1&&w(0,"ngx-insert-command",7),i&2){let e=C().$implicit,n=C(2);Tt(n.iconContainerClass),b("toolbarItem",e)}}function FE(i,t){if(i&1&&(mi(0),w(1,"ngx-link",8),gi()),i&2){let e=C().$implicit,n=C(2);f(),Tt(n.iconContainerClass),b("options",n.getLinkOptions(e))}}function LE(i,t){if(i&1&&w(0,"ngx-image"),i&2){let e=C(3);Tt(e.iconContainerClass)}}function BE(i,t){if(i&1&&w(0,"ngx-dropdown",10),i&2){let e=t.$implicit,n=C(4);Tt(n.dropdownContainerClass),b("group",e.key)("items",e.value)}}function VE(i,t){if(i&1&&(mi(0),T(1,BE,1,4,"ngx-dropdown",9),be(2,"keyvalue"),gi()),i&2){let e=C().$implicit,n=C(2);f(),b("ngForOf",ke(2,2,n.getDropdownItems(e)))("ngForTrackBy",n.trackByIndex)}}function HE(i,t){if(i&1&&w(0,"ngx-color-picker",11),i&2){let e=C(3);Tt(e.iconContainerClass),b("presets",e.presets)}}function jE(i,t){if(i&1&&w(0,"ngx-color-picker",12),i&2){let e=C(3);Tt(e.iconContainerClass),b("presets",e.presets)}}function ZE(i,t){if(i&1&&w(0,"div"),i&2){let e=C(3);Tt(e.seperatorClass)}}function zE(i,t){if(i&1&&(mi(0),T(1,OE,1,3,"ngx-toggle-command",3)(2,NE,1,3,"ngx-insert-command",3)(3,FE,2,3,"ng-container",2)(4,LE,1,2,"ngx-image",4)(5,VE,3,4,"ng-container",2)(6,HE,1,3,"ngx-color-picker",5)(7,jE,1,3,"ngx-color-picker",6)(8,ZE,1,2,"div",4),gi()),i&2){let e=t.$implicit,n=t.last,r=C().last,o=C();f(),b("ngIf",o.toggleCommands.includes(e)),f(),b("ngIf",o.insertCommands.includes(e)),f(),b("ngIf",o.isLinkItem(e)),f(),b("ngIf",e==="image"),f(),b("ngIf",o.isDropDown(e)),f(),b("ngIf",e==="text_color"),f(),b("ngIf",e==="background_color"),f(),b("ngIf",n&&!r)}}function UE(i,t){if(i&1&&(mi(0),T(1,zE,9,8,"ng-container",1),gi()),i&2){let e=t.$implicit,n=C();f(),b("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function $E(i,t){if(i&1&&(mi(0),Mn(1,13),gi()),i&2){let e=C();f(),b("ngTemplateOutlet",e.customMenuRef)}}var WE=(i=!0)=>new Mt({key:new nn("editable"),state:{init(){return i},apply(t,e){return t.getMeta("UPDATE_EDITABLE")??e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),GE="NgxEditor__Placeholder",qE=i=>new Mt({key:new nn("placeholder"),state:{init(){return i??""},apply(t,e){return t.getMeta("UPDATE_PLACEHOLDER")??e}},props:{decorations(t){let{doc:e}=t,{textContent:n,childCount:r}=e,o=this.getState(t);if(!o||r>1)return Pt.empty;let s=[],a=(l,c)=>{if(l.type.isBlock&&l.childCount===0&&n.length===0){let d=c,p=c+l.nodeSize,m=zn.node(d,p,{class:GE,"data-placeholder":o,"data-align":l.attrs.align??null});s.push(m)}return!1};return e.descendants(a),Pt.create(e,s)}}}),KE=(i={})=>new Mt({key:new nn("attributes"),props:{attributes:i}}),YE=i=>new Mt({key:new nn("focus"),props:{handleDOMEvents:{focus:()=>(i(),!1)}}}),JE=i=>new Mt({key:new nn("blur"),props:{handleDOMEvents:{blur:()=>(i(),!1)}}}),XE=(()=>{class i{src;alt="";title="";outerWidth="";selected=!1;view;imageResize=new Z;imgEl;startResizing(e,n){e.preventDefault(),this.resizeImage(e,n)}resizeImage(e,n){let r=e.pageX,o=this.imgEl.nativeElement.clientWidth,s=n==="left",{width:a}=window.getComputedStyle(this.view.dom),l=parseInt(a,10),c=p=>{let _=p.pageX-r,v=s?o-_:o+_;v>l||v<20||(this.outerWidth=`${v}px`)},d=p=>{p.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d),this.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=P({type:i,selectors:[["ngx-image-view"]],viewQuery:function(n,r){if(n&1&&Be(fE,7),n&2){let o;ce(o=de())&&(r.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},standalone:!1,decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(n,r){n&1&&(u(0,"span",1),T(1,gE,5,0,"span",2),w(2,"img",3,0),h()),n&2&&(Jn("width",r.outerWidth),b("ngClass",ve(7,mE,r.selected)),f(),b("ngIf",r.selected),f(),b("src",r.src,za)("alt",r.alt)("title",r.title))},dependencies:[Se,me],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]})}return i})(),xp=class{dom;view;getPos;applicationRef;imageComponentRef;resizeSubscription;node;updating=!1;constructor(t,e,n,r){this.applicationRef=r.get(Yn),this.imageComponentRef=Qr(XE,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=n,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}handleResize=()=>{if(this.updating)return;let{state:t,dispatch:e}=this.view,{tr:n}=t,r=n.setNodeMarkup(this.getPos(),void 0,ye(k({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),o=r.doc.resolve(this.getPos()),s=new te(o);r.setSelection(s),e(r)};update(t){return t.type!==this.node.type?!1:(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},QE=i=>new Mt({key:new nn("image-resize"),props:{nodeViews:{image:(t,e,n)=>new xp(t,e,n,i)}}}),eD=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,m2=i=>{let t=[];return i.forEach(e=>{if(e.isText){let n=e.text,r=0,o=eD.exec(n);if(o){let s=o.index,a=s+o[0].length,{link:l}=e.type.schema.marks;s>0&&t.push(e.cut(r,s));let c=n.slice(s,a);t.push(e.cut(s,a).mark(l.create({href:c}).addToSet(e.marks))),r=a}r<n.length&&t.push(e.cut(r))}else t.push(e.copy(m2(e.content)))}),L.fromArray(t)},tD=()=>new Mt({key:new nn("linkify"),props:{transformPasted:i=>new j(m2(i.content),i.openStart,i.openEnd)}}),g2=i=>typeof i=="string",nD=()=>window.trustedTypes,_2=i=>nD()?.isHTML(i)??!1,v2=i=>g2(i)||_2(i),b2={type:"doc",content:[{type:"paragraph"}]},iD=(i,t)=>{let e=t??Oa,n=e.nodeFromJSON(i),r=ri.fromSchema(e).serializeFragment(n.content),o=document.createElement("div");return o.appendChild(r),o.innerHTML},rD=(i,t,e)=>{let n=t??Oa,r=document.createElement("div");return r.innerHTML=i,Ni.fromSchema(n).parse(r,e).toJSON()},s2=(i,t,e)=>{if(!i)return t.nodeFromJSON(b2);if(!v2(i))return t.nodeFromJSON(i);let n=rD(i,t,e);return t.nodeFromJSON(n)},y2=(()=>{class i{renderer;injector;elementRef;constructor(e,n,r){this.renderer=e,this.injector=n,this.elementRef=r}ngxEditor;editor;outputFormat;placeholder="Type Here...";focusOut=new Z;focusIn=new Z;unsubscribe=new B;onChange=()=>{};onTouched=()=>{};writeValue(e){!this.outputFormat&&v2(e)&&(this.outputFormat="html"),this.editor.setContent(e??b2)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if(this.outputFormat==="html"){let n=iD(e,this.editor.schema);this.onChange(n);return}this.onChange(e)}setMeta(e,n){let{dispatch:r,state:{tr:o}}=this.editor.view;r(o.setMeta(e,n))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(WE()),this.editor.registerPlugin(qE(this.placeholder)),this.editor.registerPlugin(KE({class:"NgxEditor__Content"})),this.editor.registerPlugin(YE(()=>{this.focusIn.emit()})),this.editor.registerPlugin(JE(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(QE(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(tD())}ngOnInit(){if(!this.editor)throw new ko("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(Me(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static \u0275fac=function(n){return new(n||i)(D(Ye),D(Ae),D(Y))};static \u0275cmp=P({type:i,selectors:[["ngx-editor"]],viewQuery:function(n,r){if(n&1&&Be(_E,7),n&2){let o;ce(o=de())&&(r.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},standalone:!1,features:[Xe([{provide:Cn,useExisting:Bt(()=>i),multi:!0}]),Ue],ngContentSelectors:vE,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(n,r){n&1&&(An(),u(0,"div",1,0),on(2),h())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2})}return i})(),zi=(()=>{class i{editor;customMenuRefChange=new B;setCustomMenuRef(e){this.customMenuRefChange.next(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Wn=class{name;constructor(t){this.name=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?vp(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?Vr(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?Md(t,n):!1}canExecute(t){return this.toggle()(t)}},Sp=class{toggle(){return(t,e)=>{let{schema:n}=t,r=n.nodes.blockquote;return r?this.isActive(t)?H7(t,e):z7(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.nodes.blockquote;return n?fp(t,n):!1}canExecute(t){return this.toggle()(t)}},Ep=class{insert(){return(t,e)=>{let{schema:n,tr:r}=t,o=n.nodes.horizontal_rule;return o?(e(r.replaceSelectionWith(o.create()).scrollIntoView()),!0):!1}}canExecute(t){return X7(t,t.schema.nodes.horizontal_rule)}},Wo=class{isBulletList=!1;constructor(t=!1){this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{let{schema:n}=t,r=this.getType(n);return r?this.isActive(t)?rp(n.nodes.list_item)(t,e):O7(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=this.getType(e);return n?fp(t,n):!1}canExecute(t){return this.toggle()(t)}},hi=class{level;constructor(t){this.level=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.nodes.heading;return r?Ed(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n,selection:r,doc:o}=t,s=n.nodes.heading;if(!s)return!1;let a=r.$from.before(1),c=o.nodeAt(a)?.attrs??{};return this.isActive(t)?Ed(n.nodes.paragraph,c)(t,e):Ed(s,ye(k({},c),{level:this.level}))(t,e)}}isActive(t){let{schema:e}=t,n=mp(t),r=e.nodes.heading;if(!r)return!1;let o=[r,e.nodes.text,e.nodes.blockquote];return!!n.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}},Zr=class{align;constructor(t){this.align=t}toggle(){return(t,e)=>{let{doc:n,selection:r,tr:o,schema:s}=t,{from:a,to:l}=r,c=!1;return n.nodesBetween(a,l,(d,p)=>{let m=d.type;if([s.nodes.paragraph,s.nodes.heading].includes(m)){c=!0;let _=d.attrs.align===this.align?null:this.align;o.setNodeMarkup(p,m,ye(k({},d.attrs),{align:_}))}return!0}),c?(o.docChanged&&e?.(o),!0):!1}}isActive(t){return!!mp(t).find(r=>r.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}},oD={strict:!0},Dp=class{update(t){return(e,n)=>{let{schema:r,selection:o}=e,s=r.marks.link;return!s||o.empty?!1:Vr(s,t)(e,n)}}insert(t,e){return(n,r)=>{let{schema:o,tr:s}=n;if(!o.marks.link)return!1;let l={href:e.href,title:e.title??t,target:e.target??"_blank"},c=o.text(t,[o.marks.link.create(l)]);return s.replaceSelectionWith(c,!1).scrollIntoView(),s.docChanged?(r?.(s),!0):!1}}isActive(t,e=oD){if(e.strict)return!0;let{schema:n}=t,r=n.marks.link;return r?Md(t,r):!1}remove(t,e){return Q7()(t,e)}canExecute(t){let e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}},w2=class{insert(t,e){return(n,r)=>{let{schema:o,tr:s,selection:a}=n,l=o.nodes.image;if(!l)return!1;let c=k({width:null,src:t},e);!c.width&&a instanceof te&&a.node.type===l&&(c.width=a.node.attrs.width),s.replaceSelectionWith(l.createAndFill(c));let d=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new te(d)).scrollIntoView(),s.docChanged?(r?.(s),!0):!1}}isActive(t){let{selection:e}=t;return e instanceof te?e.node.type.name==="image":!1}},$o=class{name;attrName;constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,n)=>{let{schema:r,selection:o,doc:s}=e,a=r.marks[this.name];if(!a)return!1;let{from:l,to:c,empty:d}=o;if(!d&&l+1===c){let p=s.nodeAt(l);if(p?.isAtom&&!p.isText&&p.isLeaf)return!1}return vp(a,t)(e,n)}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?Md(t,n):!1}getActiveColors(t){if(!this.isActive(t))return[];let{schema:e}=t;return J7(t).filter(o=>o.type===e.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?e2(r)(t,e):!1}}canExecute(t){let e=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(e)(t)}},sD=["link"],Mp=class{insert(){return(t,e)=>{let{tr:n}=t,{ranges:r,empty:o}=n.selection;return o||(Object.entries(t.schema.marks).forEach(([s,a])=>{sD.includes(s)||r.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos,a)})}),e(n)),!0}}canExecute(){return!0}},aD=["paragraph","heading","blockquote"],a2=0,l2=10,lD=(i,t,e)=>{let n=i.doc.nodeAt(t);if(!n)return!1;let r=n.attrs.indent??0,o=A5(r+(e==="increase"?1:-1),a2,l2);if(o===r||o<a2||o>l2)return!1;let s=ye(k({},n.attrs),{indent:o});return i.setNodeMarkup(t,n.type,s),!0},Go=class{method="increase";constructor(t){this.method=t}insert(){return(t,e)=>{let{tr:n,doc:r}=t,{from:o,to:s}=n.selection,a=!1;return r.nodesBetween(o,s,(l,c)=>{let d=l.type;return aD.includes(d.name)?(a=lD(n,c,this.method),!1):!l.type.name.includes("list")}),a?(n.docChanged&&e?.(n),!0):!1}}canExecute(t){return this.insert()(t)}},Nd=class{mode="undo";constructor(t){this.mode=t}insert(){return(t,e)=>this.mode==="undo"?Id(t,e):Na(t,e)}canExecute(t){return this.insert()(t)}},cD=new Wn("strong"),dD=new Wn("em"),uD=new Wn("code"),hD=new Wn("u"),pD=new Wn("s"),fD=new Sp,mD=new Ep,gD=new Mp,_D=new Wo(!0),vD=new Wo(!1),bD=new hi(1),yD=new hi(2),wD=new hi(3),CD=new hi(4),xD=new hi(5),SD=new hi(6),ED=new Zr("left"),DD=new Zr("center"),MD=new Zr("right"),AD=new Zr("justify"),kD=new Dp,TD=new w2,ID=new $o("text_color","color"),PD=new $o("text_background_color","backgroundColor"),RD=new Go("increase"),OD=new Go("decrease"),ND=new Wn("sup"),FD=new Wn("sub"),LD=new Nd("undo"),BD=new Nd("redo"),Fd={bold:cD,italic:dD,code:uD,underline:hD,strike:pD,blockquote:fD,bullet_list:_D,ordered_list:vD,h1:bD,h2:yD,h3:wD,h4:CD,h5:xD,h6:SD,align_left:ED,align_center:DD,align_right:MD,align_justify:AD,superscript:ND,subscript:FD},c2={horizontal_rule:mD,format_clear:gD,indent:RD,outdent:OD,undo:LD,redo:BD},La=kD,d2=TD,VD=ID,HD=PD,Ap={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},kp=class{locals=Ap;constructor(t={}){this.locals=k(k({},Ap),t)}get=t=>{let e=this.locals[t];return e?Ui(e)?e:U(e):U("")}},jD=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,ZD=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,zD=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,UD=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,$D=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,WD=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,GD=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,qD=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,KD=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,YD=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,JD=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,XD=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,QD=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,eM=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,tM=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,nM=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,iM=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,rM=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,oM=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,sM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',aM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',lM='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',cM='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',dM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',uM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',hM=20,pM=20,fM="currentColor",C2={bold:jD,italic:ZD,code:zD,underline:UD,strike:$D,ordered_list:WD,bullet_list:GD,blockquote:qD,link:KD,unlink:YD,image:JD,align_left:XD,align_center:QD,align_right:eM,align_justify:tM,text_color:nM,color_fill:iM,horizontal_rule:rM,format_clear:oM,indent:sM,outdent:aM,superscript:lM,subscript:cM,undo:dM,redo:uM,path:"<path></path>"},Tp=class{static get(t,e=fM){let n=C2[t];return n&&(n.includes("<path")||n.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${e}
          height=${hM}
          width=${pM}
        >
          ${n}
        </svg>
      `:n}},Ip=(()=>{class i{locals={};icons={};static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),zr=(()=>{class i{config;constructor(e){this.config=e}get locals(){return new kp(this.config.locals)}getIcon(e){return this.config.icons[e]?this.config.icons[e]:Tp.get(e)}static \u0275fac=function(n){return new(n||i)(H(Ip,8))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),u2=i=>({locals:i.locals??{},icons:i.icons??{}}),qo=(()=>{class i{sanitizer;constructor(e){this.sanitizer=e}transform(e){return _2(e)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(n){return new(n||i)(D(Ou,16))};static \u0275pipe=Yr({name:"sanitizeHtml",type:i,pure:!0,standalone:!1})}return i})(),mM=(()=>{class i{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;isActive=!1;disabled=!1;updateSubscription;constructor(e,n){this.ngxeService=e,this.menuService=n}toggle(){let{state:e,dispatch:n}=this.editorView;Fd[this.name].toggle()(e,n)}onMouseClick(e){e.preventDefault(),e.button===0&&this.toggle()}onKeydown(){this.toggle()}update=e=>{let{state:n}=e,r=Fd[this.name];this.isActive=r.isActive(n),this.disabled=!r.canExecute(n)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(D(zr),D(zi))};static \u0275cmp=P({type:i,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},standalone:!1,decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,r){n&1&&(u(0,"button",0),be(1,"sanitizeHtml"),be(2,"async"),be(3,"async"),S("mousedown",function(s){return r.onMouseClick(s)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),h()),n&2&&(we("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),b("disabled",r.disabled)("innerHTML",ke(1,8,r.html),Kr)("title",ke(2,10,r.getTitle(r.name)))("ariaLabel",ke(3,12,r.getTitle(r.name))))},dependencies:[vi,qo],encapsulation:2})}return i})(),gM=(()=>{class i{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;disabled=!1;updateSubscription;constructor(e,n){this.ngxeService=e,this.menuService=n}onMouseClick(e){e.preventDefault(),e.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:e,dispatch:n}=this.editorView;c2[this.name].insert()(e,n)}update=e=>{let{state:n}=e,r=c2[this.name];this.disabled=!r.canExecute(n)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(D(zr),D(zi))};static \u0275cmp=P({type:i,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},standalone:!1,decls:4,vars:12,consts:[[1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,r){n&1&&(u(0,"button",0),be(1,"sanitizeHtml"),be(2,"async"),be(3,"async"),S("mousedown",function(s){return r.onMouseClick(s)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),h()),n&2&&(we("NgxEditor--Disabled",r.disabled),b("disabled",r.disabled)("innerHTML",ke(1,6,r.html),Kr)("title",ke(2,8,r.getTitle(r.name)))("ariaLabel",ke(3,10,r.getTitle(r.name))))},dependencies:[vi,qo],encapsulation:2})}return i})(),h2={showOpenInNewTab:!0},_M=(()=>{class i{el;ngxeService;menuService;options=h2;showPopup=!1;isActive=!1;canExecute=!0;componentId=sh();form;editorView;updateSubscription;constructor(e,n,r){this.el=e,this.ngxeService=n,this.menuService=r}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:e,dispatch:n}=this.editorView;if(this.isActive){La.remove(e,n);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}setText=()=>{let{state:{selection:e,doc:n}}=this.editorView,{empty:r,from:o,to:s}=e,a=r?"":n.textBetween(o,s);a&&(this.text.patchValue(a),this.text.disable())};update=e=>{let{state:n}=e;this.isActive=La.isActive(n,{strict:!1}),this.canExecute=La.canExecute(n)};insertLink(e){e.preventDefault();let{text:n,href:r,openInNewTab:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView,{selection:l}=a,c;this.options.showOpenInNewTab&&(c=o?"_blank":"_self");let d={title:r,href:r,target:c};l.empty?(La.insert(n,d)(a,s),this.editorView.focus()):La.update(d)(a,s),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new Ws({href:new ei("",[Ei.required,Ei.pattern(this.menuService.editor.linkValidationPattern)]),text:new ei("",[Ei.required]),openInNewTab:new ei(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(D(Y),D(zr),D(zi))};static \u0275cmp=P({type:i,selectors:[["ngx-link"]],hostBindings:function(n,r){n&1&&S("mousedown",function(s){return r.onDocumentClick(s)},!1,ss)},inputs:{options:[2,"options","options",e=>k(k({},h2),e)]},standalone:!1,decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(n,r){n&1&&(u(0,"button",0),be(1,"sanitizeHtml"),be(2,"async"),be(3,"async"),S("mousedown",function(s){return r.onTogglePopupMouseClick(s)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),h(),T(4,CE,20,18,"div",1)),n&2&&(we("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),b("disabled",!r.canExecute)("innerHTML",ke(1,10,r.icon),Kr)("title",ke(2,12,r.title))("ariaLabel",ke(3,14,r.title))("ariaExpanded",r.showPopup),f(4),b("ngIf",r.showPopup))},dependencies:[me,x0,Ve,qs,Fe,w0,tc,nc,vi,qo],encapsulation:2})}return i})(),vM=(()=>{class i{ngxeService;menuService;el;editorView;updateSubscription;group;items;isDropdownOpen=!1;disabledItems=[];activeItem;constructor(e,n,r){this.ngxeService=e,this.menuService=n,this.el=r}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}getIsDropdownActive(e){return this.activeItem===e}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(e){e.preventDefault(),e.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(e){return e}selectItem(e){let n=Fd[e],{state:r,dispatch:o}=this.editorView;n.toggle()(r,o),this.isDropdownOpen=!1}onDropdownItemMouseClick(e,n){e.preventDefault(),e.button===0&&this.selectItem(n)}onDropdownItemKeydown(e,n){e.preventDefault(),this.selectItem(n)}update=e=>{let{state:n}=e;this.disabledItems=[];let r=[];this.items.forEach(o=>{let s=Fd[o];s.isActive(n)&&r.push(o),s.canExecute(n)||this.disabledItems.push(o)}),r.length===1?[this.activeItem]=r:this.activeItem=null};ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(D(zr),D(zi),D(Y))};static \u0275cmp=P({type:i,selectors:[["ngx-dropdown"]],hostBindings:function(n,r){n&1&&S("mousedown",function(s){return r.onDocumentClick(s.target)},!1,ss)},inputs:{group:"group",items:"items"},standalone:!1,decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(n,r){n&1&&(u(0,"button",0),be(1,"async"),S("mousedown",function(s){return r.onToggleDropdownMouseClick(s)})("keydown.enter",function(){return r.onToggleDropdownKeydown()})("keydown.space",function(){return r.onToggleDropdownKeydown()}),g(2),be(3,"async"),h(),T(4,EE,2,2,"div",1)),n&2&&(we("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),b("disabled",r.isDropdownDisabled)("ariaLabel",ke(1,9,r.getName(r.activeItem||r.group)))("ariaExpanded",r.isDropdownOpen),f(2),xe(" ",ke(3,11,r.getName(r.activeItem||r.group)),`
`),f(2),b("ngIf",r.isDropdownOpen))},dependencies:[Se,Ne,me,vi],encapsulation:2})}return i})(),bM=(()=>{class i{el;ngxeService;menuService;showPopup=!1;isActive=!1;componentId=sh();updateSubscription;form=new Ws({src:new ei("",[Ei.required,Ei.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new ei(""),title:new ei("")});editorView;constructor(e,n,r){this.el=e,this.ngxeService=n,this.menuService=r}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:e}=this.editorView,{selection:n}=e;if(n instanceof te&&this.isActive){let{src:r,alt:o="",title:s=""}=n.node.attrs;this.form.setValue({src:r,alt:o,title:s})}}update=e=>{let{state:n}=e;this.isActive=d2.isActive(n)};insertLink(e){e.preventDefault();let{src:n,alt:r,title:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView,l={alt:r,title:o};d2.insert(n,l)(a,s),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(D(Y),D(zr),D(zi))};static \u0275cmp=P({type:i,selectors:[["ngx-image"]],hostBindings:function(n,r){n&1&&S("mousedown",function(s){return r.onDocumentClick(s)},!1,ss)},standalone:!1,decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(n,r){n&1&&(u(0,"button",0),be(1,"sanitizeHtml"),be(2,"async"),be(3,"async"),S("mousedown",function(s){return r.onTogglePopupMouseClick(s)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),h(),T(4,ME,24,21,"div",1)),n&2&&(we("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),b("innerHTML",ke(1,7,r.icon),Kr)("title",ke(2,9,r.getLabel("insertImage")))("ariaLabel",ke(3,11,r.getLabel("insertImage")))("ariaExpanded",r.showPopup),f(4),b("ngIf",r.showPopup))},dependencies:[me,x0,Ve,Fe,w0,tc,nc,vi,qo],encapsulation:2})}return i})(),yM=(()=>{class i{el;menuService;ngxeService;presets;type;constructor(e,n,r){this.el=e,this.menuService=n,this.ngxeService=r}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?VD:HD}updateSubscription;editorView;showPopup=!1;isActive=!1;activeColors=[];canExecute=!0;getContrastYIQ(e){let n=e.replace("#",""),r=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),s=parseInt(n.substring(4,6),16);return(r*299+o*587+s*114)/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(e){e.preventDefault(),e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:e,dispatch:n}=this.editorView;this.command.remove()(e,n),this.hidePopup()}onRemoveMouseClick(e){e.preventDefault(),e.button===0&&(e.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(e){return e}selectColor(e){let{state:n,dispatch:r}=this.editorView;if(this.type==="text_color"){let o={color:e};this.command.apply(o)(n,r)}else{let o={backgroundColor:e};this.command.apply(o)(n,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(e,n){e.preventDefault(),e.button===0&&this.selectColor(n)}onColorSelectKeydown(e){this.selectColor(e)}update=e=>{let{state:n}=e;this.canExecute=this.command.canExecute(n),this.isActive=this.command.isActive(n),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(n))};getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(D(Y),D(zi),D(zr))};static \u0275cmp=P({type:i,selectors:[["ngx-color-picker"]],hostBindings:function(n,r){n&1&&S("mousedown",function(s){return r.onDocumentClick(s)},!1,ss)},inputs:{presets:"presets",type:"type"},standalone:!1,decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(n,r){n&1&&(u(0,"button",0),be(1,"sanitizeHtml"),be(2,"async"),be(3,"async"),S("mousedown",function(s){return r.onTogglePopupMouseClick(s)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),h(),T(4,PE,5,6,"div",1)),n&2&&(we("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),b("disabled",!r.canExecute)("innerHTML",ke(1,9,r.icon),Kr)("title",ke(2,11,r.title))("ariaLabel",ke(3,13,r.title)),f(4),b("ngIf",r.showPopup))},dependencies:[Se,Ne,me,vu,vi,qo],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']})}return i})();var wM=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var CM=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],x2=(()=>{class i{menuService;toolbar=wM;colorPresets=CM;disabled=!1;editor;customMenuRef=null;dropdownPlacement="bottom";toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"];insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"];iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"];dropdownContainerClass=["NgxEditor__Dropdown"];seperatorClass=["NgxEditor__Seperator"];constructor(e){this.menuService=e}get presets(){let n=[];return this.colorPresets.forEach((r,o)=>{let s=Math.floor(o/8);n[s]||n.push([]),n[s].push(r)}),n}trackByIndex(e){return e}isDropDown(e){return!!e?.heading}getDropdownItems(e){return e}isLinkItem(e){return e==="link"?!0:typeof e=="object"&&typeof e?.link=="object"}isLinkWithOptions(e){return typeof e=="object"&&typeof e?.link=="object"}getLinkOptions(e){return e?.link}ngOnInit(){if(!this.editor)throw new ko("Required editor instance to initialize menu component");this.menuService.editor=this.editor}static \u0275fac=function(n){return new(n||i)(D(zi))};static \u0275cmp=P({type:i,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},standalone:!1,features:[Xe([zi])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(n,r){n&1&&(u(0,"div",0),T(1,UE,2,2,"ng-container",1)(2,$E,2,1,"ng-container",2),h()),n&2&&(b("ngClass",Ze(4,RE,r.disabled,r.dropdownPlacement==="top")),f(),b("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),f(),b("ngIf",r.customMenuRef))},dependencies:[Se,Ne,me,_i,mM,gM,_M,vM,bM,yM,bu],encapsulation:2})}return i})();var xM=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({providers:[qo],imports:[Q,F1]})}return i})(),Od=new O("NgxEditorConfig"),p2={locals:Ap,icons:C2},S2=(()=>{class i{static forRoot(e=p2){return{ngModule:i,providers:[{provide:Od,useValue:e},{provide:Ip,useFactory:u2,deps:[Od]}]}}static forChild(e=p2){return{ngModule:i,providers:[{provide:Od,useValue:e},{provide:Ip,useFactory:u2,deps:[Od]},zr]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=ae({imports:[Q,xM]})}return i})();var qt=(i,t=!1)=>(e,n)=>{let r=new Wn(i);return t?r.toggle()(e,n):r.apply()(e,n)},Pp=class{view;state;tr;constructor(t){if(!t)throw new ko("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}applyTrx=t=>{this.state=this.state.apply(t??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)};dispatch=t=>{this.applyTrx(t)};exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(t="end"){let e=t==="start"?fe.atStart(this.state.doc):fe.atEnd(this.state.doc);return this.tr.setSelection(e),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return Uo(...[ap,dp,up,hp])(this.state,this.dispatch),this}applyMark(t){return qt(t,!1)(this.state,this.dispatch),this}toggleMark(t){return qt(t,!0)(this.state,this.dispatch),this}bold(){return qt("strong")(this.state,this.dispatch),this}toggleBold(){return qt("strong",!0)(this.state,this.dispatch),this}italics(){return qt("em")(this.state,this.dispatch),this}toggleItalics(){return qt("em",!0)(this.state,this.dispatch),this}underline(){return qt("u")(this.state,this.dispatch),this}toggleUnderline(){return qt("u",!0)(this.state,this.dispatch),this}strike(){return qt("s")(this.state,this.dispatch),this}toggleStrike(){return qt("s",!0)(this.state,this.dispatch),this}code(){return qt("code")(this.state,this.dispatch),this}toggleCode(){return qt("code",!0)(this.state,this.dispatch),this}superscript(){return qt("sup")(this.state,this.dispatch),this}subscript(){return qt("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new Wo(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new Wo(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new hi(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return new Dp().insert(t,e)(this.state,this.dispatch),this}updateLink(t){return new Dp().update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return new w2().insert(t,e)(this.state,this.dispatch),this}textColor(t){return new $o("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new $o("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new $o("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new $o("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new Zr(t).toggle()(this.state,this.dispatch),this}insertHTML(t){let{selection:e,schema:n,tr:r}=this.state,{from:o,to:s}=e,a=document.createElement("div");a.innerHTML=g2(t)?t.trim():t;let l=Ni.fromSchema(n).parseSlice(a),c=r.replaceRange(o,s,l);return this.applyTrx(c),this}indent(){return new Go("increase").insert()(this.state,this.dispatch),this}outdent(){return new Go("decrease").insert()(this.state,this.dispatch),this}},SM=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,EM=i=>Dd(/^\s*>\s$/,i),DM=i=>Dd(/^(?:\d+)\.\s$/,i,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])),MM=i=>Dd(/^\s*(?:[-+*])\s$/,i),AM=i=>pp(/^```$/,i),kM=(i,t)=>pp(new RegExp(`^(#{1,${t}})\\s$`),i,e=>({level:e[1].length})),TM=i=>_p(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,i),IM=i=>_p(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,i),PM=i=>{let t=Y7.concat(K7,q7);return t.push(TM(i.marks.strong)),t.push(IM(i.marks.em)),t.push(EM(i.nodes.blockquote)),t.push(DM(i.nodes.ordered_list)),t.push(MM(i.nodes.bullet_list)),t.push(AM(i.nodes.code_block)),t.push(kM(i.nodes.heading,6)),G7({rules:t})},RM=(i,t)=>{let e={};e["Mod-z"]=Id,SM?e["Shift-Mod-z"]=Na:e["Mod-y"]=Na;let n=[Fa({"Mod-b":Vr(i.marks.strong),"Mod-i":Vr(i.marks.em),"Mod-u":Vr(i.marks.u),"Mod-`":Vr(i.marks.code)}),Fa({Enter:N7(i.nodes.list_item),"Shift-Enter":Uo(cp,(r,o)=>{let{tr:s}=r,a=i.nodes.hard_break;return o(s.replaceSelectionWith(a.create()).scrollIntoView()),!0}),"Mod-[":rp(i.nodes.list_item),"Mod-]":op(i.nodes.list_item),Tab:op(i.nodes.list_item)}),Fa($7)];return t.history&&n.push(Fa(e)),n},OM=(i,t)=>{let e=[];return t.keyboardShortcuts&&e.push(...RM(i,{history:t.history})),t.history&&e.push(r2()),t.inputRules&&e.push(PM(i)),e},E2={linkOnPaste:!0,resizeImage:!0},f2={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Oa,plugins:[],nodeViews:{},attributes:{},features:E2,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},Ld=class{options;view;constructor(t=f2){this.options=k(k({},f2),t),this.createEditor()}valueChangesSubject=new B;updateSubject=new B;get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Oa}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new Pp(this.view)}get features(){return k(k({},E2),this.options.features)}handleTransactions(t){let e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;let n=e.doc.toJSON();this.valueChangesSubject.next(n)}createEditor(){let{options:t,schema:e}=this,{content:n=null,nodeViews:r}=t,{history:o=!0,keyboardShortcuts:s=!0,inputRules:a=!0}=t,l=s2(n,e,t.parseOptions),c=t.plugins??[],d=t.attributes??{},p=OM(e,{history:o,keyboardShortcuts:s,inputRules:a});this.view=new Ia(null,{state:hd.create({doc:l,schema:e,plugins:[...p,...c]}),nodeViews:r,dispatchTransaction:this.handleTransactions.bind(this),attributes:d,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(M5(t))return;let{state:e}=this.view,{tr:n,doc:r}=e,o=s2(t,this.schema,this.options.parseOptions);n.replaceWith(0,e.doc.content.size,o),!r.eq(n.doc)&&n.docChanged&&this.view.dispatch(n)}registerPlugin(t){let{state:e}=this.view,n=[...e.plugins,t],r=e.reconfigure({plugins:n});this.view.updateState(r)}destroy(){this.view.destroy()}};var Bd=class i{editor;html="";ngOnInit(){this.editor=new Ld}ngOnDestroy(){this.editor.destroy()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-p-pengajuan-memo-internal"]],decls:6,vars:5,consts:[[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"NgxEditor__Wrapper"],[3,"editor"],[3,"editor","ngModel","disabled","placeholder"]],template:function(e,n){e&1&&(u(0,"div")(1,"p",0),g(2,"Request Memo Internal"),h(),u(3,"div",1),w(4,"ngx-editor-menu",2)(5,"ngx-editor",3),h()()),e&2&&(f(4),b("editor",n.editor),f(),b("editor",n.editor)("ngModel",n.html)("disabled",!1)("placeholder","Type here..."))},dependencies:[S2,y2,x2,Q,ge,Fe,He],encapsulation:2})};function FM(i,t){i&1&&(u(0,"div"),w(1,"app-c-loading-spin"),h())}var Vd=class i{is_fetching=!0;editor_val="";ngOnInit(){return N(this,null,function*(){this.fetchAll()})}fetchAll(){this.is_fetching=!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-p-new-memo"]],decls:4,vars:1,consts:[[1,"grow","bg-red-400"],[1,"w-fit","text-2xl","mb-4"],[4,"ngIf"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),g(2," New Memo Internal "),h(),T(3,FM,2,0,"div",2),h()),e&2&&(f(3),b("ngIf",n.is_fetching))},dependencies:[Vn,Q,me,ge],encapsulation:2})};var Ko=class i{constructor(t){this.router=t}logout(){localStorage.clear(),this.router.navigate(["/login"]),window.location.reload()}static \u0275fac=function(e){return new(e||i)(H(pe))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Yo=class i{constructor(t,e,n){this.http=t;this.user_rep=e;this.login_rep=n}fetch_get_auto(t,e){return N(this,null,function*(){let n=yield X(this.http.get(`${J.env_dev.host}/api-eappr/${e}`,{headers:{Authorization:`Bearer ${this.user_rep.get_usr_token()}`},params:t}));if(console.log(n),n.status==401){this.login_rep.logout();return}return n})}fetch_post_auto(t,e){return N(this,null,function*(){let n=yield X(this.http.post(`${J.env_dev.host}/api-eappr/${e}`,t,{headers:{Authorization:`Bearer ${this.user_rep.get_usr_token()}`}}));if(n.status==401){this.login_rep.logout();return}return n})}static \u0275fac=function(e){return new(e||i)(H(Ee),H(dn),H(Ko))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Jo=class i{constructor(t,e,n,r,o){this.http=t;this.user_rep=e;this.login_rep=n;this.repFetch=r;this.snackbar=o}arr_parent_banks=[];getParentBanks(){return N(this,null,function*(){console.log("getParentBanks");let t=yield this.repFetch.fetch_get_auto({},"get_banks_parent");return this.arr_parent_banks=t.data,t})}getArrParentBanks(t){return N(this,null,function*(){return t.data})}add_bank(t){return N(this,null,function*(){let e=t,n=yield this.repFetch.fetch_post_auto(e,"add_bank");return n.status!=200?(this.snackbar.open(n.message,void 0,{duration:5e3,panelClass:"notif_failed"}),!1):(this.snackbar.open(n.message,void 0,{duration:5e3,panelClass:"notif_success"}),!0)})}bank_final_validator(t){console.log("bank_final_validator"),console.log(t);let e="";if(t.is_va==!0){if(t.bank_name.trim().length==0||t.bank_name==null)return e="Nama bank tidak boleh kosong",this.snackbar.open(e,void 0,{duration:5e3,panelClass:"notif_failed"}),!1;if(t.bank_parent==null)return e="Bank parent tidak boleh kosong",this.snackbar.open(e,void 0,{duration:5e3,panelClass:"notif_failed"}),!1}else{if(t.bank_name.trim().length==0||t.bank_name==null)return e="Nama bank tidak boleh kosong",this.snackbar.open(e,void 0,{duration:5e3,panelClass:"notif_failed"}),!1;if(t.bank_code.length==0)return e="Kode bank tidak boleh kosong",this.snackbar.open(e,void 0,{duration:5e3,panelClass:"notif_failed"}),!1}return!0}update_bank(t){return N(this,null,function*(){t.EMPL_CODE=this.user_rep.get_usr_empl_code();let e=t,n=yield this.repFetch.fetch_post_auto(e,"update_bank");return console.log(n),console.log(n.status),n.status==200?(this.snackbar.open("Perubahan berhasil",void 0,{duration:5e3,panelClass:"notif_success"}),!0):(this.snackbar.open("Perubahan gagal",void 0,{duration:5e3,panelClass:"notif_failed"}),!1)})}static \u0275fac=function(e){return new(e||i)(H(Ee),H(dn),H(Ko),H(Yo),H(ct))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var LM=i=>({"opacity-40":i});function BM(i,t){if(i&1&&(u(0,"ng-option",13),g(1),h()),i&2){let e=t.$implicit;b("value",e.BANK_ID),f(),R(e.BANK_NAME)}}function VM(i,t){if(i&1){let e=$();u(0,"div",2)(1,"p",3),g(2,"Bank Parent Name : "),h(),w(3,"div",4),u(4,"ng-select",11),q("ngModelChange",function(r){M(e);let o=C();return G(o.act_parent_bank,r)||(o.act_parent_bank=r),A(r)}),S("change",function(r){M(e);let o=C();return A(o.change_parent(r))}),T(5,BM,2,2,"ng-option",12),h()()}if(i&2){let e=C();f(4),W("ngModel",e.act_parent_bank),f(),b("ngForOf",e.arr_parent_banks)}}function HM(i,t){if(i&1){let e=$();u(0,"div",14)(1,"button",15),S("click",function(){M(e);let r=C();return A(r.update_bank())}),ee(),u(2,"svg",16),w(3,"path",17),h(),Ce(),u(4,"p",18),g(5,"Simpan Perubahan"),h()(),w(6,"div",4),u(7,"button",19),S("click",function(){M(e);let r=C();return A(r.remove_suppl())}),ee(),u(8,"svg",16),w(9,"path",20),h(),Ce(),u(10,"p",18),g(11,"Remove Supplier"),h()()()}if(i&2){let e=C();f(),b("ngClass",ve(1,LM,e.is_fetching_update))}}function jM(i,t){i&1&&(u(0,"div",21)(1,"p"),g(2,"Proccessing..."),h()())}var Hd=class i{constructor(t){this.repSetup=t}is_fetching_update;data_new;arr_parent_banks=[];act_parent_bank="346";data;closePopupEvent=new Z;refreshData=new Z;ngOnInit(){this.setData()}setData(){this.data_new=k({},this.data),this.arr_parent_banks=this.repSetup.arr_parent_banks,this.act_parent_bank=this.data_new.BANK_PARENT_NAME,console.log(this.data_new)}remove_suppl(){throw new Error("Method not implemented.")}update_bank(){return N(this,null,function*(){if(!this.is_fetching_update){this.is_fetching_update=!0;try{if(yield this.repSetup.update_bank(this.data_new)){this.refreshData.emit(),this.closePopupEvent.emit();return}else return}catch(t){console.log(t)}}this.is_fetching_update=!1})}cancelAction(t){t.stopPropagation()}closeThis(){this.closePopupEvent.emit()}change_parent(t){this.data_new.BANK_PARENT_ID=this.act_parent_bank}static \u0275fac=function(e){return new(e||i)(D(Jo))};static \u0275cmp=P({type:i,selectors:[["app-c-bank-box"]],inputs:{data:"data"},outputs:{closePopupEvent:"closePopupEvent",refreshData:"refreshData"},decls:34,vars:8,consts:[[1,"w-[100vw]","h-[100vh]","bg-[#0000006b]","fixed","z-20","left-0","top-0","flex","items-center","justify-center",3,"click"],[1,"w-[45vw]","h-fit","p-4","bg-white","text-sm","rounded-md","relative","border-2","border-[#e0e0e0]","flex","flex-col","space-y-2",3,"click"],[1,"flex","flex-row","items-center"],[1,"text-sm","w-40"],[1,"mx-2"],[1,"p-1","px-2","w-[26vw]","grow","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],["disabled","",1,"p-1","px-2","w-[26vw]","grow","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],["disabled","",1,"p-1","px-2","w-[26vw]","grow","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModel"],["class","flex flex-row items-center",4,"ngIf"],["class","flex flex-row justify-between mt-4",4,"ngIf"],["class","mt-4 h-[43px] flex items-center justify-center",4,"ngIf"],[1,"grow",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-row","justify-between","mt-4"],[1,"p-2","bg-green-700","border-2","border-green-600","text-white","fill-white","rounded-md","flex","flex-row","items-center","opacity-100",3,"click","ngClass"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 256 256"],["d","M219.31,72,184,36.69A15.86,15.86,0,0,0,172.69,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V83.31A15.86,15.86,0,0,0,219.31,72ZM168,208H88V152h80Zm40,0H184V152a16,16,0,0,0-16-16H88a16,16,0,0,0-16,16v56H48V48H172.69L208,83.31ZM160,72a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h56A8,8,0,0,1,160,72Z"],[1,"ml-1"],[1,"p-2","bg-red-700","border-2","border-red-600","text-white","fill-white","rounded-md","flex","flex-row","items-center",3,"click"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"mt-4","h-[43px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0),S("click",function(){return n.closeThis()}),u(1,"div",1),S("click",function(o){return n.cancelAction(o)}),u(2,"div",2)(3,"p",3),g(4,"Nama Bank : "),h(),w(5,"div",4),u(6,"input",5),q("ngModelChange",function(o){return G(n.data_new.BANK_NAME,o)||(n.data_new.BANK_NAME=o),o}),h()(),u(7,"div",2)(8,"p",3),g(9,"Kode Bank : "),h(),w(10,"div",4),u(11,"input",6),q("ngModelChange",function(o){return G(n.data_new.BANK_CODE,o)||(n.data_new.BANK_CODE=o),o}),h()(),u(12,"div",2)(13,"p",3),g(14,"Is Virtual Account (VA) : "),h(),w(15,"div",4)(16,"input",7),h(),T(17,VM,6,2,"div",8),u(18,"div",2)(19,"p",3),g(20,"Is Active : "),h(),w(21,"div",4),u(22,"select",5),q("ngModelChange",function(o){return G(n.data_new.IS_ACTIVE,o)||(n.data_new.IS_ACTIVE=o),o}),u(23,"option"),g(24,"Y"),h(),u(25,"option"),g(26,"N"),h()()(),u(27,"div",2)(28,"p",3),g(29,"Created By : "),h(),w(30,"div",4)(31,"input",7),h(),T(32,HM,12,3,"div",9)(33,jM,3,0,"div",10),h()()),e&2&&(f(6),W("ngModel",n.data_new.BANK_NAME),f(5),W("ngModel",n.data_new.BANK_CODE),f(5),b("ngModel",n.data_new.IS_VA),f(),b("ngIf",n.data_new.IS_VA=="Y"),f(5),W("ngModel",n.data_new.IS_ACTIVE),f(9),b("ngModel",n.data.CREATED_BY),f(),b("ngIf",!n.is_fetching_update),f(),b("ngIf",n.is_fetching_update))},dependencies:[Q,Se,Ne,me,ge,St,Et,Ve,$t,Fe,He,Ln,aa],encapsulation:2})};var k2=i=>({"placeholder-opacity-100":i}),ZM=(i,t)=>({"bg-gray-300":i,"opacity-50":t});function zM(i,t){if(i&1){let e=$();u(0,"div")(1,"app-c-bank-box",20),S("closePopupEvent",function(){M(e);let r=C();return A(r.f_close_bank_box())})("refreshData",function(){M(e);let r=C();return A(r.getTableData())}),h()()}if(i&2){let e=C();f(),b("data",e.act_bank_detail)}}function UM(i,t){if(i&1&&(u(0,"ng-option",24),g(1),h()),i&2){let e=t.$implicit;b("value",e.BANK_ID),f(),R(e.BANK_NAME)}}function $M(i,t){if(i&1){let e=$();u(0,"div"),w(1,"div",7),u(2,"div",4)(3,"label",0),g(4,"Bank Parent:"),h(),u(5,"p",8),g(6," Pilih parent bank virtual account. "),h(),u(7,"div",21)(8,"ng-select",22),S("remove",function(){M(e);let r=C();return A(r.clear_act_bank())})("clear",function(){M(e);let r=C();return A(r.clear_act_bank())})("change",function(r){M(e);let o=C();return A(o.on_bank_parent_change(r))}),T(9,UM,2,2,"ng-option",23),h()()()()}if(i&2){let e=C();f(9),b("ngForOf",e.arr_banks)}}function WM(i,t){if(i&1){let e=$();u(0,"tr",60)(1,"td",61),g(2),h(),u(3,"td",62),g(4),h(),u(5,"td",63),g(6),h(),u(7,"td",63),g(8),h(),u(9,"td",63),g(10),h(),u(11,"td",63),g(12),h(),u(13,"td",64)(14,"button",65),S("click",function(){let r=M(e).index,o=C(3);return A(o.f_show_bank_box(r))}),g(15," Action "),h()()()}if(i&2){let e,n,r=t.$implicit,o=t.index;f(2),R(o+1),f(2),R(r.BANK_NAME),f(2),R((e=r.BANK_CODE)!==null&&e!==void 0?e:"-"),f(2),R(r.IS_VA),f(2),R((n=r.BANK_PARENT_NAME)!==null&&n!==void 0?n:"-"),f(2),R(r.IS_ACTIVE)}}function GM(i,t){i&1&&(u(0,"div",66),g(1," No Data "),h())}function qM(i,t){if(i&1){let e=$();u(0,"div",42)(1,"table",43)(2,"thead",44)(3,"tr",0)(4,"th",45),g(5,"NO"),h(),u(6,"th",46),g(7,"Nama Bank"),h(),u(8,"th",47),g(9,"Kode Bank"),h(),u(10,"th",48),g(11,"Is Virtual Account"),h(),u(12,"th",46),g(13,"Bank parent"),h(),u(14,"th",49),g(15,"Is Active"),h(),u(16,"th",50),g(17,"ACTION"),h()()(),u(18,"tbody",51),T(19,WM,16,6,"tr",52),h()(),T(20,GM,2,0,"div",53),u(21,"div",54)(22,"button",55),S("click",function(){M(e);let r=C(2);return A(r.pgDown())}),ee(),u(23,"svg",56),w(24,"path",57),h()(),Ce(),u(25,"input",58),q("ngModelChange",function(r){M(e);let o=C(2);return G(o.act_page,r)||(o.act_page=r),A(r)}),S("keydown.enter",function(){M(e);let r=C(2);return A(r.getTableData())}),h(),u(26,"button",55),S("click",function(){M(e);let r=C(2);return A(r.pgUp())}),ee(),u(27,"svg",56),w(28,"path",59),h()()()()}if(i&2){let e=C(2);f(19),b("ngForOf",e.tableData),f(),b("ngIf",e.tableData.length==0),f(5),W("ngModel",e.act_page)}}function KM(i,t){i&1&&(u(0,"div",67)(1,"p"),g(2,"Fetching data..."),h()())}function YM(i,t){if(i&1){let e=$();u(0,"div",25),w(1,"div",26),u(2,"p",1),g(3,"Edit Bank"),h(),u(4,"div",27)(5,"div",28)(6,"input",29),q("ngModelChange",function(r){M(e);let o=C();return G(o.q_search,r)||(o.q_search=r),A(r)}),S("keyup.enter",function(){M(e);let r=C();return A(r.getTableData())}),h(),w(7,"div",17),u(8,"Button",30),S("click",function(){M(e);let r=C();return A(r.getTableData())}),u(9,"p",31),g(10,"Search"),h(),w(11,"div",32),ee(),u(12,"svg",33),w(13,"path",34),h()()(),Ce(),w(14,"div",17),u(15,"Button",35),S("click",function(){M(e);let r=C();return A(r.getTableData())}),u(16,"p",36),g(17,"Refresh"),h(),w(18,"div",37),ee(),u(19,"svg",38),w(20,"path",39),h()()(),T(21,qM,29,3,"div",40)(22,KM,3,0,"div",41),Ce(),w(23,"div",26),h()}if(i&2){let e=C();f(6),W("ngModel",e.q_search),f(15),b("ngIf",!e.is_fetching_data),f(),b("ngIf",e.is_fetching_data)}}var jd=class i{constructor(t,e,n,r){this.repSetup=t;this.repFetch=e;this.repUser=n;this.snackbar=r}act_page=1;is_fetching_data;tableData=[];arr_banks=[];arr_banks_base=[];list_bank=[];act_bank_detail=null;is_fetching=!1;is_fetching_new=!1;can_add_suppl=!1;bank_parent_id=null;is_va=!1;show_box=!1;q_search="";bank_name="";bank_code="";ngOnInit(){this.initLoad()}initLoad(){return N(this,null,function*(){yield this.getParentBanks()})}getTableData(){return N(this,null,function*(){let t={q_page:this.act_page,q_search:this.q_search.trim()};this.tableData=(yield this.repFetch.fetch_get_auto(t,"get_bank_setup")).data})}getParentBanks(){return N(this,null,function*(){this.arr_banks_base=yield this.repSetup.getParentBanks(),this.arr_banks=yield this.repSetup.getArrParentBanks(this.arr_banks_base),console.log(this.arr_banks)})}on_va_change(t){t.target.checked?(this.bank_code=null,this.is_va=!0):(this.is_va=!1,this.bank_parent_id=null)}on_bank_parent_change(t){this.bank_parent_id=t.toString()}clear_act_bank(){this.bank_parent_id=null}listen_inps(){}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.getTableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.getTableData())}add_bank(){return N(this,null,function*(){if(!this.is_fetching_new){let t={bank_code:this.bank_code,bank_name:this.bank_name,is_va:this.is_va,bank_parent:this.bank_parent_id,empl_code:this.repUser.get_usr_empl_code()};this.is_fetching_new=!0,this.repSetup.bank_final_validator(t)&&(yield this.repSetup.add_bank(t))&&this.clear_inp(),this.is_fetching_new=!1}})}clear_inp(){this.bank_code=null,this.bank_name="",this.is_va=!1,this.bank_parent_id=null}reset_add_bank(){throw new Error("Method not implemented.")}get_suppliers(){throw new Error("Method not implemented.")}f_show_bank_box(t){if(!this.repUser.isAdmin()){this.snackbar.open("Bukan administrator",void 0,{duration:5e3,panelClass:"notif_failed"});return}this.can_add_suppl=!0,this.act_bank_detail=this.tableData[t],this.show_box=!0}f_close_bank_box(){this.show_box=!1}static \u0275fac=function(e){return new(e||i)(D(Jo),D(Yo),D(dn),D(ct))};static \u0275cmp=P({type:i,selectors:[["app-p-setup-bank"]],decls:32,vars:17,consts:[[1,""],[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[4,"ngIf"],[1,"text-sm"],[1,"flex","flex-col","justify-center"],[1,"mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","ngModel"],[1,"my-4"],[1,"text-sm","text-[#888]","tracking-wide","rounded-md","w-fit","mb-2"],["type","number",1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","disabled","ngModel"],[1,"flex","flex-row","items-center"],["for","va_bool",1,"select-none","mr-2","pb-[2px]"],["id","va_bool","type","checkbox",1,"h-[15px]","w-[15px]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"change","ngModelChange","ngModel"],[1,"my-6"],[1,"flex","flex-row"],[1,"w-24","p-2","bg-red-700","border-2","opacity-100","border-red-600","text-white","rounded-md","transition-all",3,"click"],[3,"ngClass"],[1,"mx-1"],[1,"w-44","p-2","bg-green-700","border-2","opacity-100","border-green-600","text-white","rounded-md","transition-all",3,"click","ngClass"],["class","flex flex-col",4,"ngIf"],[3,"closePopupEvent","refreshData","data"],[1,"w-[30vw]"],[3,"remove","clear","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col"],[1,"py-8"],[1,"mb-4","flex","flex-row","items-center"],[1,"rounded-full","border","border-gray-400","p-1","flex","flex-row","items-center","w-fit"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","w-[200px]",3,"ngModelChange","keyup.enter","ngModel"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],[1,"p-1","px-2","h-fit","bg-[#252525]","hover:bg-[#333]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-1","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[0.6px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[2px]"],["d","M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"],["class"," border rounded-md flex flex-col justify-between h-[440px]",4,"ngIf"],["class","w-full h-[560px] flex items-center justify-center",4,"ngIf"],[1,"border","rounded-md","flex","flex-col","justify-between","h-[440px]"],[1,"w-full","overflow-x-auto","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,"w-[30px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[130px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[50px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[80px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[60px]","border-slate-500","font-medium","pl-2","py-4"],[1,"border-separate","pt-10"],["class","h-8 flex-grow-0 odd:bg-gray-100 border-b",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[10px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"ngModelChange","keydown.enter","ngModel"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"h-8","flex-grow-0","odd:bg-gray-100","border-b"],[1,"px-2","border","border-l-0","text-center"],[1,"px-2","border","text-start"],[1,"px-2","border","text-center"],[1,"px-2","border","border-r-0","text-center","py-2"],[1,"mx-2","rounded-full","px-4","py-1","bg-[#242424]","text-white",3,"click"],[1,"w-full","flex","items-center","justify-center","h-[10px]"],[1,"w-full","h-[560px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),g(2,"Set Up Bank"),h(),T(3,zM,2,1,"div",2),u(4,"div",3)(5,"div",4)(6,"label",5),g(7,"Nama Bank :"),h(),u(8,"input",6),S("input",function(){return n.listen_inps()}),q("ngModelChange",function(o){return G(n.bank_name,o)||(n.bank_name=o),o}),h()(),w(9,"div",7),u(10,"div",4)(11,"label",0),g(12,"Kode bank :"),h(),u(13,"p",8),g(14," Pastikan bank yang akan didaftarkan belum terdaftar berdasarkan KODE BANK. "),h(),u(15,"input",9),S("input",function(){return n.listen_inps()}),q("ngModelChange",function(o){return G(n.bank_code,o)||(n.bank_code=o),o}),h()(),w(16,"div",7),u(17,"div",10)(18,"label",11),g(19,"Virtual Account :"),h(),u(20,"input",12),S("change",function(o){return n.on_va_change(o)}),q("ngModelChange",function(o){return G(n.is_va,o)||(n.is_va=o),o}),h()(),T(21,$M,10,1,"div",2),w(22,"div",13),u(23,"div",14)(24,"button",15),S("click",function(){return n.reset_add_bank()}),u(25,"p",16),g(26,"Reset"),h()(),w(27,"div",17),u(28,"button",18),S("click",function(){return n.add_bank()}),u(29,"p",16),g(30,"Tambah Bank"),h()()()(),T(31,YM,24,3,"div",19),h()),e&2&&(f(3),b("ngIf",n.show_box),f(5),W("ngModel",n.bank_name),f(7),b("disabled",n.is_va),W("ngModel",n.bank_code),f(5),W("ngModel",n.is_va),f(),b("ngIf",n.is_va),f(4),b("ngClass",ve(10,k2,n.is_fetching===!0)),f(3),b("ngClass",Ze(12,ZM,n.is_fetching===!0,!n.can_add_suppl)),f(),b("ngClass",ve(15,k2,n.is_fetching===!0)),f(2),b("ngIf",!0))},dependencies:[Q,Se,Ne,me,ge,Ve,ti,qs,Fe,He,Ln,aa,Hd],encapsulation:2})};var T2=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"",component:wc,canActivateChild:[pa],children:[{path:"home",component:Cc},{path:"new-approval",component:ha},{path:"info-pengajuan",component:Bc},{path:"approve-pengajuan",component:Vc},{path:"cek-pengajuan",component:Hc},{path:"revisi-pengajuan",component:jc},{path:"user-settings",component:ha},{path:"profile",component:Zc},{path:"request-dtl",component:Uc},{path:"suppliers",component:qc},{path:"jenis_transaksi",component:Kc},{path:"setup-bank",component:jd},{path:"d-sig",component:Wc},{path:"pengajuan-mi",component:Bd},{path:"new-memo",component:Vd}]},{path:"login",component:Lc,canActivate:[pa]}];var JM="@",XM=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=y(Ae);loadingSchedulerFn=y(QM,{optional:!0});_engine;constructor(e,n,r,o,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-OQAA3HWP.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new oe(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Rp(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,n);o.use(a),this.scheduler??=this.injector.get(zp,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){Ua()};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),Rp=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,n,r)),this.delegate.listen(t,e,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(JM)}},QM=new O("");function I2(i="animations"){return Ki("NgAsyncAnimations"),Gi([{provide:Ke,useFactory:(t,e,n)=>new XM(t,e,n,i),deps:[K,er,ie]},{provide:at,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var P2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375Zm9.586 4.594a.75.75 0 0 0-1.172-.938l-2.476 3.096-.908-.907a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.116-.062l3-3.75Z" clip-rule="evenodd"></path></svg>',R2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375ZM6 12a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V12Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 15a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V15Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 18a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V18Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>';var O2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M11.828 2.25c-.916 0-1.699.663-1.85 1.567l-.091.549a.798.798 0 0 1-.517.608 7.45 7.45 0 0 0-.478.198.798.798 0 0 1-.796-.064l-.453-.324a1.875 1.875 0 0 0-2.416.2l-.243.243a1.875 1.875 0 0 0-.2 2.416l.324.453a.798.798 0 0 1 .064.796 7.448 7.448 0 0 0-.198.478.798.798 0 0 1-.608.517l-.55.092a1.875 1.875 0 0 0-1.566 1.849v.344c0 .916.663 1.699 1.567 1.85l.549.091c.281.047.508.25.608.517.06.162.127.321.198.478a.798.798 0 0 1-.064.796l-.324.453a1.875 1.875 0 0 0 .2 2.416l.243.243c.648.648 1.67.733 2.416.2l.453-.324a.798.798 0 0 1 .796-.064c.157.071.316.137.478.198.267.1.47.327.517.608l.092.55c.15.903.932 1.566 1.849 1.566h.344c.916 0 1.699-.663 1.85-1.567l.091-.549a.798.798 0 0 1 .517-.608 7.52 7.52 0 0 0 .478-.198.798.798 0 0 1 .796.064l.453.324a1.875 1.875 0 0 0 2.416-.2l.243-.243c.648-.648.733-1.67.2-2.416l-.324-.453a.798.798 0 0 1-.064-.796c.071-.157.137-.316.198-.478.1-.267.327-.47.608-.517l.55-.091a1.875 1.875 0 0 0 1.566-1.85v-.344c0-.916-.663-1.699-1.567-1.85l-.549-.091a.798.798 0 0 1-.608-.517 7.507 7.507 0 0 0-.198-.478.798.798 0 0 1 .064-.796l.324-.453a1.875 1.875 0 0 0-.2-2.416l-.243-.243a1.875 1.875 0 0 0-2.416-.2l-.453.324a.798.798 0 0 1-.796.064 7.462 7.462 0 0 0-.478-.198.798.798 0 0 1-.517-.608l-.091-.55a1.875 1.875 0 0 0-1.85-1.566h-.344ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z" clip-rule="evenodd"></path></svg>';var N2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M4.125 3C3.089 3 2.25 3.84 2.25 4.875V18a3 3 0 0 0 3 3h15a3 3 0 0 1-3-3V4.875C17.25 3.839 16.41 3 15.375 3H4.125ZM12 9.75a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H12Zm-.75-2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75ZM6 12.75a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5H6Zm-.75 3.75a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75ZM6 6.75a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-3A.75.75 0 0 0 9 6.75H6Z" clip-rule="evenodd"></path><path d="M18.75 6.75h1.875c.621 0 1.125.504 1.125 1.125V18a1.5 1.5 0 0 1-3 0V6.75Z"></path></svg>';var F2={providers:[sf({eventCoalescing:!0}),c0(T2),t1(),I2(),hl(),n1({heroClipboardDocumentListSolid:R2,heroNewspaperSolid:N2,heroClipboardDocumentCheckSolid:P2,heroCog8ToothSolid:O2})]};var Zd=class i{constructor(t,e){this.http=t;this.router=e}title="TF_E_Approval";ngOnInit(){this.checkSession()}checkSession(){return N(this,null,function*(){try{let t={authorization:`bearer ${Ie().token}`},e=yield X(this.http.get(J.env_dev.host+"/api-eappr/session_check",{headers:t}));return e.status==401&&(localStorage.clear(),this.router.navigate(["/login"])),e}catch(t){console.log(t)}})}static \u0275fac=function(e){return new(e||i)(D(Ee),D(pe))};static \u0275cmp=P({type:i,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"main"]],template:function(e,n){e&1&&w(0,"main",0)(1,"router-outlet")},dependencies:[ar,Re],encapsulation:2})};Au(Zd,F2).catch(i=>console.error(i));
