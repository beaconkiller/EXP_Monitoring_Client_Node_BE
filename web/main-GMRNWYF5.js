import{$ as B,$a as Bt,$b as Ne,$c as ba,A as ti,Aa as zh,Ab as td,Ac as ha,B as Ah,Ba as Rn,Bb as u,Bc as Ie,C as gn,Ca as xt,Cb as h,Cc as He,D as ht,Da as Do,Db as w,Dc as Ce,E as Co,Ea as Io,Eb as ri,Ec as dm,F as wr,Fa as Hh,Fb as oi,Fc as Ri,G as ni,Ga as bn,Gb as Fn,Gc as Ni,H as Eo,Ha as To,Hb as Y,Hc as um,I as $c,Ia as Cr,Ib as Qh,Ic as ma,J as sn,Ja as Er,Jb as S,Jc as te,K as Ph,Ka as Uh,Kb as em,Kc as pm,L as Gc,La as Wh,Lb as C,Lc as hm,M as Ti,Ma as $h,Mb as Ln,Mc as fa,N as ii,Na as Gh,Nb as ln,Nc as mm,O as qc,Oa as qh,Ob as ua,Oc as ga,P as Oh,Pa as Kh,Pb as gt,Pc as fm,Q as Rh,Qa as Yh,Qb as Oe,Qc as nd,R as oa,Ra as Ai,Rb as re,Rc as _a,S as _n,Sa as Sr,Sb as oe,Sc as id,T as mt,Ta as kr,Tb as Tt,Tc as rd,U as ge,Ua as Jh,Ub as b,V as je,Va as Mo,Vb as N,W as De,Wa as Ao,Wb as ye,X as It,Xa as m,Xb as W,Y as A,Ya as k,Yb as $,Z as ce,Za as aa,Zb as G,Zc as gm,_ as Nh,_a as be,_b as We,_c as No,a as D,aa as Kc,ab as jt,ac as ze,b as he,ba as Q,bb as vn,bc as Vn,c as F,ca as v,cb as Nn,cc as tm,d as Lt,da as sa,db as Jc,dc as me,e as Ih,ea as Fh,eb as Zh,ec as we,ed as _m,f as fn,fa as Mi,fb as Zc,fc as Po,fd as va,g as zc,ga as Lh,gb as R,gc as cn,h as Hc,ha as an,hb as de,hc as pa,hd as bm,i as V,ia as Kt,ib as H,ic as nm,j as pt,ja as Je,jb as Xh,jc as st,k as Uc,ka as I,kb as et,kc as im,l as yo,la as T,lb as Ze,lc as ue,m as ei,ma as ae,mb as M,mc as Yt,md as vm,n as tt,na as Pe,nb as la,nc as Oo,o as z,oa as wt,ob as ca,oc as wn,p as wo,pa as So,pb as Xc,pc as Dr,q as vr,qa as Re,qb as da,qc as rm,r as Th,ra as Vh,rb as yn,rc as Ir,s as X,sa as ko,sb as Le,sc as om,t as ie,ta as j,tb as y,tc as sm,u as yr,ua as ne,ub as Pi,uc as q,v as Vt,va as Yc,vb as ve,vc as am,w as xo,wa as Bh,wb as zt,wc as Ro,x as ra,xa as ee,xb as Qc,xc as lm,y as Wc,ya as jh,yb as ft,yc as cm,z as Mh,za as xr,zb as ed,zc as Oi}from"./chunk-UZLGXUYT.js";var Lo=class{},wa=class{},Bn=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=e.slice(n+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var sd=class{encodeKey(t){return ym(t)}encodeValue(t){return ym(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Qv(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var ey=/%(\d[a-f0-9])/gi,ty={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ym(i){return encodeURIComponent(i).replace(ey,(t,e)=>ty[e]??t)}function ya(i){return`${i}`}var ai=class i{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new sd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Qv(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(ya):[ya(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(ya(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(ya(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var ad=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function ny(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wm(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function xm(i){return typeof Blob<"u"&&i instanceof Blob}function Cm(i){return typeof FormData<"u"&&i instanceof FormData}function iy(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Fo=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,n,r){this.url=e,this.method=t.toUpperCase();let o;if(ny(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Bn,this.context??=new ad,!this.params)this.params=new ai,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wm(this.body)||xm(this.body)||Cm(this.body)||iy(this.body)?this.body:this.body instanceof ai?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Cm(this.body)?null:xm(this.body)?this.body.type||null:wm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ai?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,g)=>f.set(g,t.setHeaders[g]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((f,g)=>f.set(g,t.setParams[g]),d)),new i(e,n,s,{params:d,headers:c,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},li=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(li||{}),Vo=class{headers;status;statusText;url;ok;type;constructor(t,e=200,n="OK"){this.headers=t.headers||new Bn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},xa=class i extends Vo{constructor(t={}){super(t)}type=li.ResponseHeader;clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Bo=class i extends Vo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=li.Response;clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},si=class extends Vo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Im=200,ry=204;function od(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Te=(()=>{class i{handler;constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof Fo)o=e;else{let l;r.headers instanceof Bn?l=r.headers:l=new Bn(r.headers);let c;r.params&&(r.params instanceof ai?c=r.params:c=new ai({fromObject:r.params})),o=new Fo(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=z(o).pipe(ni(l=>this.handler.handle(l)));if(e instanceof Fo||r.observe==="events")return s;let a=s.pipe(ht(l=>l instanceof Bo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new ai().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,od(r,n))}post(e,n,r={}){return this.request("POST",e,od(r,n))}put(e,n,r={}){return this.request("PUT",e,od(r,n))}static \u0275fac=function(n){return new(n||i)(Q(Lo))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})(),oy=/^\)\]\}',?\n/,sy="X-Request-URL";function Em(i){if(i.url)return i.url;let t=sy.toLocaleLowerCase();return i.headers.get(t)}var ay=(()=>{class i{fetchImpl=v(ld,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=v(ne);handle(e){return new fn(n=>{let r=new AbortController;return this.doRequest(e,r.signal,n).then(cd,o=>n.error(new si({error:o}))),()=>r.abort()})}doRequest(e,n,r){return F(this,null,function*(){let o=this.createRequestInit(e),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,D({signal:n},o)));ly(g),r.next({type:li.Sent}),s=yield g}catch(g){r.error(new si({error:g,status:g.status??0,statusText:g.statusText,url:e.urlWithParams,headers:g.headers}));return}let a=new Bn(s.headers),l=s.statusText,c=Em(s)??e.urlWithParams,d=s.status,p=null;if(e.reportProgress&&r.next(new xa({headers:a,status:d,statusText:l,url:c})),s.body){let g=s.headers.get("content-length"),_=[],x=s.body.getReader(),E=0,O,le,Z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>F(this,null,function*(){for(;;){let{done:Ye,value:Qe}=yield x.read();if(Ye)break;if(_.push(Qe),E+=Qe.length,e.reportProgress){le=e.responseType==="text"?(le??"")+(O??=new TextDecoder).decode(Qe,{stream:!0}):void 0;let br=()=>r.next({type:li.DownloadProgress,total:g?+g:void 0,loaded:E,partialText:le});Z?Z.run(br):br()}}}));let Ke=this.concatChunks(_,E);try{let Ye=s.headers.get("Content-Type")??"";p=this.parseBody(e,Ke,Ye)}catch(Ye){r.error(new si({error:Ye,headers:new Bn(s.headers),status:s.status,statusText:s.statusText,url:Em(s)??e.urlWithParams}));return}}d===0&&(d=p?Im:0),d>=200&&d<300?(r.next(new Bo({body:p,headers:a,status:d,statusText:l,url:c})),r.complete()):r.error(new si({error:p,headers:a,status:d,statusText:l,url:c}))})}parseBody(e,n,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(n).replace(oy,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:r});case"arraybuffer":return n.buffer}}createRequestInit(e){let n={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>n[o]=s.join(",")),e.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(n["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:n,credentials:r}}concatChunks(e,n){let r=new Uint8Array(n),o=0;for(let s of e)r.set(s,o),o+=s.length;return r}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})(),ld=class{};function cd(){}function ly(i){i.then(cd,cd)}function Tm(i,t){return t(i)}function cy(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function dy(i,t,e){return(n,r)=>Kt(e,()=>t(n,o=>i(o,r)))}var uy=new B(""),dd=new B(""),py=new B(""),Mm=new B("",{providedIn:"root",factory:()=>!0});function hy(){let i=null;return(t,e)=>{i===null&&(i=(v(uy,{optional:!0})??[]).reduceRight(cy,Tm));let n=v(ko);if(v(Mm)){let o=n.add();return i(t,e).pipe(Ti(()=>n.remove(o)))}else return i(t,e)}}var Sm=(()=>{class i extends Lo{backend;injector;chain=null;pendingTasks=v(ko);contributeToStability=v(Mm);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(dd),...this.injector.get(py,[])]));this.chain=n.reduceRight((r,o)=>dy(r,o,this.injector),Tm)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Ti(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||i)(Q(wa),Q(an))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})();var my=/^\)\]\}',?\n/;function fy(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var km=(()=>{class i{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new De(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?tt(n.\u0275loadImpl()):z(null)).pipe(mt(()=>new fn(o=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((x,E)=>s.setRequestHeader(x,E.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let x=e.detectContentTypeHeader();x!==null&&s.setRequestHeader("Content-Type",x)}if(e.responseType){let x=e.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let x=s.statusText||"OK",E=new Bn(s.getAllResponseHeaders()),O=fy(s)||e.url;return l=new xa({headers:E,status:s.status,statusText:x,url:O}),l},d=()=>{let{headers:x,status:E,statusText:O,url:le}=c(),Z=null;E!==ry&&(Z=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=Z?Im:0);let Ke=E>=200&&E<300;if(e.responseType==="json"&&typeof Z=="string"){let Ye=Z;Z=Z.replace(my,"");try{Z=Z!==""?JSON.parse(Z):null}catch(Qe){Z=Ye,Ke&&(Ke=!1,Z={error:Qe,text:Z})}}Ke?(o.next(new Bo({body:Z,headers:x,status:E,statusText:O,url:le||void 0})),o.complete()):o.error(new si({error:Z,headers:x,status:E,statusText:O,url:le||void 0}))},p=x=>{let{url:E}=c(),O=new si({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(O)},f=!1,g=x=>{f||(o.next(c()),f=!0);let E={type:li.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(E.total=x.total),e.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},_=x=>{let E={type:li.UploadProgress,loaded:x.loaded};x.lengthComputable&&(E.total=x.total),o.next(E)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:li.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||i)(Q(ga))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})(),Am=new B(""),gy="XSRF-TOKEN",_y=new B("",{providedIn:"root",factory:()=>gy}),by="X-XSRF-TOKEN",vy=new B("",{providedIn:"root",factory:()=>by}),Ca=class{},yy=(()=>{class i{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ha(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||i)(Q(q),Q(Rn),Q(_y))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})();function wy(i,t){let e=i.url.toLowerCase();if(!v(Am)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let n=v(Ca).getToken(),r=v(vy);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var Pm=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Pm||{});function xy(i,t){return{\u0275kind:i,\u0275providers:t}}function Cy(...i){let t=[Te,km,Sm,{provide:Lo,useExisting:Sm},{provide:wa,useFactory:()=>v(ay,{optional:!0})??v(km)},{provide:dd,useValue:wy,multi:!0},{provide:Am,useValue:!0},{provide:Ca,useClass:yy}];for(let e of i)t.push(...e.\u0275providers);return Mi(t)}var Dm=new B("");function Ey(){return xy(Pm.LegacyInterceptors,[{provide:Dm,useFactory:hy},{provide:dd,useExisting:Dm,multi:!0}])}var Ae=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({providers:[Cy(Ey())]})}return i})();var pd=class extends sm{supportsDOMEvents=!0},hd=class i extends pd{static makeCurrent(){om(new i)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=ky();return e==null?null:Dy(e)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ha(document.cookie,t)}},jo=null;function ky(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}function Dy(i){return new URL(i,document.baseURI).pathname}var Iy=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})(),md=new B(""),Lm=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new De(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(Q(md),Q(ne))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})(),Ea=class{_doc;constructor(t){this._doc=t}manager},fd="ng-app-id";function Om(i){for(let t of i)t.remove()}function Rm(i,t){let e=t.createElement("style");return e.textContent=i,e}function Ty(i,t,e){let n=i.head?.querySelectorAll(`style[${fd}="${t}"]`);if(n)for(let r of n)r.textContent&&(r.removeAttribute(fd),e.set(r.textContent,{usage:0,elements:[r]}))}function gd(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var Vm=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.isServer=fa(o),Ty(e,n,this.inline),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,Rm);n?.forEach(r=>this.addUsage(r,this.external,gd))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(Om(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Om(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,Rm(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,gd(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(fd,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(Q(q),Q(xr),Q(Do,8),Q(Rn))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})(),ud={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vd=/%COMP%/g,Bm="%COMP%",My=`_nghost-${Bm}`,Ay=`_ngcontent-${Bm}`,Py=!0,Oy=new B("",{providedIn:"root",factory:()=>Py});function Ry(i){return Ay.replace(vd,i)}function Ny(i){return My.replace(vd,i)}function jm(i,t){return t.map(e=>e.replace(vd,i))}var Tr=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.platformIsServer=fa(a),this.defaultRenderer=new zo(e,s,l,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===To.ShadowDom&&(n=he(D({},n),{encapsulation:To.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof Sa?r.applyToHost(e):r instanceof Ho&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(n.encapsulation){case To.Emulated:o=new Sa(l,c,n,this.appId,d,s,a,p);break;case To.ShadowDom:return new _d(l,c,e,n,s,a,this.nonce,p);default:o=new Ho(l,c,n,d,s,a,p);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(n){return new(n||i)(Q(Lm),Q(Vm),Q(xr),Q(Oy),Q(q),Q(Rn),Q(ne),Q(Do))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})(),zo=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(ud[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Nm(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Nm(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new De(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=ud[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=ud[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Ao.DashCase|Ao.Important)?t.style.setProperty(e,n,r&Ao.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Ao.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if(typeof t=="string"&&(t=Ir().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Nm(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var _d=class extends zo{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=jm(r.id,r.styles);for(let p of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=r.getExternalStyles?.();if(d)for(let p of d){let f=gd(p,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ho=class extends zo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?jm(l,n.styles):n.styles,this.styleUrls=n.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Sa=class extends Ho{contentAttr;hostAttr;constructor(t,e,n,r,o,s,a,l){let c=r+"-"+n.id;super(t,e,n,o,s,a,l,c),this.contentAttr=Ry(c),this.hostAttr=Ny(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},Fy=(()=>{class i extends Ea{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static \u0275fac=function(n){return new(n||i)(Q(q))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})(),Fm=["alt","control","meta","shift"],Ly={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vy={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},By=(()=>{class i extends Ea{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r){let o=i.parseEventName(n),s=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ir().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),Fm.forEach(c=>{let d=n.indexOf(c);d>-1&&(n.splice(d,1),s+=c+".")}),s+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,n){let r=Ly[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Fm.forEach(s=>{if(s!==r){let a=Vy[s];a(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(Q(q))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})();function zm(i,t){return im(D({rootComponent:i},jy(t)))}function jy(i){return{appProviders:[...$y,...i?.providers??[]],platformProviders:Wy}}function zy(){hd.makeCurrent()}function Hy(){return new Yc}function Uy(){return jh(document),document}var Wy=[{provide:Rn,useValue:pm},{provide:zh,useValue:zy,multi:!0},{provide:q,useFactory:Uy,deps:[]}];var $y=[{provide:Lh,useValue:"root"},{provide:Yc,useFactory:Hy,deps:[]},{provide:md,useClass:Fy,multi:!0,deps:[q,ne,Rn]},{provide:md,useClass:By,multi:!0,deps:[q]},Tr,Vm,Lm,{provide:Bt,useExisting:Tr},{provide:ga,useClass:Iy,deps:[]},[]];var Hm=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(Q(q))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var yd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=Q(Gy),r},providedIn:"root"})}return i})(),Gy=(()=>{class i extends yd{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Ai.NONE:return n;case Ai.HTML:return Er(n,"HTML")?Cr(n):Yh(this._doc,String(n)).toString();case Ai.STYLE:return Er(n,"Style")?Cr(n):n;case Ai.SCRIPT:if(Er(n,"Script"))return Cr(n);throw new De(5200,!1);case Ai.URL:return Er(n,"URL")?Cr(n):Kh(String(n));case Ai.RESOURCE_URL:if(Er(n,"ResourceURL"))return Cr(n);throw new De(5201,!1);default:throw new De(5202,!1)}}bypassSecurityTrustHtml(e){return Uh(e)}bypassSecurityTrustStyle(e){return Wh(e)}bypassSecurityTrustScript(e){return $h(e)}bypassSecurityTrustUrl(e){return Gh(e)}bypassSecurityTrustResourceUrl(e){return qh(e)}static \u0275fac=function(n){return new(n||i)(Q(q))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var se="primary",is=Symbol("RouteTitle"),Sd=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Nr(i){return new Sd(i)}function qy(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=i[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function Ky(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!xn(i[e],t[e]))return!1;return!0}function xn(i,t){let e=i?kd(i):void 0,n=t?kd(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!ef(i[r],t[r]))return!1;return!0}function kd(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function ef(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function tf(i){return i.length>0?i[i.length-1]:null}function di(i){return vr(i)?i:ca(i)?tt(Promise.resolve(i)):z(i)}var Yy={exact:rf,subset:of},nf={exact:Jy,subset:Zy,ignored:()=>!0};function Wm(i,t,e){return Yy[e.paths](i.root,t.root,e.matrixParams)&&nf[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function Jy(i,t){return xn(i,t)}function rf(i,t,e){if(!Li(i.segments,t.segments)||!Ia(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!rf(i.children[n],t.children[n],e))return!1;return!0}function Zy(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>ef(i[e],t[e]))}function of(i,t,e){return sf(i,t,t.segments,e)}function sf(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!Li(r,e)||t.hasChildren()||!Ia(r,e,n))}else if(i.segments.length===e.length){if(!Li(i.segments,e)||!Ia(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!of(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!Li(i.segments,r)||!Ia(i.segments,r,n)||!i.children[se]?!1:sf(i.children[se],t,o,n)}}function Ia(i,t,e){return t.every((n,r)=>nf[e](i[r].parameters,n.parameters))}var zn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Se([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Nr(this.queryParams),this._queryParamMap}toString(){return e1.serialize(this)}},Se=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ta(this)}},Fi=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Nr(this.parameters),this._parameterMap}toString(){return lf(this)}};function Xy(i,t){return Li(i,t)&&i.every((e,n)=>xn(e.parameters,t[n].parameters))}function Li(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function Qy(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===se&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==se&&(e=e.concat(t(r,n)))}),e}var rs=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:()=>new Fr,providedIn:"root"})}return i})(),Fr=class{parse(t){let e=new Id(t);return new zn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Uo(t.root,!0)}`,n=i1(t.queryParams),r=typeof t.fragment=="string"?`#${t1(t.fragment)}`:"";return`${e}${n}${r}`}},e1=new Fr;function Ta(i){return i.segments.map(t=>lf(t)).join("/")}function Uo(i,t){if(!i.hasChildren())return Ta(i);if(t){let e=i.children[se]?Uo(i.children[se],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==se&&n.push(`${r}:${Uo(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Qy(i,(n,r)=>r===se?[Uo(i.children[se],!1)]:[`${r}:${Uo(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[se]!=null?`${Ta(i)}/${e[0]}`:`${Ta(i)}/(${e.join("//")})`}}function af(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ka(i){return af(i).replace(/%3B/gi,";")}function t1(i){return encodeURI(i)}function Dd(i){return af(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ma(i){return decodeURIComponent(i)}function $m(i){return Ma(i.replace(/\+/g,"%20"))}function lf(i){return`${Dd(i.path)}${n1(i.parameters)}`}function n1(i){return Object.entries(i).map(([t,e])=>`;${Dd(t)}=${Dd(e)}`).join("")}function i1(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${ka(e)}=${ka(r)}`).join("&"):`${ka(e)}=${ka(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var r1=/^[^\/()?;#]+/;function wd(i){let t=i.match(r1);return t?t[0]:""}var o1=/^[^\/()?;=#]+/;function s1(i){let t=i.match(o1);return t?t[0]:""}var a1=/^[^=?&#]+/;function l1(i){let t=i.match(a1);return t?t[0]:""}var c1=/^[^&#]+/;function d1(i){let t=i.match(c1);return t?t[0]:""}var Id=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[se]=new Se(t,e)),n}parseSegment(){let t=wd(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new De(4009,!1);return this.capture(t),new Fi(Ma(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=s1(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=wd(this.remaining);r&&(n=r,this.capture(n))}t[Ma(e)]=Ma(n)}parseQueryParam(t){let e=l1(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=d1(this.remaining);s&&(n=s,this.capture(n))}let r=$m(e),o=$m(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=wd(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new De(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=se);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[se]:new Se([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new De(4011,!1)}};function cf(i){return i.segments.length>0?new Se([],{[se]:i}):i}function df(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=df(r);if(n===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new Se(i.segments,t);return u1(e)}function u1(i){if(i.numberOfChildren===1&&i.children[se]){let t=i.children[se];return new Se(i.segments.concat(t.segments),t.children)}return i}function Vi(i){return i instanceof zn}function p1(i,t,e=null,n=null){let r=uf(i);return pf(r,t,e,n)}function uf(i){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new Se(o.url,s);return o===i&&(t=a),a}let n=e(i.root),r=cf(n);return t??r}function pf(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return xd(r,r,r,e,n);let o=h1(t);if(o.toRoot())return xd(r,r,new Se([],{}),e,n);let s=m1(o,r,i),a=s.processChildren?Go(s.segmentGroup,s.index,o.commands):mf(s.segmentGroup,s.index,o.commands);return xd(r,s.segmentGroup,a,e,n)}function Aa(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Yo(i){return typeof i=="object"&&i!=null&&i.outlets}function xd(i,t,e,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;i===t?s=e:s=hf(i,t,e);let a=cf(df(s));return new zn(a,o,r)}function hf(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=hf(o,t,e)}),new Se(i.segments,n)}var Pa=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Aa(n[0]))throw new De(4003,!1);let r=n.find(Yo);if(r&&r!==tf(n))throw new De(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function h1(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Pa(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Pa(e,t,n)}var Pr=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function m1(i,t,e){if(i.isAbsolute)return new Pr(t,!0,0);if(!e)return new Pr(t,!1,NaN);if(e.parent===null)return new Pr(e,!0,0);let n=Aa(i.commands[0])?0:1,r=e.segments.length-1+n;return f1(e,r,i.numberOfDoubleDots)}function f1(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new De(4005,!1);r=n.segments.length}return new Pr(n,!1,r-o)}function g1(i){return Yo(i[0])?i[0].outlets:{[se]:i}}function mf(i,t,e){if(i??=new Se([],{}),i.segments.length===0&&i.hasChildren())return Go(i,t,e);let n=_1(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new Se(i.segments.slice(0,n.pathIndex),{});return o.children[se]=new Se(i.segments.slice(n.pathIndex),i.children),Go(o,0,r)}else return n.match&&r.length===0?new Se(i.segments,{}):n.match&&!i.hasChildren()?Td(i,t,e):n.match?Go(i,0,r):Td(i,t,e)}function Go(i,t,e){if(e.length===0)return new Se(i.segments,{});{let n=g1(e),r={};if(Object.keys(n).some(o=>o!==se)&&i.children[se]&&i.numberOfChildren===1&&i.children[se].segments.length===0){let o=Go(i.children[se],t,e);return new Se(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=mf(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Se(i.segments,r)}}function _1(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let s=i.segments[r],a=e[n];if(Yo(a))break;let l=`${a}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!qm(l,c,s))return o;n+=2}else{if(!qm(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Td(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Yo(o)){let l=b1(o.outlets);return new Se(n,l)}if(r===0&&Aa(e[0])){let l=i.segments[t];n.push(new Fi(l.path,Gm(e[0]))),r++;continue}let s=Yo(o)?o.outlets[se]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Aa(a)?(n.push(new Fi(s,Gm(a))),r+=2):(n.push(new Fi(s,{})),r++)}return new Se(n,{})}function b1(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=Td(new Se([],{}),0,n))}),t}function Gm(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function qm(i,t,e){return i==e.path&&xn(t,e.parameters)}var qo="imperative",it=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(it||{}),Jt=class{id;url;constructor(t,e){this.id=t,this.url=e}},Lr=class extends Jt{type=it.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends Jt{urlAfterRedirects;type=it.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Ut||{}),Oa=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Oa||{}),jn=class extends Jt{reason;code;type=it.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ci=class extends Jt{reason;code;type=it.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},Jo=class extends Jt{error;target;type=it.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ra=class extends Jt{urlAfterRedirects;state;type=it.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Md=class extends Jt{urlAfterRedirects;state;type=it.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ad=class extends Jt{urlAfterRedirects;state;shouldActivate;type=it.GuardsCheckEnd;constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pd=class extends Jt{urlAfterRedirects;state;type=it.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Od=class extends Jt{urlAfterRedirects;state;type=it.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rd=class{route;type=it.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nd=class{route;type=it.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fd=class{snapshot;type=it.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ld=class{snapshot;type=it.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vd=class{snapshot;type=it.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bd=class{snapshot;type=it.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Na=class{routerEvent;position;anchor;type=it.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Zo=class{},Vr=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function v1(i,t){return i.providers&&!i._injector&&(i._injector=Zc(i.providers,t,`Route: ${i.path}`)),i._injector??t}function dn(i){return i.outlet||se}function y1(i,t){let e=i.filter(n=>dn(n)===t);return e.push(...i.filter(n=>dn(n)!==t)),e}function ss(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var jd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ss(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new as(this.rootInjector)}},as=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new jd(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(Q(an))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Fa=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=zd(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=zd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Hd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Hd(t,this._root).map(e=>e.value)}};function zd(i,t){if(i===t.value)return t;for(let e of t.children){let n=zd(i,e);if(n)return n}return null}function Hd(i,t){if(i===t.value)return[t];for(let e of t.children){let n=Hd(i,e);if(n.length)return n.unshift(t),n}return[]}var Ht=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ar(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var La=class extends Fa{snapshot;constructor(t,e){super(t),this.snapshot=e,Zd(this,t)}toString(){return this.snapshot.toString()}};function ff(i){let t=w1(i),e=new pt([new Fi("",{})]),n=new pt({}),r=new pt({}),o=new pt({}),s=new pt(""),a=new Cn(e,n,o,s,r,se,i,t.root);return a.snapshot=t.root,new La(new Ht(a,[]),t)}function w1(i){let t={},e={},n={},r="",o=new Or([],t,n,r,e,se,i,null,{});return new Ba("",new Ht(o,[]))}var Cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ie(c=>c[is]))??z(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(t=>Nr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(t=>Nr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Va(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:D(D({},t.params),i.params),data:D(D({},t.data),i.data),resolve:D(D(D(D({},i.data),t.data),r?.data),i._resolvedData)}:n={params:D({},i.params),data:D({},i.data),resolve:D(D({},i.data),i._resolvedData??{})},r&&_f(r)&&(n.resolve[is]=r.title),n}var Or=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[is]}constructor(t,e,n,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Nr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Nr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ba=class extends Fa{url;constructor(t,e){super(e),this.url=t,Zd(this,e)}toString(){return gf(this._root)}};function Zd(i,t){t.value._routerState=i,t.children.forEach(e=>Zd(i,e))}function gf(i){let t=i.children.length>0?` { ${i.children.map(gf).join(", ")} } `:"";return`${i.value}${t}`}function Cd(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,xn(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),xn(t.params,e.params)||i.paramsSubject.next(e.params),Ky(t.url,e.url)||i.urlSubject.next(e.url),xn(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Ud(i,t){let e=xn(i.params,t.params)&&Xy(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||Ud(i.parent,t.parent))}function _f(i){return typeof i.title=="string"||i.title===null}var x1=new B(""),ls=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new j;deactivateEvents=new j;attachEvents=new j;detachEvents=new j;routerOutletData=Bh(void 0);parentContexts=v(as);location=v(vn);changeDetector=v(st);inputBinder=v(Wa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new De(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new De(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new De(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new De(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Wd(e,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Je]})}return i})(),Wd=class i{route;childContexts;parent;outletData;__ngOutletInjector(t){return new i(this.route,this.childContexts,t,this.outletData)}constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===Cn?this.route:t===as?this.childContexts:t===x1?this.outletData:this.parent.get(t,e)}},Wa=new B(""),Km=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=yr([n.queryParams,n.params,n.data]).pipe(mt(([o,s,a],l)=>(a=D(D(D({},o),s),a),l===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=rm(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})();function C1(i,t,e){let n=Xo(i,t._root,e?e._root:void 0);return new La(n,t)}function Xo(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=E1(i,t,e);return new Ht(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Xo(i,a)),s}}let n=S1(t.value),r=t.children.map(o=>Xo(i,o));return new Ht(n,r)}}function E1(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Xo(i,n,r);return Xo(i,n)})}function S1(i){return new Cn(new pt(i.url),new pt(i.params),new pt(i.queryParams),new pt(i.fragment),new pt(i.data),i.outlet,i.component,i)}var Qo=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},bf="ngNavigationCancelingError";function ja(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=Vi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=vf(!1,Ut.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function vf(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[bf]=!0,e.cancellationCode=t,e}function k1(i){return yf(i)&&Vi(i.url)}function yf(i){return!!i&&i[bf]}var D1=(i,t,e,n)=>ie(r=>(new $d(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),$d=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Cd(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=Ar(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Ar(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Ar(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=Ar(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Bd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ld(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(Cd(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cd(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},za=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Rr=class{component;route;constructor(t,e){this.component=t,this.route=e}};function I1(i,t,e){let n=i._root,r=t?t._root:null;return Wo(n,r,e,[n.value])}function T1(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function jr(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!Nh(i)?i:t.get(i):n}function Wo(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ar(t);return i.children.forEach(s=>{M1(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ko(a,e.getContext(s),r)),r}function M1(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=A1(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new za(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wo(i,t,a?a.children:null,n,r):Wo(i,t,e,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Rr(a.outlet.component,s))}else s&&Ko(t,a,r),r.canActivateChecks.push(new za(n)),o.component?Wo(i,null,a?a.children:null,n,r):Wo(i,null,e,n,r);return r}function A1(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!Li(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Li(i.url,t.url)||!xn(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ud(i,t)||!xn(i.queryParams,t.queryParams);case"paramsChange":default:return!Ud(i,t)}}function Ko(i,t,e){let n=Ar(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?t?Ko(s,t.children.getContext(o),e):Ko(s,null,e):Ko(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Rr(t.outlet.component,r)):e.canDeactivateChecks.push(new Rr(null,r)):e.canDeactivateChecks.push(new Rr(null,r))}function cs(i){return typeof i=="function"}function P1(i){return typeof i=="boolean"}function O1(i){return i&&cs(i.canLoad)}function R1(i){return i&&cs(i.canActivate)}function N1(i){return i&&cs(i.canActivateChild)}function F1(i){return i&&cs(i.canDeactivate)}function L1(i){return i&&cs(i.canMatch)}function wf(i){return i instanceof Th||i?.name==="EmptyError"}var Da=Symbol("INITIAL_VALUE");function Br(){return mt(i=>yr(i.map(t=>t.pipe(sn(1),_n(Da)))).pipe(ie(t=>{for(let e of t)if(e!==!0){if(e===Da)return Da;if(e===!1||V1(e))return e}return!0}),ht(t=>t!==Da),sn(1)))}function V1(i){return Vi(i)||i instanceof Qo}function B1(i,t){return Vt(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?z(he(D({},e),{guardsResult:!0})):j1(s,n,r,i).pipe(Vt(a=>a&&P1(a)?z1(n,o,i,t):z(a)),ie(a=>he(D({},e),{guardsResult:a})))})}function j1(i,t,e,n){return tt(i).pipe(Vt(r=>G1(r.component,r.route,e,t,n)),ii(r=>r!==!0,!0))}function z1(i,t,e,n){return tt(t).pipe(ni(r=>ra(U1(r.route.parent,n),H1(r.route,n),$1(i,r.path,e),W1(i,r.route,e))),ii(r=>r!==!0,!0))}function H1(i,t){return i!==null&&t&&t(new Vd(i)),z(!0)}function U1(i,t){return i!==null&&t&&t(new Fd(i)),z(!0)}function W1(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return z(!0);let r=n.map(o=>Wc(()=>{let s=ss(t)??e,a=jr(o,s),l=R1(a)?a.canActivate(t,i):Kt(s,()=>a(t,i));return di(l).pipe(ii())}));return z(r).pipe(Br())}function $1(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>T1(s)).filter(s=>s!==null).map(s=>Wc(()=>{let a=s.guards.map(l=>{let c=ss(s.node)??e,d=jr(l,c),p=N1(d)?d.canActivateChild(n,i):Kt(c,()=>d(n,i));return di(p).pipe(ii())});return z(a).pipe(Br())}));return z(o).pipe(Br())}function G1(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let l=ss(t)??r,c=jr(a,l),d=F1(c)?c.canDeactivate(i,t,e,n):Kt(l,()=>c(i,t,e,n));return di(d).pipe(ii())});return z(s).pipe(Br())}function q1(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return z(!0);let o=r.map(s=>{let a=jr(s,i),l=O1(a)?a.canLoad(t,e):Kt(i,()=>a(t,e));return di(l)});return z(o).pipe(Br(),xf(n))}function xf(i){return Ih(je(t=>{if(typeof t!="boolean")throw ja(i,t)}),ie(t=>t===!0))}function K1(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return z(!0);let o=r.map(s=>{let a=jr(s,i),l=L1(a)?a.canMatch(t,e):Kt(i,()=>a(t,e));return di(l)});return z(o).pipe(Br(),xf(n))}var es=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ts=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Mr(i){return wo(new es(i))}function Y1(i){return wo(new De(4e3,!1))}function J1(i){return wo(vf(!1,Ut.GuardRejected))}var Gd=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return z(n);if(r.numberOfChildren>1||!r.children[se])return Y1(`${t.redirectTo}`);r=r.children[se]}}applyRedirectCommands(t,e,n,r,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:d,url:p,outlet:f,params:g,data:_,title:x}=r,E=Kt(o,()=>a({params:g,data:_,queryParams:l,fragment:c,routeConfig:d,url:p,outlet:f,title:x}));if(E instanceof zn)throw new ts(E);e=E}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new ts(s);return s}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new zn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[r]=e[a]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,r)}),new Se(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new De(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},qd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Z1(i,t,e,n,r){let o=Cf(i,t,e);return o.matched?(n=v1(t,n),K1(n,t,e,r).pipe(ie(s=>s===!0?o:D({},qd)))):z(o)}function Cf(i,t,e){if(t.path==="**")return X1(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?D({},qd):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||qy)(e,i,t);if(!r)return D({},qd);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?D(D({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function X1(i){return{matched:!0,parameters:i.length>0?tf(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function Ym(i,t,e,n){return e.length>0&&tw(i,e,n)?{segmentGroup:new Se(t,ew(n,new Se(e,i.children))),slicedSegments:[]}:e.length===0&&nw(i,e,n)?{segmentGroup:new Se(i.segments,Q1(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Se(i.segments,i.children),slicedSegments:e}}function Q1(i,t,e,n){let r={};for(let o of e)if($a(i,t,o)&&!n[dn(o)]){let s=new Se([],{});r[dn(o)]=s}return D(D({},n),r)}function ew(i,t){let e={};e[se]=t;for(let n of i)if(n.path===""&&dn(n)!==se){let r=new Se([],{});e[dn(n)]=r}return e}function tw(i,t,e){return e.some(n=>$a(i,t,n)&&dn(n)!==se)}function nw(i,t,e){return e.some(n=>$a(i,t,n))}function $a(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function iw(i,t,e){return t.length===0&&!i.children[e]}var Kd=class{};function rw(i,t,e,n,r,o,s="emptyOnly"){return new Yd(i,t,e,n,r,s,o).recognize()}var ow=31,Yd=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Gd(this.urlSerializer,this.urlTree)}noMatchError(t){return new De(4002,`'${t.segmentGroup}'`)}recognize(){let t=Ym(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ie(({children:e,rootSnapshot:n})=>{let r=new Ht(n,e),o=new Ba("",r),s=p1(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new Or([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,se,e).pipe(ie(n=>({children:n,rootSnapshot:e})),wr(n=>{if(n instanceof ts)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof es?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,o):this.processSegment(t,e,n,n.segments,r,!0,o).pipe(ie(s=>s instanceof Ht?[s]:[]))}processChildren(t,e,n,r){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return tt(o).pipe(ni(s=>{let a=n.children[s],l=y1(e,s);return this.processSegmentGroup(t,l,a,s,r)}),Rh((s,a)=>(s.push(...a),s)),$c(null),Oh(),Vt(s=>{if(s===null)return Mr(n);let a=Ef(s);return sw(a),z(a)}))}processSegment(t,e,n,r,o,s,a){return tt(e).pipe(ni(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,r,o,s,a).pipe(wr(c=>{if(c instanceof es)return z(null);throw c}))),ii(l=>!!l),wr(l=>{if(wf(l))return iw(n,r,o)?z(new Kd):Mr(n);throw l}))}processSegmentAgainstRoute(t,e,n,r,o,s,a,l){return dn(n)!==s&&(s===se||!$a(r,o,n))?Mr(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s,l):Mr(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:p,remainingSegments:f}=Cf(e,r,o);if(!l)return Mr(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ow&&(this.allowRedirects=!1));let g=new Or(o,c,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Jm(r),dn(r),r.component??r._loadedComponent??null,r,Zm(r)),_=Va(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let x=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,p,g,t);return this.applyRedirects.lineralizeSegments(r,x).pipe(Vt(E=>this.processSegment(t,n,e,E.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,e,n,r,o,s){let a=Z1(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(mt(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(mt(({routes:c})=>{let d=n._loadedInjector??t,{parameters:p,consumedSegments:f,remainingSegments:g}=l,_=new Or(f,p,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Jm(n),dn(n),n.component??n._loadedComponent??null,n,Zm(n)),x=Va(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(x.params),_.data=Object.freeze(x.data);let{segmentGroup:E,slicedSegments:O}=Ym(e,f,g,c);if(O.length===0&&E.hasChildren())return this.processChildren(d,c,E,_).pipe(ie(Z=>new Ht(_,Z)));if(c.length===0&&O.length===0)return z(new Ht(_,[]));let le=dn(n)===o;return this.processSegment(d,c,E,O,le?se:o,!0,_).pipe(ie(Z=>new Ht(_,Z instanceof Ht?[Z]:[])))}))):Mr(e)))}getChildConfig(t,e,n){return e.children?z({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?z({routes:e._loadedRoutes,injector:e._loadedInjector}):q1(t,e,n,this.urlSerializer).pipe(Vt(r=>r?this.configLoader.loadChildren(t,e).pipe(je(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):J1(e))):z({routes:[],injector:t})}};function sw(i){i.sort((t,e)=>t.value.outlet===se?-1:e.value.outlet===se?1:t.value.outlet.localeCompare(e.value.outlet))}function aw(i){let t=i.value.routeConfig;return t&&t.path===""}function Ef(i){let t=[],e=new Set;for(let n of i){if(!aw(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=Ef(n.children);t.push(new Ht(n.value,r))}return t.filter(n=>!e.has(n))}function Jm(i){return i.data||{}}function Zm(i){return i.resolve||{}}function lw(i,t,e,n,r,o){return Vt(s=>rw(i,t,e,n,s.extractedUrl,r,o).pipe(ie(({state:a,tree:l})=>he(D({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function cw(i,t){return Vt(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return z(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Sf(l))s.add(c);let a=0;return tt(s).pipe(ni(l=>o.has(l)?dw(l,n,i,t):(l.data=Va(l,l.parent,i).resolve,z(void 0))),je(()=>a++),qc(1),Vt(l=>a===s.size?z(e):ei))})}function Sf(i){let t=i.children.map(e=>Sf(e)).flat();return[i,...t]}function dw(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!_f(r)&&(o[is]=r.title),uw(o,i,t,n).pipe(ie(s=>(i._resolvedData=s,i.data=Va(i,i.parent,e).resolve,null)))}function uw(i,t,e,n){let r=kd(i);if(r.length===0)return z({});let o={};return tt(r).pipe(Vt(s=>pw(i[s],t,e,n).pipe(ii(),je(a=>{if(a instanceof Qo)throw ja(new Fr,a);o[s]=a}))),qc(1),Ph(o),wr(s=>wf(s)?ei:wo(s)))}function pw(i,t,e,n){let r=ss(t)??n,o=jr(i,r),s=o.resolve?o.resolve(t,e):Kt(r,()=>o(t,e));return di(s)}function Ed(i){return mt(t=>{let e=i(t);return e?tt(e).pipe(ie(()=>t)):z(t)})}var kf=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===se);return n}getResolvedTitleForRoute(e){return e.data[is]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:()=>v(hw),providedIn:"root"})}return i})(),hw=(()=>{class i extends kf{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(Q(Hm))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ds=new B("",{providedIn:"root",factory:()=>({})}),mw=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){n&1&&w(0,"router-outlet")},dependencies:[ls],encapsulation:2})}return i})();function Xd(i){let t=i.children&&i.children.map(Xd),e=t?he(D({},i),{children:t}):D({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==se&&(e.component=mw),e}var ns=new B(""),Qd=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(pa);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return z(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=di(e.loadComponent()).pipe(ie(Df),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ti(()=>{this.componentLoaders.delete(e)})),r=new Hc(n,()=>new V).pipe(zc());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return z({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=fw(n,this.compiler,e,this.onLoadEndListener).pipe(Ti(()=>{this.childrenLoaders.delete(n)})),s=new Hc(o,()=>new V).pipe(zc());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function fw(i,t,e,n){return di(i.loadChildren()).pipe(ie(Df),Vt(r=>r instanceof Zh||Array.isArray(r)?z(r):tt(t.compileModuleAsync(r))),ie(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(ns,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xd),injector:o}}))}function gw(i){return i&&typeof i=="object"&&"default"in i}function Df(i){return gw(i)?i.default:i}var eu=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:()=>v(_w),providedIn:"root"})}return i})(),_w=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),If=new B(""),Tf=new B("");function bw(i,t,e){let n=i.get(Tf),r=i.get(q);return i.get(ne).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),vw(i))),{onViewTransitionCreated:l}=n;return l&&Kt(i,()=>l({transition:a,from:t,to:e})),s})}function vw(i){return new Promise(t=>{bn({read:()=>setTimeout(t)},{injector:i})})}var Mf=new B(""),tu=(()=>{class i{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new V;transitionAbortSubject=new V;configLoader=v(Qd);environmentInjector=v(an);urlSerializer=v(rs);rootContexts=v(as);location=v(Oi);inputBindingEnabled=v(Wa,{optional:!0})!==null;titleStrategy=v(kf);options=v(ds,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(eu);createViewTransition=v(If,{optional:!0});navigationErrorHandler=v(Mf,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;constructor(){let e=r=>this.events.next(new Rd(r)),n=r=>this.events.next(new Nd(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(he(D(D({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,r){return this.transitions=new pt({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:qo,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ht(o=>o.id!==0),ie(o=>he(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),mt(o=>{let s=!1,a=!1;return z(o).pipe(mt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),ei;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?he(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload"){let p="";return this.events.next(new ci(l.id,this.urlSerializer.serialize(l.rawUrl),p,Oa.IgnoredSameUrlNavigation)),l.resolve(!1),ei}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return z(l).pipe(mt(p=>{let f=this.transitions?.getValue();return this.events.next(new Lr(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),f!==this.transitions?.getValue()?ei:Promise.resolve(p)}),lw(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),je(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=he(D({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let f=new Ra(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:f,source:g,restoredState:_,extras:x}=l,E=new Lr(p,this.urlSerializer.serialize(f),g,_);this.events.next(E);let O=ff(this.rootComponentType).snapshot;return this.currentTransition=o=he(D({},l),{targetSnapshot:O,urlAfterRedirects:f,extras:he(D({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,z(o)}else{let p="";return this.events.next(new ci(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Oa.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ei}}),je(l=>{let c=new Md(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ie(l=>(this.currentTransition=o=he(D({},l),{guards:I1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),B1(this.environmentInjector,l=>this.events.next(l)),je(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ja(this.urlSerializer,l.guardsResult);let c=new Ad(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ht(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ut.GuardRejected),!1)),Ed(l=>{if(l.guards.canActivateChecks.length)return z(l).pipe(je(c=>{let d=new Pd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),mt(c=>{let d=!1;return z(c).pipe(cw(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",Ut.NoDataFromResolver)}}))}),je(c=>{let d=new Od(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),Ed(l=>{let c=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(je(f=>{d.component=f}),ie(()=>{})));for(let f of d.children)p.push(...c(f));return p};return yr(c(l.targetSnapshot.root)).pipe($c(null),sn(1))}),Ed(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?tt(d).pipe(ie(()=>o)):z(o)}),ie(l=>{let c=C1(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=he(D({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),je(()=>{this.events.next(new Zo)}),D1(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),sn(1),je({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new un(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ge(this.transitionAbortSubject.pipe(je(l=>{throw l}))),Ti(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wr(l=>{if(a=!0,yf(l))this.events.next(new jn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),k1(l)?this.events.next(new Vr(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Jo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let d=Kt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof Qo){let{message:p,cancellationCode:f}=ja(this.urlSerializer,d);this.events.next(new jn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,f)),this.events.next(new Vr(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ei}))}))}cancelNavigationTransition(e,n,r){let o=new jn(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function yw(i){return i!==qo}var ww=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:()=>v(xw),providedIn:"root"})}return i})(),Jd=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},xw=(()=>{class i extends Jd{static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Af=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:()=>v(Cw),providedIn:"root"})}return i})(),Cw=(()=>{class i extends Af{location=v(Oi);urlSerializer=v(rs);options=v(ds,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=v(eu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new zn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=ff(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Lr)this.stateMemento=this.createStateMemento();else if(e instanceof ci)this.rawUrlTree=n.initialUrl;else if(e instanceof Ra){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??r,n)}}else e instanceof Zo?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof jn&&(e.code===Ut.GuardRejected||e.code===Ut.NoDataFromResolver)?this.restoreHistory(n):e instanceof Jo?this.restoreHistory(n,!0):e instanceof un&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let r=e instanceof zn?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){let o=this.browserPageId,s=D(D({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(r,"",s)}else{let o=D(D({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$o=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}($o||{});function Pf(i,t){i.events.pipe(ht(e=>e instanceof un||e instanceof jn||e instanceof Jo||e instanceof ci),ie(e=>e instanceof un||e instanceof ci?$o.COMPLETE:(e instanceof jn?e.code===Ut.Redirect||e.code===Ut.SupersededByNewNavigation:!1)?$o.REDIRECTING:$o.FAILED),ht(e=>e!==$o.REDIRECTING),sn(1)).subscribe(()=>{t()})}var Ew={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xe=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(la);stateManager=v(Af);options=v(ds,{optional:!0})||{};pendingTasks=v(ko);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(tu);urlSerializer=v(rs);location=v(Oi);urlHandlingStrategy=v(eu);_events=new V;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(ww);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(ns,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(Wa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Lt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof jn&&n.code!==Ut.Redirect&&n.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof un)this.navigated=!0;else if(n instanceof Vr){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=D({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yw(r.source)},s);this.scheduleNavigation(a,qo,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Dw(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=D({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Xd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let f=r?r.snapshot:this.routerState.snapshot.root;p=uf(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return pf(p,e,d,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Vi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,qo,null,n)}navigate(e,n={skipLocationChange:!1}){return kw(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=D({},Ew):n===!1?r=D({},Sw):r=n,Vi(e))return Wm(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Wm(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,f)=>{a=p,l=f});let d=this.pendingTasks.add();return Pf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function kw(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new De(4008,!1)}function Dw(i){return!(i instanceof Zo)&&!(i instanceof Vr)}var Ha=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new V;constructor(e,n,r,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Vi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:Jh(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Vi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(k(xe),k(Cn),So("tabindex"),k(jt),k(ee),k(Ro))};static \u0275dir=H({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&S("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Le("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ue],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ue],replaceUrl:[2,"replaceUrl","replaceUrl",ue],routerLink:"routerLink"},features:[Ze,Je]})}return i})(),Of=(()=>{class i{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new j;constructor(e,n,r,o,s){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof un&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(xo()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=tt(e).pipe(xo()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=Iw(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||i)(k(xe),k(ee),k(jt),k(st),k(Ha,8))};static \u0275dir=H({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(n&1&&gt(o,Ha,5),n&2){let s;re(s=oe())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Je]})}return i})();function Iw(i){return!!i.paths}var Ua=class{};var Tw=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ht(e=>e instanceof un),ni(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=Zc(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return tt(r).pipe(xo())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=z(null);let o=r.pipe(Vt(s=>s===null?z(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return tt([o,s]).pipe(xo())}else return o})}static \u0275fac=function(n){return new(n||i)(Q(xe),Q(pa),Q(an),Q(Ua),Q(Qd))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rf=new B(""),Mw=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Lr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof un?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ci&&e.code===Oa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Na&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Na(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){aa()};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})();function Nf(i,...t){return Mi([{provide:ns,multi:!0,useValue:i},[],{provide:Cn,useFactory:Ff,deps:[xe]},{provide:da,multi:!0,useFactory:Lf},t.map(e=>e.\u0275providers)])}function Ff(i){return i.routerState.root}function us(i,t){return{\u0275kind:i,\u0275providers:t}}function Lf(){let i=v(Re);return t=>{let e=i.get(yn);if(t!==e.components[0])return;let n=i.get(xe),r=i.get(Vf);i.get(nu)===1&&n.initialNavigation(),i.get(Bf,null,Kc.Optional)?.setUpPreloading(),i.get(Rf,null,Kc.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Vf=new B("",{factory:()=>new V}),nu=new B("",{providedIn:"root",factory:()=>1});function Aw(){return us(2,[{provide:nu,useValue:0},{provide:Xc,multi:!0,deps:[Re],useFactory:t=>{let e=t.get(am,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let r=t.get(xe),o=t.get(Vf);Pf(r,()=>{n(!0)}),t.get(tu).afterPreactivation=()=>(n(!0),o.closed?z(void 0):o),r.initialNavigation()}))}}])}function Pw(){return us(3,[{provide:Xc,multi:!0,useFactory:()=>{let t=v(xe);return()=>{t.setUpLocationChangeListener()}}},{provide:nu,useValue:2}])}var Bf=new B("");function Ow(i){return us(0,[{provide:Bf,useExisting:Tw},{provide:Ua,useExisting:i}])}function Rw(){return us(8,[Km,{provide:Wa,useExisting:Km}])}function Nw(i){let t=[{provide:If,useValue:bw},{provide:Tf,useValue:D({skipNextTransition:!!i?.skipInitialTransition},i)}];return us(9,t)}var Xm=new B("ROUTER_FORROOT_GUARD"),Fw=[Oi,{provide:rs,useClass:Fr},xe,as,{provide:Cn,useFactory:Ff,deps:[xe]},Qd,[]],Ga=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[Fw,[],{provide:ns,multi:!0,useValue:e},{provide:Xm,useFactory:jw,deps:[[xe,new sa,new Fh]]},n?.errorHandler?{provide:Mf,useValue:n.errorHandler}:[],{provide:ds,useValue:n||{}},n?.useHash?Vw():Bw(),Lw(),n?.preloadingStrategy?Ow(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?zw(n):[],n?.bindToComponentInputs?Rw().\u0275providers:[],n?.enableViewTransitions?Nw().\u0275providers:[],Hw()]}}static forChild(e){return{ngModule:i,providers:[{provide:ns,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)(Q(Xm,8))};static \u0275mod=de({type:i});static \u0275inj=ce({})}return i})();function Lw(){return{provide:Rf,useFactory:()=>{let i=v(mm),t=v(ne),e=v(ds),n=v(tu),r=v(rs);return e.scrollOffset&&i.setOffset(e.scrollOffset),new Mw(r,n,i,t,e)}}}function Vw(){return{provide:Ro,useClass:cm}}function Bw(){return{provide:Ro,useClass:lm}}function jw(i){return"guarded"}function zw(i){return[i.initialNavigation==="disabled"?Pw().\u0275providers:[],i.initialNavigation==="enabledBlocking"?Aw().\u0275providers:[]]}var Qm=new B("");function Hw(){return[{provide:Qm,useFactory:Lf},{provide:da,multi:!0,useExisting:Qm}]}var Uw=(()=>{class i extends va{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(Q(q),Q(No),Q(ba))};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})();function Ww(){return new _m}function $w(i,t,e){return new vm(i,t,e)}var jf=[{provide:ba,useFactory:Ww},{provide:va,useClass:Uw},{provide:Bt,useFactory:$w,deps:[Tr,va,ne]}],Gw=[{provide:No,useFactory:()=>new bm},{provide:xt,useValue:"BrowserAnimations"},...jf],YP=[{provide:No,useClass:gm},{provide:xt,useValue:"NoopAnimations"},...jf];function zf(){return Io("NgEagerAnimations"),[...Gw]}var qw=(i,t)=>({"ml-[-220px]":i,"ml-0":t}),Kw=(i,t)=>({hidden:i,fixed:t});function Yw(i,t){if(i&1&&(u(0,"a",17),b(1),h()),i&2){let e=t.$implicit;ua("href",e.route,kr),y("routerLink",e.route),m(),ye(" ",e.name," ")}}var qa=class i{is_expanded=!1;menuItems=[{name:"Request Pengajuan",route:"new-approval"},{name:"Info Pengajuan",route:"info-pengajuan"},{name:"Approve Pengajuan",route:"approve-pengajuan"},{name:"Histori Pengajuan",route:"cek-pengajuan"},{name:"Suppliers",route:"suppliers"},{name:"Jenis Pembiayaan",route:"jenis_pembayaran"}];f_expand(){this.is_expanded=!this.is_expanded}f_close_menu(){this.is_expanded=!0}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-navleft"]],decls:20,vars:9,consts:[[1,"h-screen","w-[220px]","border-r-2","drop-shadow-lg","bg-white","sm:relative","fixed","z-50","transition-all",3,"ngClass"],[1,"sm:hidden","w-10","h-10","p-1","pr-2","rounded-r-full","bg-[#b8aa5f]","flex","justify-center","items-center","fill-white","text-white","right-[-41px]","bottom-[20lvh]","absolute",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 256 256"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"p-4","flex","flex-col","relative","z-30"],[1,""],[1,"w-full","flex","justify-center"],[1,"p-4","w-full","flex","justify-center"],["src","assets/img/w_nav_logo_small.png",1,"h-[14vh]"],[1,"flex","flex-col","font-medium","justify-center","items-center"],[1,"text-xl"],[1,"text-2xl"],[1,"w-full","h-[2px]","bg-[#b8aa5f]","mt-8"],[1,"flex","flex-col","mt-1"],["routerLinkActive","active-link","class","menu_c_con my-[4px] p-2 pb-[10px] text-sm rounded-md transition-all",3,"routerLink","href",4,"ngFor","ngForOf"],[1,"sm:hidden"],[1,"bg-[#00000030]","w-[200vw]","h-[100vh]","top-0","left-0","z-10",3,"click","ngClass"],["routerLinkActive","active-link",1,"menu_c_con","my-[4px]","p-2","pb-[10px]","text-sm","rounded-md","transition-all",3,"routerLink","href"]],template:function(e,n){e&1&&(u(0,"div")(1,"div",0)(2,"button",1),S("click",function(){return n.f_expand()}),ae(),u(3,"svg",2),w(4,"path",3),h()(),Pe(),u(5,"ul",4)(6,"div",5)(7,"div",6)(8,"div",7),w(9,"img",8),h()(),u(10,"div",9)(11,"p",10),b(12," Transpacific Finance "),h(),u(13,"p",11),b(14," E-Approval "),h()()(),w(15,"div",12),u(16,"div",13),M(17,Yw,2,3,"a",14),h()()(),u(18,"div",15)(19,"div",16),S("click",function(){return n.f_close_menu()}),h()()()),e&2&&(m(),y("ngClass",ze(3,qw,n.is_expanded,!n.is_expanded)),m(16),y("ngForOf",n.menuItems),m(2),y("ngClass",ze(6,Kw,n.is_expanded,!n.is_expanded)))},dependencies:[Ga,Ha,Of,te,Ie,He],styles:[".active-link[_ngcontent-%COMP%]{transition:cubic-bezier();color:#3a3208;background-color:#e7e0b7}.menu_c_con[_ngcontent-%COMP%]:hover{background-color:#eee8c686}"]})};var Jf=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(k(jt),k(ee))};static \u0275dir=H({type:i})}return i})(),_s=(()=>{class i extends Jf{static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=H({type:i,features:[et]})}return i})(),pn=new B(""),Jw={provide:pn,useExisting:It(()=>au),multi:!0},au=(()=>{class i extends _s{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=H({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&S("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[We([Jw]),et]})}return i})(),Zw={provide:pn,useExisting:It(()=>$e),multi:!0};function Xw(){let i=Ir()?Ir().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Qw=new B(""),$e=(()=>{class i extends Jf{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Xw())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(k(jt),k(ee),k(Qw,8))};static \u0275dir=H({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&S("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[We([Zw]),et]})}return i})();function ui(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Zf(i){return i!=null&&typeof i.length=="number"}var lu=new B(""),cu=new B(""),ex=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pi=class{static min(t){return tx(t)}static max(t){return nx(t)}static required(t){return ix(t)}static requiredTrue(t){return rx(t)}static email(t){return ox(t)}static minLength(t){return sx(t)}static maxLength(t){return ax(t)}static pattern(t){return lx(t)}static nullValidator(t){return Xf(t)}static compose(t){return rg(t)}static composeAsync(t){return sg(t)}};function tx(i){return t=>{if(ui(t.value)||ui(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function nx(i){return t=>{if(ui(t.value)||ui(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function ix(i){return ui(i.value)?{required:!0}:null}function rx(i){return i.value===!0?null:{required:!0}}function ox(i){return ui(i.value)||ex.test(i.value)?null:{email:!0}}function sx(i){return t=>ui(t.value)||!Zf(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function ax(i){return t=>Zf(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function lx(i){if(!i)return Xf;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(ui(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Xf(i){return null}function Qf(i){return i!=null}function eg(i){return ca(i)?tt(i):i}function tg(i){let t={};return i.forEach(e=>{t=e!=null?D(D({},t),e):t}),Object.keys(t).length===0?null:t}function ng(i,t){return t.map(e=>e(i))}function cx(i){return!i.validate}function ig(i){return i.map(t=>cx(t)?t:e=>t.validate(e))}function rg(i){if(!i)return null;let t=i.filter(Qf);return t.length==0?null:function(e){return tg(ng(e,t))}}function og(i){return i!=null?rg(ig(i)):null}function sg(i){if(!i)return null;let t=i.filter(Qf);return t.length==0?null:function(e){let n=ng(e,t).map(eg);return Mh(n).pipe(ie(tg))}}function ag(i){return i!=null?sg(ig(i)):null}function Hf(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function lg(i){return i._rawValidators}function cg(i){return i._rawAsyncValidators}function iu(i){return i?Array.isArray(i)?i:[i]:[]}function Ya(i,t){return Array.isArray(i)?i.includes(t):i===t}function Uf(i,t){let e=iu(t);return iu(i).forEach(r=>{Ya(e,r)||e.push(r)}),e}function Wf(i,t){return iu(t).filter(e=>!Ya(i,e))}var Ja=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=og(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ag(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Bi=class extends Ja{name;get formDirective(){return null}get path(){return null}},ji=class extends Ja{_parent=null;name=null;valueAccessor=null},Za=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},dx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fO=he(D({},dx),{"[class.ng-submitted]":"isSubmitted"}),Ve=(()=>{class i extends Za{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(k(ji,2))};static \u0275dir=H({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&ve("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[et]})}return i})(),du=(()=>{class i extends Za{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(k(Bi,10))};static \u0275dir=H({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&ve("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[et]})}return i})();var ps="VALID",Ka="INVALID",zr="PENDING",hs="DISABLED",hi=class{},Xa=class extends hi{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ms=class extends hi{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},fs=class extends hi{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Hr=class extends hi{status;source;constructor(t,e){super(),this.status=t,this.source=e}},ru=class extends hi{source;constructor(t){super(),this.source=t}},ou=class extends hi{source;constructor(t){super(),this.source=t}};function dg(i){return(nl(i)?i.validators:i)||null}function ux(i){return Array.isArray(i)?og(i):i||null}function ug(i,t){return(nl(t)?t.asyncValidators:i)||null}function px(i){return Array.isArray(i)?ag(i):i||null}function nl(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function hx(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new De(1e3,"");if(!n[e])throw new De(1001,"")}function mx(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new De(1002,"")})}var Qa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return wn(this.statusReactive)}set status(t){wn(()=>this.statusReactive.set(t))}_status=Oo(()=>this.statusReactive());statusReactive=Nn(void 0);get valid(){return this.status===ps}get invalid(){return this.status===Ka}get pending(){return this.status==zr}get disabled(){return this.status===hs}get enabled(){return this.status!==hs}errors;get pristine(){return wn(this.pristineReactive)}set pristine(t){wn(()=>this.pristineReactive.set(t))}_pristine=Oo(()=>this.pristineReactive());pristineReactive=Nn(!0);get dirty(){return!this.pristine}get touched(){return wn(this.touchedReactive)}set touched(t){wn(()=>this.touchedReactive.set(t))}_touched=Oo(()=>this.touchedReactive());touchedReactive=Nn(!1);get untouched(){return!this.touched}_events=new V;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Uf(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Uf(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Wf(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Wf(t,this._rawAsyncValidators))}hasValidator(t){return Ya(this._rawValidators,t)}hasAsyncValidator(t){return Ya(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(he(D({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new fs(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new fs(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(he(D({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new ms(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new ms(!0,n))}markAsPending(t={}){this.status=zr;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hr(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(he(D({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=hs,this.errors=null,this._forEachChild(r=>{r.disable(he(D({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xa(this.value,n)),this._events.next(new Hr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(D({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ps,this._forEachChild(n=>{n.enable(he(D({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(he(D({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ps||this.status===zr)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xa(this.value,e)),this._events.next(new Hr(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(he(D({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hs:ps}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=zr,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=eg(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Hr(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new j,this.statusChanges=new j}_calculateStatus(){return this._allControlsDisabled()?hs:this.errors?Ka:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zr)?zr:this._anyControlsHaveStatus(Ka)?Ka:ps}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new ms(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new fs(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=ux(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=px(this._rawAsyncValidators)}},gs=class extends Qa{constructor(t,e,n){super(dg(e),ug(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){mx(this,!0,t),Object.keys(t).forEach(n=>{hx(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var il=new B("CallSetDisabledState",{providedIn:"root",factory:()=>rl}),rl="always";function pg(i,t){return[...t.path,i]}function su(i,t,e=rl){uu(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),gx(i,t),bx(i,t),_x(i,t),fx(i,t)}function $f(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),tl(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function el(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function fx(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function uu(i,t){let e=lg(i);t.validator!==null?i.setValidators(Hf(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=cg(i);t.asyncValidator!==null?i.setAsyncValidators(Hf(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();el(t._rawValidators,r),el(t._rawAsyncValidators,r)}function tl(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=lg(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let r=cg(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return el(t._rawValidators,n),el(t._rawAsyncValidators,n),e}function gx(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&hg(i,t)})}function _x(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&hg(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function hg(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function bx(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function vx(i,t){i==null,uu(i,t)}function yx(i,t){return tl(i,t)}function mg(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function wx(i){return Object.getPrototypeOf(i.constructor)===_s}function xx(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function fg(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===$e?e=o:wx(o)?n=o:r=o}),r||n||e||null}function Cx(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function Gf(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function qf(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Hn=class extends Qa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(dg(e),ug(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nl(e)&&(e.nonNullable||e.initialValueIsDefault)&&(qf(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Gf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Gf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){qf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Ex=i=>i instanceof Hn;var Sx={provide:ji,useExisting:It(()=>Ge)},Kf=Promise.resolve(),Ge=(()=>{class i extends ji{_changeDetectorRef;callSetDisabledState;control=new Hn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new j;constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=fg(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),mg(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){su(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Kf.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&ue(n);Kf.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?pg(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(k(Bi,9),k(lu,10),k(cu,10),k(pn,10),k(st,8),k(il,8))};static \u0275dir=H({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[We([Sx]),et,Je]})}return i})(),pu=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})(),kx={provide:pn,useExisting:It(()=>zi),multi:!0},zi=(()=>{class i extends _s{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=H({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&S("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[We([kx]),et]})}return i})();var gg=new B("");var Dx={provide:Bi,useExisting:It(()=>ol)},ol=(()=>{class i extends Bi{callSetDisabledState;get submitted(){return wn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Oo(()=>this._submittedReactive());_submittedReactive=Nn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new j;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return su(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){$f(e.control||null,e,!1),Cx(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),xx(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new ru(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new ou(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&($f(n||null,e),Ex(r)&&(su(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);vx(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&yx(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uu(this.form,this),this._oldForm&&tl(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(n){return new(n||i)(k(lu,10),k(cu,10),k(il,8))};static \u0275dir=H({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&S("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[We([Dx]),et,Je]})}return i})();var Ix={provide:ji,useExisting:It(()=>sl)},sl=(()=>{class i extends ji{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new j;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=fg(this,o)}ngOnChanges(e){this._added||this._setUpControl(),mg(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return pg(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||i)(k(Bi,13),k(lu,10),k(cu,10),k(pn,10),k(gg,8))};static \u0275dir=H({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[We([Ix]),et,Je]})}return i})(),Tx={provide:pn,useExisting:It(()=>Zt),multi:!0};function _g(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Mx(i){return i.split(":")[0]}var Zt=(()=>{class i extends _s{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n=this._getOptionId(e),r=_g(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Mx(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=H({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&S("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[We([Tx]),et]})}return i})(),Pt=(()=>{class i{_element;_renderer;_select;id;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(_g(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(k(ee),k(jt),k(Zt,9))};static \u0275dir=H({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),Ax={provide:pn,useExisting:It(()=>bg),multi:!0};function Yf(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Px(i){return i.split(":")[0]}var bg=(()=>{class i extends _s{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=n.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=Px(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275dir=H({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&S("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[We([Ax]),et]})}return i})(),Ot=(()=>{class i{_element;_renderer;_select;id;_value;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Yf(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Yf(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(k(ee),k(jt),k(bg,9))};static \u0275dir=H({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();var vg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({})}return i})();var fe=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:il,useValue:e.callSetDisabledState??rl}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({imports:[vg]})}return i})(),yg=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:gg,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:il,useValue:e.callSetDisabledState??rl}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({imports:[vg]})}return i})();function hu(i){return i!=null&&`${i}`!="false"}function Hi(i,t=0){return Ox(i)?Number(i):arguments.length===2?t:0}function Ox(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function mi(i){return Array.isArray(i)?i:[i]}function qe(i){return i==null?"":typeof i=="string"?i:`${i}px`}function at(i){return i instanceof ee?i.nativeElement:i}function wg(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var fu;try{fu=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fu=!1}var Ue=(()=>{class i{_platformId=v(Rn);isBrowser=this._platformId?hm(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||fu)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var bs;function Rx(){if(bs==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bs=!0}))}finally{bs=bs||!1}return bs}function Wt(i){return Rx()?i:!!i.capture}var Ui;function gu(){if(Ui==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ui=!1,Ui;if("scrollBehavior"in document.documentElement.style)Ui=!0;else{let i=Element.prototype.scrollTo;i?Ui=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Ui=!1}}return Ui}var mu;function Nx(){if(mu==null){let i=typeof document<"u"?document.head:null;mu=!!(i&&(i.createShadowRoot||i.attachShadow))}return mu}function Ur(i){if(Nx()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function lt(i){return i.composedPath?i.composedPath()[0]:i.target}function _u(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var al=new WeakMap,hn=(()=>{class i{_appRef;_injector=v(Re);_environmentInjector=v(an);load(e){let n=this._appRef=this._appRef||this._injector.get(yn),r=al.get(n);r||(r={loaders:new Set,refs:[]},al.set(n,r),n.onDestroy(()=>{al.get(n)?.refs.forEach(o=>o.destroy()),al.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Dr(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bu=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return i})();var Fx=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var xg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({providers:[Fx]})}return i})();var Cg=new Set,Wi,Lx=(()=>{class i{_platform=v(Ue);_nonce=v(Do,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Bx}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Vx(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Vx(i,t){if(!Cg.has(i))try{Wi||(Wi=document.createElement("style"),t&&Wi.setAttribute("nonce",t),Wi.setAttribute("type","text/css"),document.head.appendChild(Wi)),Wi.sheet&&(Wi.sheet.insertRule(`@media ${i} {body{ }}`,0),Cg.add(i))}catch(e){console.error(e)}}function Bx(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var ll=(()=>{class i{_mediaMatcher=v(Lx);_zone=v(ne);_queries=new Map;_destroySubject=new V;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Eg(mi(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=Eg(mi(e)).map(s=>this._registerQuery(s).observable),o=yr(r);return o=ra(o.pipe(sn(1)),o.pipe(oa(1),Eo(0))),o.pipe(ie(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new fn(s=>{let a=l=>this._zone.run(()=>s.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(_n(n),ie(({matches:s})=>({query:e,matches:s})),ge(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Eg(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var Sg={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Tg=" ";function zx(i,t,e){let n=pl(i,t);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),i.setAttribute(t,n.join(Tg)))}function Hx(i,t,e){let n=pl(i,t);e=e.trim();let r=n.filter(o=>o!==e);r.length?i.setAttribute(t,r.join(Tg)):i.removeAttribute(t)}function pl(i,t){return i.getAttribute(t)?.match(/\S+/g)??[]}var Mg="cdk-describedby-message",cl="cdk-describedby-host",xu=0,Ag=(()=>{class i{_platform=v(Ue);_document=v(q);_messageRegistry=new Map;_messagesContainer=null;_id=`${xu++}`;constructor(){v(hn).load(bu),this._id=v(xr)+"-"+xu++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;let o=vu(n,r);typeof n!="string"?(kg(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;let o=vu(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${cl}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(cl);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let r=this._document.createElement("div");kg(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(vu(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let n=pl(e,"aria-describedby").filter(r=>r.indexOf(Mg)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let r=this._messageRegistry.get(n);zx(e,"aria-describedby",r.messageElement.id),e.setAttribute(cl,this._id),r.referenceCount++}_removeMessageReference(e,n){let r=this._messageRegistry.get(n);r.referenceCount--,Hx(e,"aria-describedby",r.messageElement.id),e.removeAttribute(cl)}_isElementDescribedByMessage(e,n){let r=pl(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function vu(i,t){return typeof i=="string"?`${t||""}/${i}`:i}function kg(i,t){i.id||(i.id=`${Mg}-${t}-${xu++}`)}function vs(i){return i.buttons===0||i.detail===0}function ys(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Ux=new B("cdk-input-modality-detector-options"),Wx={ignoreKeys:[18,17,224,91,16]},Pg=650,Wr=Wt({passive:!0,capture:!0}),$x=(()=>{class i{_platform=v(Ue);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new pt(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=lt(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<Pg||(this._modality.next(vs(e)?"keyboard":"mouse"),this._mostRecentTarget=lt(e))};_onTouchstart=e=>{if(ys(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=lt(e)};constructor(){let e=v(ne),n=v(q),r=v(Ux,{optional:!0});this._options=D(D({},Wx),r),this.modalityDetected=this._modality.pipe(oa(1)),this.modalityChanged=this.modalityDetected.pipe(Gc()),this._platform.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,Wr),n.addEventListener("mousedown",this._onMousedown,Wr),n.addEventListener("touchstart",this._onTouchstart,Wr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wr),document.removeEventListener("mousedown",this._onMousedown,Wr),document.removeEventListener("touchstart",this._onTouchstart,Wr))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Gx=new B("liveAnnouncerElement",{providedIn:"root",factory:qx});function qx(){return null}var Kx=new B("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Yx=0,Og=(()=>{class i{_ngZone=v(ne);_defaultOptions=v(Kx,{optional:!0});_liveElement;_document=v(q);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=v(Gx,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${Yx++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ul=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(ul||{}),Jx=new B("cdk-focus-monitor-default-options"),dl=Wt({passive:!0,capture:!0}),hl=(()=>{class i{_ngZone=v(ne);_platform=v(Ue);_inputModalityDetector=v($x);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=v(q,{optional:!0});_stopInputModalityDetector=new V;constructor(){let e=v(Jx,{optional:!0});this._detectionMode=e?.detectionMode||ul.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=lt(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=at(e);if(!this._platform.isBrowser||r.nodeType!==1)return z();let o=Ur(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;let a={checkChildren:n,subject:new V,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let n=at(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=at(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===ul.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===ul.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Pg:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=lt(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,dl),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,dl)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ge(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dl),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dl),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var $i=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}($i||{}),Dg="cdk-high-contrast-black-on-white",Ig="cdk-high-contrast-white-on-black",yu="cdk-high-contrast-active",Cu=(()=>{class i{_platform=v(Ue);_hasCheckedHighContrastMode;_document=v(q);_breakpointSubscription;constructor(){this._breakpointSubscription=v(ll).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return $i.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return $i.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return $i.BLACK_ON_WHITE}return $i.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(yu,Dg,Ig),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===$i.BLACK_ON_WHITE?e.add(yu,Dg):n===$i.WHITE_ON_BLACK&&e.add(yu,Ig)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rg=(()=>{class i{constructor(){v(Cu)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({imports:[xg]})}return i})(),wu={},Gi=(()=>{class i{_appId=v(xr);getId(e){return this._appId!=="ng"&&(e+=this._appId),wu.hasOwnProperty(e)||(wu[e]=0),`${e}${wu[e]++}`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Zx=new B("cdk-dir-doc",{providedIn:"root",factory:Xx});function Xx(){return v(q)}var Qx=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function eC(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Qx.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var fi=(()=>{class i{value="ltr";change=new j;constructor(){let e=v(Zx,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=eC(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var gi=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({})}return i})();var tC=20,qi=(()=>{class i{_ngZone=v(ne);_platform=v(Ue);_document=v(q,{optional:!0});constructor(){}_scrolled=new V;_globalSubscription=null;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=tC){return this._platform.isBrowser?new fn(n=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(Co(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):z()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(ht(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=at(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return ti(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var nC=20,$r=(()=>{class i{_platform=v(Ue);_listeners;_viewportSize;_change=new V;_document=v(q,{optional:!0});constructor(){let e=v(ne),n=v(Bt).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,a=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(e=nC){return e>0?this._change.pipe(Co(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ws=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({})}return i})(),Eu=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({imports:[gi,ws,gi,ws]})}return i})();var xs=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},_i=class extends xs{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=o}},Gr=class extends xs{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Su=class extends xs{element;constructor(t){super(),this.element=t instanceof ee?t.nativeElement:t}},qr=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof _i)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Gr)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Su)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ml=class extends qr{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,n,r,o){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=r,this._document=o}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get(Jc,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=Dr(t.component,{elementInjector:t.injector||this._defaultInjector||Re.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ku=(()=>{class i extends qr{_moduleRef=v(Jc,{optional:!0});_document=v(q);_viewContainerRef=v(vn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new j;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[et]})}return i})();var Du=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({})}return i})();var Ng=gu(),Iu=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qe(-this._previousScrollPosition.left),t.style.top=qe(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Ng&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ng&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var Tu=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(ht(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},fl=class{enable(){}disable(){}attach(){}};function Mu(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,o=i.right<e.left,s=i.left>e.right;return n||r||o||s})}function Fg(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,o=i.left<e.left,s=i.right>e.right;return n||r||o||s})}var Au=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Mu(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},iC=(()=>{class i{_scrollDispatcher=v(qi);_viewportRuler=v($r);_ngZone=v(ne);_document=v(q);constructor(){}noop=()=>new fl;close=e=>new Tu(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new Iu(this._viewportRuler,this._document);reposition=e=>new Au(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Cs=class{positionStrategy;scrollStrategy=new fl;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var Pu=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var Hg=(()=>{class i{_attachedOverlays=[];_document=v(q);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),rC=(()=>{class i extends Hg{_ngZone=v(ne);_renderer=v(Bt).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),oC=(()=>{class i extends Hg{_platform=v(Ue);_ngZone=v(ne,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(e){if(super.add(e),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=e=>{this._pointerDownEventTarget=lt(e)};_clickListener=e=>{let n=lt(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Lg(a.overlayElement,n)||Lg(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Lg(i,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===i)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Ug=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return i})(),Wg=(()=>{class i{_platform=v(Ue);_containerElement;_document=v(q);_styleLoader=v(hn);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||_u()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(e),_u()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(Ug)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ou=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropElement=null;_backdropTimeout;_backdropClick=new V;_attachments=new V;_detachments=new V;_positionStrategy;_scrollStrategy;_locationChanges=Lt.EMPTY;_cleanupBackdropClick;_cleanupBackdropTransitionEnd;_previousHostParent;_keydownEvents=new V;_outsidePointerEvents=new V;_renders=new V;_afterRenderRef;_afterNextRenderRef;constructor(t,e,n,r,o,s,a,l,c,d=!1,p,f){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=p,this._renderer=f,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=wn(()=>Hh(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=bn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=D(D({},this._config),t),this._updateElementSize()}setDirection(t){this._config=he(D({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=qe(this._config.width),t.height=qe(this._config.height),t.minWidth=qe(this._config.minWidth),t.minHeight=qe(this._config.minHeight),t.maxWidth=qe(this._config.maxWidth),t.maxHeight=qe(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._cleanupBackdropClick?.(),this._cleanupBackdropClick=this._renderer.listen(this._backdropElement,"click",e=>this._backdropClick.next(e)),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{this._cleanupBackdropTransitionEnd?.(),this._cleanupBackdropTransitionEnd=this._renderer.listen(t,"transitionend",e=>{this._disposeBackdrop(e.target)})}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){let r=mi(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(ge(gn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){this._cleanupBackdropClick?.(),this._cleanupBackdropTransitionEnd?.(),t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Vg="cdk-overlay-connected-position-bounding-box",sC=/([A-Za-z%]+)$/,Ru=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new V;_resizeSubscription=Lt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Vg),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ki(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Vg),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:a}e.left<0&&(r-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){let o=jg(e),{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,p=s+o.width-n.width,f=0-a,g=a+o.height-n.height,_=this._subtractOverflows(o.width,d,p),x=this._subtractOverflows(o.height,f,g),E=_*x;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:_==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,o=n.right-e.x,s=Bg(this._overlayRef.getConfig().minHeight),a=Bg(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,c=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=jg(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0),d=0,p=0;return r.width<=o.width?d=c||-s:d=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?p=l||-a:p=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:p},{x:t.x+d,y:t.y+p}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!aC(this._lastScrollVisibility,n)){let r=new Pu(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(e.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=n.height-t.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let g=Math.min(n.bottom-t.y+n.top,t.y),_=this._lastBoundingBoxSize.height;o=g*2,s=t.y-g,o>_&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-_/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,p,f;if(c)f=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)p=t.x,d=n.right-t.x;else{let g=Math.min(n.right-t.x+n.left,t.x),_=this._lastBoundingBoxSize.width;d=g*2,p=t.x-g,d>_&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-_/2)}return{top:s,left:p,bottom:a,right:f,width:d,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=qe(n.height),r.top=qe(n.top),r.bottom=qe(n.bottom),r.width=qe(n.width),r.left=qe(n.left),r.right=qe(n.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=qe(o)),s&&(r.maxWidth=qe(s))}this._lastBoundingBoxSize=n,Ki(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ki(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ki(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Ki(n,this._getExactOverlayY(e,t,d)),Ki(n,this._getExactOverlayX(e,t,d))}else n.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=qe(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=qe(s.maxWidth):o&&(n.maxWidth="")),Ki(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=qe(o.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=qe(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Fg(t,n),isOriginOutsideView:Mu(t,n),isOverlayClipped:Fg(e,n),isOverlayOutsideView:Mu(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&mi(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof ee)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}};function Ki(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function Bg(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(sC);return!e||e==="px"?parseFloat(t):null}return i||null}function jg(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function aC(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var zg="cdk-global-overlay-wrapper",Nu=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(zg),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,p=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",g="",_="",x="";l?x="flex-start":d==="center"?(x="center",f?_=p:g=p):f?d==="left"||d==="end"?(x="flex-end",g=p):(d==="right"||d==="start")&&(x="flex-start",_=p):d==="left"||d==="start"?(x="flex-start",g=p):(d==="right"||d==="end")&&(x="flex-end",_=p),t.position=this._cssPosition,t.marginLeft=l?"0":g,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":_,e.justifyContent=x,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(zg),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},lC=(()=>{class i{_viewportRuler=v($r);_document=v(q);_platform=v(Ue);_overlayContainer=v(Wg);constructor(){}global(){return new Nu}flexibleConnectedTo(e){return new Ru(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Un=(()=>{class i{scrollStrategies=v(iC);_overlayContainer=v(Wg);_positionBuilder=v(lC);_keyboardDispatcher=v(rC);_injector=v(Re);_ngZone=v(ne);_document=v(q);_directionality=v(fi);_location=v(Oi);_outsideClickDispatcher=v(oC);_animationsModuleType=v(xt,{optional:!0});_idGenerator=v(Gi);_renderer=v(Bt).createRenderer(null,null);_appRef;_styleLoader=v(hn);constructor(){}create(e){this._styleLoader.load(Ug);let n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new Cs(e);return s.direction=s.direction||this._directionality.value,new Ou(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(an),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(yn)),new ml(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var cC=new B("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=v(Un);return()=>i.scrollStrategies.reposition()}});function dC(i){return()=>i.scrollStrategies.reposition()}var uC={provide:cC,deps:[Un],useFactory:dC},Fu=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({providers:[Un,uC],imports:[gi,Du,Eu,Eu]})}return i})();var Kr=(()=>{class i{constructor(){v(Cu)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({imports:[gi,gi]})}return i})();var Xg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return i})();var Qt=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Qt||{}),Bu=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Qt.HIDDEN;constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},$g=Wt({passive:!0,capture:!0}),ju=class{_events=new Map;addHandler(t,e,n,r){let o=this._events.get(e);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,$g)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,$g)))}_delegateEventHandler=t=>{let e=lt(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}},_l={enterDuration:225,exitDuration:150},pC=800,Gg=Wt({passive:!0,capture:!0}),qg=["mousedown","touchstart"],Kg=["mouseup","mouseleave","touchend","touchcancel"],hC=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return i})(),zu=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new ju;constructor(t,e,n,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=at(n)),o&&o.get(hn).load(hC)}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=D(D({},_l),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let s=n.radius||mC(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),f=p.transitionProperty,g=p.transitionDuration,_=f==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,x=new Bu(this,d,n,_);d.style.transform="scale3d(1, 1, 1)",x.state=Qt.FADING_IN,n.persistent||(this._mostRecentTransientRipple=x);let E=null;return!_&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let O=()=>{E&&(E.fallbackTimer=null),clearTimeout(Z),this._finishRippleTransition(x)},le=()=>this._destroyRipple(x),Z=setTimeout(le,c+100);d.addEventListener("transitionend",O),d.addEventListener("transitioncancel",le),E={onTransitionEnd:O,onTransitionCancel:le,fallbackTimer:Z}}),this._activeRipples.set(x,E),(_||!c)&&this._finishRippleTransition(x),x}fadeOutRipple(t){if(t.state===Qt.FADING_OUT||t.state===Qt.HIDDEN)return;let e=t.element,n=D(D({},_l),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=Qt.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=at(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,qg.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Kg.forEach(e=>{this._triggerElement.addEventListener(e,this,Gg)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Qt.FADING_IN?this._startFadeOutTransition(t):t.state===Qt.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=Qt.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Qt.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=vs(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+pC;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ys(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Qt.VISIBLE||t.config.terminateOnPointerUp&&t.state===Qt.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(qg.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Kg.forEach(e=>t.removeEventListener(e,this,Gg)),this._pointerUpEventsRegistered=!1))}};function mC(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var fC=new B("mat-ripple-global-options");var Yg={capture:!0},Jg=["focus","mousedown","mouseenter","touchstart"],Lu="mat-ripple-loader-uninitialized",Vu="mat-ripple-loader-class-name",Zg="mat-ripple-loader-centered",gl="mat-ripple-loader-disabled",Qg=(()=>{class i{_document=v(q,{optional:!0});_animationMode=v(xt,{optional:!0});_globalRippleOptions=v(fC,{optional:!0});_platform=v(Ue);_ngZone=v(ne);_injector=v(Re);_hosts=new Map;constructor(){this._ngZone.runOutsideAngular(()=>{for(let e of Jg)this._document?.addEventListener(e,this._onInteraction,Yg)})}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);for(let n of Jg)this._document?.removeEventListener(n,this._onInteraction,Yg)}configureRipple(e,n){e.setAttribute(Lu,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(Vu))&&e.setAttribute(Vu,n.className||""),n.centered&&e.setAttribute(Zg,""),n.disabled&&e.setAttribute(gl,"")}setDisabled(e,n){let r=this._hosts.get(e);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):n?e.setAttribute(gl,""):e.removeAttribute(gl)}_onInteraction=e=>{let n=lt(e);if(n instanceof HTMLElement){let r=n.closest(`[${Lu}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(Vu)),e.append(n);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=r?0:o?.animation?.enterDuration??_l.enterDuration,a=r?0:o?.animation?.exitDuration??_l.exitDuration,l={rippleDisabled:r||o?.disabled||e.hasAttribute(gl),rippleConfig:{centered:e.hasAttribute(Zg),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},c=new zu(l,this._ngZone,n,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(Lu)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var _C=["tooltip"],n_=20;var i_=new B("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=v(Un);return()=>i.scrollStrategies.reposition({scrollThrottle:n_})}});function bC(i){return()=>i.scrollStrategies.reposition({scrollThrottle:n_})}var vC={provide:i_,deps:[Un],useFactory:bC};function yC(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var wC=new B("mat-tooltip-default-options",{providedIn:"root",factory:yC});var e_="tooltip-panel",t_=Wt({passive:!0}),xC=8,CC=8,EC=24,SC=200,r_=(()=>{class i{_overlay=v(Un);_elementRef=v(ee);_scrollDispatcher=v(qi);_viewContainerRef=v(vn);_ngZone=v(ne);_platform=v(Ue);_ariaDescriber=v(Ag);_focusMonitor=v(hl);_dir=v(fi);_injector=v(Re);_defaultOptions=v(wC,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_scrollStrategy=v(i_);_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=kC;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=hu(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=hu(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Hi(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Hi(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_document=v(q);_touchstartTimeout=null;_destroyed=new V;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._dir.change.pipe(ge(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=xC}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ge(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,t_)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new _i(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(ge(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof ee)return this._overlayRef;this._detach()}let n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(ge(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${e_}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ge(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ge(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ge(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!wg(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(D(D({},r.main),o.main)),this._addOffset(D(D({},r.fallback),o.fallback))])}_addOffset(e){let n=CC,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=r?-n:n:e.originX==="end"&&(e.offsetX=r?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),bn(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:r,originY:o}=e,s;if(n==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=n==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${e_}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,t_)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,r=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&ve("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),kC=(()=>{class i{_changeDetectorRef=v(st);_elementRef=v(ee);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new V;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=v(xt,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>EC&&e.width>=SC}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(n);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&Oe(_C,7),n&2){let o;re(o=oe())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){n&1&&S("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(n&1){let o=Y();u(0,"div",1,0),S("animationend",function(a){return I(o),T(r._handleAnimationEnd(a))}),u(2,"div",2),b(3),h()()}n&2&&(ve("mdc-tooltip--multiline",r._isMultiline),y("ngClass",r.tooltipClass),m(3),N(r.message))},dependencies:[Ie],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return i})();var o_=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({providers:[vC],imports:[Rg,Fu,Kr,Kr,ws]})}return i})();function IC(i,t){if(i&1&&(u(0,"div",10),ae(),u(1,"svg",11),w(2,"path",12),h()()),i&2){let e=C();y("matTooltip",e.warning_str)}}var bl=class i{constructor(t){this.router=t}fetching=!0;showMenu=!0;spawn_warning=!1;warning_str="";empl_data;empl_name="";empl_jobcode="";office_name="";arr_warning=[];ngOnInit(){return F(this,null,function*(){this.initLoad()})}initLoad(){return F(this,null,function*(){yield this.fetch_user_data(),this.fetching=!1})}fetch_user_data(){return F(this,null,function*(){var t=localStorage.getItem("user_dtl"),e=JSON.parse(t).data[0];console.log(e),this.empl_data=e,this.empl_name=e.EMPL_NAME,this.empl_jobcode=e.JOB_DESCRIPTION,this.office_name=e.NAME_SHORT,this.f_email_check(),this.f_warning_check()})}f_email_check(){this.empl_data.email||this.arr_warning.push("+ User belum mengisi email")}signOut(){localStorage.clear(),this.router.navigate(["/login"])}go_to_profile(){this.router.navigate(["/profile"])}f_warning_check(){this.arr_warning.length>0?(this.warning_str=this.arr_warning.join(`
`),this.spawn_warning=!0):(this.warning_str="",this.spawn_warning=!1)}static \u0275fac=function(e){return new(e||i)(k(xe))};static \u0275cmp=R({type:i,selectors:[["app-c-navtop"]],decls:17,vars:4,consts:[[1,"flex","flex-row","justify-between","w-full","p-4","py-2","border-[#b8aa5f]","border-b-2","drop-shadow-md","text-xs","z-10"],[1,"flex","flex-row","items-center","py-1","ml-4"],["class","mr-2 fill-red-800 ","matTooltipClass","mat-tooltip",3,"matTooltip",4,"ngIf"],["id","dropdownAvatarNameButton","data-dropdown-toggle","dropdownAvatarName",1,"flex","flex-row","items-center",3,"click"],[1,"w-8","h-8","border-2","border-[#bbb]","rounded-full","mr-4","overflow-hidden"],["src","assets/img/profile_default.png"],[1,"flex","flex-col","w-fit","pr-4","transition-all"],[1,"text-start"],[1,"flex","flex-row","items-center"],[1,"mx-2","w-2","h-2","bg-[#b8aa5f]","rounded-full"],["matTooltipClass","mat-tooltip",1,"mr-2","fill-red-800",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 256 256"],["d","M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"div"),u(2,"div",1),M(3,IC,3,1,"div",2),u(4,"div")(5,"button",3),S("click",function(){return n.go_to_profile()}),u(6,"div",4),w(7,"img",5),h(),u(8,"div",6)(9,"p",7),b(10),h(),u(11,"div",8)(12,"p"),b(13),h(),w(14,"div",9),u(15,"p"),b(16),h()()()()()()()),e&2&&(m(3),y("ngIf",n.spawn_warning),m(7),N(n.empl_name),m(3),N(n.empl_jobcode),m(3),N(n.office_name))},dependencies:[te,Ce,fe,o_,r_],encapsulation:2})};function TC(i,t){i&1&&(u(0,"div",3),w(1,"app-navleft"),u(2,"div",4),w(3,"app-c-navtop"),u(4,"div",5),w(5,"router-outlet"),h()()())}function MC(i,t){i&1&&(u(0,"div",6),b(1," loading "),h())}var vl=class i{fetching=!0;user_data;fetch_user_data(){return F(this,null,function*(){yield new Promise((t,e)=>{setTimeout(()=>{this.user_data={empl_code:"71005122",empl_name:"Muhammad Ramzy",function_id:"IT",office_code:"904",office_name:"Depok"},localStorage.setItem("token",this.user_data),t()},1500)})})}ngOnInit(){return F(this,null,function*(){this.fetching=!0,console.log(this.user_data),yield this.fetch_user_data(),console.log(this.user_data),this.fetching=!1})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-layout"]],decls:3,vars:2,consts:[[1,"h-screen"],["class","h-full flex flex-row",4,"ngIf"],["class","h-full w-screen flex items-center justify-center",4,"ngIf"],[1,"h-full","flex","flex-row"],[1,"flex","flex-col","h-full","w-full"],[1,"flex-grow","w-full","pt-6","px-6","overflow-auto"],[1,"h-full","w-screen","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0),M(1,TC,6,0,"div",1)(2,MC,2,0,"div",2),h()),e&2&&(m(),y("ngIf",!n.fetching),m(),y("ngIf",n.fetching))},dependencies:[te,Ce,qa,Ga,ls,bl],encapsulation:2})};var yl=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-home"]],decls:4,vars:0,consts:[[1,"flex-grow"],[1,"text-xl"],[1,""]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"p",2),b(3,"Selamat Datang,"),h()()())},encapsulation:2})};function C_(i){let t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return n==="canvas"?l_(i,t):(n==="input"||n==="select"||n==="textarea")&&a_(i,t),s_("canvas",i,t,l_),s_("input, textarea, select",i,t,a_),t}function s_(i,t,e,n){let r=t.querySelectorAll(i);if(r.length){let o=e.querySelectorAll(i);for(let s=0;s<r.length;s++)n(r[s],o[s])}}var AC=0;function a_(i,t){t.type!=="file"&&(t.value=i.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${AC++}`)}function l_(i,t){let e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}function Ku(i){let t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Uu(i,t,e){let{top:n,bottom:r,left:o,right:s}=i;return e>=n&&e<=r&&t>=o&&t<=s}function Ss(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function c_(i,t,e,n){let{top:r,right:o,bottom:s,left:a,width:l,height:c}=i,d=l*t,p=c*t;return n>r-p&&n<s+p&&e>a-d&&e<o+d}var Cl=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Ku(e)})})}handleScroll(t){let e=lt(t),n=this.positions.get(e);if(!n)return null;let r=n.scrollPosition,o,s;if(e===this._document){let c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=e.scrollTop,s=e.scrollLeft;let a=r.top-o,l=r.left-s;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&Ss(c.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function E_(i,t){let e=i.rootNodes;if(e.length===1&&e[0].nodeType===t.ELEMENT_NODE)return e[0];let n=t.createElement("div");return e.forEach(r=>n.appendChild(r)),n}function Yu(i,t,e){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];r?i.setProperty(n,r,e?.has(n)?"important":""):i.removeProperty(n)}return i}function Yr(i,t){let e=t?"":"none";Yu(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function d_(i,t,e){Yu(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function El(i,t){return t&&t!="none"?i+" "+t:i}function u_(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=Sl(t.left,t.top)}function Sl(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function p_(i){let t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function PC(i){let t=getComputedStyle(i),e=Hu(t,"transition-property"),n=e.find(a=>a==="transform"||a==="all");if(!n)return 0;let r=e.indexOf(n),o=Hu(t,"transition-duration"),s=Hu(t,"transition-delay");return p_(o[r])+p_(s[r])}function Hu(i,t){return i.getPropertyValue(t).split(",").map(n=>n.trim())}var OC=new Set(["position"]),Wu=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,e,n,r,o,s,a,l,c,d){this._document=t,this._rootElement=e,this._direction=n,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=d}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),h_(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return PC(this._preview)}addEventListener(t,e){return this._renderer.listen(this._preview,t,e)}_createPreview(){let t=this._previewTemplate,e=this._previewClass,n=t?t.template:null,r;if(n&&t){let o=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(n,t.context);s.detectChanges(),r=E_(s,this._document),this._previewEmbeddedView=s,t.matchSize?u_(r,o):r.style.transform=Sl(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=C_(this._rootElement),u_(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Yu(r.style,{"pointer-events":"none",margin:h_(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},OC),Yr(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function h_(i){return"showPopover"in i}var m_=Wt({passive:!0}),wl=Wt({passive:!1}),f_=Wt({passive:!1,capture:!0}),RC=800,g_=new Set(["position"]),$u=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Nn(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new V;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Lt.EMPTY;_pointerUpSubscription=Lt.EMPTY;_scrollSubscription=Lt.EMPTY;_resizeSubscription=Lt.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Yr(e,t)))}_disabled=!1;beforeStarted=new V;started=new V;released=new V;ended=new V;entered=new V;exited=new V;dropped=new V;moved=this._moveEvents;data;constrainPosition;constructor(t,e,n,r,o,s,a){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new Cl(n),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>at(n)),this._handles.forEach(n=>Yr(n,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let e=at(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,wl),e.addEventListener("touchstart",this._pointerDown,m_),e.addEventListener("dragstart",this._nativeDragStart,wl)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?at(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Yr(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Yr(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",b_,f_)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),l=this._dropContainer;if(!a){this._endDragSequence(t);return}(!l||!l.isDragging()&&!l.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=n.x-r.x+this._passiveTransform.x,o.y=n.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Es(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),n=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",b_,f_)}),n){let r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new Wu(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),d_(r,!1,g_),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:t}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();let n=this.isDragging(),r=Es(e),o=!r&&e.button!==0,s=this._rootElement,a=lt(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+RC>Date.now(),c=r?ys(e):vs(e);if(a&&a.draggable&&e.type==="mousedown"&&e.preventDefault(),n||o||l||c)return;if(this._handles.length){let f=s.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=Ku(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);let p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){d_(this._rootElement,!0,g_),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),e.drop(this,n,this._initialIndex,this._initialContainer,s,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let r=a=>{(!a||this._preview&&lt(a)===this._preview.element&&a.propertyName==="transform")&&(s(),n(),clearTimeout(o))},o=setTimeout(r,e*1.5),s=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,e=t?t.template:null,n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=E_(this._placeholderRef,this._document)):n=C_(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e,n){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,s=Es(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),l=s.pageX-o.left-a.left,c=s.pageY-o.top-a.top;return{x:o.left-t.left+l,y:o.top-t.top+c}}_getPointerPositionOnPage(t){let e=this._getViewportScrollPosition(),n=Es(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,o=n.pageY-e.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+s,p=a.bottom-(c-s),f=a.left+o,g=a.right-(l-o);n=__(n,f,g),r=__(r,d,p)}return{x:n,y:r}}_updatePointerDirectionDelta(t){let{x:e,y:n}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),a=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>o.y?1:-1,o.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Yr(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,wl),t.removeEventListener("touchstart",this._pointerDown,m_),t.removeEventListener("dragstart",this._nativeDragStart,wl)}_applyRootElementTransform(t,e){let n=1/this.scale,r=Sl(t*n,e*n),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=El(r,this._initialTransform)}_applyPreviewTransform(t,e){let n=this._previewTemplate?.template?void 0:this._initialTransform,r=Sl(t,e);this._preview.setTransform(El(r,n))}_getDragDistance(t){let e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(t===0&&e===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||n.width===0&&n.height===0)return;let o=r.left-n.left,s=n.right-r.right,a=r.top-n.top,l=n.bottom-r.bottom;r.width>n.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>n.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){let e=this.dragStartDelay;return typeof e=="number"?e:Es(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){let e=this._parentPositions.handleScroll(t);if(e){let n=lt(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Ss(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Ur(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){let n=this._previewContainer||"global";if(n==="parent")return t;if(n==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return at(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}};function __(i,t,e){return Math.max(t,Math.min(e,i))}function Es(i){return i.type[0]==="t"}function b_(i){i.preventDefault()}function Jr(i,t,e){let n=v_(t,i.length-1),r=v_(e,i.length-1);if(n===r)return;let o=i[n],s=r<n?-1:1;for(let a=n;a!==r;a+=s)i[a]=i[a+s];i[r]=o}function v_(i,t){return Math.max(0,Math.min(t,i))}var kl=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,e,n,r){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",l=o.findIndex(E=>E.drag===t),c=o[s],d=o[l].clientRect,p=c.clientRect,f=l>s?1:-1,g=this._getItemOffsetPx(d,p,f),_=this._getSiblingOffsetPx(l,o,f),x=o.slice();return Jr(o,l,s),o.forEach((E,O)=>{if(x[O]===E)return;let le=E.drag===t,Z=le?g:_,Ke=le?t.getPlaceholderElement():E.drag.getRootElement();E.offset+=Z;let Ye=Math.round(E.offset*(1/E.drag.scale));a?(Ke.style.transform=El(`translate3d(${Ye}px, 0, 0)`,E.initialTransform),Ss(E.clientRect,0,Z)):(Ke.style.transform=El(`translate3d(0, ${Ye}px, 0)`,E.initialTransform),Ss(E.clientRect,Z,0))}),this._previousSwap.overlaps=Uu(p,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(t,e,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,n):r,s=this._activeDraggables,a=s.indexOf(t),l=t.getPlaceholderElement(),c=s[o];if(c===t&&(c=s[o+1]),!c&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),s.splice(o,0,t)}else this._element.appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let e=t.getRootElement();if(e){let n=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:n})=>{Ss(n,t,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:Ku(n)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getItemOffsetPx(t,e,n){let r=this.orientation==="horizontal",o=r?e.left-t.left:e.top-t.top;return n===-1&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,n){let r=this.orientation==="horizontal",o=e[t].clientRect,s=e[t+n*-1],a=o[r?"width":"height"]*n;if(s){let l=r?"left":"top",c=r?"right":"bottom";n===-1?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,r=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let s=n[n.length-1].clientRect;return r?t>=s.right:e>=s.bottom}else{let s=n[0].clientRect;return r?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,n,r){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(r){let c=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,t)?-1:s}},Gu=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,e){this._document=t,this._dragDropRegistry=e}start(t){let e=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<e.length;n++){let r=e[n];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,e,n,r){let o=this._getItemIndexFromPointerPosition(t,e,n),s=this._previousSwap;if(o===-1||this._activeItems[o]===t)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),d=a.getRootElement();o>l?d.after(c):d.before(c),Jr(this._activeItems,l,o);let p=this._getRootNode().elementFromPoint(e,n);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=d===p||d.contains(p),{previousIndex:l,currentIndex:o}}enter(t,e,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,n):r;o===-1&&(o=this._getClosestItemIndexToPointer(t,e,n));let s=this._activeItems[o],a=this._activeItems.indexOf(t);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,t),s.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,e=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[r,o]=this._relatedNodes[n];r.parentNode===t&&r.nextSibling!==o&&(o===null?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,n){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(n)),o=r?this._activeItems.findIndex(s=>{let a=s.getRootElement();return r===a||a.contains(r)}):-1;return o===-1||!this._sortPredicate(o,t)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Ur(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==t){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(e-l,n-c);d<r&&(r=d,o=s)}}return o}},y_=.05,S_=.05,en=function(i){return i[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i}(en||{}),Ct=function(i){return i[i.NONE=0]="NONE",i[i.LEFT=1]="LEFT",i[i.RIGHT=2]="RIGHT",i}(Ct||{}),qu=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new V;entered=new V;exited=new V;dropped=new V;sorted=new V;receivingStarted=new V;receivingStopped=new V;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Lt.EMPTY;_verticalScrollDirection=en.NONE;_horizontalScrollDirection=Ct.NONE;_scrollNode;_stopScrollTimers=new V;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,e,n,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let s=this.element=at(t);this._document=n,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new Cl(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,o,s,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(t){let e=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>t.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof kl&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new Gu(this._document,this._dragDropRegistry);else{let e=new kl(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,n)=>this.sortPredicate(e,n,this)),this}withScrollableParents(t){let e=this._container;return this._scrollableElements=t.indexOf(e)===-1?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let e=at(this.element),n=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return n>-1&&this._scrollableElements.splice(n,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._domRect||!c_(this._domRect,y_,e,n))return;let o=this._sortStrategy.sort(t,e,n,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=en.NONE,o=Ct.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||n||c_(s.clientRect,y_,t,e)&&([r,o]=NC(a,s.clientRect,this._direction,t,e),(r||o)&&(n=a))}),!r&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=k_(l,e),o=D_(l,t),n=window}n&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Ah(0,yo).pipe(ge(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===en.UP?t.scrollBy(0,-e):this._verticalScrollDirection===en.DOWN&&t.scrollBy(0,e),this._horizontalScrollDirection===Ct.LEFT?t.scrollBy(-e,0):this._horizontalScrollDirection===Ct.RIGHT&&t.scrollBy(e,0)})};_isOverContainer(t,e){return this._domRect!=null&&Uu(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._domRect||!Uu(this._domRect,e,n)||!this.enterPredicate(t,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,n);return r?r===this._container||this._container.contains(r):!1}_startReceiving(t,e){let n=this._activeSiblings;!n.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=Ur(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}};function k_(i,t){let{top:e,bottom:n,height:r}=i,o=r*S_;return t>=e-o&&t<=e+o?en.UP:t>=n-o&&t<=n+o?en.DOWN:en.NONE}function D_(i,t){let{left:e,right:n,width:r}=i,o=r*S_;return t>=e-o&&t<=e+o?Ct.LEFT:t>=n-o&&t<=n+o?Ct.RIGHT:Ct.NONE}function NC(i,t,e,n,r){let o=k_(t,r),s=D_(t,n),a=en.NONE,l=Ct.NONE;if(o){let c=i.scrollTop;o===en.UP?c>0&&(a=en.UP):i.scrollHeight-c>i.clientHeight&&(a=en.DOWN)}if(s){let c=i.scrollLeft;e==="rtl"?s===Ct.RIGHT?c<0&&(l=Ct.RIGHT):i.scrollWidth+c>i.clientWidth&&(l=Ct.LEFT):s===Ct.LEFT?c>0&&(l=Ct.LEFT):i.scrollWidth-c>i.clientWidth&&(l=Ct.RIGHT)}return[a,l]}var xl=Wt({passive:!1,capture:!0}),FC=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(n,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return i})(),I_=(()=>{class i{_ngZone=v(ne);_document=v(q);_styleLoader=v(hn);_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Nn([]);_globalListeners=new Map;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new V;pointerUp=new V;scroll=new V;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,xl)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,xl)}startDragging(e,n){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(FC),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=n.type.startsWith("touch"),o={handler:s=>this.pointerUp.next(s),options:!0};r?(this._globalListeners.set("touchend",o),this._globalListeners.set("touchcancel",o)):this._globalListeners.set("mouseup",o),this._globalListeners.set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:xl}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:xl}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(e){this._activeDragInstances.update(n=>{let r=n.indexOf(e);return r>-1?(n.splice(r,1),[...n]):n}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let n=[this.scroll];return e&&e!==this._document&&n.push(new fn(r=>this._ngZone.runOutsideAngular(()=>{let s=a=>{this._activeDragInstances().length&&r.next(a)};return e.addEventListener("scroll",s,!0),()=>{e.removeEventListener("scroll",s,!0)}}))),gn(...n)}registerDirectiveNode(e,n){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,n)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),LC={dragStartThreshold:5,pointerDirectionChangeThreshold:5},T_=(()=>{class i{_document=v(q);_ngZone=v(ne);_viewportRuler=v($r);_dragDropRegistry=v(I_);_renderer=v(Bt).createRenderer(null,null);constructor(){}createDrag(e,n=LC){return new $u(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new qu(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),w_=new B("CDK_DRAG_PARENT");var VC=new B("CdkDragHandle");var M_=new B("CDK_DRAG_CONFIG"),A_=new B("CdkDropList"),P_=(()=>{class i{element=v(ee);dropContainer=v(A_,{optional:!0,skipSelf:!0});_ngZone=v(ne);_viewContainerRef=v(vn);_dir=v(fi,{optional:!0});_changeDetectorRef=v(st);_selfHandle=v(VC,{optional:!0,self:!0});_parentDrag=v(w_,{optional:!0,skipSelf:!0});_dragDropRegistry=v(I_);_destroyed=new V;_handles=new pt([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new j;released=new j;ended=new j;entered=new j;exited=new j;dropped=new j;moved=new fn(e=>{let n=this._dragRef.moved.pipe(ie(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{n.unsubscribe()}});_injector=v(Re);constructor(){let e=this.dropContainer,n=v(M_,{optional:!0}),r=v(T_);this._dragRef=r.createDrag(this.element,{dragStartThreshold:n&&n.dragStartThreshold!=null?n.dragStartThreshold:5,pointerDirectionChangeThreshold:n&&n.pointerDirectionChangeThreshold!=null?n.pointerDirectionChangeThreshold:5,zIndex:n?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),n&&this._assignDefaults(n),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(ge(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){bn(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let n=e.rootElementSelector,r=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let n=this._handles.getValue();n.push(e),this._handles.next(n)}_removeHandle(e){let n=this._handles.getValue(),r=n.indexOf(e);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,n=e;this.rootElementSelector&&(n=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):at(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let n=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:Hi(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe(sn(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let n=this.element.nativeElement.parentElement;for(;n;){let r=this._dragDropRegistry.getDragDirectiveForNode(n);if(r){e.withParent(r._dragRef);break}n=n.parentElement}})}_handleEvents(e){e.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(e){let{lockAxis:n,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=e;this.disabled=l??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(je(e=>{let n=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),mt(e=>gn(...e.map(n=>n._stateChanges.pipe(_n(n))))),ge(this._destroyed)).subscribe(e=>{let n=this._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){n&2&&ve("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",ue],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Yt]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[We([{provide:w_,useExisting:i}]),Ze,Je]})}return i})(),x_=new B("CdkDropListGroup");var O_=(()=>{class i{element=v(ee);_changeDetectorRef=v(st);_scrollDispatcher=v(qi);_dir=v(fi,{optional:!0});_group=v(x_,{optional:!0,skipSelf:!0});_destroyed=new V;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=v(Gi).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new j;entered=new j;exited=new j;sorted=new j;_unsortedItems=new Set;constructor(){let e=v(T_),n=v(M_,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,n&&this._assignDefaults(n),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,s)=>this.sortPredicate(r,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,n)=>e._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(_n(this._dir.value),ge(this._destroyed)).subscribe(n=>e.withDirection(n)),e.beforeStarted.subscribe(()=>{let n=mi(this.connectedTo).map(r=>{if(typeof r=="string"){let o=i._dropLists.find(s=>s.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{n.indexOf(r)===-1&&n.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(r)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Hi(this.autoScrollStep,2),e.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),gn(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:n,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){n&2&&(Le("id",r.id),ve("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",ue],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",ue],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",ue],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[We([{provide:x_,useValue:void 0},{provide:A_,useExisting:i}]),Ze]})}return i})();var J={env_dev:{host:"http://127.0.0.1:4026"}};function bi(){let i=localStorage.getItem("user_dtl");if(i)return JSON.parse(i).data[0].EMPL_CODE}function Ee(){let i=localStorage.getItem("user_dtl"),t=JSON.parse(i).data[0];if(t)return t}var BC=["content"],jC=["scroll"],zC=["padding"],F_=["*"],Ds=i=>({searchTerm:i});function HC(i,t){if(i&1&&(u(0,"div",3),Fn(1,6),h()),i&2){let e=C();m(),y("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Ne(2,Ds,e.filterValue))}}function UC(i,t){if(i&1&&(u(0,"div",5),Fn(1,6),h()),i&2){let e=C();m(),y("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",Ne(2,Ds,e.filterValue))}}var WC=["searchInput"],$C=["clearButton"],GC=(i,t,e)=>({item:i,clear:t,label:e}),qC=(i,t)=>({items:i,clear:t}),KC=(i,t,e,n)=>({item:i,item$:t,index:e,searchTerm:n});function YC(i,t){if(i&1&&(u(0,"div",20),b(1),h()),i&2){let e=C(2);m(),N(e.placeholder)}}function JC(i,t){}function ZC(i,t){if(i&1&&M(0,YC,2,1,"ng-template",null,1,cn)(2,JC,0,0,"ng-template",19),i&2){let e=Tt(1),n=C();m(2),y("ngTemplateOutlet",n.placeholderTemplate||e)}}function XC(i,t){if(i&1){let e=Y();u(0,"span",23),S("click",function(){I(e);let r=C().$implicit,o=C(2);return T(o.unselect(r))}),b(1,"\xD7"),h(),w(2,"span",24)}if(i&2){let e=C().$implicit,n=C(2);m(2),y("ngItemLabel",e.label)("escape",n.escapeHTML)}}function QC(i,t){}function eE(i,t){if(i&1&&(u(0,"div",22),M(1,XC,3,2,"ng-template",null,2,cn)(3,QC,0,0,"ng-template",12),h()),i&2){let e=t.$implicit,n=Tt(2),r=C(2);ve("ng-value-disabled",e.disabled),m(3),y("ngTemplateOutlet",r.labelTemplate||n)("ngTemplateOutletContext",Vn(4,GC,e.value,r.clearItem,e.label))}}function tE(i,t){if(i&1&&ed(0,eE,4,8,"div",21,Qc().trackByOption,!0),i&2){let e=C();td(e.selectedItems)}}function nE(i,t){}function iE(i,t){if(i&1&&M(0,nE,0,0,"ng-template",12),i&2){let e=C();y("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",ze(2,qC,e.selectedValues,e.clearItem))}}function rE(i,t){i&1&&w(0,"div",25)}function oE(i,t){}function sE(i,t){if(i&1&&M(0,rE,1,0,"ng-template",null,3,cn)(2,oE,0,0,"ng-template",19),i&2){let e=Tt(1),n=C();m(2),y("ngTemplateOutlet",n.loadingSpinnerTemplate||e)}}function aE(i,t){if(i&1&&(u(0,"span",15,4)(2,"span",26),b(3,"\xD7"),h()()),i&2){let e=C();ua("title",e.clearAllText)}}function lE(i,t){if(i&1&&w(0,"span",31),i&2){let e=C().$implicit,n=C(2);y("ngItemLabel",e.label)("escape",n.escapeHTML)}}function cE(i,t){}function dE(i,t){if(i&1){let e=Y();u(0,"div",30),S("click",function(){let r=I(e).$implicit,o=C(2);return T(o.toggleItem(r))})("mouseover",function(){let r=I(e).$implicit,o=C(2);return T(o.onItemHover(r))}),M(1,lE,1,2,"ng-template",null,5,cn)(3,cE,0,0,"ng-template",12),h()}if(i&2){let e=t.$implicit,n=Tt(2),r=C(2);ve("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===r.itemsList.markedItem),Le("role",e.children?"group":"option")("aria-selected",e.selected)("id",e==null?null:e.htmlId),m(3),y("ngTemplateOutlet",e.children?r.optgroupTemplate||n:r.optionTemplate||n)("ngTemplateOutletContext",tm(17,KC,e.value,e,e.index,r.searchTerm))}}function uE(i,t){if(i&1&&(u(0,"span")(1,"span",33),b(2),h(),b(3),h()),i&2){let e=C(3);m(2),N(e.addTagText),m(),ye('"',e.searchTerm,'"')}}function pE(i,t){}function hE(i,t){if(i&1){let e=Y();u(0,"div",32),S("mouseover",function(){I(e);let r=C(2);return T(r.itemsList.unmarkItem())})("click",function(){I(e);let r=C(2);return T(r.selectTag())}),M(1,uE,4,2,"ng-template",null,6,cn)(3,pE,0,0,"ng-template",12),h()}if(i&2){let e=Tt(2),n=C(2);ve("ng-option-marked",!n.itemsList.markedItem),m(3),y("ngTemplateOutlet",n.tagTemplate||e)("ngTemplateOutletContext",Ne(4,Ds,n.searchTerm))}}function mE(i,t){if(i&1&&(u(0,"div",34),b(1),h()),i&2){let e=C(3);m(),N(e.notFoundText)}}function fE(i,t){}function gE(i,t){if(i&1&&M(0,mE,2,1,"ng-template",null,7,cn)(2,fE,0,0,"ng-template",12),i&2){let e=Tt(1),n=C(2);m(2),y("ngTemplateOutlet",n.notFoundTemplate||e)("ngTemplateOutletContext",Ne(2,Ds,n.searchTerm))}}function _E(i,t){if(i&1&&(u(0,"div",34),b(1),h()),i&2){let e=C(3);m(),N(e.typeToSearchText)}}function bE(i,t){}function vE(i,t){if(i&1&&M(0,_E,2,1,"ng-template",null,8,cn)(2,bE,0,0,"ng-template",19),i&2){let e=Tt(1),n=C(2);m(2),y("ngTemplateOutlet",n.typeToSearchTemplate||e)}}function yE(i,t){if(i&1&&(u(0,"div",34),b(1),h()),i&2){let e=C(3);m(),N(e.loadingText)}}function wE(i,t){}function xE(i,t){if(i&1&&M(0,yE,2,1,"ng-template",null,9,cn)(2,wE,0,0,"ng-template",12),i&2){let e=Tt(1),n=C(2);m(2),y("ngTemplateOutlet",n.loadingTextTemplate||e)("ngTemplateOutletContext",Ne(2,Ds,n.searchTerm))}}function CE(i,t){if(i&1){let e=Y();u(0,"ng-dropdown-panel",27),S("update",function(r){I(e);let o=C();return T(o.viewPortItems=r)})("scroll",function(r){I(e);let o=C();return T(o.scroll.emit(r))})("scrollToEnd",function(r){I(e);let o=C();return T(o.scrollToEnd.emit(r))})("outsideClick",function(){I(e);let r=C();return T(r.close())}),ri(1),ed(2,dE,4,22,"div",28,Qc().trackByOption,!0),M(4,hE,4,6,"div",29),oi(),M(5,gE,3,4)(6,vE,3,1)(7,xE,3,4),h()}if(i&2){let e=C();ve("ng-select-multiple",e.multiple),y("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.ngClass?e.ngClass:e.classes:null)("id",e.dropdownId),Le("aria-label",e.ariaLabelDropdown),m(2),td(e.viewPortItems),m(2),ft(e.showAddTag?4:-1),m(),ft(e.showNoItemsFound()?5:-1),m(),ft(e.showTypeToSearch()?6:-1),m(),ft(e.loading&&e.itemsList.filteredItems.length===0?7:-1)}}var L_=/[&<>"']/g,EE=RegExp(L_.source),SE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function kE(i){return i&&EE.test(i)?i.replace(L_,t=>SE[t]):i}function Be(i){return i!=null}function ks(i){return typeof i=="object"&&Be(i)}function DE(i){return i instanceof Promise}function Il(i){return i instanceof Function}var IE=(()=>{class i{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?kE(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(n){return new(n||i)(k(ee))}}static{this.\u0275dir=H({type:i,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[Je]})}}return i})(),TE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-option-tmp",""]]})}}return i})(),ME=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-optgroup-tmp",""]]})}}return i})(),AE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-label-tmp",""]]})}}return i})(),PE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-multi-label-tmp",""]]})}}return i})(),OE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-header-tmp",""]]})}}return i})(),RE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-footer-tmp",""]]})}}return i})(),NE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-notfound-tmp",""]]})}}return i})(),FE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-placeholder-tmp",""]]})}}return i})(),LE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-typetosearch-tmp",""]]})}}return i})(),VE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-loadingtext-tmp",""]]})}}return i})(),BE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-tag-tmp",""]]})}}return i})(),jE=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(k(be))}}static{this.\u0275dir=H({type:i,selectors:[["","ng-loadingspinner-tmp",""]]})}}return i})();function V_(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var zE={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function Dl(i){let t=e=>zE[e]||e;return i.replace(/[^\u0000-\u007E]/g,t)}var Ju=class{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,n)=>this.mapItem(e,n)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&Be(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return this._ngSelect.compareWith?e=n=>this._ngSelect.compareWith(n.value,t):this._ngSelect.bindValue?e=n=>!n.children&&this.resolveNested(n.value,this._ngSelect.bindValue)===t:e=n=>n.value===t||!n.children&&n.label&&n.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(n=>e(n))}addItem(t){let e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=Dl(t).toLocaleLowerCase(),this.filteredItems.find(e=>Dl(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:Dl(t).toLocaleLowerCase();let e=this._ngSelect.searchFn||this._defaultSearchFn,n=this._ngSelect.hideSelected;for(let r of Array.from(this._groups.keys())){let o=[];for(let s of this._groups.get(r)){if(n&&(s.parent&&s.parent.selected||s.selected))continue;let a=this._ngSelect.searchFn?s.value:s;e(t,a)&&o.push(s)}if(o.length>0){let[s]=o.slice(-1);if(s.parent){let a=this._items.find(l=>l===s.parent);this._filteredItems.push(a)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let e=this._getLastMarkedIndex();e>-1?this._markedIndex=e:this._markedIndex=t?this.filteredItems.findIndex(n=>!n.disabled):-1}resolveNested(t,e){if(!ks(t))return t;if(e.indexOf(".")===-1)return t[e];{let n=e.split("."),r=t;for(let o=0,s=n.length;o<s;++o){if(r==null)return null;r=r[n[o]]}return r}}mapItem(t,e){let n=Be(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),r=Be(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:Be(n)?n.toString():"",value:r,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let e of this.selectedItems){let n=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,r=Be(n)?this.findItem(n):null;this._selectionModel.unselect(e,t),this._selectionModel.select(r||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>this.selectedItems.indexOf(e)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let e=t.parent;this._filteredItems.find(r=>r===e)||this._filteredItems.push(e)}else if(t.children)for(let e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,n)=>e.index-n.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(n=>n.selected)&&(this._filteredItems=this._filteredItems.filter(n=>n!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return Dl(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){let n=new Map;if(t.length===0)return n;if(Array.isArray(t[0].value[e])){for(let s of t){let a=(s.value[e]||[]).map((l,c)=>this.mapItem(l,c));n.set(s,a)}return n}let r=Il(this._ngSelect.groupBy),o=s=>{let a=r?e(s.value):s.value[e];return Be(a)?a:void 0};for(let s of t){let a=o(s),l=n.get(a);l?l.push(s):n.set(a,[s])}return n}_flatten(t){let e=Il(this._ngSelect.groupBy),n=[];for(let r of Array.from(t.keys())){let o=n.length;if(r===void 0){let p=t.get(void 0)||[];n.push(...p.map(f=>(f.index=o++,f)));continue}let s=ks(r),a={label:s?"":String(r),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:V_()},l=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>s?r.value:{[l]:r}),d=t.get(r).map(p=>(p.parent=a,p.children=void 0,p.index=o++,p));a.children=d,a.value=c(r,d.map(p=>p.value)),n.push(a),n.push(...d)}return n}},B_=(()=>{class i{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,n,r){let o=this._dimensions,s=o.itemHeight*n,l=Math.max(0,e)/s*n,c=Math.min(n,Math.ceil(l)+(o.itemsPerViewport+1)),p=Math.max(0,c-o.itemsPerViewport),f=Math.min(p,Math.floor(l)),g=o.itemHeight*Math.ceil(f)-o.itemHeight*Math.min(f,r);return g=isNaN(g)?0:g,f=isNaN(f)?-1:f,c=isNaN(c)?-1:c,f-=r,f=Math.max(0,f),c+=r,c=Math.min(n,c),{topPadding:g,scrollHeight:s,start:f,end:c}}setDimensions(e,n){let r=Math.max(1,Math.floor(n/e));this._dimensions={itemHeight:e,panelHeight:n,itemsPerViewport:r}}getScrollTo(e,n,r){let{panelHeight:o}=this.dimensions,s=e+n,a=r,l=a+o;return o>=s&&r===e?null:s>l?a+s-l:e<=a?e:null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=A({token:i,factory:i.\u0275fac})}}return i})(),R_=["top","right","bottom","left"],HE=typeof requestAnimationFrame<"u"?yo:Uc,N_=(()=>{class i{constructor(e,n,r,o,s){this._renderer=e,this._zone=n,this._panelService=r,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new j,this.scroll=new j,this.scrollToEnd=new j,this.outsideClick=new j,this._destroy$=new V,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:e,panelHeight:n}=this._panelService.dimensions,r=this.markedItem.index*e;return n>r?0:r}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){let n=e.items;this._onItemsChange(n.currentValue,n.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,n=!1){if(!e)return;let r=this.items.indexOf(e);if(r<0||r>=this.itemsLength)return;let o;if(this.virtualScroll){let s=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(r*s,s,this._lastScrollPosition)}else{let s=this._dropdown.querySelector(`#${e.htmlId}`),a=n?s.offsetTop:this._lastScrollPosition;o=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,a)}Be(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){let e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),R_.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){R_.forEach(r=>{let o=`ng-select-${r}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});let n=`ng-select-${e}`;this._renderer.addClass(this._dropdown,n),this._renderer.addClass(this._select,n)}_handleScroll(){this._zone.runOutsideAngular(()=>{ti(this.scrollElementRef.nativeElement,"scroll").pipe(ge(this._destroy$),Co(0,HE)).subscribe(e=>{let n=e.path||e.composedPath&&e.composedPath();if(!n||n.length===0&&!e.target)return;let r=!n||n.length===0?e.target.scrollTop:n[0].scrollTop;this._onContentScrolled(r)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{gn(ti(this._document,"touchstart",{capture:!0}),ti(this._document,"click",{capture:!0})).pipe(ge(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;let n=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,n){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(n):(this._setVirtualHeight(),this._updateItems(n))}_updateItems(e){this.update.emit(this.items),e!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let n=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,n),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;e=e||this._scrollablePanel.scrollTop;let n=this._panelService.calculateItems(e,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform=`translateY(${n.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(n.start,n.end)),this.scroll.emit({start:n.start,end:n.end})}),Be(e)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{let r=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;this._virtualPadding.style.height=`${r*this.itemsLength}px`;let o=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(r,o),this._panelService.dimensions})}_fireScrollToEnd(e){if(this._scrollToEndFired||e===0)return;let n=this.virtualScroll?this._virtualPadding:this._contentPanel;e+this._dropdown.clientHeight>=n.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if(this.position!=="auto")return this.position;let n=this._select.getBoundingClientRect(),r=document.documentElement.scrollTop||document.body.scrollTop,o=n.top+window.pageYOffset,s=n.height,a=e.getBoundingClientRect().height;return o+s+a>r+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let e=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect(),r=e.left-n.left;this._dropdown.style.left=r+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){let e=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect(),r=e.height;if(this._currentPosition==="top"){let o=n.bottom-e.bottom;this._dropdown.style.bottom=o+r+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let o=e.top-n.top;this._dropdown.style.top=o+r+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{ti(this._dropdown,"mousedown").pipe(ge(this._destroy$)).subscribe(e=>{e.target.tagName!=="INPUT"&&e.preventDefault()})})}static{this.\u0275fac=function(n){return new(n||i)(k(jt),k(ne),k(B_),k(ee),k(q,8))}}static{this.\u0275cmp=R({type:i,selectors:[["ng-dropdown-panel"]],viewQuery:function(n,r){if(n&1&&(Oe(BC,7,ee),Oe(jC,7,ee),Oe(zC,7,ee)),n&2){let o;re(o=oe())&&(r.contentElementRef=o.first),re(o=oe())&&(r.scrollElementRef=o.first),re(o=oe())&&(r.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",ue],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[Ze,Je],ngContentSelectors:F_,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&(Ln(),M(0,HC,2,4,"div",3),u(1,"div",4,0),w(3,"div",null,1),u(5,"div",null,2),ln(7),h()(),M(8,UC,2,4,"div",5)),n&2&&(ft(r.headerTemplate?0:-1),m(3),ve("total-padding",r.virtualScroll),m(2),ve("scrollable-content",r.virtualScroll&&r.items.length),m(3),ft(r.footerTemplate?8:-1))},dependencies:[Ri],encapsulation:2,changeDetection:0})}}return i})(),UE=(()=>{class i{constructor(e){this.elementRef=e,this.disabled=!1,this.stateChange$=new V}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static{this.\u0275fac=function(n){return new(n||i)(k(ee))}}static{this.\u0275cmp=R({type:i,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",ue]},features:[Ze,Je],ngContentSelectors:F_,decls:1,vars:0,template:function(n,r){n&1&&(Ln(),ln(0))},encapsulation:2,changeDetection:0})}}return i})(),En=function(i){return i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Esc=27]="Esc",i[i.Space=32]="Space",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowDown=40]="ArrowDown",i[i.Backspace=8]="Backspace",i}(En||{});function j_(){return new Zu}var Zu=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,n){if(t.selected=!0,(!t.children||!e&&n)&&this._selected.push(t),e)if(t.parent){let r=t.parent.children.length,o=t.parent.children.filter(s=>s.selected).length;t.parent.selected=r===o}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),n&&this._activeChildren(t)?this._selected=[...this._selected.filter(r=>r.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(r=>!r.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(n=>n!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let n=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...n.filter(r=>r!==t&&!r.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let n of t)n.disabled||(n.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},WE=(()=>{class i{constructor(){this.fixedPlaceholder=!0,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),$E=(()=>{class i{warn(e){console.warn(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),z_=new B("ng-select-selection-model"),Zr=(()=>{class i{constructor(e,n,r,o,s,a,l){this.classes=e,this.autoFocus=n,this.config=r,this._cd=a,this._console=l,this.ariaLabelDropdown="Options List",this.markFirst=!0,this.fixedPlaceholder=!0,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new j,this.focusEvent=new j,this.changeEvent=new j,this.openEvent=new j,this.closeEvent=new j,this.searchEvent=new j,this.clearEvent=new j,this.addEvent=new j,this.removeEvent=new j,this.scroll=new j,this.scrollToEnd=new j,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=V_(),this.escapeHTML=!0,this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new V,this._keyPress$=new V,this._items=[],this.keyDownFn=c=>!0,this.clearItem=c=>{let d=this.selectedItems.find(p=>p.value===c);this.unselect(d)},this.trackByOption=(c,d)=>this.trackByFn?this.trackByFn(d.value):d,this._onChange=c=>{},this._onTouched=()=>{},this._mergeGlobalConfig(r),this.itemsList=new Ju(this,o?o():j_()),this.element=s.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e??[]}get disabled(){return this.readonly||this._disabled}get compareWith(){return this._compareWith}set compareWith(e){if(e!=null&&!Il(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return Be(this._clearSearchOnAdd)?this._clearSearchOnAdd:Be(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return Be(this._deselectOnClick)?this._deselectOnClick:Be(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}get showAddTag(){if(!this._validTerm)return!1;let e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(n=>n.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(n=>n.label.toLowerCase()===e))&&!this.loading}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=Be(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Be(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(En[e.which]){if(this.keyDownFn(e)===!1)return;this.handleKeyCode(e)}else e.key&&e.key.length===1&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){let n=e.target;this.clearButton&&this.clearButton.nativeElement===n?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.which){case En.ArrowDown:this._handleArrowDown(e);break;case En.ArrowUp:this._handleArrowUp(e);break;case En.Space:this._handleSpace(e);break;case En.Enter:this._handleEnter(e);break;case En.Tab:this._handleTab(e);break;case En.Esc:this.close(),e.preventDefault();break;case En.Backspace:this._handleBackspace();break}}handleKeyCodeClear(e){switch(e.which){case En.Enter:this.handleClearClick(),e.preventDefault();break}}handleMousedown(e){if(this.preventToggleOnRightClick&&e.button===2)return!1;let n=e.target;if(n.tagName!=="INPUT"&&e.preventDefault(),n.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(n.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}n.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value),this._onSelectionChanged())}selectTag(){let e;Il(this.addTag)?e=this.addTag(this.searchTerm):e=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let n=r=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(r,null):this.itemsList.addItem(r);DE(e)?e.then(r=>this.select(n(r))).catch(()=>{}):e&&this.select(n(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}showNoItemsFound(){let e=this.itemsList.filteredItems.length===0;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(n=>n.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){let n=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Be(n)?!ks(n):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Be(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let e=r=>{this.items=r.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},n=()=>{let r=gn(this.ngOptions.changes,this._destroy$);gn(...this.ngOptions.map(o=>o.stateChange$)).pipe(ge(r)).subscribe(o=>{let s=this.itemsList.findItem(o.value);s.disabled=o.disabled,s.label=o.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(_n(this.ngOptions),ge(this._destroy$)).subscribe(r=>{this.bindLabel=this._defaultLabel,e(r),n()})}_isValidWriteValue(e){if(!Be(e)||this.multiple&&e===""||Array.isArray(e)&&e.length===0)return!1;let n=r=>!Be(this.compareWith)&&ks(r)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(r)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(e)?e.every(r=>n(r)):(this._console.warn("Multiple select ngModel should be array."),!1):n(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;let n=r=>{let o=this.itemsList.findItem(r);if(o)this.itemsList.select(o);else{let s=ks(r),a=!s&&!this.bindValue;s||a?this.itemsList.select(this.itemsList.mapItem(r,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:r},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(r=>n(r)):n(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(ge(this._destroy$),je(e=>this._pressedKeys.push(e)),Eo(200),ht(()=>this._pressedKeys.length>0),ie(()=>this._pressedKeys.join(""))).subscribe(e=>{let n=this.itemsList.findByLabel(e);n&&(this.isOpen?(this.itemsList.markItem(n),this._scrollToMarked(),this._cd.markForCheck()):this.select(n)),this._pressedKeys=[]})}_setInputAttributes(){let e=this.searchInput.nativeElement,n=D({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(let r of Object.keys(n))e.setAttribute(r,n[r])}_updateNgModel(){let e=[];for(let r of this.selectedItems)if(this.bindValue){let o=null;if(r.children){let s=this.groupValue?this.bindValue:this.groupBy;o=r.value[s||this.groupBy]}else o=this.itemsList.resolveNested(r.value,this.bindValue);e.push(o)}else e.push(r.value);let n=this.selectedItems.map(r=>r.value);this.multiple?(this._onChange(e),this.changeEvent.emit(n)):(this._onChange(Be(e[0])?e[0]:null),this.changeEvent.emit(n[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(this.isOpen===!1){if(this.showClear()&&!e.shiftKey)this.focusOnClear(),e.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){let n=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(n<0||n===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.fixedPlaceholder=this.fixedPlaceholder||e.fixedPlaceholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=Be(this.virtualScroll)?this.virtualScroll:Be(e.disableVirtualScroll)?!e.disableVirtualScroll:!1,this.openOnEnter=Be(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}static{this.\u0275fac=function(n){return new(n||i)(So("class"),So("autofocus"),k(WE),k(z_,8),k(ee),k(st),k($E))}}static{this.\u0275cmp=R({type:i,selectors:[["ng-select"]],contentQueries:function(n,r,o){if(n&1&&(gt(o,TE,5,be),gt(o,ME,5,be),gt(o,AE,5,be),gt(o,PE,5,be),gt(o,OE,5,be),gt(o,RE,5,be),gt(o,NE,5,be),gt(o,FE,5,be),gt(o,LE,5,be),gt(o,VE,5,be),gt(o,BE,5,be),gt(o,jE,5,be),gt(o,UE,5)),n&2){let s;re(s=oe())&&(r.optionTemplate=s.first),re(s=oe())&&(r.optgroupTemplate=s.first),re(s=oe())&&(r.labelTemplate=s.first),re(s=oe())&&(r.multiLabelTemplate=s.first),re(s=oe())&&(r.headerTemplate=s.first),re(s=oe())&&(r.footerTemplate=s.first),re(s=oe())&&(r.notFoundTemplate=s.first),re(s=oe())&&(r.placeholderTemplate=s.first),re(s=oe())&&(r.typeToSearchTemplate=s.first),re(s=oe())&&(r.loadingTextTemplate=s.first),re(s=oe())&&(r.tagTemplate=s.first),re(s=oe())&&(r.loadingSpinnerTemplate=s.first),re(s=oe())&&(r.ngOptions=s)}},viewQuery:function(n,r){if(n&1&&(Oe(N_,5),Oe(WC,7),Oe($C,5)),n&2){let o;re(o=oe())&&(r.dropdownPanel=o.first),re(o=oe())&&(r.searchInput=o.first),re(o=oe())&&(r.clearButton=o.first)}},hostVars:20,hostBindings:function(n,r){n&1&&S("keydown",function(s){return r.handleKeyDown(s)}),n&2&&ve("ng-select-typeahead",r.typeahead)("ng-select-multiple",r.multiple)("ng-select-taggable",r.addTag)("ng-select-searchable",r.searchable)("ng-select-clearable",r.clearable)("ng-select-opened",r.isOpen)("ng-select",r.useDefaultClass)("ng-select-filtered",r.filtered)("ng-select-single",r.single)("ng-select-disabled",r.disabled)},inputs:{ariaLabelDropdown:"ariaLabelDropdown",bindLabel:"bindLabel",bindValue:"bindValue",ariaLabel:"ariaLabel",markFirst:[2,"markFirst","markFirst",ue],placeholder:"placeholder",fixedPlaceholder:"fixedPlaceholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",ue],closeOnSelect:[2,"closeOnSelect","closeOnSelect",ue],hideSelected:[2,"hideSelected","hideSelected",ue],selectOnTab:[2,"selectOnTab","selectOnTab",ue],openOnEnter:[2,"openOnEnter","openOnEnter",ue],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",Yt],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",Yt],virtualScroll:[2,"virtualScroll","virtualScroll",ue],selectableGroup:[2,"selectableGroup","selectableGroup",ue],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",ue],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",ue],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",Yt],readonly:[2,"readonly","readonly",ue],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",ue],minTermLength:[2,"minTermLength","minTermLength",Yt],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",ue],ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",ue],addTag:"addTag",searchable:[2,"searchable","searchable",ue],clearable:[2,"clearable","clearable",ue],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick",keyDownFn:"keyDownFn"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[We([{provide:pn,useExisting:It(()=>i),multi:!0},B_]),Ze,Je],decls:13,vars:19,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["role","listbox",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["aria-hidden","true",1,"ng-clear"],["role","listbox",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(n,r){if(n&1){let o=Y();u(0,"div",10),S("mousedown",function(a){return I(o),T(r.handleMousedown(a))}),u(1,"div",11),M(2,ZC,3,1)(3,tE,2,0)(4,iE,1,5,null,12),u(5,"div",13)(6,"input",14,0),S("blur",function(a){return I(o),T(r.onInputBlur(a))})("change",function(a){return I(o),T(a.stopPropagation())})("compositionend",function(){I(o);let a=Tt(7);return T(r.onCompositionEnd(a.value))})("compositionstart",function(){return I(o),T(r.onCompositionStart())})("focus",function(a){return I(o),T(r.onInputFocus(a))})("input",function(){I(o);let a=Tt(7);return T(r.filter(a.value))}),h()()(),M(8,sE,3,1)(9,aE,4,1,"span",15),u(10,"span",16),w(11,"span",17),h()(),M(12,CE,8,18,"ng-dropdown-panel",18)}n&2&&(ve("ng-appearance-outline",r.appearance==="outline")("ng-has-value",r.hasValue),m(2),ft(r.selectedItems.length===0&&!r.searchTerm||r.fixedPlaceholder===!0?2:-1),m(),ft((!r.multiLabelTemplate||!r.multiple)&&r.selectedItems.length>0?3:-1),m(),ft(r.multiple&&r.multiLabelTemplate&&r.selectedValues.length>0?4:-1),m(2),y("disabled",r.disabled)("readOnly",!r.searchable||r.itemsList.maxItemsSelected)("value",r.searchTerm?r.searchTerm:""),Le("aria-activedescendant",r.isOpen?r.itemsList==null||r.itemsList.markedItem==null?null:r.itemsList.markedItem.htmlId:null)("aria-controls",r.isOpen?r.dropdownId:null)("aria-expanded",r.isOpen)("aria-label",r.ariaLabel)("id",r.labelForId)("tabindex",r.tabIndex),m(2),ft(r.loading?8:-1),m(),ft(r.showClear()?9:-1),m(3),ft(r.isOpen?12:-1))},dependencies:[Ri,IE,N_,Ie],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}
`],encapsulation:2,changeDetection:0})}}return i})(),Tl=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=de({type:i})}static{this.\u0275inj=ce({providers:[{provide:z_,useValue:j_}]})}}return i})();var GE=["determinateSpinner"];function qE(i,t){if(i&1&&(ae(),u(0,"svg",11),w(1,"circle",12),h()),i&2){let e=C();Le("viewBox",e._viewBox()),m(),Pi("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Le("r",e._circleRadius())}}var KE=new B("mat-progress-spinner-default-options",{providedIn:"root",factory:YE});function YE(){return{diameter:U_}}var U_=100,JE=10,Ml=(()=>{class i{_elementRef=v(ee);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=v(xt,{optional:!0}),n=v(KE);this._noopAnimations=e==="NoopAnimations"&&!!n&&!n._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=U_;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-JE)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(n&1&&Oe(GE,5),n&2){let o;re(o=oe())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){n&2&&(Le("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),zt("mat-"+r.color),Pi("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),ve("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Yt],diameter:[2,"diameter","diameter",Yt],strokeWidth:[2,"strokeWidth","strokeWidth",Yt]},exportAs:["matProgressSpinner"],features:[Ze],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(n&1&&(M(0,qE,2,8,"ng-template",null,0,cn),u(2,"div",2,1),ae(),u(4,"svg",3),w(5,"circle",4),h()(),Pe(),u(6,"div",5)(7,"div",6)(8,"div",7),Fn(9,8),h(),u(10,"div",9),Fn(11,8),h(),u(12,"div",10),Fn(13,8),h()()()),n&2){let o=Tt(1);m(4),Le("viewBox",r._viewBox()),m(),Pi("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Le("r",r._circleRadius()),m(4),y("ngTemplateOutlet",o),m(2),y("ngTemplateOutlet",o),m(2),y("ngTemplateOutlet",o)}},dependencies:[Ri],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return i})();var Al=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({imports:[Kr]})}return i})();var Pl=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-c-loading-widget"]],decls:7,vars:0,consts:[[1,"w-[100vw]","h-[100vh]","bg-[#000000b1]","flex","items-center","justify-center","z-50","fixed","top-0","left-0"],[1,"p-4","rounded-md","bg-white","flex","flex-col","items-center","justify-center","shadow-md"],[1,"p-4"],["mode","indeterminate"],[1,"py-2"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),w(3,"mat-progress-spinner",3),h(),w(4,"div",4),u(5,"p"),b(6,"Processing..."),h()()())},dependencies:[Al,Ml],encapsulation:2})};var Ol=class i{usr_detail=this.get_curr_usr_dtl();get_curr_usr_dtl(){return JSON.parse(localStorage.getItem("user_dtl")).data[0]}get_usr_detail(){let t=this.usr_detail;return this.usr_detail}get_usr_empl_code(){return this.usr_detail.EMPL_CODE}get_usr_token(){return this.usr_detail.token}static \u0275fac=function(e){return new(e||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})};function XE(i,t){if(i&1&&(u(0,"option",8),b(1),h()),i&2){let e=t.$implicit;y("value",e.empl_branch),m(),N(e.cabang)}}function QE(i,t){if(i&1){let e=Y();u(0,"select",6),S("change",function(r){I(e);let o=C();return T(o.on_lov_cabang_change(r))}),G("ngModelChange",function(r){I(e);let o=C();return $(o.act_cabang,r)||(o.act_cabang=r),T(r)}),M(1,XE,2,2,"option",7),h()}if(i&2){let e=C();W("ngModel",e.act_cabang),m(),y("ngForOf",e.lov_cabang)}}function eS(i,t){if(i&1&&(u(0,"option",8),b(1),h()),i&2){let e=t.$implicit;y("value",e.personal_subarea),m(),N(e.job_name)}}function tS(i,t){if(i&1){let e=Y();u(0,"select",6),S("change",function(r){I(e);let o=C();return T(o.on_lov0_change(r))}),G("ngModelChange",function(r){I(e);let o=C();return $(o.act_sub_area,r)||(o.act_sub_area=r),T(r)}),M(1,eS,2,2,"option",7),h()}if(i&2){let e=C();W("ngModel",e.act_sub_area),m(),y("ngForOf",e.lov0)}}function nS(i,t){if(i&1&&(u(0,"option"),b(1),h()),i&2){let e=t.$implicit;m(),N(e.empl_name)}}function iS(i,t){if(i&1){let e=Y();u(0,"select",6),S("change",function(r){I(e);let o=C();return T(o.on_lov1_change(r))}),G("ngModelChange",function(r){I(e);let o=C();return $(o.act_person,r)||(o.act_person=r),T(r)}),M(1,nS,2,1,"option",9),h()}if(i&2){let e=C();W("ngModel",e.act_person),m(),y("ngForOf",e.lov1)}}function rS(i,t){if(i&1&&(u(0,"option"),b(1),h()),i&2){let e=t.$implicit;m(),N(e)}}function oS(i,t){if(i&1){let e=Y();u(0,"select",6),S("change",function(r){I(e);let o=C();return T(o.on_checker_change(r))}),G("ngModelChange",function(r){I(e);let o=C();return $(o.act_checker,r)||(o.act_checker=r),T(r)}),M(1,rS,2,1,"option",9),h()}if(i&2){let e=C();W("ngModel",e.act_checker),m(),y("ngForOf",e.arr_checker)}}var Rl=class i{constructor(t,e){this.http=t;this.repUser=e}itemData;itemIndex;total_i;itemDataChange=new j;deleteThis=new j;itemDataVal;act_user;act_cabang;act_sub_area;act_job;act_person;act_person_obj;act_checker;last_item=!1;exl_empl_code;lov_cabang;lov0;lov1;fetching_cabang=!0;fetching_subarea=!0;fetching_person=!0;arr_checker=["APPROVE","CEK"];ngOnInit(){this.initLoad()}initLoad(){return F(this,null,function*(){this.set_init(),yield this.get_cabang(),this.act_user=this.repUser.get_usr_empl_code()})}set_init(){this.itemDataVal=D({},this.itemData),this.act_cabang="-",this.act_person=null,this.act_person_obj=null,this.last_item=this.itemIndex+1==this.total_i,console.log(this.itemIndex+1),console.log(this.total_i)}on_lov_cabang_change(t){return F(this,null,function*(){let e=t.target,n=e.value,r=e.options[e.selectedIndex].text,o=e.selectedIndex,s=this.lov_cabang[o];this.act_cabang=n,this.act_job=null,this.act_person=null,this.act_sub_area=s.personal_subarea,this.act_checker=null,this.act_person=null,this.act_person_obj=null,yield this.get_appr_subarea()})}on_lov0_change(t){return F(this,null,function*(){let e=t.target,n=e.value,r=e.options[e.selectedIndex].text;this.act_sub_area=n,this.act_job=r,console.log([this.act_person,this.act_person_obj]),this.act_checker=null,this.act_person=null,yield this.get_appr_person()})}on_lov1_change(t){return F(this,null,function*(){let e=t.target,n=e.options[e.selectedIndex].index;this.act_person_obj=this.lov1[n],this.act_checker=null})}on_checker_change(t){let n=t.target.selectedIndex;this.change_act_person()}change_act_person(){this.itemData.EMPL_NAME=this.act_person_obj.empl_name,this.itemData.EMPL_CODE=this.act_person_obj.empl_code,this.itemData.LVL=this.itemIndex,this.itemData.POSISION=this.act_checker,this.itemDataChange.emit(this.itemData)}removeThis(t){console.log(this.itemIndex),this.deleteThis.emit(this.itemIndex)}get_cabang(){return F(this,null,function*(){this.fetching_cabang=!0;let t={personal_subarea:Ee().personal_subarea,EMPL_BRANCH:Ee().EMPL_BRANCH};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_user_cabang",{params:t}));this.lov_cabang=e.data,this.act_cabang=null,this.act_job=null,this.fetching_cabang=!1})}get_appr_subarea(){return F(this,null,function*(){console.log("get_appr_subarea"),this.fetching_subarea=!0;let t={empl_branch:this.act_cabang,empl_subarea:this.act_sub_area};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_appr_subarea",{params:t}));this.act_sub_area=null,this.lov0=e.data,this.act_job=null,this.act_person=null,this.fetching_subarea=!1})}get_appr_person(){return F(this,null,function*(){console.log("get_user_cabang"),this.fetching_person=!0;let t={EMPL_BRANCH:this.act_cabang,empl_subarea:this.act_sub_area,ACT_JOB:this.act_job,act_user:this.act_user};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_appr_person",{params:t}));this.lov1=e.data,this.act_person_obj=null,this.act_person=null,this.fetching_person=!1})}static \u0275fac=function(e){return new(e||i)(k(Te),k(Ol))};static \u0275cmp=R({type:i,selectors:[["app-c-approval-item"]],inputs:{itemData:"itemData",itemIndex:"itemIndex",total_i:"total_i"},outputs:{itemDataChange:"itemDataChange",deleteThis:"deleteThis"},decls:10,vars:5,consts:[[1,"flex","flex-row","items-center","p-2"],[1,"px-2","pr-4"],["class","w-[240px] mr-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block p-1.5 ",3,"ngModel","change","ngModelChange",4,"ngIf"],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"w-[240px]","mr-4","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-1.5",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),b(2),h(),M(3,QE,2,2,"select",2)(4,tS,2,2,"select",2)(5,iS,2,2,"select",2)(6,oS,2,2,"select",2),u(7,"button",3),S("click",function(o){return n.removeThis(o)}),ae(),u(8,"svg",4),w(9,"path",5),h()()()),e&2&&(m(2),N(n.itemIndex+1),m(),y("ngIf",!n.fetching_cabang),m(),y("ngIf",n.act_cabang!=null&&!n.fetching_cabang),m(),y("ngIf",n.act_job!=null&&!n.fetching_person),m(),y("ngIf",n.act_person_obj!=null&&n.act_cabang!=null&&n.act_person_obj!=null))},dependencies:[Ae,te,He,Ce,fe,Pt,Ot,Zt,Ve,Ge],encapsulation:2})};var sS=["mat-button",""],aS=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],lS=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var cS=new B("MAT_BUTTON_CONFIG");var dS=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],uS=(()=>{class i{_elementRef=v(ee);_platform=v(Ue);_ngZone=v(ne);_animationMode=v(xt,{optional:!0});_focusMonitor=v(hl);_rippleLoader=v(Qg);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){v(hn).load(Xg);let e=v(cS,{optional:!0}),n=this._elementRef.nativeElement,r=n.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of dS)n.hasAttribute(o)&&r.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ue],disabled:[2,"disabled","disabled",ue],ariaDisabled:[2,"aria-disabled","ariaDisabled",ue],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ue]},features:[Ze]})}return i})();var $_=(()=>{class i extends uS{static \u0275fac=(()=>{let e;return function(r){return(e||(e=wt(i)))(r||i)}})();static \u0275cmp=R({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(Le("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),zt(r.color?"mat-"+r.color:""),ve("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[et],attrs:sS,ngContentSelectors:lS,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Ln(aS),w(0,"span",0),ln(1),u(2,"span",1),ln(3,1),h(),ln(4,2),w(5,"span",2)(6,"span",3)),n&2&&ve("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-focus-indicator::before,.mat-mdc-raised-button:focus .mat-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return i})();function pS(i,t){if(i&1){let e=Y();u(0,"div",1)(1,"button",2),S("click",function(){I(e);let r=C();return T(r.action())}),b(2),h()()}if(i&2){let e=C();m(2),ye(" ",e.data.action," ")}}var hS=["label"];function mS(i,t){}var fS=Math.pow(2,31)-1,Is=class{_overlayRef;instance;containerInstance;_afterDismissed=new V;_afterOpened=new V;_onAction=new V;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,fS))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},G_=new B("MatSnackBarData"),Xr=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},gS=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),_S=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),bS=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=H({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),vS=(()=>{class i{snackBarRef=v(Is);data=v(G_);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){n&1&&(u(0,"div",0),b(1),h(),M(2,pS,3,1,"div",1)),n&2&&(m(),ye(" ",r.data.message,`
`),m(),ft(r.hasAction?2:-1))},dependencies:[$_,gS,_S,bS],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return i})(),yS={snackBarState:fm("state",[id("void, hidden",_a({transform:"scale(0.8)",opacity:0})),id("visible",_a({transform:"scale(1)",opacity:1})),rd("* => visible",nd("150ms cubic-bezier(0, 0, 0.2, 1)")),rd("* => void, * => hidden",nd("75ms cubic-bezier(0.4, 0.0, 1, 1)",_a({opacity:0})))])},wS=(()=>{class i extends qr{_ngZone=v(ne);_elementRef=v(ee);_changeDetectorRef=v(st);_platform=v(Ue);snackBarConfig=v(Xr);_document=v(q);_trackedModals=new Set;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new V;_onExit=new V;_onEnter=new V;_animationState="void";_live;_label;_role;_liveElementId=v(Gi).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){let{fromState:n,toState:r}=e;if((r==="void"&&n!=="void"||r==="hidden")&&this._completeExit(),r==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>e.classList.add(s)):e.classList.add(n)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(n&1&&(Oe(ku,7),Oe(hS,7)),n&2){let o;re(o=oe())&&(r._portalOutlet=o.first),re(o=oe())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(n,r){n&1&&em("@state.done",function(s){return r.onAnimationEnd(s)}),n&2&&Qh("@state",r._animationState)},features:[et],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(u(0,"div",1)(1,"div",2,0)(3,"div",3),M(4,mS,0,0,"ng-template",4),h(),w(5,"div"),h()()),n&2&&(m(5),Le("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[ku],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[yS.snackBarState]}})}return i})();function xS(){return new Xr}var CS=new B("mat-snack-bar-default-options",{providedIn:"root",factory:xS}),Rt=(()=>{class i{_overlay=v(Un);_live=v(Og);_injector=v(Re);_breakpointObserver=v(ll);_parentSnackBar=v(i,{optional:!0,skipSelf:!0});_defaultConfig=v(CS);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=vS;snackBarContainerComponent=wS;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){let o=D(D({},this._defaultConfig),r);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=Re.create({parent:r||this._injector,providers:[{provide:Xr,useValue:n}]}),s=new _i(this.snackBarContainerComponent,n.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=n,a.instance}_attach(e,n){let r=D(D(D({},new Xr),this._defaultConfig),n),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new Is(s,o);if(e instanceof be){let l=new Gr(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(l)}else{let l=this._createInjector(r,a),c=new _i(e,void 0,l),d=s.attachComponentPortal(c);a.instance=d.instance}return this._breakpointObserver.observe(Sg.HandsetPortrait).pipe(ge(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){let n=new Cs;n.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,a=!s&&e.horizontalPosition!=="center";return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(e,n){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Re.create({parent:r||this._injector,providers:[{provide:Is,useValue:n},{provide:G_,useValue:e.data}]})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Sn=class i{enc_str(t){try{return t=t.replaceAll("'","%27"),t=t.replaceAll('"',"%22"),t}catch{return""}}dec_str(t){try{return t=t.replaceAll("%27","'"),t=t.replaceAll("%22",'"'),t}catch{return""}}static \u0275fac=function(e){return new(e||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})};var ES=i=>({"bg-gray-300":i}),SS=i=>({"placeholder-opacity-100":i}),kS=(i,t)=>({"fill-[#159d42]":i,"fill-[#989898]":t}),DS=i=>({"bg-[#46b946]":i});function IS(i,t){i&1&&w(0,"app-c-loading-widget")}function TS(i,t){if(i&1&&(u(0,"option"),b(1),h()),i&2){let e=t.$implicit;m(),N(e)}}function MS(i,t){if(i&1&&(u(0,"option",76),b(1),h()),i&2){let e=t.$implicit;y("value",e.NAME_TYPE),m(),ye(" ",e.NAME_TYPE,"")}}function AS(i,t){if(i&1){let e=Y();u(0,"tr",0)(1,"td",0)(2,"div",53),b(3),h()(),u(4,"td",54)(5,"input",55),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.KETERANGAN,r)||(o.KETERANGAN=r),T(r)}),h()(),u(6,"td",56)(7,"ng-select",57),S("change",function(r){let o=I(e).index,s=C();return T(s.on_rek_changed(r,o))}),h()(),u(8,"td")(9,"select",58),G("valueChange",function(r){let o=I(e).$implicit;return $(o.JENIS_PEMBIAYAAN,r)||(o.JENIS_PEMBIAYAAN=r),T(r)}),S("change",function(r){let o=I(e).index,s=C();return T(s.on_type_pengajuan_changed(r,o))}),M(10,MS,2,2,"option",59),h()(),u(11,"td",56)(12,"input",60),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.HARGA_SATUAN,r)||(o.HARGA_SATUAN=r),T(r)}),S("input",function(){let r=I(e).index,o=C();return T(o.getTotalHarga(r))}),h()(),u(13,"td",56)(14,"input",61),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.QTY,r)||(o.QTY=r),T(r)}),S("input",function(){let r=I(e).index,o=C();return T(o.getTotalHarga(r))}),h()(),u(15,"td")(16,"div",62)(17,"div",63)(18,"input",64),S("click",function(r){let o=I(e).index,s=C();return T(s.isPPN_clicked(r,o))}),h(),w(19,"div",65),u(20,"div",66)(21,"input",67),S("input",function(){let r=I(e).index,o=C();return T(o.getTotalHarga(r))}),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.PPN,r)||(o.PPN=r),T(r)}),h(),u(22,"div",68)(23,"p"),b(24,"%"),h()()()()()(),u(25,"td")(26,"div",62)(27,"div",63)(28,"input",64),S("click",function(r){let o=I(e).index,s=C();return T(s.isPPH_clicked(r,o))}),h(),w(29,"div",65),u(30,"div",66)(31,"input",67),S("input",function(){let r=I(e).index,o=C();return T(o.getTotalHarga(r))}),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.PPH,r)||(o.PPH=r),T(r)}),h(),u(32,"div",68)(33,"p"),b(34,"%"),h()()()()()(),u(35,"td",56)(36,"input",69),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.TOTAL_HARGA,r)||(o.TOTAL_HARGA=r),T(r)}),S("change",function(){I(e);let r=C();return T(r.getTotal())}),h()(),u(37,"td",54)(38,"button",70),ae(),u(39,"svg",71),S("click",function(){let r=I(e).index,o=C();return T(o.lockThis(r))}),w(40,"path",72),h()()(),Pe(),u(41,"td",54)(42,"button",73),S("click",function(){let r=I(e).index,o=C();return T(o.removeItem(r))}),ae(),u(43,"svg",74),w(44,"path",75),h()()()()}if(i&2){let e=t.$implicit,n=t.index,r=C();m(3),N(n+1),m(2),W("ngModel",e.KETERANGAN),m(2),y("items",r.arr_rek_data),m(2),W("value",e.JENIS_PEMBIAYAAN),m(),y("ngForOf",r.arr_request_type),m(2),W("ngModel",e.HARGA_SATUAN),y("value",e.HARGA_SATUAN),m(2),W("ngModel",e.QTY),y("value",e.QTY),m(7),y("disabled",e.FLAG_PPN=="N"),W("ngModel",e.PPN),m(10),y("disabled",e.FLAG_PPH=="N"),W("ngModel",e.PPH),m(5),y("disabled",e.bind_calc==!0),W("ngModel",e.TOTAL_HARGA),y("value",e.TOTAL_HARGA),m(2),y("ngClass",ze(17,kS,e.bind_calc==!0,e.bind_calc==!1))}}function PS(i,t){if(i&1){let e=Y();u(0,"div",77)(1,"p"),b(2),h(),w(3,"div",78)(4,"div",65),ae(),u(5,"svg",79),S("click",function(){I(e);let r=C();return T(r.clear_file())}),w(6,"path",80),h()()}if(i&2){let e=C();m(2),N(e.act_file.file_name)}}function OS(i,t){if(i&1){let e=Y();u(0,"div",81),w(1,"div",82),u(2,"app-c-approval-item",83),G("itemDataChange",function(r){let o=I(e).index,s=C();return $(s.items_kom_approve[o],r)||(s.items_kom_approve[o]=r),T(r)}),S("deleteThis",function(r){I(e);let o=C();return T(o.remove_appr_person(r))}),h()()}if(i&2){let e=t.index,n=C();m(),y("ngClass",Ne(4,DS,e+1==n.items_kom_approve.length)),m(),W("itemData",n.items_kom_approve[e]),y("itemIndex",e)("total_i",n.items_kom_approve.length)}}var Ts=class i{constructor(t,e,n,r){this.http=t;this.snackbar=e;this.router=n;this.repValid=r}arr_rek_data=[];arr_request_type=[{NAME_TYPE:""}];act_pengajuan=this.arr_request_type[0].NAME_TYPE;arr_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];act_divisi={EMPL_JOB:null,EMPL_JOB_NAME:null};act_file={file_name:"",file_base64:""};arr_tipe_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];arr_files=[];items_default=[{KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:"0",FLAG_PPN:"N",PPN:0,FLAG_PPH:"N",PPH:0,TOTAL_HARGA:0,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,NO_REK:null,NAMA_REK:null,BANK_NAME:null,unf_rek:null,FILE_NAME:"",FILE_:"",bind_calc:!1}];items=[{KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:"0",FLAG_PPN:"N",PPN:0,FLAG_PPH:"N",PPH:0,TOTAL_HARGA:0,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,NO_REK:null,NAMA_REK:null,BANK_NAME:null,unf_rek:null,FILE_NAME:"",FILE_:"",bind_calc:!1}];arr_kom_type=[{POSISION:"APPROVE"},{POSISION:"CEK"}];items_kom_approve=[{EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null}];arr_office=[{office_name:"Grogol",office_code:"903"},{office_name:"Depok",office_code:"904"},{office_name:"Jakpus",office_code:"911"},{office_name:"Cikupa",office_code:"929"}];arr_tipe_pengajuan=["FPPU"];str_info_pengajuan="";act_office=this.arr_office[0].office_code;is_fetching=!1;base64_sig_data=null;user_cabang;act_tipe_pengajuan="";ngOnInit(){this.initLoad()}init_fetch(){}addItem(){this.items.push({KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:"0",FLAG_PPN:"N",PPN:0,FLAG_PPH:"N",PPH:0,TOTAL_HARGA:0,unf_rek:null,NO_REK:null,NAMA_REK:null,BANK_NAME:null,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,FILE_NAME:"",FILE_:"",bind_calc:!0}),console.log(this.items)}removeItem(t){this.items.splice(t,1)}bankChanged(t){let e=t.target.value,n=t.target.text}addKomite(){this.items_kom_approve.push({EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null})}removeKomite(t){this.items_kom_approve.splice(t,1)}get_kom_appr_detail(t){let e=t.target.value}trackByFn(t,e){return e.LVL}swapOrder(t,e){let n=this.items_kom_approve[t].LVL;this.items_kom_approve[t].LVL=this.items_kom_approve[e].LVL,this.items_kom_approve[e].LVL=n}drop(t){Jr(this.items_kom_approve,t.previousIndex,t.currentIndex)}initLoad(){return F(this,null,function*(){this.get_rekening(),this.get_request_type(),this.act_tipe_pengajuan=this.arr_tipe_pengajuan[0],this.setInit()})}get_rekening(){return F(this,null,function*(){let t={data:"test"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_rekening",{params:t}));this.arr_rek_data=e.data})}get_request_type(){return F(this,null,function*(){let t={data:"test"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_request_type",{params:t}));this.arr_request_type=e.data})}setInit(){this.items=[],this.act_divisi={EMPL_JOB:Ee().EMPL_JOB,EMPL_JOB_NAME:Ee().JOB_DESCRIPTION},this.user_cabang=Ee().NAME_FULL}on_rek_changed(t,e){let n=t,r=this.items[e];n?r.unf_rek=n.toString():r.unf_rek=null,console.log(this.items)}isPPN_clicked(t,e){let n=this.items[e],r=t.target.checked;console.log(r),r?(n.FLAG_PPN="Y",n.PPN=0):(n.FLAG_PPN="N",n.PPN=0),this.getTotalHarga(e),console.log(n)}isPPH_clicked(t,e){let n=this.items[e];t.target.checked?(n.FLAG_PPH="Y",n.PPH=0):(n.FLAG_PPH="N",n.PPH=0),this.getTotalHarga(e),console.log(n)}on_type_pengajuan_changed(t,e){let r=t.target.value;console.log(r),this.items[e].JENIS_PEMBIAYAAN=r,console.log(this.items[e])}on_pajak_changed(t,e){var n=t.target.value;this.items[e].PAJAK_TYPE=n,this.items[e].PAJAK_AMOUNT="0",this.getTotalHarga(e)}remove_appr_person(t){this.items_kom_approve.splice(t,1)}lockThis(t){console.log(t),this.items[t].bind_calc=!this.items[t].bind_calc,this.items[t].bind_calc?this.getTotalHarga(t):this.items[t].TOTAL_HARGA=0}change_sig_data(t){this.base64_sig_data=t}chooseFile(t,e){let r=t.target.parentElement?.querySelector(".inputFile");var o=document.createElement("input");o.setAttribute("type","file"),o.click(),o.onchange=s=>{let a=s.target.files;if(a){let l=a[0];this.items[e].FILE_NAME=a[0].name;let c=new FileReader;c.onload=()=>{let d=c.result;this.items[e].FILE_=d},c.readAsDataURL(l)}}}chooseFile_v2(t){let n=t.target.parentElement?.querySelector(".inputFile");var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".pdf"),r.click(),r.onchange=o=>{let s=o.target.files;if(s){let a=s[0],l=new FileReader;l.onload=()=>{let c=l.result;this.act_file={file_name:s[0].name,file_base64:c},this.items.forEach(d=>{d.FILE_NAME=s[0].name})},l.readAsDataURL(a)}}}clear_file(){this.act_file.file_base64="",this.act_file.file_name=""}rm_file(t){this.items[t].FILE_="",this.items[t].FILE_NAME=""}notif_str="";filter_kom_approve(){let t=[...this.items_kom_approve];console.log(t);let e=1;for(let n of t)n.LVL=e,e++;return t}allow_send_pengajuan(){if(this.act_tipe_pengajuan=="FPPU")for(let t of this.items){if(t.KETERANGAN==""||t.HARGA_SATUAN==0||t.QTY==0||t.unf_rek=="")return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;if(t.FLAG_PPN=="Y"&&Number(t.PPN)<=0||t.FLAG_PPH=="Y"&&Number(t.PPH)<=0)return this.snackbar.open("Cek kembali pengisian pajak pada pengajuan.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1}else for(let t of this.items){if(t.KETERANGAN==""||t.HARGA_SATUAN==0||t.QTY==0)return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;if(t.FLAG_PPN=="Y"&&Number(t.PPN)<=0||t.FLAG_PPH=="Y"&&Number(t.PPH)<=0)return this.snackbar.open("Cek kembali pengisian pajak pada pengajuan.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1}for(let t of this.items_kom_approve)if(t.EMPL_CODE==null)return this.snackbar.open("Silahkan cek kembali komite approval.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;for(let t of this.items_kom_approve){let e=0;for(let n of this.items_kom_approve)t.EMPL_CODE==n.EMPL_CODE&&(e+=1);if(console.log(e),e>1)return this.snackbar.open("Tidak boleh ada duplikat di komite approval.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1}return!0}filter_rek(){this.act_tipe_pengajuan=="FPPU"&&this.items.forEach(t=>{let n=t.unf_rek?.split(" - ");t.NO_REK=n[3].toString(),t.BANK_NAME=n[0].toString(),t.NAMA_REK=n[1].toString()})}filter_file(){this.act_file.file_name==""&&(this.act_file={file_name:"",file_base64:""},this.items.forEach(t=>{t.FILE_NAME=""}))}savePengajuan(){return F(this,null,function*(){this.is_fetching=!0;let t;if(!this.allow_send_pengajuan())return this.is_fetching=!1,!1;var e=this.filter_kom_approve();this.filter_rek(),this.filter_file(),console.log(this.items);try{let n={user_data:{empl_code:bi(),office_code:this.act_office,pengajuan_type:this.repValid.enc_str(this.str_info_pengajuan),selected_file:this.act_file,base64_sig_data:this.base64_sig_data},data:{pengajuan:this.items,komite_approve:e},file_data:this.act_file};if(console.log(n.data),t=yield X(this.http.post(J.env_dev.host+"/api-eappr/new_pengajuan",n)),t.status!=200)return this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_failed"]}),this.is_fetching=!1,!1;this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_success"]})}catch(n){console.log(n)}return yield this.redirect_to_latest_pengajuan(),this.is_fetching=!1,!0})}getTotal(){let t=0;for(var e of this.items)t=t+Number(e.TOTAL_HARGA);return t}getTotalHarga(t){if(console.log(t),this.items[t].bind_calc){let e=this.items[t],n=e.QTY,r=e.HARGA_SATUAN,o=n*r,s=0;e.PPN!=null,s=Number(e.PPN)/100*o;let a=0;e.PPH!=null,a=Number(e.PPH)/100*o,e.TOTAL_HARGA=o+s-a}}redirect_to_latest_pengajuan(){return F(this,null,function*(){console.log(`
 ======= redirect_to_latest_pengajuan() ======= 
`),this.router.navigate(["info-pengajuan"])})}debug_(){console.log()}static \u0275fac=function(e){return new(e||i)(k(Te),k(Rt),k(xe),k(Sn))};static \u0275cmp=R({type:i,selectors:[["app-h-item-pengajuan"]],decls:102,vars:20,consts:[[1,""],[4,"ngIf"],[1,"flex","flex-row","items-center","text-base"],[1,"mb-2","text-[#282828]"],[1,"mb-2","font-medium","tracking-wider","border-2","border-[#c1c1c1]","rounded-md","p-1","w-fit","px-2"],[1,"mx-8","w-[2px]","h-20","bg-[#c1c1c1]"],[1,"pb-8"],[1,"p-4","rounded-md","border-[1px]","border-[#ccc]","w-fit"],[1,"flex","items-center"],[1,"text-[#282828]","w-40"],[1,"mx-2"],["placeholder","Judul Info Pengajuan","type","text",1,"p-1.5","w-[40vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"py-1"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-fit","p-1.5","tracking-wider",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"border","border-gray-300","w-full","rounded-md","overflow-hidden","overflow-x-hidden","flex","flex-col","items-center"],[1,"bg-gray-100","w-full"],[1,"text-xl","py-2","pl-3","tracking-wide"],[1,"w-[79vw]","overflow-y-auto","h-[50vh]","pb-2","border-b-2","text-xs"],[1,"w-[98%]","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[140px]","border-slate-500","font-medium"],[1,"w-20","border-slate-500","font-medium"],[1,"w-[60px]","border-slate-500","font-medium"],[1,"w-[10%]","border-slate-500","font-medium"],[1,"w-[100px]","border-slate-500","font-medium"],[1,"w-[25px]","border-slate-500","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","items-center","px-4","w-full"],[1,"p-2","my-4","bg-blue-500","text-white","rounded-md",3,"click"],[1,"w-60","justify-between","flex","flex-row"],[1,"py-8"],[1,"text-2xl","mb-4"],[1,"flex"],[1,"w-fit","flex","flex-row","items-center","rounded-md","border","p-2","bg-gray-200","hover:bg-gray-100","transition-all","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 256 256",1,"fill-black","p-1"],["d","M209.66,122.34a8,8,0,0,1,0,11.32l-82.05,82a56,56,0,0,1-79.2-79.21L147.67,35.73a40,40,0,1,1,56.61,56.55L105,193A24,24,0,1,1,71,159L154.3,74.38A8,8,0,1,1,165.7,85.6L82.39,170.31a8,8,0,1,0,11.27,11.36L192.93,81A24,24,0,1,0,159,47L59.76,147.68a40,40,0,1,0,56.53,56.62l82.06-82A8,8,0,0,1,209.66,122.34Z"],[1,"ml-1","mr-1","text-nowrap"],[1,"px-2"],["class","border-[#b8b8b8] border-2 text-[#848484]  p-1 px-2 w-fit rounded-md text-center flex justify-center items-center",4,"ngIf"],[1,"text-sm","mt-2","text-[#777]"],[1,"text-2xl","mb-4","tracking-wide"],[1,"w-full","border","rounded-md","text-sm"],["cdkDropList","",1,"w-full","h-[400px]","overflow-y-scroll","p-2","text-sm",3,"cdkDropListDropped"],["class"," w-fit border border-[#0003] rounded-md m-1 mb-2 relative overflow-hidden flex flex-row items-center","cdkDrag","",4,"ngFor","ngForOf"],[1,"border-t-2","p-2","flex","flex-row","items-center"],[1,"bg-[#46b946]","w-4","h-4","border","rounded-full"],[1,"ml-2"],[1,"flex","flex-row","my-4","items-center"],[1,"w-32","p-2","bg-blue-500","text-white","rounded-md","transition-all",3,"click","ngClass"],[3,"ngClass"],[1,"ml-4","h-6","text-lg","text-[#d42929]"],[1,"flex","py-4","justify-center"],[1,"border-separate","border-slate-500"],["placeholder","Keterangan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"border-separate","px-2","border-slate-500"],[3,"change","items"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","tracking-wider",3,"valueChange","change","value"],["class","tracking-wider",3,"value",4,"ngFor","ngForOf"],["placeholder","Harga Satuan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],["placeholder","Quantity","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],[1,"flex","flex-row","items-center","justify-center"],[1,"rounded-md","border-2","flex","flex-row","items-center"],["type","checkbox",1,"w-4","h-4","ml-2",3,"click"],[1,"px-1"],[1,"w-20","flex","flex-row","items-center","tracking-wide","rounded-md","border-gray-200","border-l-2","focus:ring-0","outline-blue-200","transition-all","overflow-hidden"],["type","number",1,"p-2","pr-0","w-full","focus:ring-0","outline-none",3,"input","ngModelChange","disabled","ngModel"],[1,"p-2","bg-[#eee]"],["type","number",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","change","disabled","ngModel","value"],[1,"flex","justify-center","items-center",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",3,"click"],["d","M80,120h96a8,8,0,0,0,8-8V64a8,8,0,0,0-8-8H80a8,8,0,0,0-8,8v48A8,8,0,0,0,80,120Zm8-48h80v32H88ZM200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24Zm0,192H56V40H200ZM100,148a12,12,0,1,1-12-12A12,12,0,0,1,100,148Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,140,148Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,180,148Zm-80,40a12,12,0,1,1-12-12A12,12,0,0,1,100,188Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,140,188Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,180,188Z"],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"tracking-wider",3,"value"],[1,"border-[#b8b8b8]","border-2","text-[#848484]","p-1","px-2","w-fit","rounded-md","text-center","flex","justify-center","items-center"],[1,"px-[1px]"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 256 256",1,"fill-[#d34b4b]","cursor-pointer","hover:fill-[#fff]","hover:bg-[#d34b4b]","rounded-full","transition-all",3,"click"],["d","M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"],["cdkDrag","",1,"w-fit","border","border-[#0003]","rounded-md","m-1","mb-2","relative","overflow-hidden","flex","flex-row","items-center"],[1,"w-4","h-10","rounded-tr-md","rounded-br-md",3,"ngClass"],[1,"flex","items-center","w-fit","cursor-move","rounded-md",3,"itemDataChange","deleteThis","itemData","itemIndex","total_i"]],template:function(e,n){e&1&&(u(0,"div",0),M(1,IS,1,0,"app-c-loading-widget",1),u(2,"div",2)(3,"div",0)(4,"p",3),b(5,"Divisi"),h(),u(6,"p",4),b(7),h()(),w(8,"div",5),u(9,"div",0)(10,"p",3),b(11,"Cabang / Outlet"),h(),u(12,"p",4),b(13),h()()(),w(14,"div",6),u(15,"div",7)(16,"div",8)(17,"p",9),b(18,"Judul Info Pengajuan : "),h(),w(19,"div",10),u(20,"input",11),G("ngModelChange",function(o){return $(n.str_info_pengajuan,o)||(n.str_info_pengajuan=o),o}),h()(),w(21,"div",12),u(22,"div",8)(23,"p",9),b(24,"Tipe Pengajuan : "),h(),w(25,"div",10),u(26,"select",13),G("ngModelChange",function(o){return $(n.act_tipe_pengajuan,o)||(n.act_tipe_pengajuan=o),o}),M(27,TS,2,1,"option",14),h()()(),w(28,"div",6),u(29,"div",15)(30,"div",16)(31,"p",17),b(32,"Pengajuan"),h()(),u(33,"div",18)(34,"table",19)(35,"thead",0)(36,"tr")(37,"th",20),b(38,"No"),h(),u(39,"th",21),b(40,"Keterangan"),h(),u(41,"th",21),b(42,"Bank"),h(),u(43,"th",21),b(44,"Jenis Pembiayaan"),h(),u(45,"th",22),b(46,"Harga Satuan"),h(),u(47,"th",23),b(48,"Quantity"),h(),u(49,"th",24),b(50,"PPN"),h(),u(51,"th",24),b(52,"PPH"),h(),u(53,"th",25),b(54,"Total Harga"),h(),w(55,"th",26)(56,"th",26),h()(),u(57,"tbody",27),M(58,AS,45,20,"tr",28),h()()(),u(59,"div",29)(60,"button",30),S("click",function(){return n.addItem()}),b(61,"Add Item"),h(),u(62,"div",31)(63,"p"),b(64,"Total :"),h(),u(65,"p",0),b(66),me(67,"number"),h()()()(),u(68,"div",32)(69,"p",33),b(70,"Attachment"),h(),u(71,"div",34)(72,"div",35),S("click",function(o){return n.chooseFile_v2(o)}),ae(),u(73,"svg",36),w(74,"path",37),h(),Pe(),u(75,"p",38),b(76,"Upload PDF"),h()(),w(77,"div",39),M(78,PS,7,1,"div",40),h(),u(79,"p",41),b(80,"File yang di upload adalah file .pdf."),h()(),u(81,"div")(82,"div",0)(83,"p",42),b(84,"Pilih Committee Approve"),h()(),u(85,"div",43)(86,"div",44),S("cdkDropListDropped",function(o){return n.drop(o)}),M(87,OS,3,6,"div",45),h(),u(88,"div",46),w(89,"div",47),u(90,"p",48),b(91," : Final Approve"),h()()(),u(92,"div",0)(93,"button",30),S("click",function(){return n.addKomite()}),b(94,"Add Komite"),h()()(),u(95,"div",49)(96,"button",50),S("click",function(){return n.savePengajuan()}),u(97,"P",51),b(98,"Buat Pengajuan"),h(),w(99,"div"),h(),u(100,"p",52),b(101),h()()()),e&2&&(m(),y("ngIf",n.is_fetching),m(6),ye(" ",n.act_divisi.EMPL_JOB_NAME,""),m(6),ye(" ",n.user_cabang,""),m(7),W("ngModel",n.str_info_pengajuan),m(6),W("ngModel",n.act_tipe_pengajuan),m(),y("ngForOf",n.arr_tipe_pengajuan),m(31),y("ngForOf",n.items),m(8),N(Po(67,13,n.getTotal(),"2.")),m(12),y("ngIf",n.act_file.file_name!=""),m(9),y("ngForOf",n.items_kom_approve),m(9),y("ngClass",Ne(16,ES,n.is_fetching===!0)),m(),y("ngClass",Ne(18,SS,n.is_fetching===!0)),m(4),N(n.notif_str))},dependencies:[fe,Pt,Ot,$e,zi,Zt,Ve,Ge,te,Ie,He,Ce,ma,O_,P_,Ae,Rl,Tl,Zr,Pl],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{transition:all;background-color:#fff;border-color:#949494;box-sizing:border-box;border-radius:4px;box-shadow:0 0 10px -3px #0003}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})};var Ms=class i{fillData;arr_pengajuan_type=[{pengajuan_name:"Biaya Operasional"},{pengajuan_name:"Biaya Pembelian Materai"},{pengajuan_name:"Biaya Token Listrik"},{pengajuan_name:"MI Persetujuan Klaim Asuransi"},{pengajuan_name:"MI Pengembalian Klaim Asuransi"},{pengajuan_name:"Pengajuan Penjualan UTN"},{pengajuan_name:"Pengajuan Persetujuan Sewa Ruko"}];act_pengajuan_type=this.arr_pengajuan_type[0].pengajuan_name;arr_cabang=[{office_name:"Depok",office_code:"904"},{office_name:"Grogol",office_code:"903"},{office_name:"Jakpus",office_code:"911"}];act_cabang=this.arr_cabang[0].office_code;deb(){console.log([this.fillData.items,this.fillData.items_kom_approve]),console.log(this.fillData.items_kom_approve)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-new-approval"]],viewQuery:function(e,n){if(e&1&&Oe(Ts,5),e&2){let r;re(r=oe())&&(n.fillData=r.first)}},decls:8,vars:0,consts:[[1,"mom","px-4"],[1,"w-fit","text-3xl","bg-white","rounded-md","flex","mb-4"],[1,"mom_c","bg-white","rounded-md"],[1,"py-4"],[1,"flex","flex-col","py-4"],[1,"h-[400px]"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),b(2," Pengajuan MI/FPPU "),h(),u(3,"div",2)(4,"div",3)(5,"div",4),w(6,"app-h-item-pengajuan"),h(),w(7,"div",5),h()()())},dependencies:[Ts,te,fe],encapsulation:2})};var As=class i{constructor(t){this.router=t}canActivateChild(){return!localStorage.getItem("user_dtl")?(this.router.navigate(["/login"]),!1):!0}canActivate(){return localStorage.getItem("user_dtl")?(this.router.navigate(["/home"]),!1):!0}static \u0275fac=function(e){return new(e||i)(Q(xe))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})};var RS=(i,t)=>({"bg-gray-300":i,"cursor-not-allowed":t});function NS(i,t){if(i&1&&(u(0,"div",13)(1,"p"),b(2),h()()),i&2){let e=C();m(2),N(e.resp_login)}}var Fl=class i{constructor(t,e){this.router=t;this.http=e}snackbar;fetching=!1;usn="";pwd="";resp_login="";user_dtl={};login(){return F(this,null,function*(){if(!this.fetching){this.fetching=!0,this.resp_login="";let e={pwd:this.pwd.toString(),usn:this.usn.toString()};var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/login_main",{params:e}));console.log(t),t.isSuccess!=!0?(this.resp_login=t.message,this.fetching=!1):(yield this.account_setup(t),this.router.navigate(["/home"]),this.fetching=!1),this.fetching=!1}})}account_setup(t){return F(this,null,function*(){console.log(t),localStorage.setItem("user_dtl",JSON.stringify(t)),localStorage.setItem("q_paging","1"),localStorage.setItem("act_request_id","")})}getMenu(){return F(this,null,function*(){try{let t={user_dtl:Ee()};return yield X(this.http.post(J.env_dev.host+"/api-eappr/get_menu",t))}catch(t){console.log(t)}})}static \u0275fac=function(e){return new(e||i)(k(xe),k(Te))};static \u0275cmp=R({type:i,selectors:[["app-p-login"]],decls:22,vars:7,consts:[[1,"w-screen","h-screen","flex","items-center","justify-center"],[1,"sm:w-[26vw]","w-[80vw]","p-4","rounded-md","border-2","border-[#917b0075]","flex","flex-col","items-center"],[1,"w-full","flex","items-center","justify-center","py-4"],[1,"flex","flex-row","items-center","justify-center"],["src","assets/img/w_nav_logo_small.png",1,"w-10"],[1,"ml-4","text-nowrap","text-3xl","tracking-wide"],[1,"py-2"],[1,"flex","flex-col","w-full"],[1,"mb-2"],["type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","keydown.enter","ngModel"],["type","password",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","keydown.enter","ngModel"],[1,"p-2","px-6","text-white","font-medium","rounded-full","bg-[#917C00]",3,"click","ngClass"],["class","mt-2 text-[#ab4444]",4,"ngIf"],[1,"mt-2","text-[#ab4444]"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"img",4),u(5,"p",5),b(6,"E-Approval"),h()()(),w(7,"div",6),u(8,"div",7)(9,"p",8),b(10,"Username"),h(),u(11,"input",9),G("ngModelChange",function(o){return $(n.usn,o)||(n.usn=o),o}),S("keydown.enter",function(){return n.login()}),h()(),w(12,"div",6),u(13,"div",7)(14,"p",8),b(15,"Password"),h(),u(16,"input",10),G("ngModelChange",function(o){return $(n.pwd,o)||(n.pwd=o),o}),S("keydown.enter",function(){return n.login()}),h()(),w(17,"div",6),u(18,"div")(19,"button",11),S("click",function(){return n.login()}),b(20," Login "),h()(),M(21,NS,3,1,"div",12),h()()),e&2&&(m(11),W("ngModel",n.usn),m(5),W("ngModel",n.pwd),m(3),y("ngClass",ze(4,RS,n.fetching==!0,n.fetching==!0)),m(2),y("ngIf",n.resp_login!=""))},dependencies:[te,Ie,Ce,fe,$e,Ve,Ge,Ae],encapsulation:2})};var kn=class i{size=70;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-c-loading-spin"]],inputs:{size:"size"},decls:2,vars:1,consts:[["mode","indeterminate",3,"diameter"]],template:function(e,n){e&1&&(u(0,"div"),w(1,"mat-progress-spinner",0),h()),e&2&&(m(),y("diameter",n.size))},dependencies:[Al,Ml],encapsulation:2})};var FS=i=>({"text-green-600":i});function LS(i,t){if(i&1&&(u(0,"option"),b(1),h()),i&2){let e=t.$implicit;m(),N(e.string)}}function VS(i,t){i&1&&(u(0,"th",41),b(1," STATUS "),h())}function BS(i,t){if(i&1&&(u(0,"td",44)(1,"div",53),b(2),h()()),i&2){let e=C().$implicit;m(),y("ngClass",Ne(2,FS,e.STATUS=="AP")),m(),ye(" ",e.STATUS," ")}}function jS(i,t){if(i&1){let e=Y();u(0,"tr",42)(1,"td",43),b(2),h(),u(3,"td",44),b(4),h(),u(5,"td",45),b(6),h(),u(7,"td",46),b(8),h(),M(9,BS,3,4,"td",47),u(10,"td",45),b(11),h(),u(12,"td",48)(13,"button",49),S("click",function(){let r=I(e).$implicit,o=C(2);return T(o.go_to_detail(r.REQUEST_ID))}),ae(),u(14,"svg",50),w(15,"path",51),h(),Pe(),u(16,"p",52),b(17," Detail "),h()()()()}if(i&2){let e=t.$implicit,n=t.index,r=C(2);m(2),N(n+1),m(2),N(e.REQUEST_ID),m(2),N(e.NAME_FULL),m(2),N(r.dec_str(e.KATEGORI_REQUEST)),m(),y("ngIf",r.q_page_code!=1),m(2),N(r.give_date(e.CREATED_DATE))}}function zS(i,t){if(i&1){let e=Y();u(0,"div",54)(1,"Button",55),S("click",function(){I(e);let r=C(2);return T(r.get_tableData())}),u(2,"p",14),b(3,"Refresh"),h(),w(4,"div",15),ae(),u(5,"svg",16),w(6,"path",17),h()()()}}function HS(i,t){i&1&&(u(0,"div",54),b(1," No Data "),h())}function US(i,t){if(i&1){let e=Y();u(0,"div",21)(1,"table",22)(2,"thead",23)(3,"tr",24)(4,"th",25),b(5,"NO"),h(),u(6,"th",26),b(7,"REQUEST ID"),h(),u(8,"th",27),b(9,"CABANG"),h(),u(10,"th",28),b(11,"KATEGORI REQUEST"),h(),M(12,VS,2,0,"th",29),u(13,"th",30),b(14,"TANGGAL DIBUAT"),h(),u(15,"th",31),b(16,"ACTION"),h()()(),u(17,"tbody",32),M(18,jS,18,6,"tr",33),h()(),M(19,zS,7,0,"div",34)(20,HS,2,0,"div",34),u(21,"div",35)(22,"button",36),S("click",function(){I(e);let r=C();return T(r.pgDown())}),ae(),u(23,"svg",37),w(24,"path",38),h()(),Pe(),u(25,"input",39),S("keydown.enter",function(r){I(e);let o=C();return T(o.onPageChangeEnter(r))}),h(),u(26,"button",36),S("click",function(){I(e);let r=C();return T(r.pgUp())}),ae(),u(27,"svg",37),w(28,"path",40),h()()()()}if(i&2){let e=C();m(12),y("ngIf",e.q_page_code!=1),m(6),y("ngForOf",e.tableData),m(),y("ngIf",e.first_load==0&&e.first_load==0),m(),y("ngIf",e.tableData.length==0&&e.first_load!=0),m(5),y("value",e.act_page)}}function WS(i,t){i&1&&(u(0,"div",56),w(1,"app-c-loading-spin"),h())}var vi=class i{constructor(t,e,n){this.http=t;this.route=e;this.repValid=n}fetching_tableData=!0;first_load=0;q_search="";q_filter="All";q_page_code=0;tableData=[];act_page=localStorage.getItem("q_paging")!=null?parseInt(localStorage.getItem("q_paging")):0;arr_lov_filter=[{string:"All",code:"All"},{string:"On Process",code:"OP"},{string:"Finished",code:"AP"},{string:"Rejected",code:"RJ"}];ngOnInit(){this.initLoad()}initLoad(){return F(this,null,function*(){this.fetching_tableData=!1,this.q_filter=this.arr_lov_filter[0].code,this.pageDetect()})}pageDetect(){console.log(`
 =========== pageDetect() ========== 
`);let t=this.route.url;t=="/cek-pengajuan"?this.q_page_code=2:t=="/approve-pengajuan"?this.q_page_code=1:t=="/info-pengajuan"&&(this.q_page_code=0),console.log(t)}get_tableData(){return F(this,null,function*(){this.fetching_tableData=!0;try{let e={q_page:this.act_page,q_search:this.q_search,q_filter:this.q_filter,user_dtl:JSON.stringify(Ee())};if(this.q_page_code==0){var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data",{params:e}));console.log(t.data),this.tableData=t.data}else if(this.q_page_code==1){var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data_approval",{params:e}));console.log(t.data),this.tableData=t.data}else if(this.q_page_code==2){var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data_histori",{params:e}));console.log(t.data),this.tableData=t.data}}catch(e){console.log(e)}this.first_load=1,this.fetching_tableData=!1})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}onPageChangeEnter(t){let e=t.target.value;parseInt(e)>0&&(this.act_page=parseInt(e),localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}go_to_detail(t){localStorage.setItem("act_request_id",t),this.route.navigate(["request-dtl"],{queryParams:{id:t}}),console.log(t)}on_filter_change(t){let e=t.target.value;console.log(e);let n=0;for(let r=0;r<this.arr_lov_filter.length;r++){let o=this.arr_lov_filter[r].string;if(e==o){n=r;break}}this.q_filter=this.arr_lov_filter[n].code,this.get_tableData()}give_date(t){let e=t.replace(" ",`
`);return t}dec_str(t){return this.repValid.dec_str(t)}static \u0275fac=function(e){return new(e||i)(k(Te),k(xe),k(Sn))};static \u0275cmp=R({type:i,selectors:[["app-c-pengajuan-table"]],decls:25,vars:4,consts:[[1,"overflow-x-auto","overflow-y-hidden","w-full"],[1,"flex","flex-col","items-center","sm:flex-row","sm:space-y-0","space-y-1"],[1,"rounded-full","sm:w-[30vw]","w-full","border","border-gray-400","p-1","flex","flex-row","justify-between","items-center"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","grow",3,"ngModelChange","keyup.enter","ngModel"],[1,"mx-1"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],[1,"flex","flex-row","items-center","w-full","sm:w-[80vw]"],[1,"bg-gray-50","text-sm","border","border-gray-300","text-gray-900","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-fit","p-2","tracking-wider",3,"change"],[4,"ngFor","ngForOf"],[1,"p-1","h-fit","bg-[#252525]","hover:bg-[#333]","fill-white","rounded-md","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-1","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[0.6px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[2px]"],["d","M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"],[1,"my-4"],["class"," border rounded-md h-[550px] flex flex-col justify-between overflow-y-auto",4,"ngIf"],["class","w-full h-[60vh] flex items-center justify-center",4,"ngIf"],[1,"border","rounded-md","h-[550px]","flex","flex-col","justify-between","overflow-y-auto"],[1,"sm:w-full","w-fit","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,""],[1,"w-[30px]","border-x","border-b","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[140px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[130px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[150px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],["class","w-[80px] border-x border-b border-gray-200 font-medium pl-2 py-4",4,"ngIf"],[1,"w-[160px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[80px]","border-x","border-b","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"border-separate","pt-10","text-xs"],["class","h-8 flex-grow-0 odd:bg-gray-100 ",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[360px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"keydown.enter","value"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"w-[80px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"h-8","flex-grow-0","odd:bg-gray-100"],[1,"text-center","border","border-l-0"],[1,"text-center","border"],[1,"text-center","border","py-2"],[1,"text-start","border","px-2"],["class","text-center border",4,"ngIf"],[1,"text-center","border","border-r-0","py-2"],[1,"mx-2","p-2","rounded-md","py-1","pb-[5px]","text-sm","bg-[#303030]","fill-white","text-white","flex","flex-row",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 256 256"],["d","M88,96a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H96A8,8,0,0,1,88,96Zm8,40h64a8,8,0,0,0,0-16H96a8,8,0,0,0,0,16Zm32,16H96a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16ZM224,48V156.69A15.86,15.86,0,0,1,219.31,168L168,219.31A15.86,15.86,0,0,1,156.69,224H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48ZM48,208H152V160a8,8,0,0,1,8-8h48V48H48Zm120-40v28.7L196.69,168Z"],[1,"ml-1"],[3,"ngClass"],[1,"w-full","flex","items-center","justify-center","h-[360px]"],[1,"p-5","h-fit","bg-[#888]","hover:bg-[#333]","fill-white","rounded-md","text-white","w-fit","flex","items-center",3,"click"],[1,"w-full","h-[60vh]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),G("ngModelChange",function(o){return $(n.q_search,o)||(n.q_search=o),o}),S("keyup.enter",function(){return n.get_tableData()}),h(),w(4,"div",4),u(5,"Button",5),S("click",function(){return n.get_tableData()}),u(6,"p",6),b(7,"Search"),h(),w(8,"div",7),ae(),u(9,"svg",8),w(10,"path",9),h()()(),Pe(),w(11,"div",4),u(12,"div",10)(13,"select",11),S("change",function(o){return n.on_filter_change(o)}),M(14,LS,2,1,"option",12),h(),w(15,"div",4),u(16,"Button",13),S("click",function(){return n.get_tableData()}),u(17,"p",14),b(18,"Refresh"),h(),w(19,"div",15),ae(),u(20,"svg",16),w(21,"path",17),h()()()(),Pe(),w(22,"div",18),M(23,US,29,5,"div",19)(24,WS,2,0,"div",20),h()),e&2&&(m(3),W("ngModel",n.q_search),m(11),y("ngForOf",n.arr_lov_filter),m(9),y("ngIf",!n.fetching_tableData),m(),y("ngIf",n.fetching_tableData))},dependencies:[Ae,te,Ie,He,Ce,fe,Pt,Ot,$e,Ve,Ge,kn],encapsulation:2})};var Ll=class i{constructor(t,e){this.http=t;this.route=e}fetching_tableData=!0;first_load=0;q_search="";q_filter="All";tableData=[];act_page=localStorage.getItem("q_paging")!=null?parseInt(localStorage.getItem("q_paging")):0;arr_lov_filter=[{string:"All",code:"All"},{string:"On Process",code:"OP"},{string:"Finished",code:"AP"},{string:"Rejected",code:"RJ"}];ngOnInit(){this.initLoad()}initLoad(){return F(this,null,function*(){this.q_filter=this.arr_lov_filter[0].code,this.fetching_tableData=!1})}get_tableData(){return F(this,null,function*(){this.fetching_tableData=!0;let t={q_page:this.act_page,q_search:this.q_search,q_filter:this.q_filter,user_dtl:JSON.stringify(Ee())};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data",{params:t}));console.log(e.data),this.tableData=e.data,this.first_load=1,this.fetching_tableData=!1})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}onPageChangeEnter(t){let e=t.target.value;parseInt(e)>0&&(this.act_page=parseInt(e),localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}go_to_detail(t){localStorage.setItem("act_request_id",t),this.route.navigate(["request-dtl"]),console.log(t)}on_filter_change(t){let e=t.target.value;console.log(e);let n=0;for(let r=0;r<this.arr_lov_filter.length;r++){let o=this.arr_lov_filter[r].string;if(e==o){n=r;break}}this.q_filter=this.arr_lov_filter[n].code,this.get_tableData()}give_date(t){let e=t.replace(" ",`
`);return t}static \u0275fac=function(e){return new(e||i)(k(Te),k(xe))};static \u0275cmp=R({type:i,selectors:[["app-p-cek-pengajuan"]],decls:3,vars:0,consts:[[1,"sm:w-[calc(100vw-300px)]"],[1,"py-10"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"app-c-pengajuan-table")(2,"div",1),h())},dependencies:[fe,te,Ae,vi],encapsulation:2})};var Vl=class i{constructor(t,e){this.http=t;this.route=e}fetching_tableData=!0;q_search="";tableData=[];act_page=localStorage.getItem("q_paging")!=null?parseInt(localStorage.getItem("q_paging")):0;ngOnInit(){this.initLoad()}initLoad(){return F(this,null,function*(){this.fetching_tableData=!1})}get_tableData(){return F(this,null,function*(){this.fetching_tableData=!0;let t={q_page:this.act_page,user_dtl:JSON.stringify(Ee())};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_table_data_approval",{params:t}));console.log(e.data),this.tableData=e.data,this.fetching_tableData=!1})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}onPageChangeEnter(t){let e=t.target.value;parseInt(e)>0&&(this.act_page=parseInt(e),localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}go_to_detail(t){localStorage.setItem("act_request_id",t),this.route.navigate(["request-dtl"]),console.log(t)}give_date(t){let e=t.replace(" ",`
`);return t}static \u0275fac=function(e){return new(e||i)(k(Te),k(xe))};static \u0275cmp=R({type:i,selectors:[["app-p-approve-pengajuan"]],decls:3,vars:0,consts:[[1,"sm:w-[calc(100vw-300px)]"],[1,"py-10"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"app-c-pengajuan-table")(2,"div",1),h())},dependencies:[te,fe,Ae,vi],encapsulation:2})};var Bl=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-info-pengajuan"]],decls:3,vars:0,consts:[[1,"sm:w-[calc(100vw-300px)]"],[1,"py-10"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"app-c-pengajuan-table")(2,"div",1),h())},dependencies:[vi],encapsulation:2})};var $S=i=>({"bg-gray-300":i}),GS=i=>({"placeholder-opacity-100":i}),qS=(i,t)=>({"bg-[#00000048]":i,"opacity-50":t}),KS=(i,t)=>({"fill-[#159d42]":i,"fill-[#989898]":t});function YS(i,t){if(i&1&&(u(0,"option",52),b(1),h()),i&2){let e=t.$implicit;y("value",e.NAME_TYPE),m(),ye(" ",e.NAME_TYPE,"")}}function JS(i,t){if(i&1&&(u(0,"option",53),b(1),h()),i&2){let e=t.$implicit;y("value",e.pajak_type),m(),ye(" ",e.pajak_type," ")}}function ZS(i,t){if(i&1){let e=Y();u(0,"tr",0)(1,"td",0)(2,"div",31),b(3),h()(),u(4,"td",32)(5,"input",33),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.KETERANGAN,r)||(o.KETERANGAN=r),T(r)}),h()(),u(6,"td",34)(7,"ng-select",35),S("change",function(r){let o=I(e).index,s=C();return T(s.on_rek_changed(r,o))}),h()(),u(8,"td")(9,"select",36),S("change",function(r){I(e);let o=C();return T(o.on_type_pengajuan_changed(r))}),b(10," > "),M(11,YS,2,2,"option",37),h()(),u(12,"td",34)(13,"input",38),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.HARGA_SATUAN,r)||(o.HARGA_SATUAN=r),T(r)}),S("input",function(){let r=I(e).index,o=C();return T(o.getTotalHarga(r))}),h()(),u(14,"td",34)(15,"input",39),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.QTY,r)||(o.QTY=r),T(r)}),S("input",function(){let r=I(e).index,o=C();return T(o.getTotalHarga(r))}),h()(),u(16,"td")(17,"select",40),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.PAJAK_TYPE,r)||(o.PAJAK_TYPE=r),T(r)}),S("change",function(r){let o=I(e).index,s=C();return T(s.on_pajak_changed(r,o))}),b(18," > "),M(19,JS,2,2,"option",41),h()(),u(20,"td",34)(21,"div",42)(22,"input",43),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.PAJAK_AMOUNT,r)||(o.PAJAK_AMOUNT=r),T(r)}),S("input",function(){let r=I(e).index,o=C();return T(o.getTotalHarga(r))}),h(),u(23,"a",44),b(24,"%"),h()()(),u(25,"td",34)(26,"input",45),G("ngModelChange",function(r){let o=I(e).$implicit;return $(o.TOTAL_HARGA,r)||(o.TOTAL_HARGA=r),T(r)}),S("change",function(){I(e);let r=C();return T(r.getTotal())}),h()(),u(27,"td",32)(28,"button",46),ae(),u(29,"svg",47),S("click",function(){let r=I(e).index,o=C();return T(o.lockThis(r))}),w(30,"path",48),h()()(),Pe(),u(31,"td",32)(32,"button",49),S("click",function(){let r=I(e).index,o=C();return T(o.removeItem(r))}),ae(),u(33,"svg",50),w(34,"path",51),h()()()()}if(i&2){let e=t.$implicit,n=t.index,r=C();m(3),N(n+1),m(2),W("ngModel",e.KETERANGAN),m(2),y("items",r.arr_rek_data)("ngModel",e.unf_rek),m(2),y("value",e.JENIS_PEMBIAYAAN),m(2),y("ngForOf",r.arr_request_type),m(2),W("ngModel",e.HARGA_SATUAN),y("value",e.HARGA_SATUAN),m(2),W("ngModel",e.QTY),y("value",e.QTY),m(2),W("ngModel",e.PAJAK_TYPE),m(2),y("ngForOf",r.arr_pajak),m(2),y("ngClass",ze(19,qS,e.PAJAK_TYPE==null,e.PAJAK_TYPE=="-")),m(),y("disabled",e.PAJAK_TYPE=="-"),W("ngModel",e.PAJAK_AMOUNT),m(4),y("disabled",e.bind_calc==!0),W("ngModel",e.TOTAL_HARGA),y("value",e.TOTAL_HARGA),m(2),y("ngClass",ze(22,KS,e.bind_calc==!0,e.bind_calc==!1))}}var jl=class i{constructor(t,e,n){this.http=t;this.snackbar=e;this.router=n}arr_rek_data=[];arr_request_type=[{NAME_TYPE:""}];act_pengajuan=this.arr_request_type[0].NAME_TYPE;arr_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];act_divisi={EMPL_JOB:null,EMPL_JOB_NAME:null};user_cabang;act_file={file_name:null,file_base64:null};arr_tipe_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];arr_files=[];items=[{KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:null,TOTAL_HARGA:0,JENIS_PEMBIAYAAN:null,NO_REK:null,NAMA_REK:null,BANK_NAME:null,unf_rek:null,FILE_NAME:null,FILE_:null,bind_calc:!1}];arr_kom_type=[{POSISION:"APPROVE"},{POSISION:"CEK"}];items_kom_approve=[{EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null}];arr_office=[{office_name:"Grogol",office_code:"903"},{office_name:"Depok",office_code:"904"},{office_name:"Jakpus",office_code:"911"},{office_name:"Cikupa",office_code:"929"}];arr_items_before=[];str_info_pengajuan="";act_office=this.arr_office[0].office_code;is_fetching=!1;base64_sig_data=null;ngOnInit(){this.initLoad()}init_fetch(){}addItem(){this.items.push({KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:null,TOTAL_HARGA:0,unf_rek:null,NO_REK:null,NAMA_REK:null,BANK_NAME:null,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,FILE_NAME:null,FILE_:null,bind_calc:!1})}removeItem(t){this.items.splice(t,1)}bankChanged(t){let e=t.target.value,n=t.target.text}addKomite(){this.items_kom_approve.push({EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null})}removeKomite(t){this.items_kom_approve.splice(t,1)}get_kom_appr_detail(t){let e=t.target.value}trackByFn(t,e){return e.LVL}drop(t){Jr(this.items_kom_approve,t.previousIndex,t.currentIndex)}initLoad(){return F(this,null,function*(){yield this.get_approval_data(),yield this.get_rekening(),yield this.get_request_type(),this.setInit()})}get_rekening(){return F(this,null,function*(){let t={data:"test"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_rekening",{params:t}));this.arr_rek_data=e.data})}get_request_type(){return F(this,null,function*(){let t={data:"test"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_request_type",{params:t}));this.arr_request_type=e.data})}get_approval_data(){return F(this,null,function*(){console.log("get_approval_data"),this.items=[];let t={data:"RF20250100000016"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_detail_pengajuan_item_revisi",{params:t}));let n=e.data;this.arr_items_before=[...n],console.log(n);let r=o=>`${o[2]} - ${o[1]} - ${o[0]}`;n.forEach(o=>{this.items.push({KETERANGAN:o.KETERANGAN,HARGA_SATUAN:o.HARGA_SATUAN,QTY:o.QTY,PAJAK_TYPE:"-",PAJAK_AMOUNT:null,TOTAL_HARGA:o.TOTAL_HARGA,unf_rek:r([o.NO_REK,o.NAMA_REK,o.BANK_NAME]),NO_REK:o.NO_REK,NAMA_REK:o.NAMA_REK,BANK_NAME:o.BANK_NAME,JENIS_PEMBIAYAAN:o.JENIS_PEMBIAYAAN,FILE_NAME:o.FILE_NAME,FILE_:null,bind_calc:!1})}),console.log(this.items)})}setInit(){this.act_divisi={EMPL_JOB:Ee().EMPL_JOB,EMPL_JOB_NAME:Ee().JOB_DESCRIPTION},this.user_cabang=Ee().NAME_FULL}on_rek_changed(t,e){let n=t,r=this.items[e];n?r.unf_rek=n.toString():r.unf_rek=null,console.log(this.items)}on_type_pengajuan_changed(t){console.log()}on_pajak_changed(t,e){var n=t.target.value;this.items[e].PAJAK_TYPE=n,this.items[e].PAJAK_AMOUNT=null,this.getTotalHarga(e)}remove_appr_person(t){this.items_kom_approve.splice(t,1)}lockThis(t){console.log(t),this.items[t].bind_calc=!this.items[t].bind_calc,this.items[t].bind_calc?this.getTotalHarga(t):this.items[t].TOTAL_HARGA=0}change_sig_data(t){this.base64_sig_data=t,this.allow_send_pengajuan()}chooseFile(t,e){let r=t.target.parentElement?.querySelector(".inputFile");var o=document.createElement("input");o.setAttribute("type","file"),o.click(),o.onchange=s=>{let a=s.target.files;if(a){let l=a[0];this.items[e].FILE_NAME=a[0].name;let c=new FileReader;c.onload=()=>{let d=c.result;this.items[e].FILE_=d},c.readAsDataURL(l)}}}chooseFile_v2(t){let n=t.target.parentElement?.querySelector(".inputFile");var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".pdf, .jpeg, .jpeg, .png"),r.click(),r.onchange=o=>{let s=o.target.files;if(s){let a=s[0],l=new FileReader;l.onload=()=>{let c=l.result;this.act_file={file_name:s[0].name,file_base64:c},this.items.forEach(d=>{d.FILE_NAME=s[0].name})},l.readAsDataURL(a)}}}clear_file(){this.act_file.file_base64=null,this.act_file.file_name=null}rm_file(t){this.items[t].FILE_=null,this.items[t].FILE_NAME=null}notif_str="";filter_kom_approve(){let t=[...this.items_kom_approve];console.log(t);let e=1;for(let n of t)n.LVL=e,e++,console.log(n);return t}allow_send_pengajuan(){for(let t of this.items)if(t.KETERANGAN==""||t.HARGA_SATUAN==0||t.QTY==0)return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;for(let t of this.items_kom_approve)if(t.EMPL_CODE==null)return this.snackbar.open("Silahkan cek kembali komite approval.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;return this.base64_sig_data==null?(this.snackbar.open("Silahkan cek kembali tanda tangan pembuat.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1):!0}filter_rek(){this.items.forEach(t=>{let n=t.unf_rek?.split(" - ");t.NO_REK=n[2].toString(),t.BANK_NAME=n[0].toString(),t.NAMA_REK=n[1].toString()})}savePengajuan(){return F(this,null,function*(){this.is_fetching=!0;let t;if(!this.allow_send_pengajuan())return this.is_fetching=!1,!1;var e=this.filter_kom_approve();this.filter_rek();try{let n={user_data:{empl_code:bi(),office_code:this.act_office,pengajuan_type:this.str_info_pengajuan,selected_file:this.act_file},data:{pengajuan:this.items,komite_approve:e},file_data:this.act_file};t=yield X(this.http.post(J.env_dev.host+"/api-eappr/new_pengajuan",n)),console.log(t),this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_success"]})}catch(n){console.log(n)}return this.redirect_to_latest_pengajuan(),!0})}getTotal(){let t=0;for(var e of this.items)t=t+Number(e.TOTAL_HARGA);return t}getTotalHarga(t){if(this.items[t].bind_calc){let e=this.items[t],n=e.QTY,r=e.HARGA_SATUAN;e.PAJAK_AMOUNT!=null?e.TOTAL_HARGA=n*r+n*r*(Number(e.PAJAK_AMOUNT)/100):e.TOTAL_HARGA=n*r}}redirect_to_latest_pengajuan(){return F(this,null,function*(){let t={EMPL_CODE:Ee().EMPL_CODE};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_newest_pengajuan",{params:t}));let n=e.data[0].REQUEST_ID;console.log(n),localStorage.setItem("act_request_id",n),setTimeout(()=>{this.router.navigate(["request-dtl"])},2e3)})}debug_(){console.log()}static \u0275fac=function(e){return new(e||i)(k(Te),k(Rt),k(xe))};static \u0275cmp=R({type:i,selectors:[["app-p-revisi-pengajuan"]],decls:66,vars:12,consts:[[1,""],[1,"flex","flex-row","items-center","text-base"],[1,"mb-2","text-[#282828]"],[1,"mb-2","font-medium","tracking-wider","border-2","border-[#c1c1c1]","rounded-md","p-1","w-fit","px-2"],[1,"mx-8","w-[2px]","h-20","bg-[#c1c1c1]"],[1,"pb-8"],[1,"flex","items-center"],[1,"text-[#282828]"],[1,"mx-2"],["placeholder","Info Pengajuan","type","text",1,"p-2","w-[40vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"border","border-gray-300","rounded-md","overflow-hidden"],[1,"bg-gray-100"],[1,"text-xl","py-2","pl-3","tracking-wide"],[1,"overflow-y-auto","h-[50vh]","pb-2","border-b-2","text-sm"],[1,"w-full","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"flex-grow","border-slate-500","font-medium"],[1,"w-[10%]","border-slate-500","font-medium"],[1,"w-32","border-slate-500","font-medium"],[1,"w-20","border-slate-500","font-medium"],[1,"w-[50px]","border-slate-500","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","items-center","px-4"],[1,"p-2","my-4","bg-blue-500","text-white","rounded-md",3,"click"],[1,"w-60","justify-between","flex","flex-row"],[1,"flex","flex-row","my-4","items-center"],[1,"w-32","p-2","bg-blue-500","text-white","rounded-md","transition-all",3,"click","ngClass"],[3,"ngClass"],[1,"ml-4","h-6","text-lg","text-[#d42929]"],[1,"py-20"],[1,"flex","py-4","justify-center"],[1,"border-separate","border-slate-500"],["placeholder","Keterangan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"border-separate","px-2","border-slate-500"],[3,"change","items","ngModel"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","tracking-wider",3,"change","value"],["class","tracking-wider",3,"value",4,"ngFor","ngForOf"],["placeholder","Harga Satuan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],["placeholder","Quantity","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],[1,"w-full","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"w-full","tracking-wide","rounded-md","border-gray-200","border-2","overflow-hidden","focus:ring-0","outline-blue-200","transition-all","flex","flex-row",3,"ngClass"],["type","text",1,"p-2","w-full","tracking-wide","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","disabled","ngModel"],[1,"p-2","bg-[#f7f7f7]","shadow-md","border-l-2"],["type","number",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","change","disabled","ngModel","value"],[1,"flex","justify-center","items-center",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",3,"click"],["d","M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"tracking-wider",3,"value"],[3,"value"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",0)(3,"p",2),b(4,"Divisi"),h(),u(5,"p",3),b(6),h()(),w(7,"div",4),u(8,"div",0)(9,"p",2),b(10,"Cabang / Outlet"),h(),u(11,"p",3),b(12),h()()(),w(13,"div",5),u(14,"div",6)(15,"p",7),b(16,"Info Pengajuan : "),h(),w(17,"div",8),u(18,"input",9),G("ngModelChange",function(o){return $(n.str_info_pengajuan,o)||(n.str_info_pengajuan=o),o}),h()(),w(19,"div",5),u(20,"div",10)(21,"div",11)(22,"p",12),b(23,"Pengajuan"),h()(),u(24,"div",13)(25,"table",14)(26,"thead",0)(27,"tr")(28,"th",15),b(29,"No"),h(),u(30,"th",16),b(31,"Keterangan"),h(),u(32,"th",17),b(33,"Bank"),h(),u(34,"th",17),b(35,"Jenis Pembiayaan"),h(),u(36,"th",18),b(37,"Harga Satuan"),h(),u(38,"th",18),b(39,"Quantity"),h(),u(40,"th",19),b(41,"Tipe Pajak"),h(),u(42,"th",18),b(43,"Jumlah Pajak"),h(),u(44,"th",18),b(45,"Total Harga"),h(),w(46,"th",20)(47,"th",20),h()(),u(48,"tbody",21),M(49,ZS,35,25,"tr",22),h()()(),u(50,"div",23)(51,"button",24),S("click",function(){return n.addItem()}),b(52,"Add Item"),h(),u(53,"div",25)(54,"p"),b(55,"Total :"),h(),u(56,"p",0),b(57),h()()()(),u(58,"div",26)(59,"button",27),S("click",function(){return n.savePengajuan()}),u(60,"P",28),b(61,"Save"),h(),w(62,"div"),h(),u(63,"p",29),b(64),h()(),w(65,"div",30),h()),e&2&&(m(6),N(n.act_divisi.EMPL_JOB_NAME),m(6),N(n.user_cabang),m(6),W("ngModel",n.str_info_pengajuan),m(31),y("ngForOf",n.items),m(8),N(n.getTotal()),m(2),y("ngClass",Ne(8,$S,n.is_fetching===!0)),m(),y("ngClass",Ne(10,GS,n.is_fetching===!0)),m(4),N(n.notif_str))},dependencies:[fe,Pt,Ot,$e,zi,Zt,Ve,Ge,te,Ie,He,Zr,Ae],encapsulation:2})};var XS=(i,t,e)=>({"bg-green-600 opacity-100":i,"opacity-40":t,"opacity-50":e}),zl=class i{constructor(t,e,n){this.router=t;this.snackbar=e;this.http=n}empl_name="";empl_code="";empl_branch="";empl_mail="";empl_hp="";empl_hp_2="";new_empl_hp="";new_empl_mail="";new_empl_hp_2="";canSave=!1;canSave_email=!1;isFetching_save_email=!1;ngOnInit(){this.initLoad()}initLoad(){this.set_user_info()}inp_listener(){this.empl_hp_2!=this.new_empl_hp_2||this.empl_hp!=this.new_empl_hp||this.empl_mail!=this.new_empl_mail?this.canSave=!0:this.canSave=!1,console.log(this.canSave)}listen_canSave_email(t){var e=t.target.value;this.new_empl_mail=e,console.log(this.new_empl_mail),e!=this.empl_mail?this.canSave=!0:this.canSave=!1}listen_canSave_phone(t){var e=t.target.value;this.new_empl_hp=e,console.log(this.new_empl_hp),e!=this.empl_hp?this.canSave=!0:this.canSave=!1}detect_save_mail(){let t=this.new_empl_mail,e=this.new_empl_hp;return!t.includes("@")||!t.includes(".")?(this.snackbar.open("Format email tidak sesuai",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1):!0}set_user_info(){let t=Ee();console.log(t),console.log(t.email),this.empl_name=t.EMPL_NAME,this.empl_code=t.EMPL_CODE,this.empl_branch=t.NAME_FULL,this.empl_mail=t.email,this.empl_hp=t.NO_HP,this.empl_hp_2=t.NO_HP_2,this.new_empl_mail=this.empl_mail,this.new_empl_hp=this.empl_hp,this.new_empl_hp_2=this.empl_hp_2}is_null(t){return console.log(t),t==null||t.toString().trim()==""?"":t.toString().trim()}signOut(){localStorage.clear(),this.router.navigate(["/login"])}save_email(){return F(this,null,function*(){if(this.canSave&&!this.isFetching_save_email)try{this.isFetching_save_email=!0;let e={empl_code:bi(),mail_to_change:this.is_null(this.new_empl_mail),phone_to_change:this.is_null(this.new_empl_hp),phone_to_change_2:this.is_null(this.new_empl_hp_2)};var t=yield X(this.http.post(J.env_dev.host+"/api-eappr/user_change_email",e));if(this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_success"]}),t.status==200){let n=localStorage.getItem("user_dtl"),r=JSON.parse(n).data[0];console.log(r),r.email=this.new_empl_mail,r.NO_HP=this.new_empl_hp,r.NO_HP_2=this.new_empl_hp_2,localStorage.setItem("user_dtl",JSON.stringify({isSuccess:!0,message:"success",data:[r]})),this.canSave_email=!1}}catch(e){console.log(e)}finally{this.isFetching_save_email=!1}})}static \u0275fac=function(e){return new(e||i)(k(xe),k(Rt),k(Te))};static \u0275cmp=R({type:i,selectors:[["app-p-user-profile"]],decls:56,vars:11,consts:[[1,"flex","flex-col","px-4"],[1,"text-3xl"],[1,"my-2"],[1,"flex","flex-row","h-[320px]"],[1,"flex","flex-col","h-full"],[1,"flex","flex-col","justify-center"],[1,"text-sm","w-40"],[1,"text-sm","text-[12px]","text-gray-500"],["disabled","",1,"p-1","px-2","w-full","sm:w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"value"],[1,"mx-2","bg-gray-200","h-[full]","w-[2px]"],[1,"flex","flex-col"],[1,"p-1","px-2","w-full","sm:w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"keyup","ngModelChange","ngModel"],["type","number",1,"p-1","px-2","w-full","sm:w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"keyup","ngModelChange","ngModel"],[1,"w-full","sm:w-[26vw]","text-sm","p-[6px]","px-8","pb-[7px]","tracking-wide","text-white","bg-[#888]","rounded-md","transition-all",3,"click","ngClass"],[1,"my-4"],[1,"p-2","bg-[#df6363]","rounded-md","text-white","w-fit","transition-all","pb-[10px]",3,"click"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div")(2,"p",1),b(3,"User Info"),h()(),w(4,"div",2),u(5,"div",3)(6,"div",4)(7,"div",5)(8,"p",6),b(9,"Nama : "),h(),u(10,"p",7),b(11,"Nama karyawan"),h(),w(12,"input",8),h(),w(13,"div",2),u(14,"div",5)(15,"p",6),b(16,"NIK : "),h(),u(17,"p",7),b(18,"NIK karyawan"),h(),w(19,"input",8),h(),w(20,"div",2),u(21,"div",5)(22,"p",6),b(23,"Branch : "),h(),u(24,"p",7),b(25,"Branch Karyawan"),h(),w(26,"input",8),h()(),w(27,"div",9),u(28,"div",10)(29,"div",5)(30,"p",6),b(31,"Email :"),h(),u(32,"p",7),b(33,"Contoh john@transfinance.co.id"),h(),u(34,"input",11),S("keyup",function(){return n.inp_listener()}),G("ngModelChange",function(o){return $(n.new_empl_mail,o)||(n.new_empl_mail=o),o}),h()(),w(35,"div",2),u(36,"div",5)(37,"p",6),b(38,"Nomor Handphone :"),h(),u(39,"p",7),b(40,"Contoh 085522223333"),h(),u(41,"input",12),S("keyup",function(){return n.inp_listener()}),G("ngModelChange",function(o){return $(n.new_empl_hp,o)||(n.new_empl_hp=o),o}),h()(),w(42,"div",2),u(43,"div",5)(44,"p",6),b(45,"Nomor Handphone 2:"),h(),u(46,"p",7),b(47,"Contoh 085522223333"),h(),u(48,"input",12),S("keyup",function(){return n.inp_listener()}),G("ngModelChange",function(o){return $(n.new_empl_hp_2,o)||(n.new_empl_hp_2=o),o}),h()(),w(49,"div",2),u(50,"button",13),S("click",function(){return n.save_email()}),b(51," Save "),h()()(),w(52,"div",14),u(53,"button",15),S("click",function(){return n.signOut()}),b(54," Log out "),h(),w(55,"div",14),h()),e&2&&(m(12),y("value",n.empl_name),m(7),y("value",n.empl_code),m(7),y("value",n.empl_branch),m(8),W("ngModel",n.new_empl_mail),m(7),W("ngModel",n.new_empl_hp),m(7),W("ngModel",n.new_empl_hp_2),m(2),y("ngClass",Vn(7,XS,n.canSave,!n.canSave,n.isFetching_save_email)))},dependencies:[te,Ie,Ae,fe,$e,zi,Ve,Ge],encapsulation:2})};var QS=(i,t,e)=>({"border-[#3ba62b] bg-[#e4ffdf]":i,"border-[#a62b2b] bg-[#ffdfdf]":t,"border-[#cfc038] bg-[#fff9c7]":e}),ek=(i,t)=>({"bg-[#333] text-white":i,"bg-[#888] opacity-50 cursor-default":t});function tk(i,t){if(i&1&&(u(0,"option",19),b(1),h()),i&2){let e=t.$implicit;y("value",e.appr),m(),ye(" ",e.appr_name," ")}}var Hl=class i{constructor(t,e,n,r){this.http=t;this.snackbar=e;this.route=n;this.repVal=r}dialog_exit=new j;req_data;arr_approval=[{appr:"AP",appr_name:"Approve"},{appr:"RJ",appr_name:"Reject"}];canSend=!1;isFetching=!1;act_appr;act_reason="";base64_sig_data;ngOnInit(){this.initLoad()}initLoad(){this.act_appr=this.arr_approval[0].appr,console.log(this.req_data),console.log(this.act_reason.length)}change_sig(t){this.base64_sig_data=t,this.canSend_bool()}on_appr_change(t){let e=t.target.value;this.act_appr=e}onExit(){this.dialog_exit.emit()}send_approve(){return F(this,null,function*(){if(console.log("send_approve"),console.log(this.act_reason),console.log(this.canSend),this.canSend){this.isFetching=!0;let e={REQ_ID:this.req_data.req_id,EMPL_CODE:this.req_data.empl_code,STATUS:this.act_appr,REASON:this.repVal.enc_str(this.act_reason)};var t=yield X(this.http.post(J.env_dev.host+"/api-eappr/approval_approve",{queryParams:e}));let n=t.data;n.toString().toLowerCase().includes("berhasil")?(this.snackbar.open(n,void 0,{duration:5e3,panelClass:["notif_success"]}),this.route.navigate(["approve-pengajuan"])):(this.snackbar.open("Approval gagal.",void 0,{duration:5e3,panelClass:["notif_neutral"]}),this.isFetching=!1)}})}on_reason_change(t){let e=t.target.value;this.act_reason=e,this.canSend_bool()}canSend_bool(){this.act_reason!=""!=null&&!this.isFetching?this.canSend=!0:this.canSend=!1}get_file_name(){let t=this.base64_sig_data.split(";")[0].split("/")[1];return`${this.req_data.req_id}_${this.req_data.empl_code}.${t}`}get_file_data(){return this.base64_sig_data.split(",")[1]}dec_string(t){return this.repVal.dec_str(t)}static \u0275fac=function(e){return new(e||i)(k(Te),k(Rt),k(xe),k(Sn))};static \u0275cmp=R({type:i,selectors:[["app-c-approve-box"]],inputs:{req_data:"req_data"},outputs:{dialog_exit:"dialog_exit"},decls:27,vars:12,consts:[[1,"sm:w-fit","w-[96vw]","h-fit","rounded-md","bg-white","p-1","px-3"],[1,"sm:text-xl","text-md","flex","flex-row","justify-start"],[1,""],[1,"mx-1"],[1,"tracking-wide","font-medium"],[1,"my-6"],[1,"h-fit","overflow-y-auto","pr-2"],[1,"flex","flex-col","items-start","justify-start","p-2","border-2","rounded-md",3,"ngClass"],[1,"text-xl","mb-1"],[1,"my-1"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-[6px]","pb-[8px]","text-md","tracking-wide",3,"valueChange","change","value"],[3,"value",4,"ngFor","ngForOf"],[1,"my-4"],[1,"flex","flex-col","text-sm"],["type","text",1,"p-1","w-full","h-[72px]","tracking-wide","rounded-md","border-[#aaa]","border-2","focus:ring-0","outline-[#999]","transition-all","resize-none",3,"input"],[1,"flex","flex-row","py-2"],[1,"p-2","px-4","text-white","rounded-md","transition-all",3,"click","ngClass"],[1,"mx-2"],[1,"p-2","px-4","bg-[#888]","text-white","rounded-md",3,"click"],[3,"value"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"p",2),b(3,"Request ID :"),h(),w(4,"div",3),u(5,"p",4),b(6),h()(),w(7,"div",5),u(8,"div",6)(9,"div",7)(10,"p",8),b(11,"Approval Status :"),h(),w(12,"div",9),u(13,"select",10),G("valueChange",function(o){return $(n.act_appr,o)||(n.act_appr=o),o}),S("change",function(o){return n.on_appr_change(o)}),M(14,tk,2,2,"option",11),h()(),w(15,"div",12),u(16,"div",13)(17,"p",8),b(18,"Reason :"),h(),w(19,"div",9),u(20,"textarea",14),S("input",function(o){return n.on_reason_change(o)}),h()()(),u(21,"div",15)(22,"button",16),S("click",function(){return n.send_approve()}),b(23,"Proses"),h(),w(24,"div",17),u(25,"button",18),S("click",function(){return n.onExit()}),b(26,"Cancel"),h()()()),e&2&&(m(6),N(n.req_data.req_id),m(3),y("ngClass",Vn(5,QS,n.act_appr=="AP",n.act_appr=="RJ",n.act_appr=="RC")),m(4),W("value",n.act_appr),m(),y("ngForOf",n.arr_approval),m(8),y("ngClass",ze(9,ek,n.canSend==!0,n.canSend==!1)))},dependencies:[te,Ie,He,fe,Pt,Ot,Ae],encapsulation:2})};var nk=["spawnApprove"],ik=["captureDiv"],rk=(i,t,e)=>({"border-green-700 bg-[#fbfffa]":i,"border-red-700 bg-[#fffcfc]":t,"border-yellow-500 bg-[#fffbef]":e}),ok=(i,t,e)=>({"bg-green-700":i,"bg-red-700":t,"bg-yellow-500":e});function sk(i,t){if(i&1&&(u(0,"tr",2)(1,"td",41)(2,"div",42),b(3),h()(),u(4,"td",41)(5,"div",43),b(6),h()(),u(7,"td",41)(8,"div",43),b(9),h()(),u(10,"td",41)(11,"div",44)(12,"p"),b(13),h()()(),u(14,"td",41)(15,"div",45),b(16),me(17,"number"),h()(),u(18,"td",41)(19,"div",42),b(20),h()(),u(21,"td",41)(22,"div",42),b(23),h()(),u(24,"td",41)(25,"div",42),b(26),h()(),u(27,"td",41)(28,"div",45),b(29),me(30,"number"),h()()()),i&2){let e=t.$implicit,n=t.index,r=C();m(3),N(n+1),m(3),N(e.KETERANGAN),m(3),N(e.JENIS_PEMBIAYAAN),m(4),N(e.BANK_NAME+" - "+e.NO_REK+" - "+e.NAMA_REK),m(3),N(Po(17,9,r.format_rp(e.HARGA_SATUAN),"2.")),m(4),N(e.QTY),m(3),N(e.PPN?e.PPN+"%":"-"),m(3),N(e.PPH?e.PPH+"%":"-"),m(3),N(Po(30,12,e.TOTAL_HARGA,"2."))}}function ak(i,t){if(i&1){let e=Y();u(0,"div")(1,"div",47)(2,"div",48),ae(),u(3,"svg",49),w(4,"path",50),h(),Pe(),u(5,"div",51),b(6),h()(),w(7,"div",52),u(8,"div",53)(9,"button",54),S("click",function(){I(e);let r=C(2);return T(r.file_download())}),ae(),u(10,"svg",49),w(11,"path",55),h()(),Pe(),w(12,"div",52),u(13,"button",54),S("click",function(){I(e);let r=C(2);return T(r.file_view())}),ae(),u(14,"svg",49),w(15,"path",56),h()()()()()}if(i&2){let e=C(2);m(6),N(e.file_data.file_name)}}function lk(i,t){i&1&&(u(0,"div",57)(1,"p"),b(2,"No file uploaded"),h()())}function ck(i,t){if(i&1&&(u(0,"div"),M(1,ak,16,1,"div",29)(2,lk,3,0,"div",46),h()),i&2){let e=C();m(),y("ngIf",e.file_data.file_name!=""),m(),y("ngIf",e.file_data.file_name=="")}}function dk(i,t){i&1&&(u(0,"div",58),w(1,"app-c-loading-spin",59),h()),i&2&&(m(),y("size",40))}function uk(i,t){if(i&1&&(u(0,"p",73),b(1),h()),i&2){let e=C().$implicit;m(),N(e.STAT_DATE)}}function pk(i,t){i&1&&(u(0,"p",73),b(1,"-"),h())}function hk(i,t){if(i&1&&(u(0,"div",62)(1,"p",63),b(2),h(),u(3,"p",64),b(4),h(),M(5,uk,2,1,"p",65)(6,pk,2,0,"p",65),u(7,"div",66)(8,"p"),b(9,"Reason :"),h(),u(10,"div",67)(11,"p",68),b(12),h()()(),u(13,"div",69)(14,"div",70),b(15),h(),u(16,"div",71),w(17,"img",72),h()()()),i&2){let e=t.$implicit,n=C(2);y("ngClass",Vn(9,rk,e.STATUS=="AP",e.STATUS=="RJ",e.STATUS=="RC")),m(2),N(e.empl_name),m(2),N(e.job_name),m(),y("ngIf",e.STAT_DATE!=null),m(),y("ngIf",e.STAT_DATE==null),m(6),N(n.dec_string(e.REASON)),m(2),y("ngClass",Vn(13,ok,e.STATUS=="AP",e.STATUS=="RJ",e.STATUS=="RC")),m(),ye(" ",n.format_status_str(e.STATUS)," "),m(2),y("src",e.sig_base64,kr)}}function mk(i,t){if(i&1&&(u(0,"div",60),M(1,hk,18,17,"div",61),h()),i&2){let e=C();m(),y("ngForOf",e.arr_approval_data)}}function fk(i,t){i&1&&(u(0,"div",74),w(1,"app-c-loading-spin",59),h()),i&2&&(m(),y("size",60))}function gk(i,t){if(i&1){let e=Y();u(0,"dialog",75,0)(2,"app-c-approve-box",76),S("dialog_exit",function(){I(e);let r=C();return T(r.dialog_approve_exit())}),h()()}if(i&2){let e=C();m(2),y("req_data",e.send_to_dialog)}}var Ul=class i{constructor(t,e,n){this.http=t;this.act_route=e;this.repVal=n}spawnApprove;captureDiv;req_id;arr_item_pengajuan=[];arr_approval_data=[];pengajuan_header={};arr_img_data=[];spawn_box_approve=!1;send_to_dialog={};order_create_date="";judul_pengajuan="";base64_sig_data=null;isFetching_file=!0;isFetching_approval=!0;exporting_pdf=!1;file_data={file_name:null,data:null};ngOnInit(){this.initLoad()}initLoad(){return F(this,null,function*(){this.req_id=this.act_route.snapshot.queryParams.id,this.get_item_pengajuan(),this.get_approval_data(),this.get_file_data(),console.log(this.file_data),console.log(this.file_data.file_name),this.send_to_dialog={req_id:this.req_id,empl_code:Ee().EMPL_CODE}})}get_item_pengajuan(){return F(this,null,function*(){try{console.log(`
 get_item_pengajuan 
`);let e={req_id:this.req_id};var t=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_detail_pengajuan_item",{params:e}));console.log(e),console.log(t),this.order_create_date=t.data[0].TGL_PENGAJUAN??"!cek",this.judul_pengajuan=t.data[0].KATEGORI_REQUEST??"!cek",this.arr_item_pengajuan=t.data}catch(e){console.log(e)}})}get_file_data(){return F(this,null,function*(){let t={req_id:this.req_id};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_file_data",{params:t}));console.log(e),this.file_data=e.data,this.isFetching_file=!1})}get_approval_data(){return F(this,null,function*(){let t={req_id:this.req_id};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_approval_data",{params:t}));this.arr_approval_data=e.data,this.isFetching_approval=!1})}get_image_file(){return F(this,null,function*(){console.log("get_image_file");let t={req_id:this.req_id};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_sig_img_data",{params:t}));console.log(e)})}file_view(){let t=this.file_data.data;console.log(t);let e=atob(t),n=Array.from(e,a=>a.charCodeAt(0)),r=new Uint8Array(n),o=new Blob([r],{type:"application/pdf"}),s=URL.createObjectURL(o);window.open(s,"_blank")}file_download(){let t=this.file_data.data,e="download.pdf",n=`data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,${t}`,r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}dialog_approve_exit(){this.spawn_box_approve=!1}dialog_approve_spawn(){this.spawn_box_approve=!0}export_pdf(){return F(this,null,function*(){let t=document.getElementById("export_pdf()");this.exporting_pdf=!0;let e={req_id:this.req_id};console.log(this.req_id),window.open(`${J.env_dev.host}/api-eappr/get_pdf_export?req_id=`+this.req_id,"_blank")})}format_rp(t){return t}format_status_str(t){return t=="AP"?"Approve":t=="RJ"?"Reject":t=="RC"?"Re-check":"-"}dec_string(t){return this.repVal.dec_str(t)}static \u0275fac=function(e){return new(e||i)(k(Te),k(Cn),k(Sn))};static \u0275cmp=R({type:i,selectors:[["app-p-request-dtl"]],viewQuery:function(e,n){if(e&1&&(Oe(nk,5),Oe(ik,5)),e&2){let r;re(r=oe())&&(n.spawnApprove=r.first),re(r=oe())&&(n.captureDiv=r.first)}},decls:75,vars:9,consts:[["spawnApprove",""],["id","printThis",1,""],[1,""],[1,"text-xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center"],[1,"flex","flex-col"],[1,"text-sm","tracking-wider","rounded-sm"],[1,"text-md","mb-2","font-medium","tracking-wide","rounded-sm","text-[18px]"],[1,"py-2","pt-1","sm:pt-0","sm:px-6"],[1,"w-[86vw]","sm:w-[2px]","h-[2px]","sm:h-12","bg-[#ccc]"],[1,"text-md","mb-2","font-medium","tracking-wider","rounded-sm","text-[18px]"],[1,"my-8"],[1,"text-xl","font-medium","py-2","tracking-wide","mb-2"],[1,"sm:w-fit","w-full","overflow-x-auto"],[1,"w-fit","border","border-[#666]","rounded-md","overflow-auto"],[1,"overflow-y-auto","h-fit","border-b-2","text-xs"],[1,"w-fit","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"bg-[#f8f8f8]","mb-2"],[1,"w-[60px]","border-x","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[200px]","border-x","border-gray-200","font-medium"],[1,"w-[300px]","border-x","border-gray-200","font-medium"],[1,"w-[120px]","border-x","border-gray-200","font-medium"],[1,"w-[60px]","border-x","border-gray-200","font-medium"],[1,"w-[120px]","border-x","border-r-0","border-gray-200","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,"my-12"],[1,"flex","flex-col","justify-start"],[1,"text-xl","mb-2","font-medium","tracking-wide","rounded-md","w-fit"],[4,"ngIf"],["class","w-full flex h-fit",4,"ngIf"],[1,"flex","flex-col","flex-shrink-0","w-full","sm:w-[80vw]"],[1,"w-full","overflow-x-auto","pb-2"],["class","flex flex-shrink-0 w-fit",4,"ngIf"],["class","w-full flex justify-center items-center h-fit",4,"ngIf"],["class","fixed h-[100vh] w-[100vw] top-0 left-0 bg-[#00000058] flex justify-center items-center",4,"ngIf"],[1,"my-6"],[1,"flex","flex-row"],[1,"p-2","pb-[10px]","px-4","rounded-md","text-lg","tracking-wide","text-white","border-2","border-[#2f7048]","bg-[#3b905b]","mr-4",3,"click"],[1,"p-2","pb-[10px]","px-4","rounded-md","text-lg","tracking-wide","text-white","border-2","border-[#2f5370]","bg-[#3b6a90]",3,"click"],[1,"my-[40vh]"],[1,"border","px-2"],[1,"flex","py-2","justify-center"],[1,"flex","py-2","justify-start"],[1,"flex","py-2","justify-start","text-start","flex-col","mr-8"],[1,"flex","py-2","justify-end","mr-8"],["class","text-lg text-[#999]",4,"ngIf"],[1,"flex","sm:flex-row","flex-col","mt-2"],[1,"flex","flex-row","p-2","bg-[#fff]","border-2","border-[#aaa]","w-fit","rounded-md","text-[#000]","fill-[#000]","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256"],["d","M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"],[1,"mx-2"],[1,"mx-1"],[1,"flex","flex-row","sm:mt-0","mt-2"],[1,"flex","flex-row","p-2","border-2","border-[#aaa]","bg-[#fff]","w-fit","rounded-md","text-black","fill-black","items-center",3,"click"],["d","M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40a8,8,0,0,0-11.32-11.32L136,124.69V32a8,8,0,0,0-16,0v92.69L93.66,98.34a8,8,0,0,0-11.32,11.32Z"],["d","M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.46,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"],[1,"text-lg","text-[#999]"],[1,"w-full","flex","h-fit"],[3,"size"],[1,"flex","flex-shrink-0","w-fit"],["class","w-80 h-fit border-2 border-[#ddd] rounded-md flex flex-col p-3 mr-6 relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-80","h-fit","border-2","border-[#ddd]","rounded-md","flex","flex-col","p-3","mr-6","relative",3,"ngClass"],[1,"font-medium","tracking-wide","text-sm","text-nowrap"],[1,"text-sm"],["class","text-xs",4,"ngIf"],[1,"flex","flex-col","mt-2"],[1,"border-2","h-24","w-full","rounded-md","border-[#c2c2c2]","mt-2"],[1,"m-2","text-xs"],[1,"flex","justify-between","flex-row","flex-grow-0","items-center"],[1,"flex","flex-col","justify-center","items-center","w-32","flex-grow-0","mt-2","px-2","p-2","rounded-md","text-white",3,"ngClass"],[1,"relative"],[1,"h-[40px]",3,"src"],[1,"text-xs"],[1,"w-full","flex","justify-center","items-center","h-fit"],[1,"fixed","h-[100vh]","w-[100vw]","top-0","left-0","bg-[#00000058]","flex","justify-center","items-center"],[3,"dialog_exit","req_data"]],template:function(e,n){e&1&&(u(0,"div",1)(1,"div")(2,"div",2)(3,"p",3),b(4,"Detail Pengajuan"),h(),u(5,"div",4)(6,"div",5)(7,"p",6),b(8,"Judul Pengajuan"),h(),u(9,"p",7),b(10),h()(),u(11,"div",8),w(12,"div",9),h(),u(13,"div",5)(14,"p",6),b(15,"Nomor Order"),h(),u(16,"p",10),b(17),h()(),u(18,"div",8),w(19,"div",9),h(),u(20,"div",5)(21,"p",6),b(22,"Tanggal Order"),h(),u(23,"p",10),b(24),h()()()()(),w(25,"div",11),u(26,"p",12),b(27,"Item Pengajuan"),h(),u(28,"div",13)(29,"div",14)(30,"div",15)(31,"table",16)(32,"thead",17)(33,"tr")(34,"th",18),b(35,"No"),h(),u(36,"th",19),b(37,"Keterangan"),h(),u(38,"th",19),b(39,"Jenis Pembiayaan"),h(),u(40,"th",20),b(41,"Bank"),h(),u(42,"th",21),b(43,"Harga Satuan"),h(),u(44,"th",22),b(45,"Quantity"),h(),u(46,"th",22),b(47,"PPN"),h(),u(48,"th",22),b(49,"PPH"),h(),u(50,"th",23),b(51,"Total Harga"),h()()(),u(52,"tbody",24),M(53,sk,31,15,"tr",25),h()()()()(),w(54,"div",26),u(55,"div",27)(56,"div",28),b(57,"Uploaded file"),h(),M(58,ck,3,2,"div",29)(59,dk,2,1,"div",30),h(),w(60,"div",26),u(61,"div",31)(62,"div",3),b(63,"Approval"),h(),u(64,"div",32),M(65,mk,2,1,"div",33)(66,fk,2,1,"div",34),h()(),M(67,gk,3,1,"dialog",35),w(68,"div",36),u(69,"div",37)(70,"button",38),S("click",function(){return n.dialog_approve_spawn()}),b(71,"Proses Pengajuan"),h(),u(72,"button",39),S("click",function(){return n.export_pdf()}),b(73,"Export PDF "),h()(),w(74,"div",40),h()),e&2&&(m(10),ye(" ",n.dec_string(n.judul_pengajuan),""),m(7),N(n.req_id),m(7),N(n.order_create_date),m(29),y("ngForOf",n.arr_item_pengajuan),m(5),y("ngIf",!n.isFetching_file),m(),y("ngIf",n.isFetching_file),m(6),y("ngIf",!n.isFetching_approval),m(),y("ngIf",n.isFetching_approval),m(),y("ngIf",n.spawn_box_approve))},dependencies:[Ae,te,Ie,He,Ce,ma,fe,Hl,kn],encapsulation:2})};var Qr=class{constructor(t,e,n,r){if(isNaN(t)||isNaN(e))throw new Error(`Point is invalid: (${t}, ${e})`);this.x=+t,this.y=+e,this.pressure=n||0,this.time=r||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}},Xu=class i{static fromPoints(t,e){let n=this.calculateControlPoints(t[0],t[1],t[2]).c2,r=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new i(t[1],n,r,t[2],e.start,e.end)}static calculateControlPoints(t,e,n){let r=t.x-e.x,o=t.y-e.y,s=e.x-n.x,a=e.y-n.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+n.x)/2,y:(e.y+n.y)/2},d=Math.sqrt(r*r+o*o),p=Math.sqrt(s*s+a*a),f=l.x-c.x,g=l.y-c.y,_=d+p==0?0:p/(d+p),x={x:c.x+f*_,y:c.y+g*_},E=e.x-x.x,O=e.y-x.y;return{c1:new Qr(l.x+E,l.y+O),c2:new Qr(c.x+E,c.y+O)}}constructor(t,e,n,r,o,s){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=r,this.startWidth=o,this.endWidth=s}length(){let e=0,n,r;for(let o=0;o<=10;o+=1){let s=o/10,a=this.point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){let c=a-n,d=l-r;e+=Math.sqrt(c*c+d*d)}n=a,r=l}return e}point(t,e,n,r,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+o*t*t*t}},Qu=class{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,e,n){this._et.addEventListener(t,e,n)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,e,n){this._et.removeEventListener(t,e,n)}};function _k(i,t=250){let e=0,n=null,r,o,s,a=()=>{e=Date.now(),n=null,r=i.apply(o,s),n||(o=null,s=[])};return function(...c){let d=Date.now(),p=t-(d-e);return o=this,s=c,p<=0||p>t?(n&&(clearTimeout(n),n=null),e=d,r=i.apply(o,s),n||(o=null,s=[])):n||(n=window.setTimeout(a,p)),r}}var Wl=class i extends Qu{constructor(t,e={}){var n,r,o;super(),this.canvas=t,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=s=>{!this._isLeftButtonPressed(s,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(s))},this._handleMouseMove=s=>{if(!this._isLeftButtonPressed(s,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(s),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(s))},this._handleMouseUp=s=>{this._isLeftButtonPressed(s)||this._strokeEnd(this._pointerEventToSignatureEvent(s))},this._handleTouchStart=s=>{s.targetTouches.length!==1||this._drawingStroke||(s.cancelable&&s.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(s)))},this._handleTouchMove=s=>{if(s.targetTouches.length===1){if(s.cancelable&&s.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(s),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(s))}},this._handleTouchEnd=s=>{s.targetTouches.length===0&&(s.cancelable&&s.preventDefault(),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this._strokeEnd(this._touchEventToSignatureEvent(s)))},this._handlePointerDown=s=>{!s.isPrimary||!this._isLeftButtonPressed(s)||this._drawingStroke||(s.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(s)))},this._handlePointerMove=s=>{if(s.isPrimary){if(!this._isLeftButtonPressed(s,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(s),!1);return}s.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(s))}},this._handlePointerUp=s=>{!s.isPrimary||this._isLeftButtonPressed(s)||(s.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(s)))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle=(n=e.throttle)!==null&&n!==void 0?n:16,this.minDistance=(r=e.minDistance)!==null&&r!==void 0?r:5,this.dotSize=e.dotSize||0,this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=e.compositeOperation||"source-over",this.canvasContextOptions=(o=e.canvasContextOptions)!==null&&o!==void 0?o:{},this._strokeMoveUpdate=this.throttle?_k(i.prototype._strokeUpdate,this.throttle):i.prototype._strokeUpdate,this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){let{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(t,e={}){return new Promise((n,r)=>{let o=new Image,s=e.ratio||window.devicePixelRatio||1,a=e.width||this.canvas.width/s,l=e.height||this.canvas.height/s,c=e.xOffset||0,d=e.yOffset||0;this._reset(this._getPointGroupOptions()),o.onload=()=>{this._ctx.drawImage(o,c,d,a,l),n()},o.onerror=p=>{r(p)},o.crossOrigin="anonymous",o.src=t,this._isEmpty=!1})}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return typeof e!="object"&&(e=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(e))}`;default:return typeof e!="number"&&(e=void 0),this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";let t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){var t;let e=window.document===this.canvas.ownerDocument?window:(t=this.canvas.ownerDocument.defaultView)!==null&&t!==void 0?t:this.canvas.ownerDocument;return{addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}_removeMoveUpEventListeners(){let{removeEventListener:t}=this._getListenerFunctions();t("pointermove",this._handlePointerMove),t("pointerup",this._handlePointerUp),t("mousemove",this._handleMouseMove),t("mouseup",this._handleMouseUp),t("touchmove",this._handleTouchMove),t("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:e=!0}={}){e&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_isLeftButtonPressed(t,e){return e?t.buttons===1:(t.buttons&1)===1}_pointerEventToSignatureEvent(t){return{event:t,type:t.type,x:t.clientX,y:t.clientY,pressure:"pressure"in t?t.pressure:0}}_touchEventToSignatureEvent(t){let e=t.changedTouches[0];return{event:t,type:t.type,x:e.clientX,y:e.clientY,pressure:e.force}}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;let{addEventListener:n}=this._getListenerFunctions();switch(t.event.type){case"mousedown":n("mousemove",this._handleMouseMove),n("mouseup",this._handleMouseUp);break;case"touchstart":n("touchmove",this._handleTouchMove),n("touchend",this._handleTouchEnd);break;case"pointerdown":n("pointermove",this._handlePointerMove),n("pointerup",this._handlePointerUp);break}this._drawingStroke=!0;let r=this._getPointGroupOptions(),o=Object.assign(Object.assign({},r),{points:[]});this._data.push(o),this._reset(r),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));let e=this._createPoint(t.x,t.y,t.pressure),n=this._data[this._data.length-1],r=n.points,o=r.length>0&&r[r.length-1],s=o?e.distanceTo(o)<=this.minDistance:!1,a=this._getPointGroupOptions(n);if(!o||!(o&&s)){let l=this._addPoint(e,a);o?l&&this._drawCurve(l,a):this._drawDot(e,a),r.push({time:e.time,x:e.x,y:e.y,pressure:e.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t,e=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(e&&this._strokeUpdate(t),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart)}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,e,n){let r=this.canvas.getBoundingClientRect();return new Qr(t-r.left,e-r.top,n,new Date().getTime())}_addPoint(t,e){let{_lastPoints:n}=this;if(n.push(t),n.length>2){n.length===3&&n.unshift(n[0]);let r=this._calculateCurveWidths(n[1],n[2],e),o=Xu.fromPoints(n,r);return n.shift(),o}return null}_calculateCurveWidths(t,e,n){let r=n.velocityFilterWeight*e.velocityFrom(t)+(1-n.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(r,n),s={end:o,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=o,s}_strokeWidth(t,e){return Math.max(e.maxWidth/(t+1),e.minWidth)}_drawCurveSegment(t,e,n){let r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,e){let n=this._ctx,r=t.endWidth-t.startWidth,o=Math.ceil(t.length())*2;n.beginPath(),n.fillStyle=e.penColor;for(let s=0;s<o;s+=1){let a=s/o,l=a*a,c=l*a,d=1-a,p=d*d,f=p*d,g=f*t.startPoint.x;g+=3*p*a*t.control1.x,g+=3*d*l*t.control2.x,g+=c*t.endPoint.x;let _=f*t.startPoint.y;_+=3*p*a*t.control1.y,_+=3*d*l*t.control2.y,_+=c*t.endPoint.y;let x=Math.min(t.startWidth+c*r,e.maxWidth);this._drawCurveSegment(g,_,x)}n.closePath(),n.fill()}_drawDot(t,e){let n=this._ctx,r=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,r),n.closePath(),n.fillStyle=e.penColor,n.fill()}_fromData(t,e,n){for(let r of t){let{points:o}=r,s=this._getPointGroupOptions(r);if(o.length>1)for(let a=0;a<o.length;a+=1){let l=o[a],c=new Qr(l.x,l.y,l.pressure,l.time);a===0&&this._reset(s);let d=this._addPoint(c,s);d&&e(d,s)}else this._reset(s),n(o[0],s)}}toSVG({includeBackgroundColor:t=!1}={}){let e=this._data,n=Math.max(window.devicePixelRatio||1,1),r=0,o=0,s=this.canvas.width/n,a=this.canvas.height/n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttribute("viewBox",`${r} ${o} ${s} ${a}`),l.setAttribute("width",s.toString()),l.setAttribute("height",a.toString()),t&&this.backgroundColor){let c=document.createElement("rect");c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill",this.backgroundColor),l.appendChild(c)}return this._fromData(e,(c,{penColor:d})=>{let p=document.createElement("path");if(!isNaN(c.control1.x)&&!isNaN(c.control1.y)&&!isNaN(c.control2.x)&&!isNaN(c.control2.y)){let f=`M ${c.startPoint.x.toFixed(3)},${c.startPoint.y.toFixed(3)} C ${c.control1.x.toFixed(3)},${c.control1.y.toFixed(3)} ${c.control2.x.toFixed(3)},${c.control2.y.toFixed(3)} ${c.endPoint.x.toFixed(3)},${c.endPoint.y.toFixed(3)}`;p.setAttribute("d",f),p.setAttribute("stroke-width",(c.endWidth*2.25).toFixed(3)),p.setAttribute("stroke",d),p.setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),l.appendChild(p)}},(c,{penColor:d,dotSize:p,minWidth:f,maxWidth:g})=>{let _=document.createElement("circle"),x=p>0?p:(f+g)/2;_.setAttribute("r",x.toString()),_.setAttribute("cx",c.x.toString()),_.setAttribute("cy",c.y.toString()),_.setAttribute("fill",d),l.appendChild(_)}),l.outerHTML}};var bk=["canvas"];function vk(i,t){i&1&&(u(0,"p",10),b(1,"Signature is required"),h())}var $l=class i{canvasEl;base64_sig_data=new j;signatureNeeded;signaturePad;signatureImg;base64_sig;constructor(){}ngOnInit(){}ngAfterViewInit(){this.signaturePad=new Wl(this.canvasEl.nativeElement)}startDrawing(t){console.log("asd")}stopDrawing(t){let e=this.signaturePad.toDataURL();this.base64_sig_data.emit(e)}clearPad(){this.signaturePad.clear(),this.base64_sig_data.emit(null)}savePad(){let t=this.signaturePad.toDataURL();this.signatureImg=t,this.signatureNeeded=this.signaturePad.isEmpty(),this.signatureNeeded||(this.signatureNeeded=!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-c-signature-pad"]],viewQuery:function(e,n){if(e&1&&Oe(bk,5),e&2){let r;re(r=oe())&&(n.canvasEl=r.first)}},outputs:{base64_sig_data:"base64_sig_data"},decls:13,vars:1,consts:[["canvas",""],[1,"w-fit","relative"],[1,"mb-2","w-fit"],["width","300","height","160",1,"rounded-md","border-2","border-[#b5b5b5]",3,"pointerup","pointerleave"],["class","error-message",4,"ngIf"],[1,"buttons","flex","justify-end","mt-2"],[1,"p-1","px-2","bg-[#666]","text-white","rounded-md",3,"click"],[1,"absolute","bottom-14","w-full","pointer-events-none","items-center","flex","flex-col","opacity-20"],[1,"w-[80%]","h-[2px]","bg-black"],[1,"mt-1"],[1,"error-message"]],template:function(e,n){if(e&1){let r=Y();u(0,"div",1)(1,"h4",2),b(2,"Please Add your signature here"),h(),u(3,"canvas",3,0),S("pointerup",function(s){return I(r),T(n.stopDrawing(s))})("pointerleave",function(s){return I(r),T(n.stopDrawing(s))}),h(),M(5,vk,2,0,"p",4),u(6,"div",5)(7,"button",6),S("click",function(){return I(r),T(n.clearPad())}),b(8," Reset "),h()(),u(9,"div",7),w(10,"div",8),u(11,"p",9),b(12," Nama Penanda Tangan"),h()()()}e&2&&(m(5),y("ngIf",n.signatureNeeded))},dependencies:[te,Ce],encapsulation:2})};function yk(i,t){if(i&1){let e=Y();u(0,"div",11)(1,"button",12),S("click",function(){I(e);let r=C();return T(r.update_suppl())}),ae(),u(2,"svg",13),w(3,"path",14),h(),Pe(),u(4,"p",15),b(5,"Simpan Perubahan"),h()(),w(6,"div",4),u(7,"button",16),S("click",function(){I(e);let r=C();return T(r.remove_suppl())}),ae(),u(8,"svg",13),w(9,"path",17),h(),Pe(),u(10,"p",15),b(11,"Remove Supplier"),h()()()}}function wk(i,t){i&1&&(u(0,"div",18)(1,"p"),b(2,"Proccessing..."),h()())}var Gl=class i{constructor(t,e){this.http=t;this.snackbar=e}closePopupEvent=new j;getApproval=new j;supplData;is_fetching=!1;is_fetching_update=!1;supplData_new=null;ngOnInit(){this.supplData_new=D({},this.supplData)}update_validation_check(){return JSON.stringify(this.supplData)!==JSON.stringify(this.supplData_new)}closeThis(){this.closePopupEvent.emit()}cancelAction(t){t.stopPropagation()}remove_suppl(){return F(this,null,function*(){this.is_fetching_update=!0;let t={supl_id:this.supplData.SUPL_ID};(yield X(this.http.post(J.env_dev.host+"/api-eappr/remove_suppl",t))).status==200&&this.snackbar.open("Update supplier berhasil.",void 0,{duration:5e3,panelClass:["notif_success"]}),this.is_fetching_update=!1})}update_suppl(){return F(this,null,function*(){if(this.update_validation_check()){this.is_fetching_update=!0;let t={data:this.supplData_new};(yield X(this.http.post(J.env_dev.host+"/api-eappr/update_suppl",t))).status==200?(this.snackbar.open("Update supplier berhasil.",void 0,{duration:5e3,panelClass:["notif_success"]}),this.getApproval.emit()):this.snackbar.open("Update supplier gagal.",void 0,{duration:5e3,panelClass:["notif_failed"]}),this.is_fetching_update=!1}else this.snackbar.open("Tidak ada perubahan.",void 0,{duration:5e3,panelClass:["notif_neutral"]})})}static \u0275fac=function(e){return new(e||i)(k(Te),k(Rt))};static \u0275cmp=R({type:i,selectors:[["app-c-suppliers-action-box"]],inputs:{supplData:"supplData"},outputs:{closePopupEvent:"closePopupEvent",getApproval:"getApproval"},decls:49,vars:9,consts:[[1,"w-[100vw]","h-[100vh]","bg-[#0000006b]","fixed","z-20","left-0","top-0","flex","items-center","justify-center",3,"click"],[1,"w-[40vw]","h-fit","p-4","bg-white","rounded-md","relative","border-2","border-[#e0e0e0]","flex","flex-col",3,"click"],[1,"flex","flex-row","items-center"],[1,"text-sm","w-32"],[1,"mx-2"],[1,"p-1","px-2","w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"my-1"],["disabled","",1,"p-1","px-2","w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModel"],["disabled","",1,"p-1","px-2","w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],["class","flex flex-row justify-between mt-4",4,"ngIf"],["class","mt-4 h-[43px] flex items-center justify-center",4,"ngIf"],[1,"flex","flex-row","justify-between","mt-4"],[1,"p-2","bg-green-700","border-2","border-green-600","text-white","fill-white","rounded-md","flex","flex-row","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 256 256"],["d","M219.31,72,184,36.69A15.86,15.86,0,0,0,172.69,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V83.31A15.86,15.86,0,0,0,219.31,72ZM168,208H88V152h80Zm40,0H184V152a16,16,0,0,0-16-16H88a16,16,0,0,0-16,16v56H48V48H172.69L208,83.31ZM160,72a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h56A8,8,0,0,1,160,72Z"],[1,"ml-1"],[1,"p-2","bg-red-700","border-2","border-red-600","text-white","fill-white","rounded-md","flex","flex-row","items-center",3,"click"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"mt-4","h-[43px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0),S("click",function(){return n.closeThis()}),u(1,"div",1),S("click",function(o){return n.cancelAction(o)}),u(2,"div",2)(3,"p",3),b(4,"Nama Supplier: "),h(),w(5,"div",4),u(6,"input",5),G("ngModelChange",function(o){return $(n.supplData_new.SUPPLIER_NAME,o)||(n.supplData_new.SUPPLIER_NAME=o),o}),h()(),w(7,"div",6),u(8,"div",2)(9,"p",3),b(10,"No. Rek: "),h(),w(11,"div",4)(12,"input",7),h(),w(13,"div",6),u(14,"div",2)(15,"p",3),b(16,"Nama Rek: "),h(),w(17,"div",4)(18,"input",7),h(),w(19,"div",6),u(20,"div",2)(21,"p",3),b(22,"Bank Name: "),h(),w(23,"div",4),u(24,"input",8),G("ngModelChange",function(o){return $(n.supplData_new.BANK_NAME,o)||(n.supplData_new.BANK_NAME=o),o}),h()(),w(25,"div",6),u(26,"div",2)(27,"p",3),b(28,"Is Active: "),h(),w(29,"div",4),u(30,"select",5),G("ngModelChange",function(o){return $(n.supplData_new.IS_ACTIVE,o)||(n.supplData_new.IS_ACTIVE=o),o}),u(31,"option"),b(32,"Y"),h(),u(33,"option"),b(34,"N"),h()()(),w(35,"div",6),u(36,"div",2)(37,"p",3),b(38,"Created By: "),h(),w(39,"div",4)(40,"input",7),h(),w(41,"div",6),u(42,"div",2)(43,"p",3),b(44,"Created Date: "),h(),w(45,"div",4)(46,"input",7),h(),M(47,yk,12,0,"div",9)(48,wk,3,0,"div",10),h()()),e&2&&(m(6),W("ngModel",n.supplData_new.SUPPLIER_NAME),m(6),y("ngModel",n.supplData_new.REK_NO),m(6),y("ngModel",n.supplData_new.REK_NAME),m(6),W("ngModel",n.supplData_new.BANK_NAME),m(6),W("ngModel",n.supplData_new.IS_ACTIVE),m(10),y("ngModel",n.supplData_new.CREATED_BY),m(6),y("ngModel",n.supplData_new.CREATED_DATE),m(),y("ngIf",!n.is_fetching_update),m(),y("ngIf",n.is_fetching_update))},dependencies:[Ae,fe,Pt,Ot,$e,Zt,Ve,Ge,te,Ce],encapsulation:2})};var q_=i=>({"placeholder-opacity-100":i}),xk=(i,t)=>({"bg-gray-300":i,"opacity-50":t});function Ck(i,t){if(i&1){let e=Y();u(0,"div")(1,"app-c-suppliers-action-box",29),S("closePopupEvent",function(){I(e);let r=C(2);return T(r.show_suppl_action_box=!1)}),h()()}if(i&2){let e=C(2);m(),y("supplData",e.act_suppl)}}function Ek(i,t){if(i&1){let e=Y();u(0,"tr",47)(1,"td",48),b(2),h(),u(3,"td",49),b(4),h(),u(5,"td",50),b(6),h(),u(7,"td",51),b(8),h(),u(9,"td",52),b(10),h(),u(11,"td",53),b(12),h(),u(13,"td",53),b(14),h(),u(15,"td",54)(16,"button",55),S("click",function(){let r=I(e).index,o=C(3);return T(o.f_show_suppl_action_box(r))}),b(17," Action "),h()()()}if(i&2){let e=t.$implicit,n=t.index;m(2),N(n+1),m(2),N(e.SUPPLIER_NAME),m(2),N(e.REK_NAME),m(2),N(e.REK_NO),m(2),N(e.BANK_NAME),m(2),N(e.CREATED_BY),m(2),N(e.CREATED_DATE)}}function Sk(i,t){i&1&&(u(0,"div",56),b(1," No Data "),h())}function kk(i,t){if(i&1){let e=Y();u(0,"div",30)(1,"table",31)(2,"thead",32)(3,"tr",0)(4,"th",33),b(5,"NO"),h(),u(6,"th",34),b(7,"Nama Supplier"),h(),u(8,"th",34),b(9,"Nama Rekening"),h(),u(10,"th",35),b(11,"No. Rekening"),h(),u(12,"th",36),b(13,"Nama Bank"),h(),u(14,"th",37),b(15,"Created by"),h(),u(16,"th",35),b(17,"Created Date"),h(),u(18,"th",35),b(19,"ACTION"),h()()(),u(20,"tbody",38),M(21,Ek,18,7,"tr",39),h()(),M(22,Sk,2,0,"div",40),u(23,"div",41)(24,"button",42),S("click",function(){I(e);let r=C(2);return T(r.pgDown())}),ae(),u(25,"svg",43),w(26,"path",44),h()(),Pe(),w(27,"input",45),u(28,"button",42),S("click",function(){I(e);let r=C(2);return T(r.pgUp())}),ae(),u(29,"svg",43),w(30,"path",46),h()()()()}if(i&2){let e=C(2);m(21),y("ngForOf",e.tableData),m(),y("ngIf",e.tableData.length==0),m(5),y("value",e.act_page)}}function Dk(i,t){i&1&&(u(0,"div",57)(1,"p"),b(2,"Fetching data..."),h()())}function Ik(i,t){if(i&1){let e=Y();u(0,"div",16),w(1,"div",17),u(2,"p",1),b(3,"Edit Supplier"),h(),M(4,Ck,2,1,"div",18),u(5,"div",19)(6,"div",20)(7,"input",21),G("ngModelChange",function(r){I(e);let o=C();return $(o.q_search,r)||(o.q_search=r),T(r)}),S("keyup.enter",function(){I(e);let r=C();return T(r.get_suppliers())}),h(),w(8,"div",13),u(9,"Button",22),S("click",function(){I(e);let r=C();return T(r.get_suppliers())}),u(10,"p",23),b(11,"Search"),h(),w(12,"div",24),ae(),u(13,"svg",25),w(14,"path",26),h()()()(),M(15,kk,31,3,"div",27)(16,Dk,3,0,"div",28),Pe(),w(17,"div",17),h()}if(i&2){let e=C();m(4),y("ngIf",e.show_suppl_action_box),m(3),W("ngModel",e.q_search),m(8),y("ngIf",!e.is_fetching_data),m(),y("ngIf",e.is_fetching_data)}}var ql=class i{constructor(t,e){this.http=t;this.snackbar=e}is_fetching=!0;can_add_suppl=!1;is_fetching_data=!0;show_suppl_action_box=!1;isFetching_add_suppl=!1;act_bank=null;act_suppl=null;act_page=1;tableData=[];arr_banks=[];arr_banks_base=[];suppl_name="";suppl_rek_name="";suppl_rek_no="";suppl_bank_name="";q_search="";ngOnInit(){this.initLoad(),this.is_fetching=!1}initLoad(){return F(this,null,function*(){yield this.get_banks(),this.get_suppliers()})}jobCheck_it(){return Ee().EMPL_JOB=="G00123"}get_banks(){return F(this,null,function*(){let t={data:"data"};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_banks",{params:t}));this.arr_banks_base=e.data;let n=[];e.data.forEach(r=>{var o=r.BANK_NAME;n.push(o)}),this.arr_banks=n})}get_suppliers(){return F(this,null,function*(){this.is_fetching_data=!0;let t={q_page:this.act_page,q_search:this.q_search.toLowerCase()};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_suppliers",{params:t}));console.log(e),this.tableData=e.data,this.is_fetching_data=!1})}clear_act_bank(){this.act_bank=null,this.listen_inps()}on_banks_changed(t){let e=0;this.arr_banks_base.forEach(n=>{n.BANK_NAME==t&&(this.act_bank=this.arr_banks_base[e],console.log(this.act_bank)),e++}),this.listen_inps()}add_supplier(){return F(this,null,function*(){if(this.can_add_suppl||this.snackbar.open("Periksa kembali informasi penambahan supplier.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!this.isFetching_add_suppl&&this.can_add_suppl){this.isFetching_add_suppl=!0;try{let e={bank_code:this.act_bank.BANK_ID,bank_name:this.act_bank.BANK_NAME,suppl_rek_no:this.suppl_rek_no,suppl_rek_name:this.suppl_rek_name,suppl_name:this.suppl_name,suppl_bank_name:this.suppl_bank_name,empl_code:Ee().EMPL_CODE};var t=yield X(this.http.post(J.env_dev.host+"/api-eappr/add_supplier",e));console.log(t),t.data.includes("berhasil")?this.snackbar.open(t.data,void 0,{duration:5e3,panelClass:["notif_success"]}):this.snackbar.open(t.data,void 0,{duration:5e3,panelClass:["notif_failed"]})}catch(e){console.log(e.error.message),this.snackbar.open(e.error.message,void 0,{duration:5e3,panelClass:["notif_failed"]})}finally{this.isFetching_add_suppl=!1}}})}listen_inps(){console.log(this.act_bank),this.suppl_name.length!=0&&this.suppl_rek_name.length!=0&&this.suppl_rek_no.length!=0&&this.act_bank!=null?this.can_add_suppl=!0:this.can_add_suppl=!1,console.log(this.can_add_suppl)}reset_add_suppl(){this.suppl_bank_name="",this.suppl_name="",this.suppl_rek_name="",this.suppl_rek_no="",this.listen_inps()}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_suppliers()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_suppliers())}f_show_suppl_action_box(t){let e=this.tableData[t];this.act_suppl=e,this.show_suppl_action_box=!0}static \u0275fac=function(e){return new(e||i)(k(Te),k(Rt))};static \u0275cmp=R({type:i,selectors:[["app-p-suppliers"]],decls:34,vars:15,consts:[[1,""],[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"text-sm"],[1,"flex","flex-col","justify-center"],[1,"mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","ngModel"],[1,"my-4"],[1,"w-[30vw]"],[3,"remove","clear","change","items"],[1,"my-6"],[1,"flex","flex-row"],[1,"w-24","p-2","bg-red-700","border-2","opacity-100","border-red-600","text-white","rounded-md","transition-all",3,"click"],[3,"ngClass"],[1,"mx-1"],[1,"w-44","p-2","bg-green-700","border-2","opacity-100","border-green-600","text-white","rounded-md","transition-all",3,"click","ngClass"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],[1,"py-8"],[4,"ngIf"],[1,"mb-4"],[1,"rounded-full","border","border-gray-400","p-1","flex","flex-row","items-center","w-fit"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","w-[200px]",3,"ngModelChange","keyup.enter","ngModel"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],["class"," border rounded-md flex flex-col justify-between h-[520px]",4,"ngIf"],["class","w-full h-[560px] flex items-center justify-center",4,"ngIf"],[3,"closePopupEvent","supplData"],[1,"border","rounded-md","flex","flex-col","justify-between","h-[520px]"],[1,"w-full","overflow-x-auto","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,"w-[30px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[130px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[60px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[80px]","border-slate-500","font-medium","pl-2","py-4"],[1,"border-separate","pt-10"],["class","h-8 flex-grow-0 odd:bg-gray-100 border-b",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[420px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"value"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"h-8","flex-grow-0","odd:bg-gray-100","border-b"],[1,"px-2","border","border-l-0","text-center"],[1,"px-2","border","text-left"],[1,"px-2","border","text-start"],[1,"px-2","border","text-center","py-4"],[1,"px-2","border","text-center"],[1,"px-2","border","text-center","py-2"],[1,"px-2","border","border-r-0","text-center","py-2"],[1,"mx-2","rounded-full","px-4","py-1","bg-[#242424]","text-white",3,"click"],[1,"w-full","flex","items-center","justify-center","h-[420px]"],[1,"w-full","h-[560px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),b(2,"Set Up Supplier"),h(),u(3,"div",2)(4,"div",3)(5,"label",4),b(6,"Supplier name :"),h(),u(7,"input",5),S("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.suppl_name,o)||(n.suppl_name=o),o}),h()(),w(8,"div",6),u(9,"div",3)(10,"label",4),b(11,"Nama Rekening Supplier :"),h(),u(12,"input",5),S("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.suppl_rek_name,o)||(n.suppl_rek_name=o),o}),h()(),w(13,"div",6),u(14,"div",3)(15,"label",4),b(16,"Nomor Rekening Supplier :"),h(),u(17,"input",5),S("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.suppl_rek_no,o)||(n.suppl_rek_no=o),o}),h()(),w(18,"div",6),u(19,"div",3)(20,"label",4),b(21,"Bank :"),h(),u(22,"div",7)(23,"ng-select",8),S("remove",function(){return n.clear_act_bank()})("clear",function(){return n.clear_act_bank()})("change",function(o){return n.on_banks_changed(o)}),h()()(),w(24,"div",9),u(25,"div",10)(26,"button",11),S("click",function(){return n.reset_add_suppl()}),u(27,"p",12),b(28,"Reset"),h()(),w(29,"div",13),u(30,"button",14),S("click",function(){return n.add_supplier()}),u(31,"p",12),b(32,"Tambah Supplier"),h()()()(),M(33,Ik,18,4,"div",15),h()),e&2&&(m(7),W("ngModel",n.suppl_name),m(5),W("ngModel",n.suppl_rek_name),m(5),W("ngModel",n.suppl_rek_no),m(6),y("items",n.arr_banks),m(4),y("ngClass",Ne(8,q_,n.is_fetching===!0)),m(3),y("ngClass",ze(10,xk,n.is_fetching===!0,!n.can_add_suppl)),m(),y("ngClass",Ne(13,q_,n.is_fetching===!0)),m(2),y("ngIf",!0))},dependencies:[te,Ie,He,Ce,fe,$e,Ve,Ge,Ae,Tl,Zr,Gl],encapsulation:2})};var K_=i=>({"placeholder-opacity-100":i}),Tk=(i,t)=>({"bg-gray-300":i,"opacity-50":t});function Mk(i,t){if(i&1&&(u(0,"option"),b(1),h()),i&2){let e=t.$implicit;m(),ye(" ",e," ")}}function Ak(i,t){i&1&&(u(0,"th",51),b(1,"Action"),h())}function Pk(i,t){if(i&1){let e=Y();u(0,"td",59)(1,"button",60),S("click",function(){I(e);let r=C().index,o=C(2);return T(o.f_show_jenis_pemb_action_box(r))}),b(2," Action "),h()()}}function Ok(i,t){if(i&1&&(u(0,"tr",52)(1,"td",53),b(2),h(),u(3,"td",54),b(4),h(),u(5,"td",55),b(6),h(),u(7,"td",56),b(8),h(),u(9,"td",56),b(10),h(),u(11,"td",57),b(12),h(),M(13,Pk,3,0,"td",58),h()),i&2){let e=t.$implicit,n=t.index,r=C(2);m(2),N(n+1),m(2),N(e.NAME_TYPE),m(2),N(e.group_type),m(2),N(e.is_active),m(2),N(e.created_by),m(2),N(e.created_date),m(),y("ngIf",r.jobCheck_it())}}function Rk(i,t){i&1&&(u(0,"div",61),b(1," No Data "),h())}function Nk(i,t){if(i&1){let e=Y();u(0,"div",33)(1,"table",34)(2,"thead",35)(3,"tr",3)(4,"th",36),b(5,"NO"),h(),u(6,"th",37),b(7,"Name Type"),h(),u(8,"th",38),b(9,"Group Type"),h(),u(10,"th",39),b(11,"Is Active"),h(),u(12,"th",40),b(13,"Created By"),h(),u(14,"th",38),b(15,"Created Date"),h(),M(16,Ak,2,0,"th",41),h()(),u(17,"tbody",42),M(18,Ok,14,7,"tr",43),h()(),M(19,Rk,2,0,"div",44),u(20,"div",45)(21,"button",46),S("click",function(){I(e);let r=C();return T(r.pgDown())}),ae(),u(22,"svg",47),w(23,"path",48),h()(),Pe(),w(24,"input",49),u(25,"button",46),S("click",function(){I(e);let r=C();return T(r.pgUp())}),ae(),u(26,"svg",47),w(27,"path",50),h()()()()}if(i&2){let e=C();m(16),y("ngIf",e.jobCheck_it()),m(2),y("ngForOf",e.tableData),m(),y("ngIf",e.tableData.length==0),m(5),y("value",e.act_page)}}function Fk(i,t){i&1&&(u(0,"div",62)(1,"p"),b(2,"Fetching data..."),h(),w(3,"app-c-loading-spin"),h())}var Kl=class i{constructor(t,e){this.http=t;this.snackbar=e}is_fetching=!0;is_fetching_data=!1;tableData=[];q_search="";act_page=1;act_jenis_pemb="";act_jenis_pemb_group="";allow_add_jenis_pemb=!1;arr_jenis_pemb_group=["P_CABANG","P_PUSAT"];ngOnInit(){this.act_jenis_pemb_group=this.arr_jenis_pemb_group[0]}listen_inps(){this.act_jenis_pemb.length!=0&&this.act_jenis_pemb_group.length!=0?this.allow_add_jenis_pemb=!0:this.allow_add_jenis_pemb=!1}get_tableData(){return F(this,null,function*(){this.is_fetching_data=!0;let t={q_page:this.act_page,q_search:this.q_search.toLowerCase()};var e=yield X(this.http.get(J.env_dev.host+"/api-eappr/get_jenis_pembayaran",{params:t}));console.log(e),this.tableData=e.data,this.is_fetching_data=!1})}jobCheck_it(){return Ee().EMPL_JOB=="G00123"}reset_jenis_pemb(){}f_show_jenis_pemb_action_box(t){console.log(t)}add_jenis_pemb(){return F(this,null,function*(){if(this.allow_add_jenis_pemb){let e={name_type:this.act_jenis_pemb,group_type:this.act_jenis_pemb_group,empl_code:bi()};var t=yield X(this.http.post(J.env_dev.host+"/api-eappr/add_jenis_pembayaran",e));console.log(t),t.status==200?(this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:"notif_success"}),this.get_tableData()):this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:"notif_failed"})}})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}clear_act_pemb_group(){this.act_jenis_pemb="",this.listen_inps()}static \u0275fac=function(e){return new(e||i)(k(Te),k(Rt))};static \u0275cmp=R({type:i,selectors:[["app-p-jenis-pembayaran"]],decls:49,vars:16,consts:[[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"text-sm"],[1,"flex","flex-col","justify-center"],[1,""],[1,"text-sm","text-[#888]","tracking-wide","rounded-md","w-fit","mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","ngModel"],[1,"py-2"],[1,"mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"my-6"],[1,"flex","flex-row"],[1,"w-24","p-2","bg-red-700","border-2","opacity-100","border-red-600","text-white","rounded-md","transition-all",3,"click"],[3,"ngClass"],[1,"mx-1"],[1,"w-52","p-2","bg-green-700","border-2","opacity-100","border-green-600","text-white","rounded-md","transition-all",3,"click","ngClass"],[1,"flex","flex-col"],[1,"py-8"],[1,"mb-4","flex","flex-row","items-center"],[1,"rounded-full","border","border-gray-400","p-1","flex","flex-row","items-center","w-fit"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","w-[200px]",3,"ngModelChange","keyup.enter","ngModel"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],[1,"p-1","px-2","h-fit","bg-[#252525]","hover:bg-[#333]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-1","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[0.6px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[2px]"],["d","M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"],["class"," border rounded-md flex flex-col justify-between h-[480px]",4,"ngIf"],["class","w-full h-[480px] flex items-center justify-center",4,"ngIf"],[1,"border","rounded-md","flex","flex-col","justify-between","h-[480px]"],[1,"w-full","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,"w-[30px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[200px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[100px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[80px]","border-slate-500","font-medium","pl-2","py-4"],["class","w-[130px] border-slate-500 font-medium pl-2 py-4",4,"ngIf"],[1,"border-separate","pt-10"],["class","h-8 flex-grow-0 odd:bg-gray-100 ",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[480px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"value"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"w-[130px]","border-slate-500","font-medium","pl-2","py-4"],[1,"h-8","flex-grow-0","odd:bg-gray-100"],[1,"px-2","border-2","border-gray-200","border-l-0","text-center"],[1,"px-2","border-2","border-gray-200","text-left"],[1,"px-2","border-2","border-gray-200","text-center"],[1,"px-2","border-2","border-gray-200","text-center","py-2"],[1,"px-2","border-2","border-gray-200","border-r-0","text-center","py-2"],["class","px-2 text-center py-2",4,"ngIf"],[1,"px-2","text-center","py-2"],[1,"mx-2","rounded-full","px-4","py-1","bg-[#242424]","text-white",3,"click"],[1,"w-full","flex","items-center","justify-center","h-[480px]"],[1,"w-full","h-[480px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div")(1,"p",0),b(2,"Set Up Jenis Pembiayaan"),h(),u(3,"div",1)(4,"div",2)(5,"label",3),b(6,"Nama Jenis Pembiayaan : "),h(),u(7,"p",4),b(8," Pastikan jenis Pembiayaan belum ada / belum dibuat. "),h(),u(9,"input",5),S("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.act_jenis_pemb,o)||(n.act_jenis_pemb=o),o}),h()(),w(10,"div",6),u(11,"div",2)(12,"label",7),b(13,"Group Jenis Pembiayaan : "),h(),u(14,"select",8),G("ngModelChange",function(o){return $(n.act_jenis_pemb_group,o)||(n.act_jenis_pemb_group=o),o}),M(15,Mk,2,1,"option",9),h()(),w(16,"div",10),u(17,"div",11)(18,"button",12),S("click",function(){return n.clear_act_pemb_group()}),u(19,"p",13),b(20,"Reset"),h()(),w(21,"div",14),u(22,"button",15),S("click",function(){return n.add_jenis_pemb()}),u(23,"p",13),b(24,"Tambah Jenis Pembiayaan"),h()()()(),u(25,"div",16),w(26,"div",17),u(27,"p",0),b(28,"Jenis Pembiayaan"),h(),u(29,"div",18)(30,"div",19)(31,"input",20),G("ngModelChange",function(o){return $(n.q_search,o)||(n.q_search=o),o}),S("keyup.enter",function(){return n.get_tableData()}),h(),w(32,"div",14),u(33,"Button",21),S("click",function(){return n.get_tableData()}),u(34,"p",22),b(35,"Search"),h(),w(36,"div",23),ae(),u(37,"svg",24),w(38,"path",25),h()()(),Pe(),w(39,"div",14),u(40,"Button",26),S("click",function(){return n.get_tableData()}),u(41,"p",27),b(42,"Refresh"),h(),w(43,"div",28),ae(),u(44,"svg",29),w(45,"path",30),h()()(),M(46,Nk,28,4,"div",31)(47,Fk,4,0,"div",32),Pe(),w(48,"div",17),h()()),e&2&&(m(9),W("ngModel",n.act_jenis_pemb),m(5),W("ngModel",n.act_jenis_pemb_group),m(),y("ngForOf",n.arr_jenis_pemb_group),m(4),y("ngClass",Ne(9,K_,n.is_fetching===!0)),m(3),y("ngClass",ze(11,Tk,n.is_fetching===!0,!n.allow_add_jenis_pemb)),m(),y("ngClass",Ne(14,K_,n.is_fetching===!0)),m(8),W("ngModel",n.q_search),m(15),y("ngIf",!n.is_fetching_data),m(),y("ngIf",n.is_fetching_data))},dependencies:[fe,Pt,Ot,$e,Zt,Ve,Ge,te,Ie,He,Ce,Ae,kn],encapsulation:2})};var Y_=i=>typeof i>"u"||i===null,Lk=i=>i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),Vk=i=>{let t={};return Object.keys(i).forEach(e=>{i[e]&&(t[e]=i[e])}),t},Yl=i=>{let t=Vk(i);return Object.entries(t).map(([e,n])=>`${Lk(e)}:${n}`).join(";")},eo=class extends Error{constructor(t){super(t),this.name=this.constructor.name}},ep=()=>{let i=Date.now().toString(36),t=Math.random().toString(36).substring(2,7);return`${i}${t}`},J_=(i,t,e)=>Math.min(Math.max(i,t),e);function _t(i){this.content=i}_t.prototype={constructor:_t,find:function(i){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===i)return t;return-1},get:function(i){var t=this.find(i);return t==-1?void 0:this.content[t+1]},update:function(i,t,e){var n=e&&e!=i?this.remove(e):this,r=n.find(i),o=n.content.slice();return r==-1?o.push(e||i,t):(o[r+1]=t,e&&(o[r]=e)),new _t(o)},remove:function(i){var t=this.find(i);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new _t(e)},addToStart:function(i,t){return new _t([i,t].concat(this.remove(i).content))},addToEnd:function(i,t){var e=this.remove(i).content.slice();return e.push(i,t),new _t(e)},addBefore:function(i,t,e){var n=this.remove(t),r=n.content.slice(),o=n.find(i);return r.splice(o==-1?r.length:o,0,t,e),new _t(r)},forEach:function(i){for(var t=0;t<this.content.length;t+=2)i(this.content[t],this.content[t+1])},prepend:function(i){return i=_t.from(i),i.size?new _t(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=_t.from(i),i.size?new _t(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var t=this;i=_t.from(i);for(var e=0;e<i.content.length;e+=2)t=t.remove(i.content[e]);return t},toObject:function(){var i={};return this.forEach(function(t,e){i[t]=e}),i},get size(){return this.content.length>>1}};_t.from=function(i){if(i instanceof _t)return i;var t=[];if(i)for(var e in i)t.push(e,i[e]);return new _t(t)};var tp=_t;function s0(i,t,e){for(let n=0;;n++){if(n==i.childCount||n==t.childCount)return i.childCount==t.childCount?null:e;let r=i.child(n),o=t.child(n);if(r==o){e+=r.nodeSize;continue}if(!r.sameMarkup(o))return e;if(r.isText&&r.text!=o.text){for(let s=0;r.text[s]==o.text[s];s++)e++;return e}if(r.content.size||o.content.size){let s=s0(r.content,o.content,e+1);if(s!=null)return s}e+=r.nodeSize}}function a0(i,t,e,n){for(let r=i.childCount,o=t.childCount;;){if(r==0||o==0)return r==o?null:{a:e,b:n};let s=i.child(--r),a=t.child(--o),l=s.nodeSize;if(s==a){e-=l,n-=l;continue}if(!s.sameMarkup(a))return{a:e,b:n};if(s.isText&&s.text!=a.text){let c=0,d=Math.min(s.text.length,a.text.length);for(;c<d&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,e--,n--;return{a:e,b:n}}if(s.content.size||a.content.size){let c=a0(s.content,a.content,e-1,n-1);if(c)return c}e-=l,n-=l}}var P=class i{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,e,n,r=0,o){for(let s=0,a=0;a<e;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&n(l,r+a,o||null,s)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,e-d),n,r+d)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let o="",s=!0;return this.nodesBetween(t,e,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,e-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(s?s=!1:o+=n),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new i(r,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let n=[],r=0;if(e>t)for(let o=0,s=0;s<e;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>e)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,e-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,e-s-1))),n.push(a),r+=a.nodeSize),s=l}return new i(n,r)}cutByIndex(t,e){return t==e?i.empty:t==0&&e==this.content.length?this:new i(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new i(r,o)}addToStart(t){return new i([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new i(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return s0(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return a0(this,t,e,n)}findIndex(t,e=-1){if(t==0)return Jl(0,t);if(t==this.size)return Jl(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),s=r+o.nodeSize;if(s>=t)return s==t||e>0?Jl(n+1,s):Jl(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return i.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return i.empty;let e,n=0;for(let r=0;r<t.length;r++){let o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new i(e||t,n)}static from(t){if(!t)return i.empty;if(t instanceof i)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new i([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};P.empty=new P([],0);var np={index:0,offset:0};function Jl(i,t){return np.index=i,np.offset=t,np}function Xl(i,t){if(i===t)return!0;if(!(i&&typeof i=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(i);if(Array.isArray(t)!=e)return!1;if(e){if(i.length!=t.length)return!1;for(let n=0;n<i.length;n++)if(!Xl(i[n],t[n]))return!1}else{for(let n in i)if(!(n in t)||!Xl(i[n],t[n]))return!1;for(let n in t)if(!(n in i))return!1}return!0}var Me=(()=>{class i{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Xl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return i.none;if(e instanceof i)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}}return i.none=[],i})(),Xi=class extends Error{},L=class i{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=c0(this.content,t+this.openStart,e);return n&&new i(n,this.openStart,this.openEnd)}removeBetween(t,e){return new i(l0(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return i.empty;let n=e.openStart||0,r=e.openEnd||0;if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new i(P.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new i(t,n,r)}};L.empty=new L(P.empty,0,0);function l0(i,t,e){let{index:n,offset:r}=i.findIndex(t),o=i.maybeChild(n),{index:s,offset:a}=i.findIndex(e);if(r==t||o.isText){if(a!=e&&!i.child(s).isText)throw new RangeError("Removing non-flat range");return i.cut(0,t).append(i.cut(e))}if(n!=s)throw new RangeError("Removing non-flat range");return i.replaceChild(n,o.copy(l0(o.content,t-r-1,e-r-1)))}function c0(i,t,e,n){let{index:r,offset:o}=i.findIndex(t),s=i.maybeChild(r);if(o==t||s.isText)return n&&!n.canReplace(r,r,e)?null:i.cut(0,t).append(e).append(i.cut(t));let a=c0(s.content,t-o-1,e);return a&&i.replaceChild(r,s.copy(a))}function Bk(i,t,e){if(e.openStart>i.depth)throw new Xi("Inserted content deeper than insertion position");if(i.depth-e.openStart!=t.depth-e.openEnd)throw new Xi("Inconsistent open depths");return d0(i,t,e,0)}function d0(i,t,e,n){let r=i.index(n),o=i.node(n);if(r==t.index(n)&&n<i.depth-e.openStart){let s=d0(i,t,e,n+1);return o.copy(o.content.replaceChild(r,s))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&i.depth==n&&t.depth==n){let s=i.parent,a=s.content;return Zi(s,a.cut(0,i.parentOffset).append(e.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=jk(e,i);return Zi(o,p0(i,s,a,t,n))}else return Zi(o,Ql(i,t,n))}function u0(i,t){if(!t.type.compatibleContent(i.type))throw new Xi("Cannot join "+t.type.name+" onto "+i.type.name)}function rp(i,t,e){let n=i.node(e);return u0(n,t.node(e)),n}function Ji(i,t){let e=t.length-1;e>=0&&i.isText&&i.sameMarkup(t[e])?t[e]=i.withText(t[e].text+i.text):t.push(i)}function Ps(i,t,e,n){let r=(t||i).node(e),o=0,s=t?t.index(e):r.childCount;i&&(o=i.index(e),i.depth>e?o++:i.textOffset&&(Ji(i.nodeAfter,n),o++));for(let a=o;a<s;a++)Ji(r.child(a),n);t&&t.depth==e&&t.textOffset&&Ji(t.nodeBefore,n)}function Zi(i,t){return i.type.checkContent(t),i.copy(t)}function p0(i,t,e,n,r){let o=i.depth>r&&rp(i,t,r+1),s=n.depth>r&&rp(e,n,r+1),a=[];return Ps(null,i,r,a),o&&s&&t.index(r)==e.index(r)?(u0(o,s),Ji(Zi(o,p0(i,t,e,n,r+1)),a)):(o&&Ji(Zi(o,Ql(i,t,r+1)),a),Ps(t,e,r,a),s&&Ji(Zi(s,Ql(e,n,r+1)),a)),Ps(n,null,r,a),new P(a)}function Ql(i,t,e){let n=[];if(Ps(null,i,e,n),i.depth>e){let r=rp(i,t,e+1);Ji(Zi(r,Ql(i,t,e+1)),n)}return Ps(t,null,e,n),new P(n)}function jk(i,t){let e=t.depth-i.openStart,r=t.node(e).copy(i.content);for(let o=e-1;o>=0;o--)r=t.node(o).copy(P.from(r));return{start:r.resolveNoCache(i.openStart+e),end:r.resolveNoCache(r.content.size-i.openEnd-e)}}var ec=class i{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[e*3],r=e==0?0:this.path[e*3-1]+1;for(let o=0;o<t;o++)r+=n.child(o).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return Me.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let a=n;n=r,r=a}let o=n.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!r||!n[o].isInSet(r.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Qi(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,o=e;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(n.push(s,a,r+l),!c||(s=s.child(a),s.isText))break;o=c-1,r+=l+1}return new i(e,n,o)}static resolveCached(t,e){let n=Z_.get(t);if(n)for(let o=0;o<n.elts.length;o++){let s=n.elts[o];if(s.pos==e)return s}else Z_.set(t,n=new op);let r=n.elts[n.i]=i.resolve(t,e);return n.i=(n.i+1)%zk,r}},op=class{constructor(){this.elts=[],this.i=0}},zk=12,Z_=new WeakMap,Qi=class{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},Hk=Object.create(null),Dn=class i{constructor(t,e,n,r=Me.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||P.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&Xl(this.attrs,e||t.defaultAttrs||Hk)&&Me.sameSet(this.marks,n||Me.none)}copy(t=null){return t==this.content?this:new i(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return L.empty;let r=this.resolve(t),o=this.resolve(e),s=n?0:r.sharedDepth(e),a=r.start(s),c=r.node(s).content.cut(r.pos-a,o.pos-a);return new L(c,r.depth-s,o.depth-s)}replace(t,e,n){return Bk(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return ec.resolveCached(this,t)}resolveNoCache(t){return ec.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,o=>(n.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),h0(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=P.empty,r=0,o=n.childCount){let s=this.contentMatchAt(t).matchFragment(n,r,o),a=s&&s.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(n),s=o&&o.matchFragment(this.content,e);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Me.none;for(let e=0;e<this.marks.length;e++){let n=this.marks[e];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!Me.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=P.fromJSON(t,e.content),o=t.nodeType(e.type).create(e.attrs,r,n);return o.type.checkAttrs(o.attrs),o}};Dn.prototype.text=void 0;var sp=class i extends Dn{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):h0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new i(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function h0(i,t){for(let e=i.length-1;e>=0;e--)t=i[e].type.name+"("+t+")";return t}var er=class i{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new ap(t,e);if(n.next==null)return i.empty;let r=m0(n);n.next&&n.err("Unexpected trailing text");let o=Yk(Kk(r));return Jk(o,n),o}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];function o(s,a){let l=s.matchFragment(t,n);if(l&&(!e||l.validEnd))return P.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:d,next:p}=s.next[c];if(!(d.isText||d.hasRequiredAttrs())&&r.indexOf(p)==-1){r.push(p);let f=o(p,a.concat(d));if(f)return f}}return null}return o(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(t)){let s=[];for(let a=r;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in e)&&(!r.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:r}),e[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(n){t.push(n);for(let r=0;r<n.next.length;r++)t.indexOf(n.next[r].next)==-1&&e(n.next[r].next)}return e(this),t.map((n,r)=>{let o=r+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)o+=(s?", ":"")+n.next[s].type.name+"->"+t.indexOf(n.next[s].next);return o}).join(`
`)}};er.empty=new er(!0);var ap=class{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}};function m0(i){let t=[];do t.push(Uk(i));while(i.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Uk(i){let t=[];do t.push(Wk(i));while(i.next&&i.next!=")"&&i.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Wk(i){let t=qk(i);for(;;)if(i.eat("+"))t={type:"plus",expr:t};else if(i.eat("*"))t={type:"star",expr:t};else if(i.eat("?"))t={type:"opt",expr:t};else if(i.eat("{"))t=$k(i,t);else break;return t}function X_(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let t=Number(i.next);return i.pos++,t}function $k(i,t){let e=X_(i),n=e;return i.eat(",")&&(i.next!="}"?n=X_(i):n=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:e,max:n,expr:t}}function Gk(i,t){let e=i.nodeTypes,n=e[t];if(n)return[n];let r=[];for(let o in e){let s=e[o];s.isInGroup(t)&&r.push(s)}return r.length==0&&i.err("No node type or group '"+t+"' found"),r}function qk(i){if(i.eat("(")){let t=m0(i);return i.eat(")")||i.err("Missing closing paren"),t}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let t=Gk(i,i.next).map(e=>(i.inline==null?i.inline=e.isInline:i.inline!=e.isInline&&i.err("Mixing inline and block content"),{type:"name",value:e}));return i.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Kk(i){let t=[[]];return r(o(i,0),e()),t;function e(){return t.push([])-1}function n(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function r(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;r(c,a=e())}else if(s.type=="star"){let l=e();return n(a,l),r(o(s.expr,l),l),[n(l)]}else if(s.type=="plus"){let l=e();return r(o(s.expr,a),l),r(o(s.expr,l),l),[n(l)]}else{if(s.type=="opt")return[n(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let d=e();r(o(s.expr,l),d),l=d}if(s.max==-1)r(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let d=e();n(l,d),r(o(s.expr,l),d),l=d}return[n(l)]}else{if(s.type=="name")return[n(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function f0(i,t){return t-i}function Q_(i,t){let e=[];return n(t),e.sort(f0);function n(r){let o=i[r];if(o.length==1&&!o[0].term)return n(o[0].to);e.push(r);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&e.indexOf(l)==-1&&n(l)}}}function Yk(i){let t=Object.create(null);return e(Q_(i,0));function e(n){let r=[];n.forEach(s=>{i[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<r.length;d++)r[d][0]==a&&(c=r[d][1]);Q_(i,l).forEach(d=>{c||r.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let o=t[n.join(",")]=new er(n.indexOf(i.length-1)>-1);for(let s=0;s<r.length;s++){let a=r[s][1].sort(f0);o.next.push({type:r[s][0],next:t[a.join(",")]||e(a)})}return o}}function Jk(i,t){for(let e=0,n=[i];e<n.length;e++){let r=n[e],o=!r.validEnd,s=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function g0(i){let t=Object.create(null);for(let e in i){let n=i[e];if(!n.hasDefault)return null;t[e]=n.default}return t}function _0(i,t){let e=Object.create(null);for(let n in i){let r=t&&t[n];if(r===void 0){let o=i[n];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+n)}e[n]=r}return e}function b0(i,t,e,n){for(let r in t)if(!(r in i))throw new RangeError(`Unsupported attribute ${r} for ${e} of type ${r}`);for(let r in i){let o=i[r];o.validate&&o.validate(t[r])}}function v0(i,t){let e=Object.create(null);if(t)for(let n in t)e[n]=new lp(i,n,t[n]);return e}var tc=class i{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=v0(t,n.attrs),this.defaultAttrs=g0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==er.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:_0(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Dn(this,this.computeAttrs(t),P.from(e),Me.setFrom(n))}createChecked(t=null,e,n){return e=P.from(e),this.checkContent(e),new Dn(this,this.computeAttrs(t),e,Me.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),e=P.from(e),e.size){let s=this.contentMatch.fillBefore(e);if(!s)return null;e=s.append(e)}let r=this.contentMatch.matchFragment(e),o=r&&r.fillBefore(P.empty,!0);return o?new Dn(this,t,e.append(o),Me.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){b0(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:Me.none:t}static compile(t,e){let n=Object.create(null);t.forEach((o,s)=>n[o]=new i(o,e,s));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function Zk(i,t,e){let n=e.split("|");return r=>{let o=r===null?"null":typeof r;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${i}, got ${o}`)}}var lp=class{constructor(t,e,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?Zk(t,e,n.validate):n.validate}get isRequired(){return!this.hasDefault}},Rs=class i{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=v0(t,r.attrs),this.excluded=null;let o=g0(this.attrs);this.instance=o?new Me(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Me(this,_0(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach((o,s)=>n[o]=new i(o,r++,e,s)),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){b0(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},nc=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=tp.from(t.nodes),e.marks=tp.from(t.marks||{}),this.nodes=tc.compile(this.spec.nodes,this),this.marks=Rs.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=n[s]||(n[s]=er.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?e0(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:e0(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof tc){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new sp(n,n.defaultAttrs,t,Me.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return Dn.fromJSON(this,t)}markFromJSON(t){return Me.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}};function e0(i,t){let e=[];for(let n=0;n<t.length;n++){let r=t[n],o=i.marks[r],s=o;if(o)e.push(o);else for(let a in i.marks){let l=i.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&e.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return e}function Xk(i){return i.tag!=null}function Qk(i){return i.style!=null}var yi=class i{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let n=this.matchedStyles=[];e.forEach(r=>{if(Xk(r))this.tags.push(r);else if(Qk(r)){let o=/[^=]*/.exec(r.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=t.nodes[r.node];return o.contentMatch.matchType(o)})}parse(t,e={}){let n=new ic(this,e,!1);return n.addAll(t,Me.none,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new ic(this,e,!0);return n.addAll(t,Me.none,e.from,e.to),L.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(nD(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,e,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!n.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=e))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let e=[];function n(r){let o=r.priority==null?50:r.priority,s=0;for(;s<e.length;s++){let a=e[s];if((a.priority==null?50:a.priority)<o)break}e.splice(s,0,r)}for(let r in t.marks){let o=t.marks[r].spec.parseDOM;o&&o.forEach(s=>{n(s=n0(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in t.nodes){let o=t.nodes[r].spec.parseDOM;o&&o.forEach(s=>{n(s=n0(s)),s.node||s.ignore||s.mark||(s.node=r)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new i(t,i.schemaRules(t)))}},y0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},eD={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},w0={ol:!0,ul:!0},Ns=1,cp=2,Os=4;function t0(i,t,e){return t!=null?(t?Ns:0)|(t==="full"?cp:0):i&&i.whitespace=="pre"?Ns|cp:e&~Os}var to=class{constructor(t,e,n,r,o,s){this.type=t,this.attrs=e,this.marks=n,this.solid=r,this.options=s,this.content=[],this.activeMarks=Me.none,this.match=o||(s&Os?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(P.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(t.type))?(this.match=n,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Ns)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let e=P.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(P.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!y0.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}},ic=class{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=e.topNode,o,s=t0(null,e.preserveWhitespace,0)|(n?Os:0);r?o=new to(r.type,r.attrs,Me.none,!0,e.topMatch||r.type.contentMatch,s):n?o=new to(null,null,Me.none,!0,null,s):o=new to(t.schema.topNodeType,null,Me.none,!0,null,s),this.nodes=[o],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let n=t.nodeValue,r=this.top,o=r.options&cp?"full":this.localPreserveWS||(r.options&Ns)>0;if(o==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(o)o!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],a=t.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),e),this.findInText(t)}else this.findInside(t)}addElement(t,e,n){let r=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;w0.hasOwnProperty(s)&&this.parser.normalizeLists&&tD(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,n));e:if(l?l.ignore:eD.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,d=this.needsBlock;if(y0.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let p=l&&l.skip?e:this.readStyles(t,e);p&&this.addAll(t,p),c&&this.sync(o),this.needsBlock=d}else{let c=this.readStyles(t,e);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e)}readStyles(t,e){let n=t.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],s=n.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?e=e.filter(c=>!l.clearMark(c)):e=e.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return e}addElementByRule(t,e,n,r){let o,s;if(e.node)if(s=this.parser.schema.nodes[e.node],s.isLeaf)this.insertNode(s.create(e.attrs),n)||this.leafFallback(t,n);else{let l=this.enter(s,e.attrs||null,n,e.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[e.mark];n=n.concat(l.create(e.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,n,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=t;typeof e.contentElement=="string"?l=t.querySelector(e.contentElement):typeof e.contentElement=="function"?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l,n),this.findAround(t,l,!1)}o&&this.sync(a)&&this.open--}addAll(t,e,n,r){let o=n||0;for(let s=n?t.childNodes[n]:t.firstChild,a=r==null?null:t.childNodes[r];s!=a;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s,e);this.findAtPoint(t,o)}findPlace(t,e){let n,r;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(t);if(a&&(!n||n.length>a.length)&&(n=a,r=s,!a.length)||s.solid)break}if(!n)return null;this.sync(r);for(let o=0;o<n.length;o++)e=this.enterInner(n[o],null,e,!1);return e}insertNode(t,e){if(t.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(e=this.enterInner(r,null,e))}let n=this.findPlace(t,e);if(n){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(t.type));let o=Me.none;for(let s of n.concat(t.marks))(r.type?r.type.allowsMarkType(s.type):i0(s.type,t.type))&&(o=s.addToSet(o));return r.content.push(t.mark(o)),!0}return!1}enter(t,e,n,r){let o=this.findPlace(t.create(e),n);return o&&(o=this.enterInner(t,e,n,!0,r)),o}enterInner(t,e,n,r=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=t0(t,o,s.options);s.options&Os&&s.content.length==0&&(a|=Os);let l=Me.none;return n=n.filter(c=>(s.type?s.type.allowsMarkType(c.type):i0(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new to(t,e,l,r,null,a)),this.open++,n}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=Ns)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),s=(a,l)=>{for(;a>=0;a--){let c=e[a];if(c==""){if(a==e.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let d=l>0||l==0&&r?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return s(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let n=this.parser.schema.nodes[e];if(n.isTextblock&&n.defaultAttrs)return n}}};function tD(i){for(let t=i.firstChild,e=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&w0.hasOwnProperty(n)&&e?(e.appendChild(t),t=e):n=="li"?e=t:n&&(e=null)}}function nD(i,t){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,t)}function n0(i){let t={};for(let e in i)t[e]=i[e];return t}function i0(i,t){let e=t.schema.nodes;for(let n in e){let r=e[n];if(!r.allowsMarkType(i))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:d}=a.edge(l);if(c==t||o.indexOf(d)<0&&s(d))return!0}};if(s(r.contentMatch))return!0}}var Wn=class i{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=ip(e).createDocumentFragment());let r=n,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)r=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],d=this.serializeMark(c,s.isInline,e);d&&(o.push([c,r]),r.appendChild(d.dom),r=d.contentDOM||d.dom)}}r.appendChild(this.serializeNodeInner(s,e))}),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=Zl(ip(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&Zl(ip(n),r(t,e),null,t.attrs)}static renderSpec(t,e,n=null,r){return Zl(t,e,n,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new i(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=r0(t.nodes);return e.text||(e.text=n=>n.text),e}static marksFromSchema(t){return r0(t.marks)}};function r0(i){let t={};for(let e in i){let n=i[e].spec.toDOM;n&&(t[e]=n)}return t}function ip(i){return i.document||window.document}var o0=new WeakMap;function iD(i){let t=o0.get(i);return t===void 0&&o0.set(i,t=rD(i)),t}function rD(i){let t=null;function e(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let r=0;r<n.length;r++)e(n[r]);else for(let r in n)e(n[r])}return e(i),t}function Zl(i,t,e,n){if(typeof t=="string")return{dom:i.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=iD(n))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(e=r.slice(0,s),r=r.slice(s+1));let a,l=e?i.createElementNS(e,r):i.createElement(r),c=t[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let p in c)if(c[p]!=null){let f=p.indexOf(" ");f>0?l.setAttributeNS(p.slice(0,f),p.slice(f+1),c[p]):l.setAttribute(p,c[p])}}for(let p=d;p<t.length;p++){let f=t[p];if(f===0){if(p<t.length-1||p>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:_}=Zl(i,f,e,n);if(l.appendChild(g),_){if(a)throw new RangeError("Multiple content holes");a=_}}}return{dom:l,contentDOM:a}}var E0=65535,S0=Math.pow(2,16);function oD(i,t){return i+t*S0}function x0(i){return i&E0}function sD(i){return(i-(i&E0))/S0}var k0=1,D0=2,rc=4,I0=8,Vs=class{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(this.delInfo&I0)>0}get deletedBefore(){return(this.delInfo&(k0|rc))>0}get deletedAfter(){return(this.delInfo&(D0|rc))>0}get deletedAcross(){return(this.delInfo&rc)>0}},$n=class i{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&i.empty)return i.empty}recover(t){let e=0,n=x0(t);if(!this.inverted)for(let r=0;r<n;r++)e+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[n*3]+e+sD(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+o],d=this.ranges[a+s],p=l+c;if(t<=p){let f=c?t==l?-1:t==p?1:e:e,g=l+r+(f<0?0:d);if(n)return g;let _=t==(e<0?l:p)?null:oD(a/3,t-l),x=t==l?D0:t==p?k0:rc;return(e<0?t!=l:t!=p)&&(x|=I0),new Vs(g,x,_)}r+=d-c}return n?t+r:new Vs(t+r,0,null)}touches(t,e){let n=0,r=x0(e),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;let c=this.ranges[a+o],d=l+c;if(t<=d&&a==r*3)return!0;n+=this.ranges[a+s]-c}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let s=this.ranges[r],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[r+e],d=this.ranges[r+n];t(a,a+c,l,l+d),o+=d-c}}invert(){return new i(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?i.empty:new i(t<0?[0,-t,0]:[0,0,t])}};$n.empty=new $n([]);var Bs=class i{constructor(t,e,n=0,r=t?t.length:0){this.mirror=e,this.from=n,this.to=r,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new i(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),e!=null&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,n=this._maps.length;e<t._maps.length;e++){let r=t.getMirror(e);this.appendMap(t._maps[e],r!=null&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this._maps.length+t._maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t._maps[e].invert(),r!=null&&r>e?n-r-1:void 0)}}invert(){let t=new i;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(t,e);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,t=a.pos}return n?t:new Vs(t,r,null)}},dp=Object.create(null),rt=class{getMap(){return $n.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=dp[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in dp)throw new RangeError("Duplicate use of step JSON ID "+t);return dp[t]=e,e.prototype.jsonID=t,e}},ct=class i{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new i(t,null)}static fail(t){return new i(null,t)}static fromReplace(t,e,n,r){try{return i.ok(t.replace(e,n,r))}catch(o){if(o instanceof Xi)return i.fail(o.message);throw o}}};function fp(i,t,e){let n=[];for(let r=0;r<i.childCount;r++){let o=i.child(r);o.content.size&&(o=o.copy(fp(o.content,t,o))),o.isInline&&(o=t(o,e,r)),n.push(o)}return P.fromArray(n)}var js=class i extends rt{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new L(fp(e.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),e.openStart,e.openEnd);return ct.fromReplace(t,this.from,this.to,o)}invert(){return new tr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};rt.jsonID("addMark",js);var tr=class i extends rt{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new L(fp(e.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),e.openStart,e.openEnd);return ct.fromReplace(t,this.from,this.to,n)}invert(){return new js(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};rt.jsonID("removeMark",tr);var zs=class i extends rt{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return ct.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return ct.fromReplace(t,this.pos,this.pos+1,new L(P.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let n=this.mark.addToSet(e.marks);if(n.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(n))return new i(this.pos,e.marks[r]);return new i(this.pos,this.mark)}}return new Hs(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};rt.jsonID("addNodeMark",zs);var Hs=class i extends rt{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return ct.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return ct.fromReplace(t,this.pos,this.pos+1,new L(P.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new zs(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};rt.jsonID("removeNodeMark",Hs);var $t=class i extends rt{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&hp(t,this.from,this.to)?ct.fail("Structure replace would overwrite content"):ct.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new $n([this.from,this.to-this.from,this.slice.size])}invert(t){return new i(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new i(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof i)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?L.empty:new L(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new i(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?L.empty:new L(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new i(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new i(e.from,e.to,L.fromJSON(t,e.slice),!!e.structure)}};rt.jsonID("replace",$t);var ot=class i extends rt{constructor(t,e,n,r,o,s,a=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(hp(t,this.from,this.gapFrom)||hp(t,this.gapTo,this.to)))return ct.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return ct.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?ct.fromReplace(t,this.from,this.to,n):ct.fail("Content does not fit in gap")}getMap(){return new $n([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new i(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||o>n.pos?null:new i(e.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new i(e.from,e.to,e.gapFrom,e.gapTo,L.fromJSON(t,e.slice),e.insert,!!e.structure)}};rt.jsonID("replaceAround",ot);function hp(i,t,e){let n=i.resolve(t),r=e-t,o=n.depth;for(;r>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,r--;if(r>0){let s=n.node(o).maybeChild(n.indexAfter(o));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function aD(i,t,e,n){let r=[],o=[],s,a;i.doc.nodesBetween(t,e,(l,c,d)=>{if(!l.isInline)return;let p=l.marks;if(!n.isInSet(p)&&d.type.allowsMarkType(n.type)){let f=Math.max(c,t),g=Math.min(c+l.nodeSize,e),_=n.addToSet(p);for(let x=0;x<p.length;x++)p[x].isInSet(_)||(s&&s.to==f&&s.mark.eq(p[x])?s.to=g:r.push(s=new tr(f,g,p[x])));a&&a.to==f?a.to=g:o.push(a=new js(f,g,n))}}),r.forEach(l=>i.step(l)),o.forEach(l=>i.step(l))}function lD(i,t,e,n){let r=[],o=0;i.doc.nodesBetween(t,e,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(n instanceof Rs){let c=s.marks,d;for(;d=n.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,e);for(let d=0;d<l.length;d++){let p=l[d],f;for(let g=0;g<r.length;g++){let _=r[g];_.step==o-1&&p.eq(r[g].style)&&(f=_)}f?(f.to=c,f.step=o):r.push({style:p,from:Math.max(a,t),to:c,step:o})}}}),r.forEach(s=>i.step(new tr(s.from,s.to,s.style)))}function gp(i,t,e,n=e.contentMatch,r=!0){let o=i.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),d=a+c.nodeSize,p=n.matchType(c.type);if(!p)s.push(new $t(a,d,L.empty));else{n=p;for(let f=0;f<c.marks.length;f++)e.allowsMarkType(c.marks[f].type)||i.step(new tr(a,d,c.marks[f]));if(r&&c.isText&&e.whitespace!="pre"){let f,g=/\r?\n|\r/g,_;for(;f=g.exec(c.text);)_||(_=new L(P.from(e.schema.text(" ",e.allowedMarks(c.marks))),0,0)),s.push(new $t(a+f.index,a+f.index+f[0].length,_))}}a=d}if(!n.validEnd){let l=n.fillBefore(P.empty,!0);i.replace(a,a,new L(l,0,0))}for(let l=s.length-1;l>=0;l--)i.step(s[l])}function cD(i,t,e){return(t==0||i.canReplace(t,i.childCount))&&(e==i.childCount||i.canReplace(0,e))}function nr(i){let e=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let n=i.depth;;--n){let r=i.$from.node(n),o=i.$from.index(n),s=i.$to.indexAfter(n);if(n<i.depth&&r.canReplace(o,s,e))return n;if(n==0||r.type.spec.isolating||!cD(r,o,s))break}return null}function dD(i,t,e){let{$from:n,$to:r,depth:o}=t,s=n.before(o+1),a=r.after(o+1),l=s,c=a,d=P.empty,p=0;for(let _=o,x=!1;_>e;_--)x||n.index(_)>0?(x=!0,d=P.from(n.node(_).copy(d)),p++):l--;let f=P.empty,g=0;for(let _=o,x=!1;_>e;_--)x||r.after(_+1)<r.end(_)?(x=!0,f=P.from(r.node(_).copy(f)),g++):c++;i.step(new ot(l,c,s,a,new L(d.append(f),p,g),d.size-p,!0))}function io(i,t,e=null,n=i){let r=uD(i,t),o=r&&pD(n,t);return o?r.map(C0).concat({type:t,attrs:e}).concat(o.map(C0)):null}function C0(i){return{type:i,attrs:null}}function uD(i,t){let{parent:e,startIndex:n,endIndex:r}=i,o=e.contentMatchAt(n).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return e.canReplaceWith(n,r,s)?o:null}function pD(i,t){let{parent:e,startIndex:n,endIndex:r}=i,o=e.child(n),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let c=n;l&&c<r;c++)l=l.matchType(e.child(c).type);return!l||!l.validEnd?null:s}function hD(i,t,e){let n=P.empty;for(let s=e.length-1;s>=0;s--){if(n.size){let a=e[s].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=P.from(e[s].type.create(e[s].attrs,n))}let r=t.start,o=t.end;i.step(new ot(r,o,r,o,new L(n,0,0),e.length,!0))}function mD(i,t,e,n,r){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=i.steps.length;i.doc.nodesBetween(t,e,(s,a)=>{let l=typeof r=="function"?r(s):r;if(s.isTextblock&&!s.hasMarkup(n,l)&&fD(i.doc,i.mapping.slice(o).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let g=n.whitespace=="pre",_=!!n.contentMatch.matchType(n.schema.linebreakReplacement);g&&!_?c=!1:!g&&_&&(c=!0)}c===!1&&M0(i,s,a,o),gp(i,i.mapping.slice(o).map(a,1),n,void 0,c===null);let d=i.mapping.slice(o),p=d.map(a,1),f=d.map(a+s.nodeSize,1);return i.step(new ot(p,f,p+1,f-1,new L(P.from(n.create(l,null,s.marks)),0,0),1,!0)),c===!0&&T0(i,s,a,o),!1}})}function T0(i,t,e,n){t.forEach((r,o)=>{if(r.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(r.text);){let l=i.mapping.slice(n).map(e+1+o+s.index);i.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function M0(i,t,e,n){t.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let s=i.mapping.slice(n).map(e+1+o);i.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function fD(i,t,e){let n=i.resolve(t),r=n.index();return n.parent.canReplaceWith(r,r+1,e)}function gD(i,t,e,n,r){let o=i.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);let s=e.create(n,null,r||o.marks);if(o.isLeaf)return i.replaceWith(t,t+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);i.step(new ot(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new L(P.from(s),0,0),1,!0))}function wi(i,t,e=1,n){let r=i.resolve(t),o=r.depth-e,s=n&&n[n.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,d=e-2;c>o;c--,d--){let p=r.node(c),f=r.index(c);if(p.type.spec.isolating)return!1;let g=p.content.cutByIndex(f,p.childCount),_=n&&n[d+1];_&&(g=g.replaceChild(0,_.type.create(_.attrs)));let x=n&&n[d]||p;if(!p.canReplace(f+1,p.childCount)||!x.type.validContent(g))return!1}let a=r.indexAfter(o),l=n&&n[0];return r.node(o).canReplaceWith(a,a,l?l.type:r.node(o+1).type)}function _D(i,t,e=1,n){let r=i.doc.resolve(t),o=P.empty,s=P.empty;for(let a=r.depth,l=r.depth-e,c=e-1;a>l;a--,c--){o=P.from(r.node(a).copy(o));let d=n&&n[c];s=P.from(d?d.type.create(d.attrs,s):r.node(a).copy(s))}i.step(new $t(t,t,new L(o.append(s),e,e),!0))}function ir(i,t){let e=i.resolve(t),n=e.index();return vD(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(n,n+1)}function bD(i,t){t.content.size||i.type.compatibleContent(t.type);let e=i.contentMatchAt(i.childCount),{linebreakReplacement:n}=i.type.schema;for(let r=0;r<t.childCount;r++){let o=t.child(r),s=o.type==n?i.type.schema.nodes.text:o.type;if(e=e.matchType(s),!e||!i.type.allowsMarks(o.marks))return!1}return e.validEnd}function vD(i,t){return!!(i&&t&&!i.isLeaf&&bD(i,t))}function yD(i,t,e){let n=null,{linebreakReplacement:r}=i.doc.type.schema,o=i.doc.resolve(t-e),s=o.node().type;if(r&&s.inlineContent){let d=s.whitespace=="pre",p=!!s.contentMatch.matchType(r);d&&!p?n=!1:!d&&p&&(n=!0)}let a=i.steps.length;if(n===!1){let d=i.doc.resolve(t+e);M0(i,d.node(),d.before(),a)}s.inlineContent&&gp(i,t+e-1,s,o.node().contentMatchAt(o.index()),n==null);let l=i.mapping.slice(a),c=l.map(t-e);if(i.step(new $t(c,l.map(t+e,-1),L.empty,!0)),n===!0){let d=i.doc.resolve(c);T0(i,d.node(),d.before(),i.steps.length)}return i}function wD(i,t,e){let n=i.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),e))return t;if(n.parentOffset==0)for(let r=n.depth-1;r>=0;r--){let o=n.index(r);if(n.node(r).canReplaceWith(o,o,e))return n.before(r+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let r=n.depth-1;r>=0;r--){let o=n.indexAfter(r);if(n.node(r).canReplaceWith(o,o,e))return n.after(r+1);if(o<n.node(r).childCount)return null}return null}function A0(i,t,e){let n=i.resolve(t);if(!e.content.size)return t;let r=e.content;for(let o=0;o<e.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(e.openStart==0&&e.size?2:1);o++)for(let s=n.depth;s>=0;s--){let a=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,l=n.index(s)+(a>0?1:0),c=n.node(s),d=!1;if(o==1)d=c.canReplace(l,l,r);else{let p=c.contentMatchAt(l).findWrapping(r.firstChild.type);d=p&&c.canReplaceWith(l,l,p[0])}if(d)return a==0?n.pos:a<0?n.before(s+1):n.after(s+1)}return null}function lc(i,t,e=t,n=L.empty){if(t==e&&!n.size)return null;let r=i.resolve(t),o=i.resolve(e);return P0(r,o,n)?new $t(t,e,n):new mp(r,o,n).fit()}function P0(i,t,e){return!e.openStart&&!e.openEnd&&i.start()==t.start()&&i.parent.canReplace(i.index(),t.index(),e.content)}var mp=class{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=P.empty;for(let r=0;r<=t.depth;r++){let o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=P.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(t<0?this.$to:n.doc.resolve(t));if(!r)return null;let o=this.placed,s=n.depth,a=r.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new L(o,s,a);return t>-1?new ot(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new $t(n.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let o=e.firstChild;if(e.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){t=n;break}e=o.content}for(let e=1;e<=2;e++)for(let n=e==1?t:this.unplaced.openStart;n>=0;n--){let r,o=null;n?(o=up(this.unplaced.content,n-1).firstChild,r=o.content):r=this.unplaced.content;let s=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],d,p=null;if(e==1&&(s?c.matchType(s.type)||(p=c.fillBefore(P.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:a,parent:o,inject:p};if(e==2&&s&&(d=c.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:a,parent:o,wrap:d};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=up(t,e);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new L(t,e+1,Math.max(n,r.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=up(t,e);if(r.childCount<=1&&e>0){let o=t.size-e<=e+r.size;this.unplaced=new L(Fs(t,e-1,1),e-1,o?e-1:n)}else this.unplaced=new L(Fs(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:r,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let x=0;x<o.length;x++)this.openFrontierNode(o[x]);let s=this.unplaced,a=n?n.content:s.content,l=s.openStart-t,c=0,d=[],{match:p,type:f}=this.frontier[e];if(r){for(let x=0;x<r.childCount;x++)d.push(r.child(x));p=p.matchFragment(r)}let g=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let x=a.child(c),E=p.matchType(x.type);if(!E)break;c++,(c>1||l==0||x.content.size)&&(p=E,d.push(O0(x.mark(f.allowedMarks(x.marks)),c==1?l:0,c==a.childCount?g:-1)))}let _=c==a.childCount;_||(g=-1),this.placed=Ls(this.placed,e,P.from(d)),this.frontier[e].match=p,_&&g<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,E=a;x<g;x++){let O=E.lastChild;this.frontier.push({type:O.type,match:O.contentMatchAt(O.childCount)}),E=O.content}this.unplaced=_?t==0?L.empty:new L(Fs(s.content,t-1,1),t-1,g<0?s.openEnd:t-1):new L(Fs(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!pp(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=pp(t,e,r,n,o);if(s){for(let a=e-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],d=pp(t,a,c,l,!0);if(!d||d.childCount)continue e}return{depth:e,fit:s,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Ls(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(t,e=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=Ls(this.placed,this.depth,P.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(P.empty,!0);e.childCount&&(this.placed=Ls(this.placed,this.frontier.length,e))}};function Fs(i,t,e){return t==0?i.cutByIndex(e,i.childCount):i.replaceChild(0,i.firstChild.copy(Fs(i.firstChild.content,t-1,e)))}function Ls(i,t,e){return t==0?i.append(e):i.replaceChild(i.childCount-1,i.lastChild.copy(Ls(i.lastChild.content,t-1,e)))}function up(i,t){for(let e=0;e<t;e++)i=i.firstChild.content;return i}function O0(i,t,e){if(t<=0)return i;let n=i.content;return t>1&&(n=n.replaceChild(0,O0(n.firstChild,t-1,n.childCount==1?e-1:0))),t>0&&(n=i.type.contentMatch.fillBefore(n).append(n),e<=0&&(n=n.append(i.type.contentMatch.matchFragment(n).fillBefore(P.empty,!0)))),i.copy(n)}function pp(i,t,e,n,r){let o=i.node(t),s=r?i.indexAfter(t):i.index(t);if(s==o.childCount&&!e.compatibleContent(o.type))return null;let a=n.fillBefore(o.content,!0,s);return a&&!xD(e,o.content,s)?a:null}function xD(i,t,e){for(let n=e;n<t.childCount;n++)if(!i.allowsMarks(t.child(n).marks))return!0;return!1}function CD(i){return i.spec.defining||i.spec.definingForContent}function ED(i,t,e,n){if(!n.size)return i.deleteRange(t,e);let r=i.doc.resolve(t),o=i.doc.resolve(e);if(P0(r,o,n))return i.step(new $t(t,e,n));let s=N0(r,i.doc.resolve(e));s[s.length-1]==0&&s.pop();let a=-(r.depth+1);s.unshift(a);for(let f=r.depth,g=r.pos-1;f>0;f--,g--){let _=r.node(f).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;s.indexOf(f)>-1?a=f:r.before(f)==g&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],d=n.openStart;for(let f=n.content,g=0;;g++){let _=f.firstChild;if(c.push(_),g==n.openStart)break;f=_.content}for(let f=d-1;f>=0;f--){let g=c[f],_=CD(g.type);if(_&&!g.sameMarkup(r.node(Math.abs(a)-1)))d=f;else if(_||!g.type.isTextblock)break}for(let f=n.openStart;f>=0;f--){let g=(f+d+1)%(n.openStart+1),_=c[g];if(_)for(let x=0;x<s.length;x++){let E=s[(x+l)%s.length],O=!0;E<0&&(O=!1,E=-E);let le=r.node(E-1),Z=r.index(E-1);if(le.canReplaceWith(Z,Z,_.type,_.marks))return i.replace(r.before(E),O?o.after(E):e,new L(R0(n.content,0,n.openStart,g),g,n.openEnd))}}let p=i.steps.length;for(let f=s.length-1;f>=0&&(i.replace(t,e,n),!(i.steps.length>p));f--){let g=s[f];g<0||(t=r.before(g),e=o.after(g))}}function R0(i,t,e,n,r){if(t<e){let o=i.firstChild;i=i.replaceChild(0,o.copy(R0(o.content,t+1,e,n,o)))}if(t>n){let o=r.contentMatchAt(0),s=o.fillBefore(i).append(i);i=s.append(o.matchFragment(s).fillBefore(P.empty,!0))}return i}function SD(i,t,e,n){if(!n.isInline&&t==e&&i.doc.resolve(t).parent.content.size){let r=wD(i.doc,t,n.type);r!=null&&(t=e=r)}i.replaceRange(t,e,new L(P.from(n),0,0))}function kD(i,t,e){let n=i.doc.resolve(t),r=i.doc.resolve(e),o=N0(n,r);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return i.delete(n.start(a),r.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return i.delete(n.before(a),r.after(a))}for(let s=1;s<=n.depth&&s<=r.depth;s++)if(t-n.start(s)==n.depth-s&&e>n.end(s)&&r.end(s)-e!=r.depth-s&&n.start(s-1)==r.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),r.index(s-1)))return i.delete(n.before(s),e);i.delete(t,e)}function N0(i,t){let e=[],n=Math.min(i.depth,t.depth);for(let r=n;r>=0;r--){let o=i.start(r);if(o<i.pos-(i.depth-r)||t.end(r)>t.pos+(t.depth-r)||i.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==i.depth&&r==t.depth&&i.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&e.push(r)}return e}var oc=class i extends rt{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return ct.fail("No node at attribute step's position");let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,null,e.marks);return ct.fromReplace(t,this.pos,this.pos+1,new L(P.from(r),0,e.isLeaf?0:1))}getMap(){return $n.empty}invert(t){return new i(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new i(e.pos,e.attr,e.value)}};rt.jsonID("attr",oc);var sc=class i extends rt{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return ct.ok(n)}getMap(){return $n.empty}invert(t){return new i(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new i(e.attr,e.value)}};rt.jsonID("docAttr",sc);var no=class extends Error{};no=function i(t){let e=Error.call(this,t);return e.__proto__=i.prototype,e};no.prototype=Object.create(Error.prototype);no.prototype.constructor=no;no.prototype.name="TransformError";var ac=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Bs}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new no(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=L.empty){let r=lc(this.doc,t,e,n);return r&&this.step(r),this}replaceWith(t,e,n){return this.replace(t,e,new L(P.from(n),0,0))}delete(t,e){return this.replace(t,e,L.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return ED(this,t,e,n),this}replaceRangeWith(t,e,n){return SD(this,t,e,n),this}deleteRange(t,e){return kD(this,t,e),this}lift(t,e){return dD(this,t,e),this}join(t,e=1){return yD(this,t,e),this}wrap(t,e){return hD(this,t,e),this}setBlockType(t,e=t,n,r=null){return mD(this,t,e,n,r),this}setNodeMarkup(t,e,n=null,r){return gD(this,t,e,n,r),this}setNodeAttribute(t,e,n){return this.step(new oc(t,e,n)),this}setDocAttribute(t,e){return this.step(new sc(t,e)),this}addNodeMark(t,e){return this.step(new zs(t,e)),this}removeNodeMark(t,e){if(!(e instanceof Me)){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(e=e.isInSet(n.marks),!e)return this}return this.step(new Hs(t,e)),this}split(t,e=1,n){return _D(this,t,e,n),this}addMark(t,e,n){return aD(this,t,e,n),this}removeMark(t,e,n){return lD(this,t,e,n),this}clearIncompatible(t,e,n){return gp(this,t,e,n),this}};var _p=Object.create(null),pe=class{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new oo(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=L.empty){let n=e.content.lastChild,r=null;for(let a=0;a<e.openEnd;a++)r=n,n=n.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],d=t.mapping.slice(o);t.replaceRange(d.map(l.pos),d.map(c.pos),a?L.empty:e),a==0&&V0(t,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:s,$to:a}=r[o],l=t.mapping.slice(n),c=l.map(s.pos),d=l.map(a.pos);o?t.deleteRange(c,d):(t.replaceRangeWith(c,d,e),V0(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new ke(t):ro(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let o=t.depth-1;o>=0;o--){let s=e<0?ro(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):ro(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(s)return s}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new Gt(t.node(0))}static atStart(t){return ro(t,t,0,0,1)||new Gt(t)}static atEnd(t){return ro(t,t,t.content.size,t.childCount,-1)||new Gt(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=_p[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in _p)throw new RangeError("Duplicate use of selection JSON ID "+t);return _p[t]=e,e.prototype.jsonID=t,e}getBookmark(){return ke.between(this.$anchor,this.$head).getBookmark()}};pe.prototype.visible=!0;var oo=class{constructor(t,e){this.$from=t,this.$to=e}},F0=!1;function L0(i){!F0&&!i.parent.inlineContent&&(F0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}var ke=class i extends pe{constructor(t,e=t){L0(t),L0(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return pe.near(n);let r=t.resolve(e.map(this.anchor));return new i(r.parent.inlineContent?r:n,n)}replace(t,e=L.empty){if(super.replace(t,e),e==L.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof i&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new dc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new i(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if((!n||r)&&(n=r>=0?1:-1),!e.parent.inlineContent){let o=pe.findFrom(e,n,!0)||pe.findFrom(e,-n,!0);if(o)e=o.$head;else return pe.near(e,n)}return t.parent.inlineContent||(r==0?t=e:(t=(pe.findFrom(t,-n,!0)||pe.findFrom(t,n,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new i(t,e)}};pe.jsonID("text",ke);var dc=class i{constructor(t,e){this.anchor=t,this.head=e}map(t){return new i(t.map(this.anchor),t.map(this.head))}resolve(t){return ke.between(t.resolve(this.anchor),t.resolve(this.head))}},K=class i extends pe{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),o=t.resolve(r);return n?pe.near(o):new i(o)}content(){return new L(P.from(this.node),0,0)}eq(t){return t instanceof i&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new vp(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new i(t.resolve(e.anchor))}static create(t,e){return new i(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};K.prototype.visible=!1;pe.jsonID("node",K);var vp=class i{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new dc(n,n):new i(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&K.isSelectable(n)?new K(e):pe.near(e)}},Gt=class i extends pe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=L.empty){if(e==L.empty){t.delete(0,t.doc.content.size);let n=pe.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new i(t)}map(t){return new i(t)}eq(t){return t instanceof i}getBookmark(){return DD}};pe.jsonID("all",Gt);var DD={map(){return this},resolve(i){return new Gt(i)}};function ro(i,t,e,n,r,o=!1){if(t.inlineContent)return ke.create(i,e);for(let s=n-(r>0?0:1);r>0?s<t.childCount:s>=0;s+=r){let a=t.child(s);if(a.isAtom){if(!o&&K.isSelectable(a))return K.create(i,e-(r<0?a.nodeSize:0))}else{let l=ro(i,a,e+r,r<0?a.childCount:0,r,o);if(l)return l}e+=a.nodeSize*r}return null}function V0(i,t,e){let n=i.steps.length-1;if(n<t)return;let r=i.steps[n];if(!(r instanceof $t||r instanceof ot))return;let o=i.mapping.maps[n],s;o.forEach((a,l,c,d)=>{s==null&&(s=d)}),i.setSelection(pe.near(i.doc.resolve(s),e))}var B0=1,cc=2,j0=4,yp=class extends ac{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|B0)&~cc,this.storedMarks=null,this}get selectionSet(){return(this.updated&B0)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=cc,this}ensureMarks(t){return Me.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&cc)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~cc,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Me.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(n==null&&(n=e),n=n??e,!t)return this.deleteRange(e,n);let o=this.storedMarks;if(!o){let s=this.doc.resolve(e);o=n==e?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(pe.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=j0,this}get scrolledIntoView(){return(this.updated&j0)>0}};function z0(i,t){return!t||!i?i:i.bind(t)}var rr=class{constructor(t,e,n){this.name=t,this.init=z0(e.init,n),this.apply=z0(e.apply,n)}},ID=[new rr("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new rr("selection",{init(i,t){return i.selection||pe.atStart(t.doc)},apply(i){return i.selection}}),new rr("storedMarks",{init(i){return i.storedMarks||null},apply(i,t,e,n){return n.selection.$cursor?i.storedMarks:null}}),new rr("scrollToSelection",{init(){return 0},apply(i,t){return i.scrolledIntoView?t+1:t}})],Us=class{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ID.slice(),e&&e.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new rr(n.key,n.spec.state,n))})}},uc=class i{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=r?r[s].n:0,c=r?r[s].state:this,d=l<e.length&&a.spec.appendTransaction.call(a,l?e.slice(l):e,c,n);if(d&&n.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",t),!r){r=[];for(let p=0;p<this.config.plugins.length;p++)r.push(p<s?{state:n,n:e.length}:{state:this,n:0})}e.push(d),n=n.applyInner(d),o=!0}r&&(r[s]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new i(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}return e}get tr(){return new yp(this)}static create(t){let e=new Us(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new i(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new Us(this.schema,t.plugins),n=e.fields,r=new i(e);for(let o=0;o<n.length;o++){let s=n[o].name;r[s]=this.hasOwnProperty(s)?this[s]:n[o].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new Us(t.schema,t.plugins),o=new i(r);return r.fields.forEach(s=>{if(s.name=="doc")o.doc=Dn.fromJSON(t.schema,e.doc);else if(s.name=="selection")o.selection=pe.fromJSON(o.doc,e.selection);else if(s.name=="storedMarks")e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,a)){o[s.name]=c.fromJSON.call(l,t,e[a],o);return}}o[s.name]=s.init(t,o)}}),o}};function H0(i,t,e){for(let n in i){let r=i[n];r instanceof Function?r=r.bind(t):n=="handleDOMEvents"&&(r=H0(r,t,{})),e[n]=r}return e}var bt=class{constructor(t){this.spec=t,this.props={},t.props&&H0(t.props,this,this.props),this.key=t.key?t.key.key:U0("plugin")}getState(t){return t[this.key]}},bp=Object.create(null);function U0(i){return i in bp?i+"$"+ ++bp[i]:(bp[i]=0,i+"$")}var qt=class{constructor(t="key"){this.key=U0(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}};var dt=function(i){for(var t=0;;t++)if(i=i.previousSibling,!i)return t},uo=function(i){let t=i.assignedSlot||i.parentNode;return t&&t.nodeType==11?t.host:t},kp=null,qn=function(i,t,e){let n=kp||(kp=document.createRange());return n.setEnd(i,e??i.nodeValue.length),n.setStart(i,t||0),n},TD=function(){kp=null},ur=function(i,t,e,n){return e&&(W0(i,t,e,n,-1)||W0(i,t,e,n,1))},MD=/^(img|br|input|textarea|hr)$/i;function W0(i,t,e,n,r){for(;;){if(i==e&&t==n)return!0;if(t==(r<0?0:nn(i))){let o=i.parentNode;if(!o||o.nodeType!=1||Js(i)||MD.test(i.nodeName)||i.contentEditable=="false")return!1;t=dt(i)+(r<0?0:1),i=o}else if(i.nodeType==1){if(i=i.childNodes[t+(r<0?-1:0)],i.contentEditable=="false")return!1;t=r<0?nn(i):0}else return!1}}function nn(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function AD(i,t){for(;;){if(i.nodeType==3&&t)return i;if(i.nodeType==1&&t>0){if(i.contentEditable=="false")return null;i=i.childNodes[t-1],t=nn(i)}else if(i.parentNode&&!Js(i))t=dt(i),i=i.parentNode;else return null}}function PD(i,t){for(;;){if(i.nodeType==3&&t<i.nodeValue.length)return i;if(i.nodeType==1&&t<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[t],t=0}else if(i.parentNode&&!Js(i))t=dt(i)+1,i=i.parentNode;else return null}}function OD(i,t,e){for(let n=t==0,r=t==nn(i);n||r;){if(i==e)return!0;let o=dt(i);if(i=i.parentNode,!i)return!1;n=n&&o==0,r=r&&o==nn(i)}}function Js(i){let t;for(let e=i;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==i||t.contentDOM==i)}var Cc=function(i){return i.focusNode&&ur(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function or(i,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=i,e.key=e.code=t,e}function RD(i){let t=i.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function ND(i,t,e){if(i.caretPositionFromPoint)try{let n=i.caretPositionFromPoint(t,e);if(n)return{node:n.offsetNode,offset:Math.min(nn(n.offsetNode),n.offset)}}catch{}if(i.caretRangeFromPoint){let n=i.caretRangeFromPoint(t,e);if(n)return{node:n.startContainer,offset:Math.min(nn(n.startContainer),n.startOffset)}}}var In=typeof navigator<"u"?navigator:null,$0=typeof document<"u"?document:null,Di=In&&In.userAgent||"",Dp=/Edge\/(\d+)/.exec(Di),Cb=/MSIE \d/.exec(Di),Ip=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Di),Nt=!!(Cb||Ip||Dp),Si=Cb?document.documentMode:Ip?+Ip[1]:Dp?+Dp[1]:0,mn=!Nt&&/gecko\/(\d+)/i.test(Di);mn&&+(/Firefox\/(\d+)/.exec(Di)||[0,0])[1];var Tp=!Nt&&/Chrome\/(\d+)/.exec(Di),yt=!!Tp,Eb=Tp?+Tp[1]:0,St=!Nt&&!!In&&/Apple Computer/.test(In.vendor),po=St&&(/Mobile\/\w+/.test(Di)||!!In&&In.maxTouchPoints>2),tn=po||(In?/Mac/.test(In.platform):!1),FD=In?/Win/.test(In.platform):!1,Kn=/Android \d/.test(Di),Zs=!!$0&&"webkitFontSmoothing"in $0.documentElement.style,LD=Zs?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function VD(i){let t=i.defaultView&&i.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function Gn(i,t){return typeof i=="number"?i:i[t]}function BD(i){let t=i.getBoundingClientRect(),e=t.width/i.offsetWidth||1,n=t.height/i.offsetHeight||1;return{left:t.left,right:t.left+i.clientWidth*e,top:t.top,bottom:t.top+i.clientHeight*n}}function G0(i,t,e){let n=i.someProp("scrollThreshold")||0,r=i.someProp("scrollMargin")||5,o=i.dom.ownerDocument;for(let s=e||i.dom;s;){if(s.nodeType!=1){s=uo(s);continue}let a=s,l=a==o.body,c=l?VD(o):BD(a),d=0,p=0;if(t.top<c.top+Gn(n,"top")?p=-(c.top-t.top+Gn(r,"top")):t.bottom>c.bottom-Gn(n,"bottom")&&(p=t.bottom-t.top>c.bottom-c.top?t.top+Gn(r,"top")-c.top:t.bottom-c.bottom+Gn(r,"bottom")),t.left<c.left+Gn(n,"left")?d=-(c.left-t.left+Gn(r,"left")):t.right>c.right-Gn(n,"right")&&(d=t.right-c.right+Gn(r,"right")),d||p)if(l)o.defaultView.scrollBy(d,p);else{let g=a.scrollLeft,_=a.scrollTop;p&&(a.scrollTop+=p),d&&(a.scrollLeft+=d);let x=a.scrollLeft-g,E=a.scrollTop-_;t={left:t.left-x,top:t.top-E,right:t.right-x,bottom:t.bottom-E}}let f=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(f))break;s=f=="absolute"?s.offsetParent:uo(s)}}function jD(i){let t=i.dom.getBoundingClientRect(),e=Math.max(0,t.top),n,r;for(let o=(t.left+t.right)/2,s=e+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=i.root.elementFromPoint(o,s);if(!a||a==i.dom||!i.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=e-20){n=a,r=l.top;break}}return{refDOM:n,refTop:r,stack:Sb(i.dom)}}function Sb(i){let t=[],e=i.ownerDocument;for(let n=i;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),i!=e);n=uo(n));return t}function zD({refDOM:i,refTop:t,stack:e}){let n=i?i.getBoundingClientRect().top:0;kb(e,n==0?0:n-t)}function kb(i,t){for(let e=0;e<i.length;e++){let{dom:n,top:r,left:o}=i[e];n.scrollTop!=r+t&&(n.scrollTop=r+t),n.scrollLeft!=o&&(n.scrollLeft=o)}}var so=null;function HD(i){if(i.setActive)return i.setActive();if(so)return i.focus(so);let t=Sb(i);i.focus(so==null?{get preventScroll(){return so={preventScroll:!0},!0}}:void 0),so||(so=!1,kb(t,0))}function Db(i,t){let e,n=2e8,r,o=0,s=t.top,a=t.top,l,c;for(let d=i.firstChild,p=0;d;d=d.nextSibling,p++){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=qn(d).getClientRects();else continue;for(let g=0;g<f.length;g++){let _=f[g];if(_.top<=s&&_.bottom>=a){s=Math.max(_.bottom,s),a=Math.min(_.top,a);let x=_.left>t.left?_.left-t.left:_.right<t.left?t.left-_.right:0;if(x<n){e=d,n=x,r=x&&e.nodeType==3?{left:_.right<t.left?_.right:_.left,top:t.top}:t,d.nodeType==1&&x&&(o=p+(t.left>=(_.left+_.right)/2?1:0));continue}}else _.top>t.top&&!l&&_.left<=t.left&&_.right>=t.left&&(l=d,c={left:Math.max(_.left,Math.min(_.right,t.left)),top:_.top});!e&&(t.left>=_.right&&t.top>=_.top||t.left>=_.left&&t.top>=_.bottom)&&(o=p+1)}}return!e&&l&&(e=l,r=c,n=0),e&&e.nodeType==3?UD(e,r):!e||n&&e.nodeType==1?{node:i,offset:o}:Db(e,r)}function UD(i,t){let e=i.nodeValue.length,n=document.createRange();for(let r=0;r<e;r++){n.setEnd(i,r+1),n.setStart(i,r);let o=xi(n,1);if(o.top!=o.bottom&&Wp(t,o))return{node:i,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:i,offset:0}}function Wp(i,t){return i.left>=t.left-1&&i.left<=t.right+1&&i.top>=t.top-1&&i.top<=t.bottom+1}function WD(i,t){let e=i.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<i.getBoundingClientRect().left?e:i}function $D(i,t,e){let{node:n,offset:r}=Db(t,e),o=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();o=s.left!=s.right&&e.left>(s.left+s.right)/2?1:-1}return i.docView.posFromDOM(n,r,o)}function GD(i,t,e,n){let r=-1;for(let o=t,s=!1;o!=i.dom;){let a=i.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!s&&l.left>n.left||l.top>n.top?r=a.posBefore:(!s&&l.right<n.left||l.bottom<n.top)&&(r=a.posAfter),s=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return r>-1?r:i.docView.posFromDOM(t,e,-1)}function Ib(i,t,e){let n=i.childNodes.length;if(n&&e.top<e.bottom)for(let r=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-e.top)/(e.bottom-e.top))-2)),o=r;;){let s=i.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Wp(t,c))return Ib(s,t,c)}}if((o=(o+1)%n)==r)break}return i}function qD(i,t){let e=i.dom.ownerDocument,n,r=0,o=ND(e,t.left,t.top);o&&({node:n,offset:r}=o);let s=(i.root.elementFromPoint?i.root:e).elementFromPoint(t.left,t.top),a;if(!s||!i.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=i.dom.getBoundingClientRect();if(!Wp(t,c)||(s=Ib(i.dom,t,c),!s))return null}if(St)for(let c=s;n&&c;c=uo(c))c.draggable&&(n=void 0);if(s=WD(s,t),n){if(mn&&n.nodeType==1&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let d=n.childNodes[r],p;d.nodeName=="IMG"&&(p=d.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&r++}let c;Zs&&r&&n.nodeType==1&&(c=n.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&r--,n==i.dom&&r==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?a=i.state.doc.content.size:(r==0||n.nodeType!=1||n.childNodes[r-1].nodeName!="BR")&&(a=GD(i,n,r,t))}a==null&&(a=$D(i,s,t));let l=i.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function q0(i){return i.top<i.bottom||i.left<i.right}function xi(i,t){let e=i.getClientRects();if(e.length){let n=e[t<0?0:e.length-1];if(q0(n))return n}return Array.prototype.find.call(e,q0)||i.getBoundingClientRect()}var KD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Tb(i,t,e){let{node:n,offset:r,atom:o}=i.docView.domFromPos(t,e<0?-1:1),s=Zs||mn;if(n.nodeType==3)if(s&&(KD.test(n.nodeValue)||(e<0?!r:r==n.nodeValue.length))){let l=xi(qn(n,r,r),e);if(mn&&r&&/\s/.test(n.nodeValue[r-1])&&r<n.nodeValue.length){let c=xi(qn(n,r-1,r-1),-1);if(c.top==l.top){let d=xi(qn(n,r,r+1),-1);if(d.top!=l.top)return Ws(d,d.left<c.left)}}return l}else{let l=r,c=r,d=e<0?1:-1;return e<0&&!r?(c++,d=-1):e>=0&&r==n.nodeValue.length?(l--,d=1):e<0?l--:c++,Ws(xi(qn(n,l,c),d),d<0)}if(!i.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&r&&(e<0||r==nn(n))){let l=n.childNodes[r-1];if(l.nodeType==1)return wp(l.getBoundingClientRect(),!1)}if(o==null&&r<nn(n)){let l=n.childNodes[r];if(l.nodeType==1)return wp(l.getBoundingClientRect(),!0)}return wp(n.getBoundingClientRect(),e>=0)}if(o==null&&r&&(e<0||r==nn(n))){let l=n.childNodes[r-1],c=l.nodeType==3?qn(l,nn(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Ws(xi(c,1),!1)}if(o==null&&r<nn(n)){let l=n.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?qn(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Ws(xi(c,-1),!0)}return Ws(xi(n.nodeType==3?qn(n):n,-e),e>=0)}function Ws(i,t){if(i.width==0)return i;let e=t?i.left:i.right;return{top:i.top,bottom:i.bottom,left:e,right:e}}function wp(i,t){if(i.height==0)return i;let e=t?i.top:i.bottom;return{top:e,bottom:e,left:i.left,right:i.right}}function Mb(i,t,e){let n=i.state,r=i.root.activeElement;n!=t&&i.updateState(t),r!=i.dom&&i.focus();try{return e()}finally{n!=t&&i.updateState(n),r!=i.dom&&r&&r.focus()}}function YD(i,t,e){let n=t.selection,r=e=="up"?n.$from:n.$to;return Mb(i,t,()=>{let{node:o}=i.docView.domFromPos(r.pos,e=="up"?-1:1);for(;;){let a=i.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=Tb(i,r.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=qn(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(e=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}var JD=/[\u0590-\u08ac]/;function ZD(i,t,e){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let r=n.parentOffset,o=!r,s=r==n.parent.content.size,a=i.domSelection();return a?!JD.test(n.parent.textContent)||!a.modify?e=="left"||e=="backward"?o:s:Mb(i,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:p}=i.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",e,"character");let g=n.depth?i.docView.domAfterPos(n.before()):i.dom,{focusNode:_,focusOffset:x}=i.domSelectionRange(),E=_&&!g.contains(_.nodeType==1?_:_.parentNode)||l==_&&c==x;try{a.collapse(d,p),l&&(l!=d||c!=p)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),E}):n.pos==n.start()||n.pos==n.end()}var K0=null,Y0=null,J0=!1;function XD(i,t,e){return K0==t&&Y0==e?J0:(K0=t,Y0=e,J0=e=="up"||e=="down"?YD(i,t,e):ZD(i,t,e))}var rn=0,Z0=1,sr=2,Tn=3,pr=class{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=rn,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let o,s;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=e>dt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&e==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let o=this.getDesc(r),s;if(o&&(!e||o.node))if(n&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))n=!1;else return o}}getDesc(t){let e=t.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)for(let s=0;s<r.children.length;s++){let a=r.children[s];if(a.size){r=a;break}}return r}if(t<o)return r.descAt(t-n-r.border);n=o}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,r=0;for(let o=0;n<this.children.length;n++){let s=this.children[n],a=o+s.size;if(a>t||s instanceof mc){r=t-o;break}o=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof pc&&o.side>=0;n--);if(e<=0){let o,s=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,s=!1);return o&&e&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,e):{node:this.contentDOM,offset:o?dt(o.dom)+1:0}}else{let o,s=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,e):{node:this.contentDOM,offset:o?dt(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let s=n,a=0;;a++){let l=this.children[a],c=s+l.size;if(r==-1&&t<=c){let d=s+l.border;if(t>=d&&e<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,d);t=s;for(let p=a;p>0;p--){let f=this.children[p-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=dt(f.dom)+1;break}t-=f.size}r==-1&&(r=0)}if(r>-1&&(c>e||a==this.children.length-1)){e=c;for(let d=a+1;d<this.children.length;d++){let p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){o=dt(p.dom);break}e+=p.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(e.nodeType!=1||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let o=Math.min(t,e),s=Math.max(t,e);for(let g=0,_=0;g<this.children.length;g++){let x=this.children[g],E=_+x.size;if(o>_&&s<E)return x.setSelection(t-_-x.border,e-_-x.border,n,r);_=E}let a=this.domFromPos(t,t?-1:1),l=e==t?a:this.domFromPos(e,e?-1:1),c=n.root.getSelection(),d=n.domSelectionRange(),p=!1;if((mn||St)&&t==e){let{node:g,offset:_}=a;if(g.nodeType==3){if(p=!!(_&&g.nodeValue[_-1]==`
`),p&&_==g.nodeValue.length)for(let x=g,E;x;x=x.parentNode){if(E=x.nextSibling){E.nodeName=="BR"&&(a=l={node:E.parentNode,offset:dt(E)+1});break}let O=x.pmViewDesc;if(O&&O.node&&O.node.isBlock)break}}else{let x=g.childNodes[_-1];p=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(mn&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(r=!0)}if(!(r||p&&St)&&ur(a.node,a.offset,d.anchorNode,d.anchorOffset)&&ur(l.node,l.offset,d.focusNode,d.focusOffset))return;let f=!1;if((c.extend||t==e)&&!p){c.collapse(a.node,a.offset);try{t!=e&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>e){let _=a;a=l,l=_}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],s=n+o.size;if(n==s?t<=s&&e>=n:t<s&&e>n){let a=n+o.border,l=s-o.border;if(t>=a&&e<=l){this.dirty=t==n||e==s?sr:Z0,t==a&&e==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Tn:o.markDirty(t-a,e-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?sr:Tn}n=s}this.dirty=sr}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=t==1?sr:Z0;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}},pc=class extends pr{constructor(t,e,n,r){let o,s=e.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!e.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=e,this.widget=e,o=this}matchesWidget(t){return this.dirty==rn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},Mp=class extends pr{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}},ho=class i extends pr{constructor(t,e,n,r,o){super(t,[],n,r),this.mark=e,this.spec=o}static create(t,e,n,r){let o=r.nodeViews[e.type.name],s=o&&o(e,r,n);return(!s||!s.dom)&&(s=Wn.renderSpec(document,e.type.spec.toDOM(e,n),null,e.attrs)),new i(t,e,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Tn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Tn&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=rn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=rn}}slice(t,e,n){let r=i.create(this.parent,this.mark,!0,n),o=this.children,s=this.size;e<s&&(o=Rp(o,e,s,n)),t>0&&(o=Rp(o,0,t,n));for(let a=0;a<o.length;a++)o[a].parent=r;return r.children=o,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},ki=class i extends pr{constructor(t,e,n,r,o,s,a,l,c){super(t,[],o,s),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(t,e,n,r,o,s){let a=o.nodeViews[e.type.name],l,c=a&&a(e,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},n,r),d=c&&c.dom,p=c&&c.contentDOM;if(e.isText){if(!d)d=document.createTextNode(e.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:p}=Wn.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!p&&!e.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),e.type.spec.draggable&&(d.draggable=!0));let f=d;return d=Ob(d,n,e),c?l=new Ap(t,e,n,r,d,p||null,f,c,o,s+1):e.isText?new hc(t,e,n,r,d,f,o):new i(t,e,n,r,d,p||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>P.empty)}return t}matchesNode(t,e,n){return this.dirty==rn&&t.eq(this.node)&&fc(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Op(this,s&&s.node,t);nI(this.node,this.innerDeco,(c,d,p)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,t):c.type.side>=0&&!p&&l.syncToMarks(d==this.node.childCount?Me.none:this.node.child(d).marks,n,t),l.placeWidget(c,t,r)},(c,d,p,f)=>{l.syncToMarks(c.marks,n,t);let g;l.findNodeMatch(c,d,p,f)||a&&t.state.selection.from>r&&t.state.selection.to<r+c.nodeSize&&(g=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,d,p,g,t)||l.updateNextNode(c,d,p,t,f,r)||l.addNode(c,d,p,t,r),r+=c.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==sr)&&(s&&this.protectLocalComposition(t,s),Ab(this.contentDOM,this.children,t),po&&iI(this.dom))}localCompositionInfo(t,e){let{from:n,to:r}=t.state.selection;if(!(t.state.selection instanceof ke)||n<e||r>e+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=rI(this.node.content,s,n-e,r-e);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let o=e;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Mp(this,o,e,r);t.input.compositionNodes.push(s),this.children=Rp(this.children,n,n+r.length,t,s)}update(t,e,n,r){return this.dirty==Tn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=rn}updateOuterDeco(t){if(fc(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=Pb(this.dom,this.nodeDOM,Pp(this.outerDeco,this.node,e),Pp(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function X0(i,t,e,n,r){Ob(n,t,i);let o=new ki(void 0,i,t,e,n,n,n,r,0);return o.contentDOM&&o.updateChildren(r,0),o}var hc=class i extends ki{constructor(t,e,n,r,o,s,a){super(t,e,n,r,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return this.dirty==Tn||this.dirty!=rn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=rn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=rn,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,n){let r=this.node.cut(t,e),o=document.createTextNode(r.text);return new i(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=Tn)}get domAtom(){return!1}isText(t){return this.node.text==t}},mc=class extends pr{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==rn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Ap=class extends ki{constructor(t,e,n,r,o,s,a,l,c,d){super(t,e,n,r,o,s,a,c,d),this.spec=l}update(t,e,n,r){if(this.dirty==Tn)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,e,n);return o&&this.updateInner(t,e,n,r),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n.root):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}};function Ab(i,t,e){let n=i.firstChild,r=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==i){for(;a!=n;)n=Q0(n),r=!0;n=n.nextSibling}else r=!0,i.insertBefore(a,n);if(s instanceof ho){let l=n?n.previousSibling:i.lastChild;Ab(s.contentDOM,s.children,e),n=l?l.nextSibling:i.firstChild}}for(;n;)n=Q0(n),r=!0;r&&e.trackWrites==i&&(e.trackWrites=null)}var $s=function(i){i&&(this.nodeName=i)};$s.prototype=Object.create(null);var ar=[new $s];function Pp(i,t,e){if(i.length==0)return ar;let n=e?ar[0]:new $s,r=[n];for(let o=0;o<i.length;o++){let s=i[o].type.attrs;if(s){s.nodeName&&r.push(n=new $s(s.nodeName));for(let a in s){let l=s[a];l!=null&&(e&&r.length==1&&r.push(n=new $s(t.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return r}function Pb(i,t,e,n){if(e==ar&&n==ar)return t;let r=t;for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(o){let l;a&&a.nodeName==s.nodeName&&r!=i&&(l=r.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=ar[0]),r=l}QD(r,a||ar[0],s)}return r}function QD(i,t,e){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in e)&&i.removeAttribute(n);for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&e[n]!=t[n]&&i.setAttribute(n,e[n]);if(t.class!=e.class){let n=t.class?t.class.split(" ").filter(Boolean):[],r=e.class?e.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)r.indexOf(n[o])==-1&&i.classList.remove(n[o]);for(let o=0;o<r.length;o++)n.indexOf(r[o])==-1&&i.classList.add(r[o]);i.classList.length==0&&i.removeAttribute("class")}if(t.style!=e.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(t.style);)i.style.removeProperty(r[1])}e.style&&(i.style.cssText+=e.style)}}function Ob(i,t,e){return Pb(i,i,ar,Pp(t,e,i.nodeType!=1))}function fc(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(!i[e].type.eq(t[e].type))return!1;return!0}function Q0(i){let t=i.nextSibling;return i.parentNode.removeChild(i),t}var Op=class{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=eI(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;r<s&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=rn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=ho.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,e,n,r){let o=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(t,e,n))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,e,n)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,r,o){let s=this.top.children[r];return s.dirty==Tn&&s.dom==s.contentDOM&&(s.dirty=sr),s.update(t,e,n,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r}return-1}t=e}}updateNextNode(t,e,n,r,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ki){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let d=l.dom,p,f=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Tn&&fc(e,l.outerDeco));if(!f&&l.update(t,e,n,r))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!f&&(p=this.recreateWrapper(l,t,e,n,r,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=sr,p.updateChildren(r,s+1),p.dirty=rn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,o,s){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!fc(n,t.outerDeco)||!r.eq(t.innerDeco))return null;let a=ki.create(this.top,e,n,r,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,e,n,r,o){let s=ki.create(this.top,t,e,n,r,o);s.contentDOM&&s.updateChildren(r,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new pc(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof ho;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof hc)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((St||yt)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let r=new mc(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}};function eI(i,t){let e=t,n=e.children.length,r=i.childCount,o=new Map,s=[];e:for(;r>0;){let a;for(;;)if(n){let c=e.children[n-1];if(c instanceof ho)e=c,n=c.children.length;else{a=c,n--;break}}else{if(e==t)break e;n=e.parent.children.indexOf(e),e=e.parent}let l=a.node;if(l){if(l!=i.child(r-1))break;--r,o.set(a,r),s.push(a)}}return{index:r,matched:o,matches:s.reverse()}}function tI(i,t){return i.type.side-t.type.side}function nI(i,t,e,n){let r=t.locals(i),o=0;if(r.length==0){for(let c=0;c<i.childCount;c++){let d=i.child(c);n(d,r,t.forChild(o,d),c),o+=d.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let d,p;for(;s<r.length&&r[s].to==o;){let E=r[s++];E.widget&&(d?(p||(p=[d])).push(E):d=E)}if(d)if(p){p.sort(tI);for(let E=0;E<p.length;E++)e(p[E],c,!!l)}else e(d,c,!!l);let f,g;if(l)g=-1,f=l,l=null;else if(c<i.childCount)g=c,f=i.child(c++);else break;for(let E=0;E<a.length;E++)a[E].to<=o&&a.splice(E--,1);for(;s<r.length&&r[s].from<=o&&r[s].to>o;)a.push(r[s++]);let _=o+f.nodeSize;if(f.isText){let E=_;s<r.length&&r[s].from<E&&(E=r[s].from);for(let O=0;O<a.length;O++)a[O].to<E&&(E=a[O].to);E<_&&(l=f.cut(E-o),f=f.cut(0,E-o),_=E,g=-1)}else for(;s<r.length&&r[s].to<_;)s++;let x=f.isInline&&!f.isLeaf?a.filter(E=>!E.inline):a.slice();n(f,x,t.forChild(o,f),g),o=_}}function iI(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let t=i.style.cssText;i.style.cssText=t+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=t}}function rI(i,t,e,n){for(let r=0,o=0;r<i.childCount&&o<=n;){let s=i.child(r++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;r<i.childCount;){let c=i.child(r++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=e){if(o>=n&&l.slice(n-t.length-a,n-a)==t)return n-t.length;let c=a<n?l.lastIndexOf(t,n-a-1):-1;if(c>=0&&c+t.length+a>=e)return a+c;if(e==n&&l.length>=n+t.length-a&&l.slice(n-a,n-a+t.length)==t)return n}}return-1}function Rp(i,t,e,n,r){let o=[];for(let s=0,a=0;s<i.length;s++){let l=i[s],c=a,d=a+=l.size;c>=e||d<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,n)),r&&(o.push(r),r=void 0),d>e&&o.push(l.slice(e-c,l.size,n)))}return o}function $p(i,t=null){let e=i.domSelectionRange(),n=i.state.doc;if(!e.focusNode)return null;let r=i.docView.nearestDesc(e.focusNode),o=r&&r.size==0,s=i.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(s<0)return null;let a=n.resolve(s),l,c;if(Cc(e)){for(l=s;r&&!r.node;)r=r.parent;let p=r.node;if(r&&p.isAtom&&K.isSelectable(p)&&r.parent&&!(p.isInline&&OD(e.focusNode,e.focusOffset,r.dom))){let f=r.posBefore;c=new K(s==f?a:n.resolve(f))}}else{if(e instanceof i.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let p=s,f=s;for(let g=0;g<e.rangeCount;g++){let _=e.getRangeAt(g);p=Math.min(p,i.docView.posFromDOM(_.startContainer,_.startOffset,1)),f=Math.max(f,i.docView.posFromDOM(_.endContainer,_.endOffset,-1))}if(p<0)return null;[l,s]=f==i.state.selection.anchor?[f,p]:[p,f],a=n.resolve(s)}else l=i.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(l<0)return null}let d=n.resolve(l);if(!c){let p=t=="pointer"||i.state.selection.head<a.pos&&!o?1:-1;c=Gp(i,d,a,p)}return c}function Rb(i){return i.editable?i.hasFocus():Fb(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function Yn(i,t=!1){let e=i.state.selection;if(Nb(i,e),!!Rb(i)){if(!t&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&yt){let n=i.domSelectionRange(),r=i.domObserver.currentSelection;if(n.anchorNode&&r.anchorNode&&ur(n.anchorNode,n.anchorOffset,r.anchorNode,r.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)sI(i);else{let{anchor:n,head:r}=e,o,s;eb&&!(e instanceof ke)&&(e.$from.parent.inlineContent||(o=tb(i,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(s=tb(i,e.to))),i.docView.setSelection(n,r,i,t),eb&&(o&&nb(o),s&&nb(s)),e.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&oI(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}var eb=St||yt&&Eb<63;function tb(i,t){let{node:e,offset:n}=i.docView.domFromPos(t,0),r=n<e.childNodes.length?e.childNodes[n]:null,o=n?e.childNodes[n-1]:null;if(St&&r&&r.contentEditable=="false")return xp(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return xp(r);if(o)return xp(o)}}function xp(i){return i.contentEditable="true",St&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function nb(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function oI(i){let t=i.dom.ownerDocument;t.removeEventListener("selectionchange",i.input.hideSelectionGuard);let e=i.domSelectionRange(),n=e.anchorNode,r=e.anchorOffset;t.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(e.anchorNode!=n||e.anchorOffset!=r)&&(t.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!Rb(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function sI(i){let t=i.domSelection(),e=document.createRange();if(!t)return;let n=i.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.setStart(n.parentNode,dt(n)+1):e.setStart(n,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e),!r&&!i.state.selection.visible&&Nt&&Si<=11&&(n.disabled=!0,n.disabled=!1)}function Nb(i,t){if(t instanceof K){let e=i.docView.descAt(t.from);e!=i.lastSelectedViewDesc&&(ib(i),e&&e.selectNode(),i.lastSelectedViewDesc=e)}else ib(i)}function ib(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function Gp(i,t,e,n){return i.someProp("createSelectionBetween",r=>r(i,t,e))||ke.between(t,e,n)}function rb(i){return i.editable&&!i.hasFocus()?!1:Fb(i)}function Fb(i){let t=i.domSelectionRange();if(!t.anchorNode)return!1;try{return i.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(i.editable||i.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function aI(i){let t=i.docView.domFromPos(i.state.selection.anchor,0),e=i.domSelectionRange();return ur(t.node,t.offset,e.anchorNode,e.anchorOffset)}function Np(i,t){let{$anchor:e,$head:n}=i.selection,r=t>0?e.max(n):e.min(n),o=r.parent.inlineContent?r.depth?i.doc.resolve(t>0?r.after():r.before()):null:r;return o&&pe.findFrom(o,t)}function Ci(i,t){return i.dispatch(i.state.tr.setSelection(t).scrollIntoView()),!0}function ob(i,t,e){let n=i.state.selection;if(n instanceof ke)if(e.indexOf("s")>-1){let{$head:r}=n,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=i.state.doc.resolve(r.pos+o.nodeSize*(t<0?-1:1));return Ci(i,new ke(n.$anchor,s))}else if(n.empty){if(i.endOfTextblock(t>0?"forward":"backward")){let r=Np(i.state,t);return r&&r instanceof K?Ci(i,r):!1}else if(!(tn&&e.indexOf("m")>-1)){let r=n.$head,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(s=i.docView.descAt(a))&&!s.contentDOM?K.isSelectable(o)?Ci(i,new K(t<0?i.state.doc.resolve(r.pos-o.nodeSize):r)):Zs?Ci(i,new ke(i.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof K&&n.node.isInline)return Ci(i,new ke(t>0?n.$to:n.$from));{let r=Np(i.state,t);return r?Ci(i,r):!1}}}function gc(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Gs(i,t){let e=i.pmViewDesc;return e&&e.size==0&&(t<0||i.nextSibling||i.nodeName!="BR")}function ao(i,t){return t<0?lI(i):cI(i)}function lI(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r,o,s=!1;for(mn&&e.nodeType==1&&n<gc(e)&&Gs(e.childNodes[n],-1)&&(s=!0);;)if(n>0){if(e.nodeType!=1)break;{let a=e.childNodes[n-1];if(Gs(a,-1))r=e,o=--n;else if(a.nodeType==3)e=a,n=e.nodeValue.length;else break}}else{if(Lb(e))break;{let a=e.previousSibling;for(;a&&Gs(a,-1);)r=e.parentNode,o=dt(a),a=a.previousSibling;if(a)e=a,n=gc(e);else{if(e=e.parentNode,e==i.dom)break;n=0}}}s?Fp(i,e,n):r&&Fp(i,r,o)}function cI(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r=gc(e),o,s;for(;;)if(n<r){if(e.nodeType!=1)break;let a=e.childNodes[n];if(Gs(a,1))o=e,s=++n;else break}else{if(Lb(e))break;{let a=e.nextSibling;for(;a&&Gs(a,1);)o=a.parentNode,s=dt(a)+1,a=a.nextSibling;if(a)e=a,n=0,r=gc(e);else{if(e=e.parentNode,e==i.dom)break;n=r=0}}}o&&Fp(i,o,s)}function Lb(i){let t=i.pmViewDesc;return t&&t.node&&t.node.isBlock}function dI(i,t){for(;i&&t==i.childNodes.length&&!Js(i);)t=dt(i)+1,i=i.parentNode;for(;i&&t<i.childNodes.length;){let e=i.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=0}}function uI(i,t){for(;i&&!t&&!Js(i);)t=dt(i),i=i.parentNode;for(;i&&t;){let e=i.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=i.childNodes.length}}function Fp(i,t,e){if(t.nodeType!=3){let o,s;(s=dI(t,e))?(t=s,e=0):(o=uI(t,e))&&(t=o,e=o.nodeValue.length)}let n=i.domSelection();if(!n)return;if(Cc(n)){let o=document.createRange();o.setEnd(t,e),o.setStart(t,e),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(t,e);i.domObserver.setCurSelection();let{state:r}=i;setTimeout(()=>{i.state==r&&Yn(i)},50)}function sb(i,t){let e=i.state.doc.resolve(t);if(!(yt||FD)&&e.parent.inlineContent){let r=i.coordsAtPos(t);if(t>e.start()){let o=i.coordsAtPos(t-1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<e.end()){let o=i.coordsAtPos(t+1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function ab(i,t,e){let n=i.state.selection;if(n instanceof ke&&!n.empty||e.indexOf("s")>-1||tn&&e.indexOf("m")>-1)return!1;let{$from:r,$to:o}=n;if(!r.parent.inlineContent||i.endOfTextblock(t<0?"up":"down")){let s=Np(i.state,t);if(s&&s instanceof K)return Ci(i,s)}if(!r.parent.inlineContent){let s=t<0?r:o,a=n instanceof Gt?pe.near(s,t):pe.findFrom(s,t);return a?Ci(i,a):!1}return!1}function lb(i,t){if(!(i.state.selection instanceof ke))return!0;let{$head:e,$anchor:n,empty:r}=i.state.selection;if(!e.sameParent(n))return!0;if(!r)return!1;if(i.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(o&&!o.isText){let s=i.state.tr;return t<0?s.delete(e.pos-o.nodeSize,e.pos):s.delete(e.pos,e.pos+o.nodeSize),i.dispatch(s),!0}return!1}function cb(i,t,e){i.domObserver.stop(),t.contentEditable=e,i.domObserver.start()}function pI(i){if(!St||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=i.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;cb(i,n,"true"),setTimeout(()=>cb(i,n,"false"),20)}return!1}function hI(i){let t="";return i.ctrlKey&&(t+="c"),i.metaKey&&(t+="m"),i.altKey&&(t+="a"),i.shiftKey&&(t+="s"),t}function mI(i,t){let e=t.keyCode,n=hI(t);if(e==8||tn&&e==72&&n=="c")return lb(i,-1)||ao(i,-1);if(e==46&&!t.shiftKey||tn&&e==68&&n=="c")return lb(i,1)||ao(i,1);if(e==13||e==27)return!0;if(e==37||tn&&e==66&&n=="c"){let r=e==37?sb(i,i.state.selection.from)=="ltr"?-1:1:-1;return ob(i,r,n)||ao(i,r)}else if(e==39||tn&&e==70&&n=="c"){let r=e==39?sb(i,i.state.selection.from)=="ltr"?1:-1:1;return ob(i,r,n)||ao(i,r)}else{if(e==38||tn&&e==80&&n=="c")return ab(i,-1,n)||ao(i,-1);if(e==40||tn&&e==78&&n=="c")return pI(i)||ab(i,1,n)||ao(i,1);if(n==(tn?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function qp(i,t){i.someProp("transformCopied",g=>{t=g(t,i)});let e=[],{content:n,openStart:r,openEnd:o}=t;for(;r>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){r--,o--;let g=n.firstChild;e.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),n=g.content}let s=i.someProp("clipboardSerializer")||Wn.fromSchema(i.state.schema),a=Ub(),l=a.createElement("div");l.appendChild(s.serializeFragment(n,{document:a}));let c=l.firstChild,d,p=0;for(;c&&c.nodeType==1&&(d=Hb[c.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let _=a.createElement(d[g]);for(;l.firstChild;)_.appendChild(l.firstChild);l.appendChild(_),p++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${o}${p?` -${p}`:""} ${JSON.stringify(e)}`);let f=i.someProp("clipboardTextSerializer",g=>g(t,i))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function Vb(i,t,e,n,r){let o=r.parent.type.spec.code,s,a;if(!e&&!t)return null;let l=t&&(n||o||!e);if(l){if(i.someProp("transformPastedText",f=>{t=f(t,o||n,i)}),o)return t?new L(P.from(i.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):L.empty;let p=i.someProp("clipboardTextParser",f=>f(t,r,n,i));if(p)a=p;else{let f=r.marks(),{schema:g}=i.state,_=Wn.fromSchema(g);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let E=s.appendChild(document.createElement("p"));x&&E.appendChild(_.serializeNode(g.text(x,f)))})}}else i.someProp("transformPastedHTML",p=>{e=p(e,i)}),s=bI(e),Zs&&vI(s);let c=s&&s.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let p=+d[3];p>0;p--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(i.someProp("clipboardParser")||i.someProp("domParser")||yi.fromSchema(i.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||d),context:r,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!fI.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)a=yI(db(a,+d[1],+d[2]),d[4]);else if(a=L.maxOpen(gI(a.content,r),!0),a.openStart||a.openEnd){let p=0,f=0;for(let g=a.content.firstChild;p<a.openStart&&!g.type.spec.isolating;p++,g=g.firstChild);for(let g=a.content.lastChild;f<a.openEnd&&!g.type.spec.isolating;f++,g=g.lastChild);a=db(a,p,f)}return i.someProp("transformPasted",p=>{a=p(a,i)}),a}var fI=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function gI(i,t){if(i.childCount<2)return i;for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.index(e)),o,s=[];if(i.forEach(a=>{if(!s)return;let l=r.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&jb(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=zb(s[s.length-1],o.length));let d=Bb(a,l);s.push(d),r=r.matchType(d.type),o=l}}),s)return P.from(s)}return i}function Bb(i,t,e=0){for(let n=t.length-1;n>=e;n--)i=t[n].create(null,P.from(i));return i}function jb(i,t,e,n,r){if(r<i.length&&r<t.length&&i[r]==t[r]){let o=jb(i,t,e,n.lastChild,r+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(r==i.length-1?e.type:i[r+1]))return n.copy(n.content.append(P.from(Bb(e,i,r+1))))}}function zb(i,t){if(t==0)return i;let e=i.content.replaceChild(i.childCount-1,zb(i.lastChild,t-1)),n=i.contentMatchAt(i.childCount).fillBefore(P.empty,!0);return i.copy(e.append(n))}function Lp(i,t,e,n,r,o){let s=t<0?i.firstChild:i.lastChild,a=s.content;return i.childCount>1&&(o=0),r<n-1&&(a=Lp(a,t,e,n,r+1,o)),r>=e&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(P.empty,!0))),i.replaceChild(t<0?0:i.childCount-1,s.copy(a))}function db(i,t,e){return t<i.openStart&&(i=new L(Lp(i.content,-1,t,i.openStart,0,i.openEnd),t,i.openEnd)),e<i.openEnd&&(i=new L(Lp(i.content,1,e,i.openEnd,0,0),i.openStart,e)),i}var Hb={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},ub=null;function Ub(){return ub||(ub=document.implementation.createHTMLDocument("title"))}var Cp=null;function _I(i){let t=window.trustedTypes;return t?(Cp||(Cp=t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),Cp.createHTML(i)):i}function bI(i){let t=/^(\s*<meta [^>]*>)*/.exec(i);t&&(i=i.slice(t[0].length));let e=Ub().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(i),r;if((r=n&&Hb[n[1].toLowerCase()])&&(i=r.map(o=>"<"+o+">").join("")+i+r.map(o=>"</"+o+">").reverse().join("")),e.innerHTML=_I(i),r)for(let o=0;o<r.length;o++)e=e.querySelector(r[o])||e;return e}function vI(i){let t=i.querySelectorAll(yt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let n=t[e];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),n)}}function yI(i,t){if(!i.size)return i;let e=i.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return i}let{content:r,openStart:o,openEnd:s}=i;for(let a=n.length-2;a>=0;a-=2){let l=e.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;r=P.from(l.create(n[a+1],r)),o++,s++}return new L(r,o,s)}var kt={},Dt={},wI={touchstart:!0,touchmove:!0},Vp=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function xI(i){for(let t in kt){let e=kt[t];i.dom.addEventListener(t,i.input.eventHandlers[t]=n=>{EI(i,n)&&!Kp(i,n)&&(i.editable||!(n.type in Dt))&&e(i,n)},wI[t]?{passive:!0}:void 0)}St&&i.dom.addEventListener("input",()=>null),Bp(i)}function Ei(i,t){i.input.lastSelectionOrigin=t,i.input.lastSelectionTime=Date.now()}function CI(i){i.domObserver.stop();for(let t in i.input.eventHandlers)i.dom.removeEventListener(t,i.input.eventHandlers[t]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function Bp(i){i.someProp("handleDOMEvents",t=>{for(let e in t)i.input.eventHandlers[e]||i.dom.addEventListener(e,i.input.eventHandlers[e]=n=>Kp(i,n))})}function Kp(i,t){return i.someProp("handleDOMEvents",e=>{let n=e[t.type];return n?n(i,t)||t.defaultPrevented:!1})}function EI(i,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=i.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function SI(i,t){!Kp(i,t)&&kt[t.type]&&(i.editable||!(t.type in Dt))&&kt[t.type](i,t)}Dt.keydown=(i,t)=>{let e=t;if(i.input.shiftKey=e.keyCode==16||e.shiftKey,!$b(i,e)&&(i.input.lastKeyCode=e.keyCode,i.input.lastKeyCodeTime=Date.now(),!(Kn&&yt&&e.keyCode==13)))if(e.keyCode!=229&&i.domObserver.forceFlush(),po&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let n=Date.now();i.input.lastIOSEnter=n,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==n&&(i.someProp("handleKeyDown",r=>r(i,or(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",n=>n(i,e))||mI(i,e)?e.preventDefault():Ei(i,"key")};Dt.keyup=(i,t)=>{t.keyCode==16&&(i.input.shiftKey=!1)};Dt.keypress=(i,t)=>{let e=t;if($b(i,e)||!e.charCode||e.ctrlKey&&!e.altKey||tn&&e.metaKey)return;if(i.someProp("handleKeyPress",r=>r(i,e))){e.preventDefault();return}let n=i.state.selection;if(!(n instanceof ke)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(e.charCode);!/[\r\n]/.test(r)&&!i.someProp("handleTextInput",o=>o(i,n.$from.pos,n.$to.pos,r))&&i.dispatch(i.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}};function Ec(i){return{left:i.clientX,top:i.clientY}}function kI(i,t){let e=t.x-i.clientX,n=t.y-i.clientY;return e*e+n*n<100}function Yp(i,t,e,n,r){if(n==-1)return!1;let o=i.state.doc.resolve(n);for(let s=o.depth+1;s>0;s--)if(i.someProp(t,a=>s>o.depth?a(i,e,o.nodeAfter,o.before(s),r,!0):a(i,e,o.node(s),o.before(s),r,!1)))return!0;return!1}function co(i,t,e){if(i.focused||i.focus(),i.state.selection.eq(t))return;let n=i.state.tr.setSelection(t);e=="pointer"&&n.setMeta("pointer",!0),i.dispatch(n)}function DI(i,t){if(t==-1)return!1;let e=i.state.doc.resolve(t),n=e.nodeAfter;return n&&n.isAtom&&K.isSelectable(n)?(co(i,new K(e),"pointer"),!0):!1}function II(i,t){if(t==-1)return!1;let e=i.state.selection,n,r;e instanceof K&&(n=e.node);let o=i.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(K.isSelectable(a)){n&&e.$from.depth>0&&s>=e.$from.depth&&o.before(e.$from.depth+1)==e.$from.pos?r=o.before(e.$from.depth):r=o.before(s);break}}return r!=null?(co(i,K.create(i.state.doc,r),"pointer"),!0):!1}function TI(i,t,e,n,r){return Yp(i,"handleClickOn",t,e,n)||i.someProp("handleClick",o=>o(i,t,n))||(r?II(i,e):DI(i,e))}function MI(i,t,e,n){return Yp(i,"handleDoubleClickOn",t,e,n)||i.someProp("handleDoubleClick",r=>r(i,t,n))}function AI(i,t,e,n){return Yp(i,"handleTripleClickOn",t,e,n)||i.someProp("handleTripleClick",r=>r(i,t,n))||PI(i,e,n)}function PI(i,t,e){if(e.button!=0)return!1;let n=i.state.doc;if(t==-1)return n.inlineContent?(co(i,ke.create(n,0,n.content.size),"pointer"),!0):!1;let r=n.resolve(t);for(let o=r.depth+1;o>0;o--){let s=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(s.inlineContent)co(i,ke.create(n,a+1,a+1+s.content.size),"pointer");else if(K.isSelectable(s))co(i,K.create(n,a),"pointer");else continue;return!0}}function Jp(i){return _c(i)}var Wb=tn?"metaKey":"ctrlKey";kt.mousedown=(i,t)=>{let e=t;i.input.shiftKey=e.shiftKey;let n=Jp(i),r=Date.now(),o="singleClick";r-i.input.lastClick.time<500&&kI(e,i.input.lastClick)&&!e[Wb]&&(i.input.lastClick.type=="singleClick"?o="doubleClick":i.input.lastClick.type=="doubleClick"&&(o="tripleClick")),i.input.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};let s=i.posAtCoords(Ec(e));s&&(o=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new jp(i,s,e,!!n)):(o=="doubleClick"?MI:AI)(i,s.pos,s.inside,e)?e.preventDefault():Ei(i,"pointer"))};var jp=class{constructor(t,e,n,r){this.view=t,this.pos=e,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[Wb],this.allowDefault=n.shiftKey;let o,s;if(e.inside>-1)o=t.state.doc.nodeAt(e.inside),s=e.inside;else{let d=t.state.doc.resolve(e.pos);o=d.parent,s=d.depth?d.before():0}let a=r?null:n.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof K&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&mn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ei(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Yn(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ec(t))),this.updateAllowDefault(t),this.allowDefault||!e?Ei(this.view,"pointer"):TI(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||St&&this.mightDrag&&!this.mightDrag.node.isAtom||yt&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(co(this.view,pe.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Ei(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ei(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}};kt.touchstart=i=>{i.input.lastTouch=Date.now(),Jp(i),Ei(i,"pointer")};kt.touchmove=i=>{i.input.lastTouch=Date.now(),Ei(i,"pointer")};kt.contextmenu=i=>Jp(i);function $b(i,t){return i.composing?!0:St&&Math.abs(t.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}var OI=Kn?5e3:-1;Dt.compositionstart=Dt.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:t}=i,e=t.selection.$to;if(t.selection instanceof ke&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||e.marks(),_c(i,!0),i.markCursor=null;else if(_c(i,!t.selection.empty),mn&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let n=i.domSelectionRange();for(let r=n.focusNode,o=n.focusOffset;r&&r.nodeType==1&&o!=0;){let s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=i.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else r=s,o=-1}}i.input.composing=!0}Gb(i,OI)};Dt.compositionend=(i,t)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=t.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,Gb(i,20))};function Gb(i,t){clearTimeout(i.input.composingTimeout),t>-1&&(i.input.composingTimeout=setTimeout(()=>_c(i),t))}function qb(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=NI());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function RI(i){let t=i.domSelectionRange();if(!t.focusNode)return null;let e=AD(t.focusNode,t.focusOffset),n=PD(t.focusNode,t.focusOffset);if(e&&n&&e!=n){let r=n.pmViewDesc,o=i.domObserver.lastChangedTextNode;if(e==o||n==o)return o;if(!r||!r.isText(n.nodeValue))return n;if(i.input.compositionNode==n){let s=e.pmViewDesc;if(!(!s||!s.isText(e.nodeValue)))return n}}return e||n}function NI(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function _c(i,t=!1){if(!(Kn&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),qb(i),t||i.docView&&i.docView.dirty){let e=$p(i);return e&&!e.eq(i.state.selection)?i.dispatch(i.state.tr.setSelection(e)):(i.markCursor||t)&&!i.state.selection.empty?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function FI(i,t){if(!i.dom.parentNode)return;let e=i.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),r=document.createRange();r.selectNodeContents(t),i.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),i.focus()},50)}var qs=Nt&&Si<15||po&&LD<604;kt.copy=Dt.cut=(i,t)=>{let e=t,n=i.state.selection,r=e.type=="cut";if(n.empty)return;let o=qs?null:e.clipboardData,s=n.content(),{dom:a,text:l}=qp(i,s);o?(e.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):FI(i,a),r&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function LI(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function VI(i,t){if(!i.dom.parentNode)return;let e=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,n=i.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let r=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),n.parentNode&&n.parentNode.removeChild(n),e?Ks(i,n.value,null,r,t):Ks(i,n.textContent,n.innerHTML,r,t)},50)}function Ks(i,t,e,n,r){let o=Vb(i,t,e,n,i.state.selection.$from);if(i.someProp("handlePaste",l=>l(i,r,o||L.empty)))return!0;if(!o)return!1;let s=LI(o),a=s?i.state.tr.replaceSelectionWith(s,n):i.state.tr.replaceSelection(o);return i.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Kb(i){let t=i.getData("text/plain")||i.getData("Text");if(t)return t;let e=i.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}Dt.paste=(i,t)=>{let e=t;if(i.composing&&!Kn)return;let n=qs?null:e.clipboardData,r=i.input.shiftKey&&i.input.lastKeyCode!=45;n&&Ks(i,Kb(n),n.getData("text/html"),r,e)?e.preventDefault():VI(i,e)};var bc=class{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}},Yb=tn?"altKey":"ctrlKey";kt.dragstart=(i,t)=>{let e=t,n=i.input.mouseDown;if(n&&n.done(),!e.dataTransfer)return;let r=i.state.selection,o=r.empty?null:i.posAtCoords(Ec(e)),s;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof K?r.to-1:r.to))){if(n&&n.mightDrag)s=K.create(i.state.doc,n.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let p=i.docView.nearestDesc(e.target,!0);p&&p.node.type.spec.draggable&&p!=i.docView&&(s=K.create(i.state.doc,p.posBefore))}}let a=(s||i.state.selection).content(),{dom:l,text:c,slice:d}=qp(i,a);(!e.dataTransfer.files.length||!yt||Eb>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(qs?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",qs||e.dataTransfer.setData("text/plain",c),i.dragging=new bc(d,!e[Yb],s)};kt.dragend=i=>{let t=i.dragging;window.setTimeout(()=>{i.dragging==t&&(i.dragging=null)},50)};Dt.dragover=Dt.dragenter=(i,t)=>t.preventDefault();Dt.drop=(i,t)=>{let e=t,n=i.dragging;if(i.dragging=null,!e.dataTransfer)return;let r=i.posAtCoords(Ec(e));if(!r)return;let o=i.state.doc.resolve(r.pos),s=n&&n.slice;s?i.someProp("transformPasted",_=>{s=_(s,i)}):s=Vb(i,Kb(e.dataTransfer),qs?null:e.dataTransfer.getData("text/html"),!1,o);let a=!!(n&&!e[Yb]);if(i.someProp("handleDrop",_=>_(i,e,s||L.empty,a))){e.preventDefault();return}if(!s)return;e.preventDefault();let l=s?A0(i.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=i.state.tr;if(a){let{node:_}=n;_?_.replace(c):c.deleteSelection()}let d=c.mapping.map(l),p=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(p?c.replaceRangeWith(d,d,s.content.firstChild):c.replaceRange(d,d,s),c.doc.eq(f))return;let g=c.doc.resolve(d);if(p&&K.isSelectable(s.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new K(g));else{let _=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((x,E,O,le)=>_=le),c.setSelection(Gp(i,g,c.doc.resolve(_)))}i.focus(),i.dispatch(c.setMeta("uiEvent","drop"))};kt.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&Yn(i)},20))};kt.blur=(i,t)=>{let e=t;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),e.relatedTarget&&i.dom.contains(e.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)};kt.beforeinput=(i,t)=>{if(yt&&Kn&&t.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:n}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=n||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",o=>o(i,or(8,"Backspace")))))return;let{$cursor:r}=i.state.selection;r&&r.pos>0&&i.dispatch(i.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let i in Dt)kt[i]=Dt[i];function Ys(i,t){if(i==t)return!0;for(let e in i)if(i[e]!==t[e])return!1;for(let e in t)if(!(e in i))return!1;return!0}var vc=class i{constructor(t,e){this.toDOM=t,this.spec=e||cr,this.side=this.spec.side||0}map(t,e,n,r){let{pos:o,deleted:s}=t.mapResult(e.from+r,this.side<0?-1:1);return s?null:new Mn(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof i&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ys(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},lr=class i{constructor(t,e){this.attrs=t,this.spec=e||cr}map(t,e,n,r){let o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,s=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=s?null:new Mn(o,s,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof i&&Ys(this.attrs,t.attrs)&&Ys(this.spec,t.spec)}static is(t){return t.type instanceof i}destroy(){}},zp=class i{constructor(t,e){this.attrs=t,this.spec=e||cr}map(t,e,n,r){let o=t.mapResult(e.from+r,1);if(o.deleted)return null;let s=t.mapResult(e.to+r,-1);return s.deleted||s.pos<=o.pos?null:new Mn(o.pos-n,s.pos-n,this)}valid(t,e){let{index:n,offset:r}=t.content.findIndex(e.from),o;return r==e.from&&!(o=t.child(n)).isText&&r+o.nodeSize==e.to}eq(t){return this==t||t instanceof i&&Ys(this.attrs,t.attrs)&&Ys(this.spec,t.spec)}destroy(){}},Mn=class i{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new i(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new i(t,t,new vc(e,n))}static inline(t,e,n,r){return new i(t,e,new lr(n,r))}static node(t,e,n,r){return new i(t,e,new zp(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof lr}get widget(){return this.type instanceof vc}},lo=[],cr={},Et=class i{constructor(t,e){this.local=t.length?t:lo,this.children=e.length?e:lo}static create(t,e){return e.length?wc(e,t,0,cr):vt}find(t,e,n){let r=[];return this.findInner(t??0,e??1e9,r,0,n),r}findInner(t,e,n,r,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=e&&a.to>=t&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,e-a,n,r+a,o)}}map(t,e,n){return this==vt||t.maps.length==0?this:this.mapInner(t,e,0,0,n||cr)}mapInner(t,e,n,r,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,n,r);l&&l.type.valid(e,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?BI(this.children,s||[],t,e,n,r,o):s?new i(s.sort(dr),lo):vt}add(t,e){return e.length?this==vt?i.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,o=0;t.forEach((a,l)=>{let c=l+n,d;if(d=Zb(e,a,c)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(a,d,c+1):r.splice(o,0,l,l+a.nodeSize,wc(d,a,c+1,cr)),o+=3}});let s=Jb(o?Xb(e):e,-n);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new i(s.length?this.local.concat(s).sort(dr):this.local,r||this.children)}remove(t){return t.length==0||this==vt?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let s,a=n[o]+e,l=n[o+1]+e;for(let d=0,p;d<t.length;d++)(p=t[d])&&p.from>a&&p.to<l&&(t[d]=null,(s||(s=[])).push(p));if(!s)continue;n==this.children&&(n=this.children.slice());let c=n[o+2].removeInner(s,a+1);c!=vt?n[o+2]=c:(n.splice(o,3),o-=3)}if(r.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<r.length;a++)r[a].eq(s,e)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new i(r,n):vt}forChild(t,e){if(this==vt)return this;if(e.isLeaf)return i.empty;let n,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(n=this.children[a+2]);break}let o=t+1,s=o+e.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof lr){let c=Math.max(o,l.from)-o,d=Math.min(s,l.to)-o;c<d&&(r||(r=[])).push(l.copy(c,d))}}if(r){let a=new i(r.sort(dr),lo);return n?new yc([a,n]):a}return n||vt}eq(t){if(this==t)return!0;if(!(t instanceof i)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return Zp(this.localsInner(t))}localsInner(t){if(this==vt)return lo;if(t.inlineContent||!this.local.some(lr.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof lr||e.push(this.local[n]);return e}forEachSet(t){t(this)}};Et.empty=new Et([],[]);Et.removeOverlap=Zp;var vt=Et.empty,yc=class i{constructor(t){this.members=t}map(t,e){let n=this.members.map(r=>r.map(t,e,cr));return i.from(n)}forChild(t,e){if(e.isLeaf)return Et.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(t,e);o!=vt&&(o instanceof i?n=n.concat(o.members):n.push(o))}return i.from(n)}eq(t){if(!(t instanceof i)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(t);if(o.length)if(!e)e=o;else{n&&(e=e.slice(),n=!1);for(let s=0;s<o.length;s++)e.push(o[s])}}return e?Zp(n?e:e.sort(dr)):lo}static from(t){switch(t.length){case 0:return vt;case 1:return t[0];default:return new i(t.every(e=>e instanceof Et)?t:t.reduce((e,n)=>e.concat(n instanceof Et?n:n.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}};function BI(i,t,e,n,r,o,s){let a=i.slice();for(let c=0,d=o;c<e.maps.length;c++){let p=0;e.maps[c].forEach((f,g,_,x)=>{let E=x-_-(g-f);for(let O=0;O<a.length;O+=3){let le=a[O+1];if(le<0||f>le+d-p)continue;let Z=a[O]+d-p;g>=Z?a[O+1]=f<=Z?-2:-1:f>=d&&E&&(a[O]+=E,a[O+1]+=E)}p+=E}),d=e.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let d=e.map(i[c]+o),p=d-r;if(p<0||p>=n.content.size){l=!0;continue}let f=e.map(i[c+1]+o,-1),g=f-r,{index:_,offset:x}=n.content.findIndex(p),E=n.maybeChild(_);if(E&&x==p&&x+E.nodeSize==g){let O=a[c+2].mapInner(e,E,d+1,i[c]+o+1,s);O!=vt?(a[c]=p,a[c+1]=g,a[c+2]=O):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=jI(a,i,t,e,r,o,s),d=wc(c,n,0,s);t=d.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,f=0;p<d.children.length;p+=3){let g=d.children[p];for(;f<a.length&&a[f]<g;)f+=3;a.splice(f,0,d.children[p],d.children[p+1],d.children[p+2])}}return new Et(t.sort(dr),a)}function Jb(i,t){if(!t||!i.length)return i;let e=[];for(let n=0;n<i.length;n++){let r=i[n];e.push(new Mn(r.from+t,r.to+t,r.type))}return e}function jI(i,t,e,n,r,o,s){function a(l,c){for(let d=0;d<l.local.length;d++){let p=l.local[d].map(n,r,c);p?e.push(p):s.onRemove&&s.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<i.length;l+=3)i[l+1]==-1&&a(i[l+2],t[l]+o+1);return e}function Zb(i,t,e){if(t.isLeaf)return null;let n=e+t.nodeSize,r=null;for(let o=0,s;o<i.length;o++)(s=i[o])&&s.from>e&&s.to<n&&((r||(r=[])).push(s),i[o]=null);return r}function Xb(i){let t=[];for(let e=0;e<i.length;e++)i[e]!=null&&t.push(i[e]);return t}function wc(i,t,e,n){let r=[],o=!1;t.forEach((a,l)=>{let c=Zb(i,a,l+e);if(c){o=!0;let d=wc(c,a,e+l+1,n);d!=vt&&r.push(l,l+a.nodeSize,d)}});let s=Jb(o?Xb(i):i,-e).sort(dr);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(n.onRemove&&n.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new Et(s,r):vt}function dr(i,t){return i.from-t.from||i.to-t.to}function Zp(i){let t=i;for(let e=0;e<t.length-1;e++){let n=t[e];if(n.from!=n.to)for(let r=e+1;r<t.length;r++){let o=t[r];if(o.from==n.from){o.to!=n.to&&(t==i&&(t=i.slice()),t[r]=o.copy(o.from,n.to),pb(t,r+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==i&&(t=i.slice()),t[e]=n.copy(n.from,o.from),pb(t,r,n.copy(o.from,n.to)));break}}}return t}function pb(i,t,e){for(;t<i.length&&dr(e,i[t])>0;)t++;i.splice(t,0,e)}function Ep(i){let t=[];return i.someProp("decorations",e=>{let n=e(i.state);n&&n!=vt&&t.push(n)}),i.cursorWrapper&&t.push(Et.create(i.state.doc,[i.cursorWrapper.deco])),yc.from(t)}var zI={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},HI=Nt&&Si<=11,Hp=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}},Up=class{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Hp,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let r=0;r<n.length;r++)this.queue.push(n[r]);Nt&&Si<=11&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),HI&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,zI)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(rb(this.view)){if(this.suppressingSelectionUpdates)return Yn(this.view);if(Nt&&Si<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&ur(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,n;for(let o=t.focusNode;o;o=uo(o))e.add(o);for(let o=t.anchorNode;o;o=uo(o))if(e.has(o)){n=o;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&rb(t)&&!this.ignoreSelectionChange(n),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let d=0;d<e.length;d++){let p=this.registerMutation(e[d],l);p&&(o=o<0?p.from:Math.min(p.from,o),s=s<0?p.to:Math.max(p.to,s),p.typeOver&&(a=!0))}if(mn&&l.length){let d=l.filter(p=>p.nodeName=="BR");if(d.length==2){let[p,f]=d;p.parentNode&&p.parentNode.parentNode==f.parentNode?f.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let f of d){let g=f.parentNode;g&&g.nodeName=="LI"&&(!p||$I(t,p)!=g)&&f.remove()}}}let c=null;o<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Cc(n)&&(c=$p(t))&&c.eq(pe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Yn(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||r)&&(o>-1&&(t.docView.markDirty(o,s),UI(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||Yn(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let p=t.addedNodes[d];e.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,o=t.nextSibling;if(Nt&&Si<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:p,nextSibling:f}=t.addedNodes[d];(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(r=p),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(o=f)}let s=r&&r.parentNode==t.target?dt(r)+1:0,a=n.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?dt(o):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}},hb=new WeakMap,mb=!1;function UI(i){if(!hb.has(i)&&(hb.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=mn,mb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),mb=!0}}function fb(i,t){let e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset,s=i.domAtPos(i.state.selection.anchor);return ur(s.node,s.offset,r,o)&&([e,n,r,o]=[r,o,e,n]),{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:o}}function WI(i,t){if(t.getComposedRanges){let r=t.getComposedRanges(i.root)[0];if(r)return fb(i,r)}let e;function n(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",n,!0),e?fb(i,e):null}function $I(i,t){for(let e=t.parentNode;e&&e!=i.dom;e=e.parentNode){let n=i.docView.nearestDesc(e,!0);if(n&&n.node.isBlock)return e}return null}function GI(i,t,e){let{node:n,fromOffset:r,toOffset:o,from:s,to:a}=i.docView.parseRange(t,e),l=i.domSelectionRange(),c,d=l.anchorNode;if(d&&i.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],Cc(l)||c.push({node:l.focusNode,offset:l.focusOffset})),yt&&i.input.lastKeyCode===8)for(let E=o;E>r;E--){let O=n.childNodes[E-1],le=O.pmViewDesc;if(O.nodeName=="BR"&&!le){o=E;break}if(!le||le.size)break}let p=i.state.doc,f=i.someProp("domParser")||yi.fromSchema(i.state.schema),g=p.resolve(s),_=null,x=f.parse(n,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:r,to:o,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:qI,context:g});if(c&&c[0].pos!=null){let E=c[0].pos,O=c[1]&&c[1].pos;O==null&&(O=E),_={anchor:E+s,head:O+s}}return{doc:x,sel:_,from:s,to:a}}function qI(i){let t=i.pmViewDesc;if(t)return t.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(St&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(i.parentNode.lastChild==i||St&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}var KI=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function YI(i,t,e,n,r){let o=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,t<0){let _e=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,Qn=$p(i,_e);if(Qn&&!i.state.selection.eq(Qn)){if(yt&&Kn&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",Zv=>Zv(i,or(13,"Enter"))))return;let ia=i.state.tr.setSelection(Qn);_e=="pointer"?ia.setMeta("pointer",!0):_e=="key"&&ia.scrollIntoView(),o&&ia.setMeta("composition",o),i.dispatch(ia)}return}let s=i.state.doc.resolve(t),a=s.sharedDepth(e);t=s.before(a+1),e=i.state.doc.resolve(e).after(a+1);let l=i.state.selection,c=GI(i,t,e),d=i.state.doc,p=d.slice(c.from,c.to),f,g;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(f=i.state.selection.to,g="end"):(f=i.state.selection.from,g="start"),i.input.lastKeyCode=null;let _=XI(p.content,c.doc.content,c.from,f,g);if(_&&i.input.domChangeCount++,(po&&i.input.lastIOSEnter>Date.now()-225||Kn)&&r.some(_e=>_e.nodeType==1&&!KI.test(_e.nodeName))&&(!_||_.endA>=_.endB)&&i.someProp("handleKeyDown",_e=>_e(i,or(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!_)if(n&&l instanceof ke&&!l.empty&&l.$head.sameParent(l.$anchor)&&!i.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))_={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let _e=gb(i,i.state.doc,c.sel);if(_e&&!_e.eq(i.state.selection)){let Qn=i.state.tr.setSelection(_e);o&&Qn.setMeta("composition",o),i.dispatch(Qn)}}return}i.state.selection.from<i.state.selection.to&&_.start==_.endB&&i.state.selection instanceof ke&&(_.start>i.state.selection.from&&_.start<=i.state.selection.from+2&&i.state.selection.from>=c.from?_.start=i.state.selection.from:_.endA<i.state.selection.to&&_.endA>=i.state.selection.to-2&&i.state.selection.to<=c.to&&(_.endB+=i.state.selection.to-_.endA,_.endA=i.state.selection.to)),Nt&&Si<=11&&_.endB==_.start+1&&_.endA==_.start&&_.start>c.from&&c.doc.textBetween(_.start-c.from-1,_.start-c.from+1)==" \xA0"&&(_.start--,_.endA--,_.endB--);let x=c.doc.resolveNoCache(_.start-c.from),E=c.doc.resolveNoCache(_.endB-c.from),O=d.resolve(_.start),le=x.sameParent(E)&&x.parent.inlineContent&&O.end()>=_.endA,Z;if((po&&i.input.lastIOSEnter>Date.now()-225&&(!le||r.some(_e=>_e.nodeName=="DIV"||_e.nodeName=="P"))||!le&&x.pos<c.doc.content.size&&!x.sameParent(E)&&(Z=pe.findFrom(c.doc.resolve(x.pos+1),1,!0))&&Z.head==E.pos)&&i.someProp("handleKeyDown",_e=>_e(i,or(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>_.start&&ZI(d,_.start,_.endA,x,E)&&i.someProp("handleKeyDown",_e=>_e(i,or(8,"Backspace")))){Kn&&yt&&i.domObserver.suppressSelectionUpdates();return}yt&&_.endB==_.start&&(i.input.lastChromeDelete=Date.now()),Kn&&!le&&x.start()!=E.start()&&E.parentOffset==0&&x.depth==E.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==_.endA&&(_.endB-=2,E=c.doc.resolveNoCache(_.endB-c.from),setTimeout(()=>{i.someProp("handleKeyDown",function(_e){return _e(i,or(13,"Enter"))})},20));let Ke=_.start,Ye=_.endA,Qe,br,na;if(le){if(x.pos==E.pos)Nt&&Si<=11&&x.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>Yn(i),20)),Qe=i.state.tr.delete(Ke,Ye),br=d.resolve(_.start).marksAcross(d.resolve(_.endA));else if(_.endA==_.endB&&(na=JI(x.parent.content.cut(x.parentOffset,E.parentOffset),O.parent.content.cut(O.parentOffset,_.endA-O.start()))))Qe=i.state.tr,na.type=="add"?Qe.addMark(Ke,Ye,na.mark):Qe.removeMark(Ke,Ye,na.mark);else if(x.parent.child(x.index()).isText&&x.index()==E.index()-(E.textOffset?0:1)){let _e=x.parent.textBetween(x.parentOffset,E.parentOffset);if(i.someProp("handleTextInput",Qn=>Qn(i,Ke,Ye,_e)))return;Qe=i.state.tr.insertText(_e,Ke,Ye)}}if(Qe||(Qe=i.state.tr.replace(Ke,Ye,c.doc.slice(_.start-c.from,_.endB-c.from))),c.sel){let _e=gb(i,Qe.doc,c.sel);_e&&!(yt&&i.composing&&_e.empty&&(_.start!=_.endB||i.input.lastChromeDelete<Date.now()-100)&&(_e.head==Ke||_e.head==Qe.mapping.map(Ye)-1)||Nt&&_e.empty&&_e.head==Ke)&&Qe.setSelection(_e)}br&&Qe.ensureMarks(br),o&&Qe.setMeta("composition",o),i.dispatch(Qe.scrollIntoView())}function gb(i,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:Gp(i,t.resolve(e.anchor),t.resolve(e.head))}function JI(i,t){let e=i.firstChild.marks,n=t.firstChild.marks,r=e,o=n,s,a,l;for(let d=0;d<n.length;d++)r=n[d].removeFromSet(r);for(let d=0;d<e.length;d++)o=e[d].removeFromSet(o);if(r.length==1&&o.length==0)a=r[0],s="add",l=d=>d.mark(a.addToSet(d.marks));else if(r.length==0&&o.length==1)a=o[0],s="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<t.childCount;d++)c.push(l(t.child(d)));if(P.from(c).eq(i))return{mark:a,type:s}}function ZI(i,t,e,n,r){if(e-t<=r.pos-n.pos||Sp(n,!0,!1)<r.pos)return!1;let o=i.resolve(t);if(!n.parent.isTextblock){let a=o.nodeAfter;return a!=null&&e==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=i.resolve(Sp(o,!0,!0));return!s.parent.isTextblock||s.pos>e||Sp(s,!0,!1)<e?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function Sp(i,t,e){let n=i.depth,r=t?i.end():i.pos;for(;n>0&&(t||i.indexAfter(n)==i.node(n).childCount);)n--,r++,t=!1;if(e){let o=i.node(n).maybeChild(i.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function XI(i,t,e,n,r){let o=i.findDiffStart(t,e);if(o==null)return null;let{a:s,b:a}=i.findDiffEnd(t,e+i.size,e+t.size);if(r=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&i.size<t.size){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<t.size&&_b(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<i.size&&_b(i.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function _b(i){if(i.length!=2)return!1;let t=i.charCodeAt(0),e=i.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}var xc=class{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Vp,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(xb),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=yb(this),vb(this),this.nodeViews=wb(this),this.docView=X0(this.state.doc,bb(this),Ep(this),this.dom,this),this.domObserver=new Up(this,(n,r,o,s)=>YI(this,n,r,o,s)),this.domObserver.start(),xI(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Bp(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(xb),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n;let r=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(qb(this),s=!0),this.state=t;let a=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(a||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let g=wb(this);eT(g,this.nodeViews)&&(this.nodeViews=g,o=!0)}(a||e.handleDOMEvents!=this._props.handleDOMEvents)&&Bp(this),this.editable=yb(this),vb(this);let l=Ep(this),c=bb(this),d=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",p=o||!this.docView.matchesNode(t.doc,c,l);(p||!t.selection.eq(r.selection))&&(s=!0);let f=d=="preserve"&&s&&this.dom.style.overflowAnchor==null&&jD(this);if(s){this.domObserver.stop();let g=p&&(Nt||yt)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&QI(r.selection,t.selection);if(p){let _=yt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=RI(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=X0(t.doc,c,l,this.dom,this)),_&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&aI(this))?Yn(this,g):(Nb(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((n=this.dragging)===null||n===void 0)&&n.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():f&&zD(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof K){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&G0(this,e.getBoundingClientRect(),t)}else G0(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let n=this.directPlugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let n=this.state.plugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}}updateDraggedNode(t,e){let n=t.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let o=n.from+(this.state.doc.content.size-e.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(r=o)}this.dragging=new bc(t.slice,t.move,r<0?void 0:K.create(this.state.doc,r))}someProp(t,e){let n=this._props&&this._props[t],r;if(n!=null&&(r=e?e(n):n))return r;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(r=e?e(a):a))return r}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(r=e?e(a):a))return r}}hasFocus(){if(Nt){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&HD(this.dom),Yn(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return qD(this,t)}coordsAtPos(t,e=1){return Tb(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return XD(this,e||this.state,t)}pasteHTML(t,e){return Ks(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return Ks(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return qp(this,t)}destroy(){this.docView&&(CI(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ep(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,TD())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return SI(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?St&&this.root.nodeType===11&&RD(this.dom.ownerDocument)==this.dom&&WI(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};function bb(i){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(i.editable),i.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(i.state)),e)for(let n in e)n=="class"?t.class+=" "+e[n]:n=="style"?t.style=(t.style?t.style+";":"")+e[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(e[n]))}),t.translate||(t.translate="no"),[Mn.node(0,i.state.doc.content.size,t)]}function vb(i){if(i.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),i.cursorWrapper={dom:t,deco:Mn.widget(i.state.selection.from,t,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function yb(i){return!i.someProp("editable",t=>t(i.state)===!1)}function QI(i,t){let e=Math.min(i.$anchor.sharedDepth(i.head),t.$anchor.sharedDepth(t.head));return i.$anchor.start(e)!=t.$anchor.start(e)}function wb(i){let t=Object.create(null);function e(n){for(let r in n)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=n[r])}return i.someProp("nodeViews",e),i.someProp("markViews",e),t}function eT(i,t){let e=0,n=0;for(let r in i){if(i[r]!=t[r])return!0;e++}for(let r in t)n++;return e!=n}function xb(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var tT=["ol",0],nT=["ul",0],iT=["li",0],Qb={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(i){return{order:i.hasAttribute("start")?+i.getAttribute("start"):1}}}],toDOM(i){return i.attrs.order==1?tT:["ol",{start:i.attrs.order},0]}},ev={parseDOM:[{tag:"ul"}],toDOM(){return nT}},tv={parseDOM:[{tag:"li"}],toDOM(){return iT},defining:!0};function nv(i,t=null){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o);if(!s)return!1;let a=n?e.tr:null;return rT(a,s,i,t)?(n&&n(a.scrollIntoView()),!0):!1}}function rT(i,t,e,n=null){let r=!1,o=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);o=new Qi(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Qi(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let a=io(o,e,n,t);return a?(i&&oT(i,t,a,r,e),!0):!1}function oT(i,t,e,n,r){let o=P.empty;for(let d=e.length-1;d>=0;d--)o=P.from(e[d].type.create(e[d].attrs,o));i.step(new ot(t.start-(n?2:0),t.end,t.start,t.end,new L(o,0,0),e.length,!0));let s=0;for(let d=0;d<e.length;d++)e[d].type==r&&(s=d+1);let a=e.length-s,l=t.start+e.length-(n?2:0),c=t.parent;for(let d=t.startIndex,p=t.endIndex,f=!0;d<p;d++,f=!1)!f&&wi(i.doc,l,a)&&(i.split(l,a),l+=2*a),l+=c.child(d).nodeSize;return i}function iv(i,t){return function(e,n){let{$from:r,$to:o,node:s}=e.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(o))return!1;let a=r.node(-1);if(a.type!=i)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=i||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let p=P.empty,f=r.index(-1)?1:r.index(-2)?2:3;for(let O=r.depth-f;O>=r.depth-3;O--)p=P.from(r.node(O).copy(p));let g=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;p=p.append(P.from(i.createAndFill()));let _=r.before(r.depth-(f-1)),x=e.tr.replace(_,r.after(-g),new L(p,4-f,0)),E=-1;x.doc.nodesBetween(_,x.doc.content.size,(O,le)=>{if(E>-1)return!1;O.isTextblock&&O.content.size==0&&(E=le+1)}),E>-1&&x.setSelection(pe.near(x.doc.resolve(E))),n(x.scrollIntoView())}return!0}let l=o.pos==r.end()?a.contentMatchAt(0).defaultType:null,c=e.tr.delete(r.pos,o.pos),d=l?[t?{type:i,attrs:t}:null,{type:l}]:void 0;return wi(c.doc,r.pos,2,d)?(n&&n(c.split(r.pos,2,d).scrollIntoView()),!0):!1}}function Xp(i){return function(t,e){let{$from:n,$to:r}=t.selection,o=n.blockRange(r,s=>s.childCount>0&&s.firstChild.type==i);return o?e?n.node(o.depth-1).type==i?sT(t,e,i,o):aT(t,e,o):!0:!1}}function sT(i,t,e,n){let r=i.tr,o=n.end,s=n.$to.end(n.depth);o<s&&(r.step(new ot(o-1,s,o,s,new L(P.from(e.create(null,n.parent.copy())),1,0),1,!0)),n=new Qi(r.doc.resolve(n.$from.pos),r.doc.resolve(s),n.depth));let a=nr(n);if(a==null)return!1;r.lift(n,a);let l=r.doc.resolve(r.mapping.map(o,-1)-1);return ir(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),t(r.scrollIntoView()),!0}function aT(i,t,e){let n=i.tr,r=e.parent;for(let g=e.end,_=e.endIndex-1,x=e.startIndex;_>x;_--)g-=r.child(_).nodeSize,n.delete(g-1,g+1);let o=n.doc.resolve(e.start),s=o.nodeAfter;if(n.mapping.map(e.end)!=e.start+o.nodeAfter.nodeSize)return!1;let a=e.startIndex==0,l=e.endIndex==r.childCount,c=o.node(-1),d=o.index(-1);if(!c.canReplace(d+(a?0:1),d+1,s.content.append(l?P.empty:P.from(r))))return!1;let p=o.pos,f=p+s.nodeSize;return n.step(new ot(p-(a?1:0),f+(l?1:0),p+1,f-1,new L((a?P.empty:P.from(r.copy(P.empty))).append(l?P.empty:P.from(r.copy(P.empty))),a?0:1,l?0:1),a?0:1)),t(n.scrollIntoView()),!0}function Qp(i){return function(t,e){let{$from:n,$to:r}=t.selection,o=n.blockRange(r,c=>c.childCount>0&&c.firstChild.type==i);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=i)return!1;if(e){let c=l.lastChild&&l.lastChild.type==a.type,d=P.from(c?i.create():null),p=new L(P.from(i.create(null,P.from(a.type.create(null,d)))),c?3:1,0),f=o.start,g=o.end;e(t.tr.step(new ot(f-(c?3:1),g,f,g,p,1,!0)).scrollIntoView())}return!0}}var cT={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(i){return{href:i.getAttribute("href"),title:i.getAttribute("title"),target:i.getAttribute("target")}}}],toDOM(i){let{href:t,title:e,target:n}=i.attrs;return["a",{href:t,title:e,target:n},0]}},dT={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},uT={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:i=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(i)&&null}],toDOM(){return["strong",0]}},pT={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},hT={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},mT={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},fT={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:i=>({color:i})}],toDOM(i){let{color:t}=i.attrs;return["span",{style:`color:${t};`},0]}},gT={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:i=>({backgroundColor:i})}],toDOM(i){let{backgroundColor:t}=i.attrs;return["span",{style:`background-color:${t};`},0]}},_T={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},bT={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},vT={link:cT,em:dT,strong:uT,code:pT,u:hT,s:mT,text_color:fT,text_background_color:gT,sup:_T,sub:bT},yT={content:"block+"},wT={group:"inline"},xT={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{align:t,indent:e}=i.attrs,n={textAlign:t!=="left"?t:null,marginLeft:e!==null?`${e*40}px`:null};return["p",{style:Yl(n)||null,"data-indent":e??null},0]}},CT={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(i){let t=i.getAttribute("data-indent")||null;return{indent:parseInt(t,10)||null}}}],toDOM(i){let{indent:t}=i.attrs,e={marginLeft:t!==null?`${t*40}px`:null};return["blockquote",{style:Yl(e)||null,"data-indent":t??null},0]}},ET={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},ST={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:1,align:e,indent:parseInt(n,10)||null}}},{tag:"h2",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:2,align:e,indent:parseInt(n,10)||null}}},{tag:"h3",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:3,align:e,indent:parseInt(n,10)||null}}},{tag:"h4",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:4,align:e,indent:parseInt(n,10)||null}}},{tag:"h5",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:5,align:e,indent:parseInt(n,10)||null}}},{tag:"h6",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:6,align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{level:t,align:e,indent:n}=i.attrs,r={textAlign:e!=="left"?e:null,marginLeft:n!==null?`${n*40}px`:null},s={style:Yl(r)||null,"data-indent":n??null};return[`h${t}`,s,0]}},kT={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},DT={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},IT={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(i){return{src:i.getAttribute("src"),title:i.getAttribute("title"),alt:i.getAttribute("alt"),width:i.getAttribute("width")}}}],toDOM(i){let{src:t,alt:e,title:n,width:r}=i.attrs;return["img",{src:t,alt:e,title:n,width:r}]}},TT=he(D({},tv),{content:"paragraph block*"}),MT=he(D({},Qb),{content:"list_item+",group:"block"}),AT=he(D({},ev),{content:"list_item+",group:"block"}),PT={doc:yT,text:wT,paragraph:xT,blockquote:CT,horizontal_rule:ET,heading:ST,hard_break:DT,code_block:kT,image:IT,list_item:TT,ordered_list:MT,bullet_list:AT},Xs=new nc({marks:vT,nodes:PT});var ov=(i,t)=>i.selection.empty?!1:(t&&t(i.tr.deleteSelection().scrollIntoView()),!0);function OT(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("backward",i):e.parentOffset>0)?null:e}var RT=(i,t,e)=>{let n=OT(i,e);if(!n)return!1;let r=sv(n);if(!r){let s=n.blockRange(),a=s&&nr(s);return a==null?!1:(t&&t(i.tr.lift(s,a).scrollIntoView()),!0)}let o=r.nodeBefore;if(cv(i,r,t,-1))return!0;if(n.parent.content.size==0&&(mo(o,"end")||K.isSelectable(o)))for(let s=n.depth;;s--){let a=lc(i.doc,n.before(s),n.after(s),L.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=i.tr.step(a);l.setSelection(mo(o,"end")?pe.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):K.create(l.doc,r.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return o.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1};function mo(i,t,e=!1){for(let n=i;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(e&&n.childCount!=1)return!1}return!1}var NT=(i,t,e)=>{let{$head:n,empty:r}=i.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("backward",i):n.parentOffset>0)return!1;o=sv(n)}let s=o&&o.nodeBefore;return!s||!K.isSelectable(s)?!1:(t&&t(i.tr.setSelection(K.create(i.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function sv(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){if(i.index(t)>0)return i.doc.resolve(i.before(t+1));if(i.node(t).type.spec.isolating)break}return null}function FT(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("forward",i):e.parentOffset<e.parent.content.size)?null:e}var LT=(i,t,e)=>{let n=FT(i,e);if(!n)return!1;let r=av(n);if(!r)return!1;let o=r.nodeAfter;if(cv(i,r,t,1))return!0;if(n.parent.content.size==0&&(mo(o,"start")||K.isSelectable(o))){let s=lc(i.doc,n.before(),n.after(),L.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=i.tr.step(s);a.setSelection(mo(o,"start")?pe.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):K.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},VT=(i,t,e)=>{let{$head:n,empty:r}=i.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("forward",i):n.parentOffset<n.parent.content.size)return!1;o=av(n)}let s=o&&o.nodeAfter;return!s||!K.isSelectable(s)?!1:(t&&t(i.tr.setSelection(K.create(i.doc,o.pos)).scrollIntoView()),!0)};function av(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){let e=i.node(t);if(i.index(t)+1<e.childCount)return i.doc.resolve(i.after(t+1));if(e.type.spec.isolating)break}return null}var lv=(i,t)=>{let{$from:e,$to:n}=i.selection,r=e.blockRange(n),o=r&&nr(r);return o==null?!1:(t&&t(i.tr.lift(r,o).scrollIntoView()),!0)},th=(i,t)=>{let{$head:e,$anchor:n}=i.selection;return!e.parent.type.spec.code||!e.sameParent(n)?!1:(t&&t(i.tr.insertText(`
`).scrollIntoView()),!0)};function nh(i){for(let t=0;t<i.edgeCount;t++){let{type:e}=i.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}var ih=(i,t)=>{let{$head:e,$anchor:n}=i.selection;if(!e.parent.type.spec.code||!e.sameParent(n))return!1;let r=e.node(-1),o=e.indexAfter(-1),s=nh(r.contentMatchAt(o));if(!s||!r.canReplaceWith(o,o,s))return!1;if(t){let a=e.after(),l=i.tr.replaceWith(a,a,s.createAndFill());l.setSelection(pe.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},rh=(i,t)=>{let e=i.selection,{$from:n,$to:r}=e;if(e instanceof Gt||n.parent.inlineContent||r.parent.inlineContent)return!1;let o=nh(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!n.parentOffset&&r.index()<r.parent.childCount?n:r).pos,a=i.tr.insert(s,o.createAndFill());a.setSelection(ke.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},oh=(i,t)=>{let{$cursor:e}=i.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let o=e.before();if(wi(i.doc,o))return t&&t(i.tr.split(o).scrollIntoView()),!0}let n=e.blockRange(),r=n&&nr(n);return r==null?!1:(t&&t(i.tr.lift(n,r).scrollIntoView()),!0)};function BT(i){return(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof K&&t.selection.node.isBlock)return!n.parentOffset||!wi(t.doc,n.pos)?!1:(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],s,a,l=!1,c=!1;for(let g=n.depth;;g--)if(n.node(g).isBlock){l=n.end(g)==n.pos+(n.depth-g),c=n.start(g)==n.pos-(n.depth-g),a=nh(n.node(g-1).contentMatchAt(n.indexAfter(g-1)));let x=i&&i(r.parent,l,n);o.unshift(x||(l&&a?{type:a}:null)),s=g;break}else{if(g==1)return!1;o.unshift(null)}let d=t.tr;(t.selection instanceof ke||t.selection instanceof Gt)&&d.deleteSelection();let p=d.mapping.map(n.pos),f=wi(d.doc,p,o.length,o);if(f||(o[0]=a?{type:a}:null,f=wi(d.doc,p,o.length,o)),d.split(p,o.length,o),!l&&c&&n.node(s).type!=a){let g=d.mapping.map(n.before(s)),_=d.doc.resolve(g);a&&n.node(s-1).canReplaceWith(_.index(),_.index()+1,a)&&d.setNodeMarkup(d.mapping.map(n.before(s)),a)}return e&&e(d.scrollIntoView()),!0}}var sh=BT();var jT=(i,t)=>(t&&t(i.tr.setSelection(new Gt(i.doc))),!0);function zT(i,t,e){let n=t.nodeBefore,r=t.nodeAfter,o=t.index();return!n||!r||!n.type.compatibleContent(r.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(e&&e(i.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(r.isTextblock||ir(i.doc,t.pos))?!1:(e&&e(i.tr.join(t.pos).scrollIntoView()),!0)}function cv(i,t,e,n){let r=t.nodeBefore,o=t.nodeAfter,s,a,l=r.type.spec.isolating||o.type.spec.isolating;if(!l&&zT(i,t,e))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(a=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(e){let g=t.pos+o.nodeSize,_=P.empty;for(let O=s.length-1;O>=0;O--)_=P.from(s[O].create(null,_));_=P.from(r.copy(_));let x=i.tr.step(new ot(t.pos-1,g,t.pos,g,new L(_,1,0),s.length,!0)),E=x.doc.resolve(g+2*s.length);E.nodeAfter&&E.nodeAfter.type==r.type&&ir(x.doc,E.pos)&&x.join(E.pos),e(x.scrollIntoView())}return!0}let d=o.type.spec.isolating||n>0&&l?null:pe.findFrom(t,1),p=d&&d.$from.blockRange(d.$to),f=p&&nr(p);if(f!=null&&f>=t.depth)return e&&e(i.tr.lift(p,f).scrollIntoView()),!0;if(c&&mo(o,"start",!0)&&mo(r,"end")){let g=r,_=[];for(;_.push(g),!g.isTextblock;)g=g.lastChild;let x=o,E=1;for(;!x.isTextblock;x=x.firstChild)E++;if(g.canReplace(g.childCount,g.childCount,x.content)){if(e){let O=P.empty;for(let Z=_.length-1;Z>=0;Z--)O=P.from(_[Z].copy(O));let le=i.tr.step(new ot(t.pos-_.length,t.pos+o.nodeSize,t.pos+E,t.pos+o.nodeSize-E,new L(O,_.length,0),0,!0));e(le.scrollIntoView())}return!0}}return!1}function dv(i){return function(t,e){let n=t.selection,r=i<0?n.$from:n.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(e&&e(t.tr.setSelection(ke.create(t.doc,i<0?r.start(o):r.end(o)))),!0):!1}}var HT=dv(-1),UT=dv(1);function uv(i,t=null){return function(e,n){let{$from:r,$to:o}=e.selection,s=r.blockRange(o),a=s&&io(s,i,t);return a?(n&&n(e.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Sc(i,t=null){return function(e,n){let r=!1;for(let o=0;o<e.selection.ranges.length&&!r;o++){let{$from:{pos:s},$to:{pos:a}}=e.selection.ranges[o];e.doc.nodesBetween(s,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(i,t)))if(l.type==i)r=!0;else{let d=e.doc.resolve(c),p=d.index();r=d.parent.canReplaceWith(p,p+1,i)}})}if(!r)return!1;if(n){let o=e.tr;for(let s=0;s<e.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=e.selection.ranges[s];o.setBlockType(a,l,i,t)}n(o.scrollIntoView())}return!0}}function WT(i,t,e,n){for(let r=0;r<t.length;r++){let{$from:o,$to:s}=t[r],a=o.depth==0?i.inlineContent&&i.type.allowsMarkType(e):!1;if(i.nodesBetween(o.pos,s.pos,(l,c)=>{if(a||!n&&l.isAtom&&l.isInline&&c>=o.pos&&c+l.nodeSize<=s.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(e)}),a)return!0}return!1}function $T(i){let t=[];for(let e=0;e<i.length;e++){let{$from:n,$to:r}=i[e];n.doc.nodesBetween(n.pos,r.pos,(o,s)=>{if(o.isAtom&&o.content.size&&o.isInline&&s>=n.pos&&s+o.nodeSize<=r.pos)return s+1>n.pos&&t.push(new oo(n,n.doc.resolve(s+1))),n=n.doc.resolve(s+1+o.content.size),!1}),n.pos<r.pos&&t.push(new oo(n,r))}return t}function hr(i,t=null,e){let n=(e&&e.removeWhenPresent)!==!1,r=(e&&e.enterInlineAtoms)!==!1,o=!(e&&e.includeWhitespace);return function(s,a){let{empty:l,$cursor:c,ranges:d}=s.selection;if(l&&!c||!WT(s.doc,d,i,r))return!1;if(a)if(c)i.isInSet(s.storedMarks||c.marks())?a(s.tr.removeStoredMark(i)):a(s.tr.addStoredMark(i.create(t)));else{let p,f=s.tr;r||(d=$T(d)),n?p=!d.some(g=>s.doc.rangeHasMark(g.$from.pos,g.$to.pos,i)):p=!d.every(g=>{let _=!1;return f.doc.nodesBetween(g.$from.pos,g.$to.pos,(x,E,O)=>{if(_)return!1;_=!i.isInSet(x.marks)&&!!O&&O.type.allowsMarkType(i)&&!(x.isText&&/^\s*$/.test(x.textBetween(Math.max(0,g.$from.pos-E),Math.min(x.nodeSize,g.$to.pos-E))))}),!_});for(let g=0;g<d.length;g++){let{$from:_,$to:x}=d[g];if(!p)f.removeMark(_.pos,x.pos,i);else{let E=_.pos,O=x.pos,le=_.nodeAfter,Z=x.nodeBefore,Ke=o&&le&&le.isText?/^\s*/.exec(le.text)[0].length:0,Ye=o&&Z&&Z.isText?/\s*$/.exec(Z.text)[0].length:0;E+Ke<O&&(E+=Ke,O-=Ye),f.addMark(E,O,i.create(t))}}a(f.scrollIntoView())}return!0}}function fo(...i){return function(t,e,n){for(let r=0;r<i.length;r++)if(i[r](t,e,n))return!0;return!1}}var eh=fo(ov,RT,NT),rv=fo(ov,LT,VT),Jn={Enter:fo(th,rh,oh,sh),"Mod-Enter":ih,Backspace:eh,"Mod-Backspace":eh,"Shift-Backspace":eh,Delete:rv,"Mod-Delete":rv,"Mod-a":jT},pv={"Ctrl-h":Jn.Backspace,"Alt-Backspace":Jn["Mod-Backspace"],"Ctrl-d":Jn.Delete,"Ctrl-Alt-Backspace":Jn["Mod-Delete"],"Alt-Delete":Jn["Mod-Delete"],"Alt-d":Jn["Mod-Delete"],"Ctrl-a":HT,"Ctrl-e":UT};for(let i in Jn)pv[i]=Jn[i];var GT=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,hv=GT?pv:Jn;var on=class{constructor(t,e,n={}){this.match=t,this.match=t,this.handler=typeof e=="string"?qT(e):e,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}};function qT(i){return function(t,e,n,r){let o=i;if(e[1]){let s=e[0].lastIndexOf(e[1]);o+=e[0].slice(s+e[1].length),n+=s;let a=n-r;a>0&&(o=e[0].slice(s-a,s)+o,n=r)}return t.tr.insertText(o,n,r)}}var KT=500;function fv({rules:i}){let t=new bt({state:{init(){return null},apply(e,n){let r=e.getMeta(this);return r||(e.selectionSet||e.docChanged?null:n)}},props:{handleTextInput(e,n,r,o){return mv(e,n,r,o,i,t)},handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:n}=e.state.selection;n&&mv(e,n.pos,n.pos,"",i,t)})}}},isInputRules:!0});return t}function mv(i,t,e,n,r,o){if(i.composing)return!1;let s=i.state,a=s.doc.resolve(t),l=a.parent.textBetween(Math.max(0,a.parentOffset-KT),a.parentOffset,null,"\uFFFC")+n;for(let c=0;c<r.length;c++){let d=r[c];if(!d.inCodeMark&&a.marks().some(g=>g.type.spec.code))continue;if(a.parent.type.spec.code){if(!d.inCode)continue}else if(d.inCode==="only")continue;let p=d.match.exec(l),f=p&&p[0].length>=n.length&&d.handler(s,p,t-(p[0].length-n.length),e);if(f)return d.undoable&&f.setMeta(o,{transform:f,from:t,to:e,text:n}),i.dispatch(f),!0}return!1}var gv=new on(/--$/,"\u2014",{inCodeMark:!1}),_v=new on(/\.\.\.$/,"\u2026",{inCodeMark:!1}),YT=new on(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C",{inCodeMark:!1}),JT=new on(/"$/,"\u201D",{inCodeMark:!1}),ZT=new on(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018",{inCodeMark:!1}),XT=new on(/'$/,"\u2019",{inCodeMark:!1}),bv=[YT,JT,ZT,XT];function kc(i,t,e=null,n){return new on(i,(r,o,s,a)=>{let l=e instanceof Function?e(o):e,c=r.tr.delete(s,a),d=c.doc.resolve(s),p=d.blockRange(),f=p&&io(p,t,l);if(!f)return null;c.wrap(p,f);let g=c.doc.resolve(s-1).nodeBefore;return g&&g.type==t&&ir(c.doc,s-1)&&(!n||n(o,g))&&c.join(s-1),c})}function ah(i,t,e=null){return new on(i,(n,r,o,s)=>{let a=n.doc.resolve(o),l=e instanceof Function?e(r):e;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?n.tr.delete(o,s).setBlockType(o,o,t,l):null})}var Dc=(i,t)=>{let{from:e,$from:n,to:r,empty:o}=i.selection;return o?!!t.isInSet(i.storedMarks||n.marks()):i.doc.rangeHasMark(e,r,t)},QT=(i,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===i)return t.node(e).type;return null},lh=(i,t,e={})=>{let{selection:n}=i,{$from:r,to:o}=n,s=QT(t,r);return!Object.entries(e).length||!s?!!s:o<=r.end()&&r.parent.hasMarkup(t,e)},vv=i=>{let t=[],{selection:e,storedMarks:n}=i,{from:r,to:o,empty:s,$from:a}=e;return s?t=n||a.marks():i.doc.nodesBetween(r,o,l=>{t=[...t,...l.marks]}),t},ch=i=>{let t=[],{selection:{from:e,to:n}}=i;return i.doc.nodesBetween(e,n,r=>{t.push(r)}),t},dh=(i,t,e)=>{for(let n of t){let{$from:r,$to:o}=n,s=r.depth===0?i.type.allowsMarkType(e):!1;if(i.nodesBetween(r.pos,o.pos,a=>s?!1:(s=a.inlineContent&&a.type.allowsMarkType(e),!0)),s)return!0}return!1},uh=(i,t,e)=>new on(i,(n,r,o,s)=>{let{tr:a}=n,l=o,c=s,[d,,p]=r,f=d.search(/\S/);if(p){let g=o+d.indexOf(p),_=g+p.length;_<s&&a.delete(_,s),g>o&&a.delete(o+f,g),c=o+p.length+f}return a.addMark(l,c,t.create(e)),a.removeStoredMark(t),a}),yv=(i,t)=>{let{$from:e}=i.selection;for(let n=e.depth;n>=0;n-=1){let r=e.index(n);if(e.node(n).canReplaceWith(r,r,t))return!0}return!1};var wv=()=>(i,t)=>{let{doc:e,selection:n,tr:r,schema:o}=i,{$head:{pos:s},from:a,to:l}=n,c=o.marks.link;if(a===l){let d=e.resolve(s),p=s-d.textOffset,f=p+d.parent.child(d.index()).nodeSize;r.removeMark(p,f,c)}else r.removeMark(a,l,c);return r.docChanged?(t?.(r),!0):!1},ph=(i,t={})=>(e,n)=>{let{tr:r,selection:o}=e,{empty:s,ranges:a,$from:l,$to:c}=o;if(s&&o instanceof ke){let{$cursor:d}=o;if(!d||!dh(e.doc,a,i)||(r.addStoredMark(i.create(t)),!r.storedMarksSet))return!1;n?.(r)}else{if(r.addMark(l.pos,c.pos,i.create(t)),!r.docChanged)return!1;n?.(r.scrollIntoView())}return!0},xv=i=>(t,e)=>{let{tr:n,selection:r,storedMarks:o,doc:s}=t,{empty:a,ranges:l}=r;if(a&&r instanceof ke){let{$cursor:c}=r;if(!c||!dh(t.doc,l,i))return!1;if(i.isInSet(o||c.marks()))return n.removeStoredMark(i),e?.(n),!0}else{for(let c of l){let{$from:d,$to:p}=c;s.rangeHasMark(d.pos,p.pos,i)&&n.removeMark(d.pos,p.pos,i)}if(!n.docChanged)return!1;e?.(n.scrollIntoView())}return!1};var Ic=200,ut=function(){};ut.prototype.append=function(t){return t.length?(t=ut.from(t),!this.length&&t||t.length<Ic&&this.leafAppend(t)||this.length<Ic&&t.leafPrepend(this)||this.appendInner(t)):this};ut.prototype.prepend=function(t){return t.length?ut.from(t).append(this):this};ut.prototype.appendInner=function(t){return new eM(this,t)};ut.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?ut.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};ut.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ut.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)};ut.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(o,s){return r.push(t(o,s))},e,n),r};ut.from=function(t){return t instanceof ut?t:t&&t.length?new Cv(t):ut.empty};var Cv=function(i){function t(n){i.call(this),this.values=n}i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,s,a){for(var l=o;l<s;l++)if(r(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,s,a){for(var l=o-1;l>=s;l--)if(r(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Ic)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Ic)return new t(r.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(ut);ut.empty=new Cv([]);var eM=function(i){function t(e,n){i.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,r,o,s){var a=this.left.length;if(r<a&&this.left.forEachInner(n,r,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(n,Math.max(r-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(n,r,o,s){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(n,r-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(n,Math.min(r,a),o,s)===!1)return!1},t.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(n,r):n>=o?this.right.slice(n-o,r-o):this.left.slice(n,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new t(r,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(ut),hh=ut;var tM=500,fr=class i{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let r,o;e&&(r=this.remapping(n,this.items.length),o=r.maps.length);let s=t.tr,a,l,c=[],d=[];return this.items.forEach((p,f)=>{if(!p.step){r||(r=this.remapping(n,f+1),o=r.maps.length),o--,d.push(p);return}if(r){d.push(new An(p.map));let g=p.step.map(r.slice(o)),_;g&&s.maybeStep(g).doc&&(_=s.mapping.maps[s.mapping.maps.length-1],c.push(new An(_,void 0,void 0,c.length+d.length))),o--,_&&r.appendMap(_,o)}else s.maybeStep(p.step);if(p.selection)return a=r?p.selection.map(r.slice(o)):p.selection,l=new i(this.items.slice(0,n).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,e,n,r){let o=[],s=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let d=0;d<t.steps.length;d++){let p=t.steps[d].invert(t.docs[d]),f=new An(t.mapping.maps[d],p,e),g;(g=l&&l.merge(f))&&(f=g,d?o.pop():a=a.slice(0,a.length-1)),o.push(f),e&&(s++,e=void 0),r||(l=f)}let c=s-n.depth;return c>iM&&(a=nM(a,c),s-=c),new i(a.append(o),s)}remapping(t,e){let n=new Bs;return this.items.forEach((r,o)=>{let s=r.mirrorOffset!=null&&o-r.mirrorOffset>=t?n.maps.length-r.mirrorOffset:void 0;n.appendMap(r.map,s)},t,e),n}addMaps(t){return this.eventCount==0?this:new i(this.items.append(t.map(e=>new An(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},r);let l=e;this.items.forEach(f=>{let g=o.getMirror(--l);if(g==null)return;s=Math.min(s,g);let _=o.maps[g];if(f.step){let x=t.steps[g].invert(t.docs[g]),E=f.selection&&f.selection.map(o.slice(l+1,g));E&&a++,n.push(new An(_,x,E))}else n.push(new An(_))},r);let c=[];for(let f=e;f<s;f++)c.push(new An(o.maps[f]));let d=this.items.slice(0,r).append(c).append(n),p=new i(d,a);return p.emptyItemCount()>tM&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)r.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(e.slice(n)),c=l&&l.getMap();if(n--,c&&e.appendMap(c,n),l){let d=s.selection&&s.selection.map(e.slice(n));d&&o++;let p=new An(c.invert(),l,d),f,g=r.length-1;(f=r.length&&r[g].merge(p))?r[g]=f:r.push(p)}}else s.map&&n--},this.items.length,0),new i(hh.from(r.reverse()),o)}};fr.empty=new fr(hh.empty,0);function nM(i,t){let e;return i.forEach((n,r)=>{if(n.selection&&t--==0)return e=r,!1}),i.slice(e)}var An=class i{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new i(e.getMap().invert(),e,this.selection)}}},Pn=class{constructor(t,e,n,r,o){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}},iM=20;function rM(i,t,e,n){let r=e.getMeta(mr),o;if(r)return r.historyState;e.getMeta(aM)&&(i=new Pn(i.done,i.undone,null,0,-1));let s=e.getMeta("appendedTransaction");if(e.steps.length==0)return i;if(s&&s.getMeta(mr))return s.getMeta(mr).redo?new Pn(i.done.addTransform(e,void 0,n,Tc(t)),i.undone,Ev(e.mapping.maps),i.prevTime,i.prevComposition):new Pn(i.done,i.undone.addTransform(e,void 0,n,Tc(t)),null,i.prevTime,i.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=e.getMeta("composition"),l=i.prevTime==0||!s&&i.prevComposition!=a&&(i.prevTime<(e.time||0)-n.newGroupDelay||!oM(e,i.prevRanges)),c=s?mh(i.prevRanges,e.mapping):Ev(e.mapping.maps);return new Pn(i.done.addTransform(e,l?t.selection.getBookmark():void 0,n,Tc(t)),fr.empty,c,e.time,a??i.prevComposition)}else return(o=e.getMeta("rebased"))?new Pn(i.done.rebased(e,o),i.undone.rebased(e,o),mh(i.prevRanges,e.mapping),i.prevTime,i.prevComposition):new Pn(i.done.addMaps(e.mapping.maps),i.undone.addMaps(e.mapping.maps),mh(i.prevRanges,e.mapping),i.prevTime,i.prevComposition)}function oM(i,t){if(!t)return!1;if(!i.docChanged)return!0;let e=!1;return i.mapping.maps[0].forEach((n,r)=>{for(let o=0;o<t.length;o+=2)n<=t[o+1]&&r>=t[o]&&(e=!0)}),e}function Ev(i){let t=[];for(let e=i.length-1;e>=0&&t.length==0;e--)i[e].forEach((n,r,o,s)=>t.push(o,s));return t}function mh(i,t){if(!i)return null;let e=[];for(let n=0;n<i.length;n+=2){let r=t.map(i[n],1),o=t.map(i[n+1],-1);r<=o&&e.push(r,o)}return e}function sM(i,t,e){let n=Tc(t),r=mr.get(t).spec.config,o=(e?i.undone:i.done).popEvent(t,n);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(e?i.done:i.undone).addTransform(o.transform,t.selection.getBookmark(),r,n),l=new Pn(e?a:o.remaining,e?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(mr,{redo:e,historyState:l})}var fh=!1,Sv=null;function Tc(i){let t=i.plugins;if(Sv!=t){fh=!1,Sv=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){fh=!0;break}}return fh}var mr=new qt("history"),aM=new qt("closeHistory");function kv(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new bt({key:mr,state:{init(){return new Pn(fr.empty,fr.empty,null,0,-1)},apply(t,e,n){return rM(e,n,t,i)}},config:i,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r=n=="historyUndo"?Ac:n=="historyRedo"?Qs:null;return r?(e.preventDefault(),r(t.state,t.dispatch)):!1}}}})}function Mc(i,t){return(e,n)=>{let r=mr.getState(e);if(!r||(i?r.undone:r.done).eventCount==0)return!1;if(n){let o=sM(r,e,i);o&&n(t?o.scrollIntoView():o)}return!0}}var Ac=Mc(!1,!0),Qs=Mc(!0,!0),G5=Mc(!1,!1),q5=Mc(!0,!1);var Zn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Oc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},lM=typeof navigator<"u"&&/Mac/.test(navigator.platform),cM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(Xe=0;Xe<10;Xe++)Zn[48+Xe]=Zn[96+Xe]=String(Xe);var Xe;for(Xe=1;Xe<=24;Xe++)Zn[Xe+111]="F"+Xe;var Xe;for(Xe=65;Xe<=90;Xe++)Zn[Xe]=String.fromCharCode(Xe+32),Oc[Xe]=String.fromCharCode(Xe);var Xe;for(Pc in Zn)Oc.hasOwnProperty(Pc)||(Oc[Pc]=Zn[Pc]);var Pc;function Dv(i){var t=lM&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||cM&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",e=!t&&i.key||(i.shiftKey?Oc:Zn)[i.keyCode]||i.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}var dM=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function uM(i){let t=i.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let n,r,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))dM?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),s&&(e="Meta-"+e),o&&(e="Shift-"+e),e}function pM(i){let t=Object.create(null);for(let e in i)t[uM(e)]=i[e];return t}function gh(i,t,e=!0){return t.altKey&&(i="Alt-"+i),t.ctrlKey&&(i="Ctrl-"+i),t.metaKey&&(i="Meta-"+i),e&&t.shiftKey&&(i="Shift-"+i),i}function ea(i){return new bt({props:{handleKeyDown:hM(i)}})}function hM(i){let t=pM(i);return function(e,n){let r=Dv(n),o,s=t[gh(r,n)];if(s&&s(e.state,e.dispatch,e))return!0;if(r.length==1&&r!=" "){if(n.shiftKey){let a=t[gh(r,n,!1)];if(a&&a(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(o=Zn[n.keyCode])&&o!=r){let a=t[gh(o,n)];if(a&&a(e.state,e.dispatch,e))return!0}}return!1}}var mM=["imgEl"],fM=i=>({"NgxEditor__Resizer--Active":i});function gM(i,t){if(i&1){let e=Y();u(0,"span",4)(1,"span",5),S("mousedown",function(r){I(e);let o=C();return T(o.startResizing(r,"left"))}),h(),u(2,"span",6),S("mousedown",function(r){I(e);let o=C();return T(o.startResizing(r,"right"))}),h(),u(3,"span",7),S("mousedown",function(r){I(e);let o=C();return T(o.startResizing(r,"left"))}),h(),u(4,"span",8),S("mousedown",function(r){I(e);let o=C();return T(o.startResizing(r,"right"))}),h()()}}var _M=["ngxEditor"],bM=["*"];function vM(i,t){if(i&1&&(u(0,"div",12),b(1),me(2,"async"),h()),i&2){let e=C(2);m(),ye(" ",we(2,1,(e.href.errors==null?null:e.href.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function yM(i,t){if(i&1&&(u(0,"div",12),b(1),h()),i&2){let e=C(2);m(),ye(" ",(e.text.errors==null?null:e.text.errors.required)&&"This is required"," ")}}function wM(i,t){if(i&1&&(u(0,"div",4)(1,"div",5)(2,"label"),w(3,"input",13),b(4),me(5,"async"),h()()()),i&2){let e=C(2);m(4),ye(" ",we(5,1,e.getLabel("openInNewTab"))," ")}}function xM(i,t){if(i&1){let e=Y();u(0,"div",2)(1,"form",3),S("ngSubmit",function(r){I(e);let o=C();return T(o.insertLink(r))}),u(2,"div",4)(3,"div",5)(4,"label",6),b(5),me(6,"async"),h(),w(7,"input",7),M(8,vM,3,3,"div",8),h()(),u(9,"div",4)(10,"div",5)(11,"label",6),b(12),me(13,"async"),h(),w(14,"input",9),M(15,yM,2,1,"div",8),h()(),M(16,wM,6,3,"div",10),u(17,"button",11),b(18),me(19,"async"),h()()()}if(i&2){let e=C();m(),y("formGroup",e.form),m(3),y("htmlFor",e.getId("link-popup-url")),m(),N(we(6,12,e.getLabel("url"))),m(2),y("id",e.getId("link-popup-url")),m(),y("ngIf",e.href.touched&&e.href.invalid),m(3),y("htmlFor",e.getId("link-popup-label")),m(),N(we(13,14,e.getLabel("text"))),m(2),y("id",e.getId("link-popup-label")),m(),y("ngIf",e.text.touched&&e.text.invalid),m(),y("ngIf",e.options.showOpenInNewTab),m(),y("disabled",!e.form.valid),m(),N(we(19,16,e.getLabel("insert")))}}var CM=(i,t)=>({"NgxEditor__Dropdown--Active":i,"NgxEditor--Disabled":t});function EM(i,t){if(i&1){let e=Y();u(0,"button",4),me(1,"async"),S("mousedown",function(r){let o=I(e).$implicit,s=C(2);return T(s.onDropdownItemMouseClick(r,o))})("keydown.enter",function(r){let o=I(e).$implicit,s=C(2);return T(s.onDropdownItemKeydown(r,o))})("keydown.space",function(r){let o=I(e).$implicit,s=C(2);return T(s.onDropdownItemKeydown(r,o))}),b(2),me(3,"async"),h()}if(i&2){let e=t.$implicit,n=C(2);y("ngClass",ze(8,CM,e===n.activeItem,n.disabledItems.includes(e)))("ariaLabel",we(1,4,n.getName(e))),Le("aria-selected",e===n.activeItem),m(2),ye(" ",we(3,6,n.getName(e))," ")}}function SM(i,t){if(i&1&&(u(0,"div",2),M(1,EM,4,11,"button",3),h()),i&2){let e=C();m(),y("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}function kM(i,t){if(i&1&&(u(0,"div",12),b(1),me(2,"async"),h()),i&2){let e=C(2);m(),ye(" ",we(2,1,(e.src.errors==null?null:e.src.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function DM(i,t){if(i&1){let e=Y();u(0,"div",2)(1,"form",3),S("ngSubmit",function(r){I(e);let o=C();return T(o.insertLink(r))}),u(2,"div",4)(3,"div",5)(4,"label",6),b(5),me(6,"async"),h(),w(7,"input",7),M(8,kM,3,3,"div",8),h()(),u(9,"div",4)(10,"div",5)(11,"label",6),b(12),me(13,"async"),h(),w(14,"input",9),h()(),u(15,"div",4)(16,"div",5)(17,"label",6),b(18),me(19,"async"),h(),w(20,"input",10),h()(),u(21,"button",11),b(22),me(23,"async"),h()()()}if(i&2){let e=C();m(),y("formGroup",e.form),m(3),y("htmlFor",e.getId("image-popup-url")),m(),N(we(6,13,e.getLabel("url"))),m(2),y("id",e.getId("image-popup-url")),m(),y("ngIf",e.src.touched&&e.src.invalid),m(3),y("htmlFor",e.getId("image-popup-label")),m(),N(we(13,15,e.getLabel("altText"))),m(2),y("id",e.getId("image-popup-label")),m(3),y("htmlFor",e.getId("image-popup-title")),m(),N(we(19,17,e.getLabel("title"))),m(2),y("id",e.getId("image-popup-title")),m(),y("disabled",!e.form.valid||!e.form.dirty),m(),N(we(23,19,e.getLabel("insert")))}}var IM=(i,t)=>({backgroundColor:i,color:t}),TM=i=>({"NgxEditor__Color--Active":i});function MM(i,t){if(i&1){let e=Y();u(0,"button",7),S("mousedown",function(r){let o=I(e).$implicit,s=C(3);return T(s.onColorSelectMouseClick(r,o))})("keydown.enter",function(){let r=I(e).$implicit,o=C(3);return T(o.onColorSelectKeydown(r))})("keydown.space",function(){let r=I(e).$implicit,o=C(3);return T(o.onColorSelectKeydown(r))}),h()}if(i&2){let e=t.$implicit,n=C(3);y("ngStyle",ze(3,IM,e,n.getContrastYIQ(e)))("title",e)("ngClass",Ne(6,TM,n.activeColors.includes(e)))}}function AM(i,t){if(i&1&&(u(0,"div",5),M(1,MM,1,8,"button",6),h()),i&2){let e=t.$implicit,n=C(2);m(),y("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function PM(i,t){if(i&1){let e=Y();u(0,"div",2),M(1,AM,2,2,"div",3),u(2,"button",4),S("mousedown",function(r){I(e);let o=C();return T(o.onRemoveMouseClick(r))})("keydown.enter",function(){I(e);let r=C();return T(r.onRemoveKeydown())})("keydown.space",function(){I(e);let r=C();return T(r.onRemoveKeydown())}),b(3),me(4,"async"),h()()}if(i&2){let e=C();m(),y("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),m(),y("disabled",!e.isActive),m(),ye(" ",we(4,4,e.getLabel("remove"))," ")}}var OM=(i,t)=>({"NgxEditor--Disabled":i,"NgxEditor__MenuBar--Reverse":t});function RM(i,t){if(i&1&&w(0,"ngx-toggle-command",7),i&2){let e=C().$implicit,n=C(2);zt(n.iconContainerClass),y("toolbarItem",e)}}function NM(i,t){if(i&1&&w(0,"ngx-insert-command",7),i&2){let e=C().$implicit,n=C(2);zt(n.iconContainerClass),y("toolbarItem",e)}}function FM(i,t){if(i&1&&(ri(0),w(1,"ngx-link",8),oi()),i&2){let e=C().$implicit,n=C(2);m(),zt(n.iconContainerClass),y("options",n.getLinkOptions(e))}}function LM(i,t){if(i&1&&w(0,"ngx-image"),i&2){let e=C(3);zt(e.iconContainerClass)}}function VM(i,t){if(i&1&&w(0,"ngx-dropdown",10),i&2){let e=t.$implicit,n=C(4);zt(n.dropdownContainerClass),y("group",e.key)("items",e.value)}}function BM(i,t){if(i&1&&(ri(0),M(1,VM,1,4,"ngx-dropdown",9),me(2,"keyvalue"),oi()),i&2){let e=C().$implicit,n=C(2);m(),y("ngForOf",we(2,2,n.getDropdownItems(e)))("ngForTrackBy",n.trackByIndex)}}function jM(i,t){if(i&1&&w(0,"ngx-color-picker",11),i&2){let e=C(3);zt(e.iconContainerClass),y("presets",e.presets)}}function zM(i,t){if(i&1&&w(0,"ngx-color-picker",12),i&2){let e=C(3);zt(e.iconContainerClass),y("presets",e.presets)}}function HM(i,t){if(i&1&&w(0,"div"),i&2){let e=C(3);zt(e.seperatorClass)}}function UM(i,t){if(i&1&&(ri(0),M(1,RM,1,3,"ngx-toggle-command",3)(2,NM,1,3,"ngx-insert-command",3)(3,FM,2,3,"ng-container",2)(4,LM,1,2,"ngx-image",4)(5,BM,3,4,"ng-container",2)(6,jM,1,3,"ngx-color-picker",5)(7,zM,1,3,"ngx-color-picker",6)(8,HM,1,2,"div",4),oi()),i&2){let e=t.$implicit,n=t.last,r=C().last,o=C();m(),y("ngIf",o.toggleCommands.includes(e)),m(),y("ngIf",o.insertCommands.includes(e)),m(),y("ngIf",o.isLinkItem(e)),m(),y("ngIf",e==="image"),m(),y("ngIf",o.isDropDown(e)),m(),y("ngIf",e==="text_color"),m(),y("ngIf",e==="background_color"),m(),y("ngIf",n&&!r)}}function WM(i,t){if(i&1&&(ri(0),M(1,UM,9,8,"ng-container",1),oi()),i&2){let e=t.$implicit,n=C();m(),y("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function $M(i,t){if(i&1&&(ri(0),Fn(1,13),oi()),i&2){let e=C();m(),y("ngTemplateOutlet",e.customMenuRef)}}var GM=(i=!0)=>new bt({key:new qt("editable"),state:{init(){return i},apply(t,e){return t.getMeta("UPDATE_EDITABLE")??e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),qM="NgxEditor__Placeholder",KM=i=>new bt({key:new qt("placeholder"),state:{init(){return i??""},apply(t,e){return t.getMeta("UPDATE_PLACEHOLDER")??e}},props:{decorations(t){let{doc:e}=t,{textContent:n,childCount:r}=e,o=this.getState(t);if(!o||r>1)return Et.empty;let s=[],a=(l,c)=>{if(l.type.isBlock&&l.childCount===0&&n.length===0){let d=c,p=c+l.nodeSize,f=Mn.node(d,p,{class:qM,"data-placeholder":o,"data-align":l.attrs.align??null});s.push(f)}return!1};return e.descendants(a),Et.create(e,s)}}}),YM=(i={})=>new bt({key:new qt("attributes"),props:{attributes:i}}),JM=i=>new bt({key:new qt("focus"),props:{handleDOMEvents:{focus:()=>(i(),!1)}}}),ZM=i=>new bt({key:new qt("blur"),props:{handleDOMEvents:{blur:()=>(i(),!1)}}}),XM=(()=>{class i{src;alt="";title="";outerWidth="";selected=!1;view;imageResize=new j;imgEl;startResizing(e,n){e.preventDefault(),this.resizeImage(e,n)}resizeImage(e,n){let r=e.pageX,o=this.imgEl.nativeElement.clientWidth,s=n==="left",{width:a}=window.getComputedStyle(this.view.dom),l=parseInt(a,10),c=p=>{let g=p.pageX-r,_=s?o-g:o+g;_>l||_<20||(this.outerWidth=`${_}px`)},d=p=>{p.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d),this.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ngx-image-view"]],viewQuery:function(n,r){if(n&1&&Oe(mM,7),n&2){let o;re(o=oe())&&(r.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},standalone:!1,decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(n,r){n&1&&(u(0,"span",1),M(1,gM,5,0,"span",2),w(2,"img",3,0),h()),n&2&&(Pi("width",r.outerWidth),y("ngClass",Ne(7,fM,r.selected)),m(),y("ngIf",r.selected),m(),y("src",r.src,kr)("alt",r.alt)("title",r.title))},dependencies:[Ie,Ce],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]})}return i})(),_h=class{dom;view;getPos;applicationRef;imageComponentRef;resizeSubscription;node;updating=!1;constructor(t,e,n,r){this.applicationRef=r.get(yn),this.imageComponentRef=Dr(XM,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=n,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}handleResize=()=>{if(this.updating)return;let{state:t,dispatch:e}=this.view,{tr:n}=t,r=n.setNodeMarkup(this.getPos(),void 0,he(D({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),o=r.doc.resolve(this.getPos()),s=new K(o);r.setSelection(s),e(r)};update(t){return t.type!==this.node.type?!1:(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},QM=i=>new bt({key:new qt("image-resize"),props:{nodeViews:{image:(t,e,n)=>new _h(t,e,n,i)}}}),e2=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,Lv=i=>{let t=[];return i.forEach(e=>{if(e.isText){let n=e.text,r=0,o=e2.exec(n);if(o){let s=o.index,a=s+o[0].length,{link:l}=e.type.schema.marks;s>0&&t.push(e.cut(r,s));let c=n.slice(s,a);t.push(e.cut(s,a).mark(l.create({href:c}).addToSet(e.marks))),r=a}r<n.length&&t.push(e.cut(r))}else t.push(e.copy(Lv(e.content)))}),P.fromArray(t)},t2=()=>new bt({key:new qt("linkify"),props:{transformPasted:i=>new L(Lv(i.content),i.openStart,i.openEnd)}}),Vv=i=>typeof i=="string",n2=()=>window.trustedTypes,Bv=i=>n2()?.isHTML(i)??!1,jv=i=>Vv(i)||Bv(i),zv={type:"doc",content:[{type:"paragraph"}]},i2=(i,t)=>{let e=t??Xs,n=e.nodeFromJSON(i),r=Wn.fromSchema(e).serializeFragment(n.content),o=document.createElement("div");return o.appendChild(r),o.innerHTML},r2=(i,t,e)=>{let n=t??Xs,r=document.createElement("div");return r.innerHTML=i,yi.fromSchema(n).parse(r,e).toJSON()},Iv=(i,t,e)=>{if(!i)return t.nodeFromJSON(zv);if(!jv(i))return t.nodeFromJSON(i);let n=r2(i,t,e);return t.nodeFromJSON(n)},Hv=(()=>{class i{renderer;injector;elementRef;constructor(e,n,r){this.renderer=e,this.injector=n,this.elementRef=r}ngxEditor;editor;outputFormat;placeholder="Type Here...";focusOut=new j;focusIn=new j;unsubscribe=new V;onChange=()=>{};onTouched=()=>{};writeValue(e){!this.outputFormat&&jv(e)&&(this.outputFormat="html"),this.editor.setContent(e??zv)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if(this.outputFormat==="html"){let n=i2(e,this.editor.schema);this.onChange(n);return}this.onChange(e)}setMeta(e,n){let{dispatch:r,state:{tr:o}}=this.editor.view;r(o.setMeta(e,n))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(GM()),this.editor.registerPlugin(KM(this.placeholder)),this.editor.registerPlugin(YM({class:"NgxEditor__Content"})),this.editor.registerPlugin(JM(()=>{this.focusIn.emit()})),this.editor.registerPlugin(ZM(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(QM(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(t2())}ngOnInit(){if(!this.editor)throw new eo("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(ge(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static \u0275fac=function(n){return new(n||i)(k(jt),k(Re),k(ee))};static \u0275cmp=R({type:i,selectors:[["ngx-editor"]],viewQuery:function(n,r){if(n&1&&Oe(_M,7),n&2){let o;re(o=oe())&&(r.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},standalone:!1,features:[We([{provide:pn,useExisting:It(()=>i),multi:!0}]),Je],ngContentSelectors:bM,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(n,r){n&1&&(Ln(),u(0,"div",1,0),ln(2),h())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2})}return i})(),Ii=(()=>{class i{editor;customMenuRefChange=new V;setCustomMenuRef(e){this.customMenuRefChange.next(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),On=class{name;constructor(t){this.name=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?ph(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?hr(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?Dc(t,n):!1}canExecute(t){return this.toggle()(t)}},bh=class{toggle(){return(t,e)=>{let{schema:n}=t,r=n.nodes.blockquote;return r?this.isActive(t)?lv(t,e):uv(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.nodes.blockquote;return n?lh(t,n):!1}canExecute(t){return this.toggle()(t)}},vh=class{insert(){return(t,e)=>{let{schema:n,tr:r}=t,o=n.nodes.horizontal_rule;return o?(e(r.replaceSelectionWith(o.create()).scrollIntoView()),!0):!1}}canExecute(t){return yv(t,t.schema.nodes.horizontal_rule)}},_o=class{isBulletList=!1;constructor(t=!1){this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{let{schema:n}=t,r=this.getType(n);return r?this.isActive(t)?Xp(n.nodes.list_item)(t,e):nv(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=this.getType(e);return n?lh(t,n):!1}canExecute(t){return this.toggle()(t)}},Xn=class{level;constructor(t){this.level=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.nodes.heading;return r?Sc(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n,selection:r,doc:o}=t,s=n.nodes.heading;if(!s)return!1;let a=r.$from.before(1),c=o.nodeAt(a)?.attrs??{};return this.isActive(t)?Sc(n.nodes.paragraph,c)(t,e):Sc(s,he(D({},c),{level:this.level}))(t,e)}}isActive(t){let{schema:e}=t,n=ch(t),r=e.nodes.heading;if(!r)return!1;let o=[r,e.nodes.text,e.nodes.blockquote];return!!n.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}},gr=class{align;constructor(t){this.align=t}toggle(){return(t,e)=>{let{doc:n,selection:r,tr:o,schema:s}=t,{from:a,to:l}=r,c=!1;return n.nodesBetween(a,l,(d,p)=>{let f=d.type;if([s.nodes.paragraph,s.nodes.heading].includes(f)){c=!0;let g=d.attrs.align===this.align?null:this.align;o.setNodeMarkup(p,f,he(D({},d.attrs),{align:g}))}return!0}),c?(o.docChanged&&e?.(o),!0):!1}}isActive(t){return!!ch(t).find(r=>r.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}},o2={strict:!0},yh=class{update(t){return(e,n)=>{let{schema:r,selection:o}=e,s=r.marks.link;return!s||o.empty?!1:hr(s,t)(e,n)}}insert(t,e){return(n,r)=>{let{schema:o,tr:s}=n;if(!o.marks.link)return!1;let l={href:e.href,title:e.title??t,target:e.target??"_blank"},c=o.text(t,[o.marks.link.create(l)]);return s.replaceSelectionWith(c,!1).scrollIntoView(),s.docChanged?(r?.(s),!0):!1}}isActive(t,e=o2){if(e.strict)return!0;let{schema:n}=t,r=n.marks.link;return r?Dc(t,r):!1}remove(t,e){return wv()(t,e)}canExecute(t){let e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}},Uv=class{insert(t,e){return(n,r)=>{let{schema:o,tr:s,selection:a}=n,l=o.nodes.image;if(!l)return!1;let c=D({width:null,src:t},e);!c.width&&a instanceof K&&a.node.type===l&&(c.width=a.node.attrs.width),s.replaceSelectionWith(l.createAndFill(c));let d=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new K(d)).scrollIntoView(),s.docChanged?(r?.(s),!0):!1}}isActive(t){let{selection:e}=t;return e instanceof K?e.node.type.name==="image":!1}},go=class{name;attrName;constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,n)=>{let{schema:r,selection:o,doc:s}=e,a=r.marks[this.name];if(!a)return!1;let{from:l,to:c,empty:d}=o;if(!d&&l+1===c){let p=s.nodeAt(l);if(p?.isAtom&&!p.isText&&p.isLeaf)return!1}return ph(a,t)(e,n)}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?Dc(t,n):!1}getActiveColors(t){if(!this.isActive(t))return[];let{schema:e}=t;return vv(t).filter(o=>o.type===e.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?xv(r)(t,e):!1}}canExecute(t){let e=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(e)(t)}},s2=["link"],wh=class{insert(){return(t,e)=>{let{tr:n}=t,{ranges:r,empty:o}=n.selection;return o||(Object.entries(t.schema.marks).forEach(([s,a])=>{s2.includes(s)||r.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos,a)})}),e(n)),!0}}canExecute(){return!0}},a2=["paragraph","heading","blockquote"],Tv=0,Mv=10,l2=(i,t,e)=>{let n=i.doc.nodeAt(t);if(!n)return!1;let r=n.attrs.indent??0,o=J_(r+(e==="increase"?1:-1),Tv,Mv);if(o===r||o<Tv||o>Mv)return!1;let s=he(D({},n.attrs),{indent:o});return i.setNodeMarkup(t,n.type,s),!0},bo=class{method="increase";constructor(t){this.method=t}insert(){return(t,e)=>{let{tr:n,doc:r}=t,{from:o,to:s}=n.selection,a=!1;return r.nodesBetween(o,s,(l,c)=>{let d=l.type;return a2.includes(d.name)?(a=l2(n,c,this.method),!1):!l.type.name.includes("list")}),a?(n.docChanged&&e?.(n),!0):!1}}canExecute(t){return this.insert()(t)}},Nc=class{mode="undo";constructor(t){this.mode=t}insert(){return(t,e)=>this.mode==="undo"?Ac(t,e):Qs(t,e)}canExecute(t){return this.insert()(t)}},c2=new On("strong"),d2=new On("em"),u2=new On("code"),p2=new On("u"),h2=new On("s"),m2=new bh,f2=new vh,g2=new wh,_2=new _o(!0),b2=new _o(!1),v2=new Xn(1),y2=new Xn(2),w2=new Xn(3),x2=new Xn(4),C2=new Xn(5),E2=new Xn(6),S2=new gr("left"),k2=new gr("center"),D2=new gr("right"),I2=new gr("justify"),T2=new yh,M2=new Uv,A2=new go("text_color","color"),P2=new go("text_background_color","backgroundColor"),O2=new bo("increase"),R2=new bo("decrease"),N2=new On("sup"),F2=new On("sub"),L2=new Nc("undo"),V2=new Nc("redo"),Fc={bold:c2,italic:d2,code:u2,underline:p2,strike:h2,blockquote:m2,bullet_list:_2,ordered_list:b2,h1:v2,h2:y2,h3:w2,h4:x2,h5:C2,h6:E2,align_left:S2,align_center:k2,align_right:D2,align_justify:I2,superscript:N2,subscript:F2},Av={horizontal_rule:f2,format_clear:g2,indent:O2,outdent:R2,undo:L2,redo:V2},ta=T2,Pv=M2,B2=A2,j2=P2,xh={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},Ch=class{locals=xh;constructor(t={}){this.locals=D(D({},xh),t)}get=t=>{let e=this.locals[t];return e?vr(e)?e:z(e):z("")}},z2=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,H2=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,U2=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,W2=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,$2=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,G2=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,q2=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,K2=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,Y2=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,J2=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,Z2=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,X2=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,Q2=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,eA=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,tA=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,nA=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,iA=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,rA=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,oA=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,sA='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',aA='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',lA='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',cA='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',dA='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',uA='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',pA=20,hA=20,mA="currentColor",Wv={bold:z2,italic:H2,code:U2,underline:W2,strike:$2,ordered_list:G2,bullet_list:q2,blockquote:K2,link:Y2,unlink:J2,image:Z2,align_left:X2,align_center:Q2,align_right:eA,align_justify:tA,text_color:nA,color_fill:iA,horizontal_rule:rA,format_clear:oA,indent:sA,outdent:aA,superscript:lA,subscript:cA,undo:dA,redo:uA,path:"<path></path>"},Eh=class{static get(t,e=mA){let n=Wv[t];return n&&(n.includes("<path")||n.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${e}
          height=${pA}
          width=${hA}
        >
          ${n}
        </svg>
      `:n}},Sh=(()=>{class i{locals={};icons={};static \u0275fac=function(n){return new(n||i)};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),_r=(()=>{class i{config;constructor(e){this.config=e}get locals(){return new Ch(this.config.locals)}getIcon(e){return this.config.icons[e]?this.config.icons[e]:Eh.get(e)}static \u0275fac=function(n){return new(n||i)(Q(Sh,8))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ov=i=>({locals:i.locals??{},icons:i.icons??{}}),vo=(()=>{class i{sanitizer;constructor(e){this.sanitizer=e}transform(e){return Bv(e)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(n){return new(n||i)(k(yd,16))};static \u0275pipe=Xh({name:"sanitizeHtml",type:i,pure:!0,standalone:!1})}return i})(),fA=(()=>{class i{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;isActive=!1;disabled=!1;updateSubscription;constructor(e,n){this.ngxeService=e,this.menuService=n}toggle(){let{state:e,dispatch:n}=this.editorView;Fc[this.name].toggle()(e,n)}onMouseClick(e){e.preventDefault(),e.button===0&&this.toggle()}onKeydown(){this.toggle()}update=e=>{let{state:n}=e,r=Fc[this.name];this.isActive=r.isActive(n),this.disabled=!r.canExecute(n)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(k(_r),k(Ii))};static \u0275cmp=R({type:i,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},standalone:!1,decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,r){n&1&&(u(0,"button",0),me(1,"sanitizeHtml"),me(2,"async"),me(3,"async"),S("mousedown",function(s){return r.onMouseClick(s)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),h()),n&2&&(ve("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),y("disabled",r.disabled)("innerHTML",we(1,8,r.html),Sr)("title",we(2,10,r.getTitle(r.name)))("ariaLabel",we(3,12,r.getTitle(r.name))))},dependencies:[Ni,vo],encapsulation:2})}return i})(),gA=(()=>{class i{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;disabled=!1;updateSubscription;constructor(e,n){this.ngxeService=e,this.menuService=n}onMouseClick(e){e.preventDefault(),e.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:e,dispatch:n}=this.editorView;Av[this.name].insert()(e,n)}update=e=>{let{state:n}=e,r=Av[this.name];this.disabled=!r.canExecute(n)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(k(_r),k(Ii))};static \u0275cmp=R({type:i,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},standalone:!1,decls:4,vars:12,consts:[[1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,r){n&1&&(u(0,"button",0),me(1,"sanitizeHtml"),me(2,"async"),me(3,"async"),S("mousedown",function(s){return r.onMouseClick(s)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),h()),n&2&&(ve("NgxEditor--Disabled",r.disabled),y("disabled",r.disabled)("innerHTML",we(1,6,r.html),Sr)("title",we(2,8,r.getTitle(r.name)))("ariaLabel",we(3,10,r.getTitle(r.name))))},dependencies:[Ni,vo],encapsulation:2})}return i})(),Rv={showOpenInNewTab:!0},_A=(()=>{class i{el;ngxeService;menuService;options=Rv;showPopup=!1;isActive=!1;canExecute=!0;componentId=ep();form;editorView;updateSubscription;constructor(e,n,r){this.el=e,this.ngxeService=n,this.menuService=r}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:e,dispatch:n}=this.editorView;if(this.isActive){ta.remove(e,n);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}setText=()=>{let{state:{selection:e,doc:n}}=this.editorView,{empty:r,from:o,to:s}=e,a=r?"":n.textBetween(o,s);a&&(this.text.patchValue(a),this.text.disable())};update=e=>{let{state:n}=e;this.isActive=ta.isActive(n,{strict:!1}),this.canExecute=ta.canExecute(n)};insertLink(e){e.preventDefault();let{text:n,href:r,openInNewTab:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView,{selection:l}=a,c;this.options.showOpenInNewTab&&(c=o?"_blank":"_self");let d={title:r,href:r,target:c};l.empty?(ta.insert(n,d)(a,s),this.editorView.focus()):ta.update(d)(a,s),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new gs({href:new Hn("",[pi.required,pi.pattern(this.menuService.editor.linkValidationPattern)]),text:new Hn("",[pi.required]),openInNewTab:new Hn(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(k(ee),k(_r),k(Ii))};static \u0275cmp=R({type:i,selectors:[["ngx-link"]],hostBindings:function(n,r){n&1&&S("mousedown",function(s){return r.onDocumentClick(s)},!1,Mo)},inputs:{options:[2,"options","options",e=>D(D({},Rv),e)]},standalone:!1,features:[Ze],decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(n,r){n&1&&(u(0,"button",0),me(1,"sanitizeHtml"),me(2,"async"),me(3,"async"),S("mousedown",function(s){return r.onTogglePopupMouseClick(s)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),h(),M(4,xM,20,18,"div",1)),n&2&&(ve("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),y("disabled",!r.canExecute)("innerHTML",we(1,10,r.icon),Sr)("title",we(2,12,r.title))("ariaLabel",we(3,14,r.title))("ariaExpanded",r.showPopup),m(4),y("ngIf",r.showPopup))},dependencies:[Ce,pu,$e,au,Ve,du,ol,sl,Ni,vo],encapsulation:2})}return i})(),bA=(()=>{class i{ngxeService;menuService;el;editorView;updateSubscription;group;items;isDropdownOpen=!1;disabledItems=[];activeItem;constructor(e,n,r){this.ngxeService=e,this.menuService=n,this.el=r}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}getIsDropdownActive(e){return this.activeItem===e}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(e){e.preventDefault(),e.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(e){return e}selectItem(e){let n=Fc[e],{state:r,dispatch:o}=this.editorView;n.toggle()(r,o),this.isDropdownOpen=!1}onDropdownItemMouseClick(e,n){e.preventDefault(),e.button===0&&this.selectItem(n)}onDropdownItemKeydown(e,n){e.preventDefault(),this.selectItem(n)}update=e=>{let{state:n}=e;this.disabledItems=[];let r=[];this.items.forEach(o=>{let s=Fc[o];s.isActive(n)&&r.push(o),s.canExecute(n)||this.disabledItems.push(o)}),r.length===1?[this.activeItem]=r:this.activeItem=null};ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(k(_r),k(Ii),k(ee))};static \u0275cmp=R({type:i,selectors:[["ngx-dropdown"]],hostBindings:function(n,r){n&1&&S("mousedown",function(s){return r.onDocumentClick(s.target)},!1,Mo)},inputs:{group:"group",items:"items"},standalone:!1,decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(n,r){n&1&&(u(0,"button",0),me(1,"async"),S("mousedown",function(s){return r.onToggleDropdownMouseClick(s)})("keydown.enter",function(){return r.onToggleDropdownKeydown()})("keydown.space",function(){return r.onToggleDropdownKeydown()}),b(2),me(3,"async"),h(),M(4,SM,2,2,"div",1)),n&2&&(ve("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),y("disabled",r.isDropdownDisabled)("ariaLabel",we(1,9,r.getName(r.activeItem||r.group)))("ariaExpanded",r.isDropdownOpen),m(2),ye(" ",we(3,11,r.getName(r.activeItem||r.group)),`
`),m(2),y("ngIf",r.isDropdownOpen))},dependencies:[Ie,He,Ce,Ni],encapsulation:2})}return i})(),vA=(()=>{class i{el;ngxeService;menuService;showPopup=!1;isActive=!1;componentId=ep();updateSubscription;form=new gs({src:new Hn("",[pi.required,pi.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new Hn(""),title:new Hn("")});editorView;constructor(e,n,r){this.el=e,this.ngxeService=n,this.menuService=r}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:e}=this.editorView,{selection:n}=e;if(n instanceof K&&this.isActive){let{src:r,alt:o="",title:s=""}=n.node.attrs;this.form.setValue({src:r,alt:o,title:s})}}update=e=>{let{state:n}=e;this.isActive=Pv.isActive(n)};insertLink(e){e.preventDefault();let{src:n,alt:r,title:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView,l={alt:r,title:o};Pv.insert(n,l)(a,s),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(k(ee),k(_r),k(Ii))};static \u0275cmp=R({type:i,selectors:[["ngx-image"]],hostBindings:function(n,r){n&1&&S("mousedown",function(s){return r.onDocumentClick(s)},!1,Mo)},standalone:!1,decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(n,r){n&1&&(u(0,"button",0),me(1,"sanitizeHtml"),me(2,"async"),me(3,"async"),S("mousedown",function(s){return r.onTogglePopupMouseClick(s)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),h(),M(4,DM,24,21,"div",1)),n&2&&(ve("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),y("innerHTML",we(1,7,r.icon),Sr)("title",we(2,9,r.getLabel("insertImage")))("ariaLabel",we(3,11,r.getLabel("insertImage")))("ariaExpanded",r.showPopup),m(4),y("ngIf",r.showPopup))},dependencies:[Ce,pu,$e,Ve,du,ol,sl,Ni,vo],encapsulation:2})}return i})(),yA=(()=>{class i{el;menuService;ngxeService;presets;type;constructor(e,n,r){this.el=e,this.menuService=n,this.ngxeService=r}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?B2:j2}updateSubscription;editorView;showPopup=!1;isActive=!1;activeColors=[];canExecute=!0;getContrastYIQ(e){let n=e.replace("#",""),r=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),s=parseInt(n.substring(4,6),16);return(r*299+o*587+s*114)/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(e){e.preventDefault(),e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:e,dispatch:n}=this.editorView;this.command.remove()(e,n),this.hidePopup()}onRemoveMouseClick(e){e.preventDefault(),e.button===0&&(e.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(e){return e}selectColor(e){let{state:n,dispatch:r}=this.editorView;if(this.type==="text_color"){let o={color:e};this.command.apply(o)(n,r)}else{let o={backgroundColor:e};this.command.apply(o)(n,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(e,n){e.preventDefault(),e.button===0&&this.selectColor(n)}onColorSelectKeydown(e){this.selectColor(e)}update=e=>{let{state:n}=e;this.canExecute=this.command.canExecute(n),this.isActive=this.command.isActive(n),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(n))};getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(k(ee),k(Ii),k(_r))};static \u0275cmp=R({type:i,selectors:[["ngx-color-picker"]],hostBindings:function(n,r){n&1&&S("mousedown",function(s){return r.onDocumentClick(s)},!1,Mo)},inputs:{presets:"presets",type:"type"},standalone:!1,decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(n,r){n&1&&(u(0,"button",0),me(1,"sanitizeHtml"),me(2,"async"),me(3,"async"),S("mousedown",function(s){return r.onTogglePopupMouseClick(s)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),h(),M(4,PM,5,6,"div",1)),n&2&&(ve("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),y("disabled",!r.canExecute)("innerHTML",we(1,9,r.icon),Sr)("title",we(2,11,r.title))("ariaLabel",we(3,13,r.title)),m(4),y("ngIf",r.showPopup))},dependencies:[Ie,He,Ce,dm,Ni,vo],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']})}return i})();var wA=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var xA=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],$v=(()=>{class i{menuService;toolbar=wA;colorPresets=xA;disabled=!1;editor;customMenuRef=null;dropdownPlacement="bottom";toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"];insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"];iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"];dropdownContainerClass=["NgxEditor__Dropdown"];seperatorClass=["NgxEditor__Seperator"];constructor(e){this.menuService=e}get presets(){let n=[];return this.colorPresets.forEach((r,o)=>{let s=Math.floor(o/8);n[s]||n.push([]),n[s].push(r)}),n}trackByIndex(e){return e}isDropDown(e){return!!e?.heading}getDropdownItems(e){return e}isLinkItem(e){return e==="link"?!0:typeof e=="object"&&typeof e?.link=="object"}isLinkWithOptions(e){return typeof e=="object"&&typeof e?.link=="object"}getLinkOptions(e){return e?.link}ngOnInit(){if(!this.editor)throw new eo("Required editor instance to initialize menu component");this.menuService.editor=this.editor}static \u0275fac=function(n){return new(n||i)(k(Ii))};static \u0275cmp=R({type:i,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},standalone:!1,features:[We([Ii])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(n,r){n&1&&(u(0,"div",0),M(1,WM,2,2,"ng-container",1)(2,$M,2,1,"ng-container",2),h()),n&2&&(y("ngClass",ze(4,OM,r.disabled,r.dropdownPlacement==="top")),m(),y("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),m(),y("ngIf",r.customMenuRef))},dependencies:[Ie,He,Ce,Ri,fA,gA,_A,bA,vA,yA,um],encapsulation:2})}return i})();var CA=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({providers:[vo],imports:[te,yg]})}return i})(),Rc=new B("NgxEditorConfig"),Nv={locals:xh,icons:Wv},Gv=(()=>{class i{static forRoot(e=Nv){return{ngModule:i,providers:[{provide:Rc,useValue:e},{provide:Sh,useFactory:Ov,deps:[Rc]}]}}static forChild(e=Nv){return{ngModule:i,providers:[{provide:Rc,useValue:e},{provide:Sh,useFactory:Ov,deps:[Rc]},_r]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=de({type:i});static \u0275inj=ce({imports:[te,CA]})}return i})();var Ft=(i,t=!1)=>(e,n)=>{let r=new On(i);return t?r.toggle()(e,n):r.apply()(e,n)},kh=class{view;state;tr;constructor(t){if(!t)throw new eo("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}applyTrx=t=>{this.state=this.state.apply(t??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)};dispatch=t=>{this.applyTrx(t)};exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(t="end"){let e=t==="start"?pe.atStart(this.state.doc):pe.atEnd(this.state.doc);return this.tr.setSelection(e),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return fo(...[th,rh,oh,sh])(this.state,this.dispatch),this}applyMark(t){return Ft(t,!1)(this.state,this.dispatch),this}toggleMark(t){return Ft(t,!0)(this.state,this.dispatch),this}bold(){return Ft("strong")(this.state,this.dispatch),this}toggleBold(){return Ft("strong",!0)(this.state,this.dispatch),this}italics(){return Ft("em")(this.state,this.dispatch),this}toggleItalics(){return Ft("em",!0)(this.state,this.dispatch),this}underline(){return Ft("u")(this.state,this.dispatch),this}toggleUnderline(){return Ft("u",!0)(this.state,this.dispatch),this}strike(){return Ft("s")(this.state,this.dispatch),this}toggleStrike(){return Ft("s",!0)(this.state,this.dispatch),this}code(){return Ft("code")(this.state,this.dispatch),this}toggleCode(){return Ft("code",!0)(this.state,this.dispatch),this}superscript(){return Ft("sup")(this.state,this.dispatch),this}subscript(){return Ft("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new _o(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new _o(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new Xn(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return new yh().insert(t,e)(this.state,this.dispatch),this}updateLink(t){return new yh().update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return new Uv().insert(t,e)(this.state,this.dispatch),this}textColor(t){return new go("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new go("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new go("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new go("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new gr(t).toggle()(this.state,this.dispatch),this}insertHTML(t){let{selection:e,schema:n,tr:r}=this.state,{from:o,to:s}=e,a=document.createElement("div");a.innerHTML=Vv(t)?t.trim():t;let l=yi.fromSchema(n).parseSlice(a),c=r.replaceRange(o,s,l);return this.applyTrx(c),this}indent(){return new bo("increase").insert()(this.state,this.dispatch),this}outdent(){return new bo("decrease").insert()(this.state,this.dispatch),this}},EA=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,SA=i=>kc(/^\s*>\s$/,i),kA=i=>kc(/^(?:\d+)\.\s$/,i,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])),DA=i=>kc(/^\s*(?:[-+*])\s$/,i),IA=i=>ah(/^```$/,i),TA=(i,t)=>ah(new RegExp(`^(#{1,${t}})\\s$`),i,e=>({level:e[1].length})),MA=i=>uh(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,i),AA=i=>uh(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,i),PA=i=>{let t=bv.concat(_v,gv);return t.push(MA(i.marks.strong)),t.push(AA(i.marks.em)),t.push(SA(i.nodes.blockquote)),t.push(kA(i.nodes.ordered_list)),t.push(DA(i.nodes.bullet_list)),t.push(IA(i.nodes.code_block)),t.push(TA(i.nodes.heading,6)),fv({rules:t})},OA=(i,t)=>{let e={};e["Mod-z"]=Ac,EA?e["Shift-Mod-z"]=Qs:e["Mod-y"]=Qs;let n=[ea({"Mod-b":hr(i.marks.strong),"Mod-i":hr(i.marks.em),"Mod-u":hr(i.marks.u),"Mod-`":hr(i.marks.code)}),ea({Enter:iv(i.nodes.list_item),"Shift-Enter":fo(ih,(r,o)=>{let{tr:s}=r,a=i.nodes.hard_break;return o(s.replaceSelectionWith(a.create()).scrollIntoView()),!0}),"Mod-[":Xp(i.nodes.list_item),"Mod-]":Qp(i.nodes.list_item),Tab:Qp(i.nodes.list_item)}),ea(hv)];return t.history&&n.push(ea(e)),n},RA=(i,t)=>{let e=[];return t.keyboardShortcuts&&e.push(...OA(i,{history:t.history})),t.history&&e.push(kv()),t.inputRules&&e.push(PA(i)),e},qv={linkOnPaste:!0,resizeImage:!0},Fv={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Xs,plugins:[],nodeViews:{},attributes:{},features:qv,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},Lc=class{options;view;constructor(t=Fv){this.options=D(D({},Fv),t),this.createEditor()}valueChangesSubject=new V;updateSubject=new V;get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Xs}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new kh(this.view)}get features(){return D(D({},qv),this.options.features)}handleTransactions(t){let e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;let n=e.doc.toJSON();this.valueChangesSubject.next(n)}createEditor(){let{options:t,schema:e}=this,{content:n=null,nodeViews:r}=t,{history:o=!0,keyboardShortcuts:s=!0,inputRules:a=!0}=t,l=Iv(n,e,t.parseOptions),c=t.plugins??[],d=t.attributes??{},p=RA(e,{history:o,keyboardShortcuts:s,inputRules:a});this.view=new xc(null,{state:uc.create({doc:l,schema:e,plugins:[...p,...c]}),nodeViews:r,dispatchTransaction:this.handleTransactions.bind(this),attributes:d,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(Y_(t))return;let{state:e}=this.view,{tr:n,doc:r}=e,o=Iv(t,this.schema,this.options.parseOptions);n.replaceWith(0,e.doc.content.size,o),!r.eq(n.doc)&&n.docChanged&&this.view.dispatch(n)}registerPlugin(t){let{state:e}=this.view,n=[...e.plugins,t],r=e.reconfigure({plugins:n});this.view.updateState(r)}destroy(){this.view.destroy()}};var Vc=class i{editor;html="";ngOnInit(){this.editor=new Lc}ngOnDestroy(){this.editor.destroy()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-pengajuan-memo-internal"]],decls:6,vars:5,consts:[[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"NgxEditor__Wrapper"],[3,"editor"],[3,"editor","ngModel","disabled","placeholder"]],template:function(e,n){e&1&&(u(0,"div")(1,"p",0),b(2,"Request Memo Internal"),h(),u(3,"div",1),w(4,"ngx-editor-menu",2)(5,"ngx-editor",3),h()()),e&2&&(m(4),y("editor",n.editor),m(),y("editor",n.editor)("ngModel",n.html)("disabled",!1)("placeholder","Type here..."))},dependencies:[Gv,Hv,$v,te,fe,Ve,Ge],encapsulation:2})};function FA(i,t){i&1&&(u(0,"div"),w(1,"app-c-loading-spin"),h())}var Bc=class i{is_fetching=!0;editor_val="";ngOnInit(){return F(this,null,function*(){this.fetchAll()})}fetchAll(){this.is_fetching=!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-new-memo"]],decls:4,vars:1,consts:[[1,"grow","bg-red-400"],[1,"w-fit","text-2xl","mb-4"],[4,"ngIf"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),b(2," New Memo Internal "),h(),M(3,FA,2,0,"div",2),h()),e&2&&(m(3),y("ngIf",n.is_fetching))},dependencies:[kn,te,Ce,fe],encapsulation:2})};var Kv=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"",component:vl,canActivateChild:[As],children:[{path:"home",component:yl},{path:"new-approval",component:Ms},{path:"info-pengajuan",component:Ll},{path:"approve-pengajuan",component:Vl},{path:"cek-pengajuan",component:Bl},{path:"revisi-pengajuan",component:jl},{path:"user-settings",component:Ms},{path:"profile",component:zl},{path:"request-dtl",component:Ul},{path:"suppliers",component:ql},{path:"jenis_pembayaran",component:Kl},{path:"d-sig",component:$l},{path:"pengajuan-mi",component:Vc},{path:"new-memo",component:Bc}]},{path:"login",component:Fl,canActivate:[As]}];var LA="@",VA=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=v(Vh,{optional:!0});loadingSchedulerFn=v(BA,{optional:!0});_engine;constructor(e,n,r,o,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-3PGFJYX7.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new De(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Dh(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,n);o.use(a),this.scheduler?.notify(11)}).catch(s=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(n){aa()};static \u0275prov=A({token:i,factory:i.\u0275fac})}return i})(),Dh=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,n)),this.delegate.listen(t,e,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(LA)}},BA=new B("");function Yv(i="animations"){return Io("NgAsyncAnimations"),Mi([{provide:Bt,useFactory:(t,e,n)=>new VA(t,e,n,i),deps:[q,Tr,ne]},{provide:xt,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Jv={providers:[nm({eventCoalescing:!0}),Nf(Kv),zf(),Yv()]};var jc=class i{constructor(t,e){this.http=t;this.router=e}title="TF_E_Approval";ngOnInit(){this.checkSession()}checkSession(){return F(this,null,function*(){try{let t={authorization:`bearer ${Ee().token}`},e=yield X(this.http.get(J.env_dev.host+"/api-eappr/session_check",{headers:t}));return e.status==401&&(localStorage.clear(),this.router.navigate(["/login"])),e}catch(t){console.log(t)}})}static \u0275fac=function(e){return new(e||i)(k(Te),k(xe))};static \u0275cmp=R({type:i,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"main"]],template:function(e,n){e&1&&w(0,"main",0)(1,"router-outlet")},dependencies:[ls,Ae],encapsulation:2})};zm(jc,Jv).catch(i=>console.error(i));
