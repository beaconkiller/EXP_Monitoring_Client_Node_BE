import{$ as du,$a as Je,$b as be,A as eo,Aa as sm,Ab as vu,B as em,Ba as On,Bb as u,C as dn,Ca as it,Cb as p,D as Qe,Da as pa,Db as w,E as da,Ea as lm,Eb as bi,F as Ji,Fa as tr,Fb as yi,G as Qn,Ga as Gs,Gb as Nn,Gc as Dm,H as Us,Ha as En,Hb as Z,Hc as ga,I as su,Ia as ha,Ib as bu,Ic as Qs,J as Lt,Ja as nr,Jb as fa,K as lu,Ka as no,Kb as E,Kc as Mm,L as Xi,La as cm,Lb as x,M as _i,Ma as dm,Mb as tn,Mc as el,N as cu,Na as um,Nb as ht,O as tm,Oa as pm,Ob as Xs,Oc as Am,P as nm,Pa as hm,Pb as mt,Q as Ws,Qa as mm,Qb as Re,R as un,Ra as fm,Rb as ne,S as Tt,Sa as ir,Sb as ie,T as ke,Ta as io,Tb as Kt,Tc as km,U as nt,Ua as qs,Ub as f,V as he,Va as gm,Vb as P,W as $t,Wa as ma,Wb as we,X as I,Xa as m,Xb as W,Y as le,Ya as rr,Yb as $,Z as im,Za as ge,Zb as G,_ as N,_a as rt,_b as Ue,a as T,aa as B,ab as S,ac as We,b as Ce,ba as y,bb as Ks,bc as ti,c as O,ca as Qi,cb as ut,cc as bm,d as kt,da as rm,db as Ys,dc as _e,e as Jh,ea as Gt,eb as _m,ec as Pe,f as Xn,fa as qt,fb as Js,fc as wi,g as iu,ga as je,gb as R,gc as Mn,h as ru,ha as M,hb as ce,hc as yu,i as H,ia as A,ib as U,ic as ym,j as vt,ja as ee,jb as ro,jc as wm,k as ou,ka as De,kb as Xe,kc as xm,l as sa,la as Ct,lb as k,lc as qe,m as Cn,ma as to,mb as hu,mc as wu,n as dt,na as Te,nb as oo,nc as xu,o as q,oa as $s,ob as vm,oc as Cm,p as la,pa as uu,pb as mu,pc as se,q as Yi,qa as om,qb as fu,qc as It,r as Xh,ra as ua,rb as ei,rc as nn,s as Q,sa as j,sb as He,sc as ao,t as fe,ta as oe,tb as v,tc as Sm,u as Qr,ua as pu,ub as Dn,uc as so,v as Wt,va as Sn,vb as ve,vc as Em,w as ca,wa as J,wb as Vt,x as zs,xa as vi,xb as gu,y as au,ya as am,yb as pt,z as Qh,za as er,zb as _u}from"./chunk-L337ENAS.js";var K=new N("");var Pm=null;function pn(){return Pm}function Cu(i){Pm??=i}var _a=class{},va=(()=>{class i{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(Rm),providedIn:"platform"})}return i})(),Su=new N(""),Rm=(()=>{class i extends va{_location;_history;_doc=y(K);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pn().getBaseHref(this._doc)}onPopState(e){let n=pn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=pn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>new i,providedIn:"platform"})}return i})();function tl(i,t){return i?t?i.endsWith("/")?t.startsWith("/")?i+t.slice(1):i+t:t.startsWith("/")?i+t:`${i}/${t}`:i:t}function Tm(i){let t=i.search(/#|\?|$/);return i[t-1]==="/"?i.slice(0,t-1)+i.slice(t):i}function An(i){return i&&i[0]!=="?"?`?${i}`:i}var kn=(()=>{class i{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(il),providedIn:"root"})}return i})(),nl=new N(""),il=(()=>{class i extends kn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??y(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return tl(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+An(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){let a=this.prepareExternalUrl(r+An(o));this._platformLocation.pushState(e,n,a)}replaceState(e,n,r,o){let a=this.prepareExternalUrl(r+An(o));this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||i)(B(va),B(nl,8))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Fn=(()=>{class i{_subject=new H;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=av(Tm(Im(n))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+An(n))}normalize(e){return i.stripTrailingSlash(ov(this._basePath,Im(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+An(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+An(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n??void 0,complete:r??void 0})}static normalizeQueryParams=An;static joinWithSlash=tl;static stripTrailingSlash=Tm;static \u0275fac=function(n){return new(n||i)(B(kn))};static \u0275prov=I({token:i,factory:()=>rv(),providedIn:"root"})}return i})();function rv(){return new Fn(B(kn))}function ov(i,t){if(!i||!t.startsWith(i))return t;let e=t.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Im(i){return i.replace(/\/index.html$/,"")}function av(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}var Iu=(()=>{class i extends kn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=tl(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let a=this.prepareExternalUrl(r+An(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,n,a)}replaceState(e,n,r,o){let a=this.prepareExternalUrl(r+An(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||i)(B(va),B(nl,8))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();var Pu=function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i}(Pu||{});var Ln={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function lo(i,t){let e=bu(i),n=e[fa.NumberSymbols][t];if(typeof n>"u"){if(t===Ln.CurrencyDecimal)return e[fa.NumberSymbols][Ln.Decimal];if(t===Ln.CurrencyGroup)return e[fa.NumberSymbols][Ln.Group]}return n}function Bm(i,t){return bu(i)[fa.NumberFormats][t]}var sv=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Om=22,rl=".",ba="0",lv=";",cv=",",Eu="#";function dv(i,t,e,n,r,o,a=!1){let s="",l=!1;if(!isFinite(i))s=lo(e,Ln.Infinity);else{let c=hv(i);a&&(c=pv(c));let d=t.minInt,h=t.minFrac,g=t.maxFrac;if(o){let pe=o.match(sv);if(pe===null)throw new Error(`${o} is not a valid digit info`);let ae=pe[1],Ye=pe[3],xt=pe[5];ae!=null&&(d=Du(ae)),Ye!=null&&(h=Du(Ye)),xt!=null?g=Du(xt):Ye!=null&&h>g&&(g=h)}mv(c,h,g);let _=c.digits,b=c.integerLen,C=c.exponent,D=[];for(l=_.every(pe=>!pe);b<d;b++)_.unshift(0);for(;b<0;b++)_.unshift(0);b>0?D=_.splice(b,_.length):(D=_,_=[0]);let F=[];for(_.length>=t.lgSize&&F.unshift(_.splice(-t.lgSize,_.length).join(""));_.length>t.gSize;)F.unshift(_.splice(-t.gSize,_.length).join(""));_.length&&F.unshift(_.join("")),s=F.join(lo(e,n)),D.length&&(s+=lo(e,r)+D.join("")),C&&(s+=lo(e,Ln.Exponential)+"+"+C)}return i<0&&!l?s=t.negPre+s+t.negSuf:s=t.posPre+s+t.posSuf,s}function Hm(i,t,e){let n=Bm(t,Pu.Decimal),r=uv(n,lo(t,Ln.MinusSign));return dv(i,r,t,Ln.Group,Ln.Decimal,e)}function uv(i,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=i.split(lv),r=n[0],o=n[1],a=r.indexOf(rl)!==-1?r.split(rl):[r.substring(0,r.lastIndexOf(ba)+1),r.substring(r.lastIndexOf(ba)+1)],s=a[0],l=a[1]||"";e.posPre=s.substring(0,s.indexOf(Eu));for(let d=0;d<l.length;d++){let h=l.charAt(d);h===ba?e.minFrac=e.maxFrac=d+1:h===Eu?e.maxFrac=d+1:e.posSuf+=h}let c=s.split(cv);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=r.length-e.posPre.length-e.posSuf.length,h=o.indexOf(Eu);e.negPre=o.substring(0,h).replace(/'/g,""),e.negSuf=o.slice(h+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function pv(i){if(i.digits[0]===0)return i;let t=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(t===0?i.digits.push(0,0):t===1&&i.digits.push(0),i.integerLen+=2),i}function hv(i){let t=Math.abs(i)+"",e=0,n,r,o,a,s;for((r=t.indexOf(rl))>-1&&(t=t.replace(rl,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===ba;o++);if(o===(s=t.length))n=[0],r=1;else{for(s--;t.charAt(s)===ba;)s--;for(r-=o,n=[],a=0;o<=s;o++,a++)n[a]=Number(t.charAt(o))}return r>Om&&(n=n.splice(0,Om-1),e=r-1,r=1),{digits:n,exponent:e,integerLen:r}}function mv(i,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let n=i.digits,r=n.length-i.integerLen,o=Math.min(Math.max(t,r),e),a=o+i.integerLen,s=n[a];if(a>0){n.splice(Math.max(i.integerLen,a));for(let h=a;h<n.length;h++)n[h]=0}else{r=Math.max(0,r),i.integerLen=1,n.length=Math.max(1,a=o+1),n[0]=0;for(let h=1;h<a;h++)n[h]=0}if(s>=5)if(a-1<0){for(let h=0;h>a;h--)n.unshift(0),i.integerLen++;n.unshift(1),i.integerLen++}else n[a-1]++;for(;r<Math.max(0,o);r++)n.push(0);let l=o!==0,c=t+i.integerLen,d=n.reduceRight(function(h,g,_,b){return g=g+h,b[_]=g<10?g:g-10,l&&(b[_]===0&&_>=c?b.pop():l=!1),g>=10?1:0},0);d&&(n.unshift(d),i.integerLen++)}function Du(i){let t=parseInt(i);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+i);return t}var Mu=/\s+/,Nm=[],Se=(()=>{class i{_ngEl;_renderer;initialClasses=Nm;rawClass;stateMap=new Map;constructor(e,n){this._ngEl=e,this._renderer=n}set klass(e){this.initialClasses=e!=null?e.trim().split(Mu):Nm}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Mu):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(Mu).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(n){return new(n||i)(S(J),S(Je))};static \u0275dir=U({type:i,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return i})();var ol=class{$implicit;ngForOf;index;count;constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xe=(()=>{class i{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((r,o,a)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new ol(r.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)n.remove(o===null?void 0:o);else if(o!==null){let s=n.get(o);n.move(s,a),Fm(s,r)}});for(let r=0,o=n.length;r<o;r++){let s=n.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=n.get(r.currentIndex);Fm(o,r)})}static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||i)(S(ut),S(ge),S(wu))};static \u0275dir=U({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return i})();function Fm(i,t){i.context.$implicit=t.item}var de=(()=>{class i{_viewContainer;_context=new al;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Lm(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Lm(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||i)(S(ut),S(ge))};static \u0275dir=U({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return i})(),al=class{$implicit=null;ngIf=null};function Lm(i,t){if(i&&!i.createEmbeddedView)throw new he(2020,!1)}var Au=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,e){this._viewContainerRef=t,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},sl=(()=>{class i{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let n=e===this._ngSwitch;return this._lastCasesMatched||=n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let n of this._defaultViews)n.enforceState(e)}}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return i})(),Ru=(()=>{class i{ngSwitch;_view;ngSwitchCase;constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new Au(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(n){return new(n||i)(S(ut),S(ge),S(sl,9))};static \u0275dir=U({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return i})();var Ou=(()=>{class i{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){let[r,o]=e.split("."),a=r.indexOf("-")===-1?void 0:rr.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${n}${o}`:n,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static \u0275fac=function(n){return new(n||i)(S(J),S(xu),S(Je))};static \u0275dir=U({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return i})(),xi=(()=>{class i{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,r):!1,get:(e,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static \u0275fac=function(n){return new(n||i)(S(ut))};static \u0275dir=U({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[je]})}return i})();function jm(i,t){return new he(2100,!1)}var ku=class{createSubscription(t,e){return nn(()=>t.subscribe({next:e,error:n=>{throw n}}))}dispose(t){nn(()=>t.unsubscribe())}},Tu=class{createSubscription(t,e){return t.then(n=>e?.(n),n=>{throw n}),{unsubscribe:()=>{e=null}}}dispose(t){t.unsubscribe()}},fv=new Tu,gv=new ku,Ci=(()=>{class i{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(oo(e))return fv;if(vm(e))return gv;throw jm(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(n){return new(n||i)(S(qe,16))};static \u0275pipe=ro({name:"async",type:i,pure:!1})}return i})();function _v(i,t){return{key:i,value:t}}var Nu=(()=>{class i{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=Vm;transform(e,n=Vm){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let r=this.differ.diff(e),o=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(_v(a.key,a.currentValue))})),(r||o)&&(n&&this.keyValues.sort(n),this.compareFn=n),this.keyValues}static \u0275fac=function(n){return new(n||i)(S(xu,16))};static \u0275pipe=ro({name:"keyvalue",type:i,pure:!1})}return i})();function Vm(i,t){let e=i.key,n=t.key;if(e===n)return 0;if(e==null)return 1;if(n==null)return-1;if(typeof e=="string"&&typeof n=="string")return e<n?-1:1;if(typeof e=="number"&&typeof n=="number")return e-n;if(typeof e=="boolean"&&typeof n=="boolean")return e<n?-1:1;let r=String(e),o=String(n);return r==o?0:r<o?-1:1}var or=(()=>{class i{_locale;constructor(e){this._locale=e}transform(e,n,r){if(!vv(e))return null;r||=this._locale;try{let o=bv(e);return Hm(o,r,n)}catch(o){throw jm(i,o.message)}}static \u0275fac=function(n){return new(n||i)(S(xm,16))};static \u0275pipe=ro({name:"number",type:i,pure:!0})}return i})();function vv(i){return!(i==null||i===""||i!==i)}function bv(i){if(typeof i=="string"&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if(typeof i!="number")throw new Error(`${i} is not a number`);return i}var Y=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({})}return i})();function ya(i,t){t=encodeURIComponent(t);for(let e of i.split(";")){let n=e.indexOf("="),[r,o]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var ll="browser",Zm="server";function Fu(i){return i===ll}function co(i){return i===Zm}var ar=class{};var Um=(()=>{class i{static \u0275prov=I({token:i,providedIn:"root",factory:()=>new Lu(y(K),window)})}return i})(),Lu=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=wv(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function wv(i,t){let e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=n.nextNode()}}return null}var ul=new N(""),ju=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,o){return this._findPluginFor(n).addEventListener(e,n,r,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new he(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(B(ul),B(oe))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),wa=class{_doc;constructor(t){this._doc=t}manager},cl="ng-app-id";function Wm(i){for(let t of i)t.remove()}function $m(i,t){let e=t.createElement("style");return e.textContent=i,e}function xv(i,t,e,n){let r=i.head?.querySelectorAll(`style[${cl}="${t}"],link[${cl}="${t}"]`);if(r)for(let o of r)o.removeAttribute(cl),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Bu(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var Zu=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.isServer=co(o),xv(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,$m);n?.forEach(r=>this.addUsage(r,this.external,Bu))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(Wm(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Wm(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,$m(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,Bu(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(cl,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(B(K),B(er),B(pa,8),B(On))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),Vu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zu=/%COMP%/g;var qm="%COMP%",Cv=`_nghost-${qm}`,Sv=`_ngcontent-${qm}`,Ev=!0,Dv=new N("",{providedIn:"root",factory:()=>Ev});function Mv(i){return Sv.replace(zu,i)}function Av(i){return Cv.replace(zu,i)}function Km(i,t){return t.map(e=>e.replace(zu,i))}var sr=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,o,a,s,l,c=null,d=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=co(s),this.defaultRenderer=new xa(e,a,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===ha.ShadowDom&&(n=Ce(T({},n),{encapsulation:ha.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof dl?r.applyToHost(e):r instanceof Ca&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,g=this.tracingService;switch(n.encapsulation){case ha.Emulated:o=new dl(l,c,n,this.appId,d,a,s,h,g);break;case ha.ShadowDom:return new Hu(l,c,e,n,a,s,this.nonce,h,g);default:o=new Ca(l,c,n,d,a,s,h,g);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(B(ju),B(Zu),B(er),B(Dv),B(K),B(On),B(oe),B(pa),B(lm,8))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),xa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r,o){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Vu[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Gm(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Gm(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new he(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=Vu[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Vu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(rr.DashCase|rr.Important)?t.style.setProperty(e,n,r&rr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&rr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=pn().getGlobalEventTarget(this.doc,t),!t))throw new he(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Gm(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Hu=class extends xa{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,r,o,a,s,l,c){super(t,o,a,l,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Km(r.id,d);for(let g of d){let _=document.createElement("style");s&&_.setAttribute("nonce",s),_.textContent=g,this.shadowRoot.appendChild(_)}let h=r.getExternalStyles?.();if(h)for(let g of h){let _=Bu(g,o);s&&_.setAttribute("nonce",s),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ca=class extends xa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,o,a,s,l,c){super(t,o,a,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let d=n.styles;this.styles=c?Km(c,d):d,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},dl=class extends Ca{contentAttr;hostAttr;constructor(t,e,n,r,o,a,s,l,c){let d=r+"-"+n.id;super(t,e,n,o,a,s,l,c,d),this.contentAttr=Mv(d),this.hostAttr=Av(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var pl=class i extends _a{supportsDOMEvents=!0;static makeCurrent(){Cu(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Tv();return e==null?null:Iv(e)}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ya(document.cookie,t)}},Sa=null;function Tv(){return Sa=Sa||document.head.querySelector("base"),Sa?Sa.getAttribute("href"):null}function Iv(i){return new URL(i,document.baseURI).pathname}var Pv=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),Jm=(()=>{class i extends wa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,o){return e.addEventListener(n,r,o),()=>this.removeEventListener(e,n,r,o)}removeEventListener(e,n,r,o){return e.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||i)(B(K))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),Ym=["alt","control","meta","shift"],Rv={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ov={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Xm=(()=>{class i extends wa{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,o){let a=i.parseEventName(n),s=i.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pn().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),a="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),a="code."),Ym.forEach(c=>{let d=n.indexOf(c);d>-1&&(n.splice(d,1),a+=c+".")}),a+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(e,n){let r=Rv[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ym.forEach(a=>{if(a!==r){let s=Ov[a];s(e)&&(o+=a+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(B(K))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();function Uu(i,t){return Cm(T({rootComponent:i},Nv(t)))}function Nv(i){return{appProviders:[...Hv,...i?.providers??[]],platformProviders:Bv}}function Fv(){pl.makeCurrent()}function Lv(){return new pu}function Vv(){return am(document),document}var Bv=[{provide:On,useValue:ll},{provide:sm,useValue:Fv,multi:!0},{provide:K,useFactory:Vv}];var Hv=[{provide:rm,useValue:"root"},{provide:pu,useFactory:Lv},{provide:ul,useClass:Jm,multi:!0,deps:[K]},{provide:ul,useClass:Xm,multi:!0,deps:[K]},sr,Zu,ju,{provide:rt,useExisting:sr},{provide:ar,useClass:Pv},[]];var po=class{},Ea=class{},Si=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=e.slice(n+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var ml=class{encodeKey(t){return Qm(t)}encodeValue(t){return Qm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function jv(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var Zv=/%(\d[a-f0-9])/gi,zv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qm(i){return encodeURIComponent(i).replace(Zv,(t,e)=>zv[e]??t)}function hl(i){return`${i}`}var ni=class i{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new ml,t.fromString){if(t.fromObject)throw new he(2805,!1);this.map=jv(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(hl):[hl(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(hl(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(hl(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var fl=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Uv(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ef(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function tf(i){return typeof Blob<"u"&&i instanceof Blob}function nf(i){return typeof FormData<"u"&&i instanceof FormData}function Wv(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var rf="Content-Type",of="Accept",sf="X-Request-URL",lf="text/plain",cf="application/json",$v=`${cf}, ${lf}, */*`,uo=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,n,r){this.url=e,this.method=t.toUpperCase();let o;if(Uv(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Si,this.context??=new fl,!this.params)this.params=new ni,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ef(this.body)||tf(this.body)||nf(this.body)||Wv(this.body)?this.body:this.body instanceof ni?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nf(this.body)?null:tf(this.body)?this.body.type||null:ef(this.body)?null:typeof this.body=="string"?lf:this.body instanceof ni?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?cf:null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,s=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((g,_)=>g.set(_,t.setHeaders[_]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((g,_)=>g.set(_,t.setParams[_]),d)),new i(e,n,a,{params:d,headers:c,context:h,reportProgress:l,responseType:r,withCredentials:s,transferCache:o})}},lr=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(lr||{}),ho=class{headers;status;statusText;url;ok;type;constructor(t,e=200,n="OK"){this.headers=t.headers||new Si,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},gl=class i extends ho{constructor(t={}){super(t)}type=lr.ResponseHeader;clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Da=class i extends ho{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=lr.Response;clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ma=class extends ho{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Gv=200,qv=204;function Wu(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Ee=(()=>{class i{handler;constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof uo)o=e;else{let l;r.headers instanceof Si?l=r.headers:l=new Si(r.headers);let c;r.params&&(r.params instanceof ni?c=r.params:c=new ni({fromObject:r.params})),o=new uo(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let a=q(o).pipe(Qn(l=>this.handler.handle(l)));if(e instanceof uo||r.observe==="events")return a;let s=a.pipe(Qe(l=>l instanceof Da));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(fe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new he(2806,!1);return l.body}));case"blob":return s.pipe(fe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new he(2807,!1);return l.body}));case"text":return s.pipe(fe(l=>{if(l.body!==null&&typeof l.body!="string")throw new he(2808,!1);return l.body}));case"json":default:return s.pipe(fe(l=>l.body))}case"response":return s;default:throw new he(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new ni().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,Wu(r,n))}post(e,n,r={}){return this.request("POST",e,Wu(r,n))}put(e,n,r={}){return this.request("PUT",e,Wu(r,n))}static \u0275fac=function(n){return new(n||i)(B(po))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();var Kv=new N("");function df(i,t){return t(i)}function Yv(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function Jv(i,t,e){return(n,r)=>qt(e,()=>t(n,o=>i(o,r)))}var uf=new N(""),Gu=new N(""),pf=new N(""),qu=new N("",{providedIn:"root",factory:()=>!0});function Xv(){let i=null;return(t,e)=>{i===null&&(i=(y(uf,{optional:!0})??[]).reduceRight(Yv,df));let n=y(ua);if(y(qu)){let o=n.add();return i(t,e).pipe(Xi(()=>n.remove(o)))}else return i(t,e)}}var _l=(()=>{class i extends po{backend;injector;chain=null;pendingTasks=y(ua);contributeToStability=y(qu);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Gu),...this.injector.get(pf,[])]));this.chain=n.reduceRight((r,o)=>Jv(r,o,this.injector),df)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Xi(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||i)(B(Ea),B(Gt))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();var Qv=/^\)\]\}',?\n/,eb=RegExp(`^${sf}:`,"m");function tb(i){return"responseURL"in i&&i.responseURL?i.responseURL:eb.test(i.getAllResponseHeaders())?i.getResponseHeader(sf):null}var $u=(()=>{class i{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new he(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?dt(n.\u0275loadImpl()):q(null)).pipe(Tt(()=>new Xn(o=>{let a=n.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((C,D)=>a.setRequestHeader(C,D.join(","))),e.headers.has(of)||a.setRequestHeader(of,$v),!e.headers.has(rf)){let C=e.detectContentTypeHeader();C!==null&&a.setRequestHeader(rf,C)}if(e.responseType){let C=e.responseType.toLowerCase();a.responseType=C!=="json"?C:"text"}let s=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let C=a.statusText||"OK",D=new Si(a.getAllResponseHeaders()),F=tb(a)||e.url;return l=new gl({headers:D,status:a.status,statusText:C,url:F}),l},d=()=>{let{headers:C,status:D,statusText:F,url:pe}=c(),ae=null;D!==qv&&(ae=typeof a.response>"u"?a.responseText:a.response),D===0&&(D=ae?Gv:0);let Ye=D>=200&&D<300;if(e.responseType==="json"&&typeof ae=="string"){let xt=ae;ae=ae.replace(Qv,"");try{ae=ae!==""?JSON.parse(ae):null}catch(Xr){ae=xt,Ye&&(Ye=!1,ae={error:Xr,text:ae})}}Ye?(o.next(new Da({body:ae,headers:C,status:D,statusText:F,url:pe||void 0})),o.complete()):o.error(new Ma({error:ae,headers:C,status:D,statusText:F,url:pe||void 0}))},h=C=>{let{url:D}=c(),F=new Ma({error:C,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});o.error(F)},g=!1,_=C=>{g||(o.next(c()),g=!0);let D={type:lr.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),e.responseType==="text"&&a.responseText&&(D.partialText=a.responseText),o.next(D)},b=C=>{let D={type:lr.UploadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),o.next(D)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),e.reportProgress&&(a.addEventListener("progress",_),s!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(s),o.next({type:lr.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),e.reportProgress&&(a.removeEventListener("progress",_),s!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(n){return new(n||i)(B(ar))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),hf=new N(""),nb="XSRF-TOKEN",ib=new N("",{providedIn:"root",factory:()=>nb}),rb="X-XSRF-TOKEN",ob=new N("",{providedIn:"root",factory:()=>rb}),Aa=class{},ab=(()=>{class i{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n){this.doc=e,this.cookieName=n}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ya(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||i)(B(K),B(ib))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();function sb(i,t){let e=i.url.toLowerCase();if(!y(hf)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let n=y(Aa).getToken(),r=y(ob);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var Ku=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(Ku||{});function lb(i,t){return{\u0275kind:i,\u0275providers:t}}function vl(...i){let t=[Ee,$u,_l,{provide:po,useExisting:_l},{provide:Ea,useFactory:()=>y(Kv,{optional:!0})??y($u)},{provide:Gu,useValue:sb,multi:!0},{provide:hf,useValue:!0},{provide:Aa,useClass:ab}];for(let e of i)t.push(...e.\u0275providers);return Qi(t)}var af=new N("");function mf(){return lb(Ku.LegacyInterceptors,[{provide:af,useFactory:Xv},{provide:Gu,useExisting:af,multi:!0}])}var Ve=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({providers:[vl(mf())]})}return i})();var ff=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(B(K))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Yu=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=B(ub),r},providedIn:"root"})}return i})(),ub=(()=>{class i extends Yu{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case ir.NONE:return n;case ir.HTML:return no(n,"HTML")?nr(n):fm(this._doc,String(n)).toString();case ir.STYLE:return no(n,"Style")?nr(n):n;case ir.SCRIPT:if(no(n,"Script"))return nr(n);throw new he(5200,!1);case ir.URL:return no(n,"URL")?nr(n):mm(String(n));case ir.RESOURCE_URL:if(no(n,"ResourceURL"))return nr(n);throw new he(5201,!1);default:throw new he(5202,!1)}}bypassSecurityTrustHtml(e){return cm(e)}bypassSecurityTrustStyle(e){return dm(e)}bypassSecurityTrustScript(e){return um(e)}bypassSecurityTrustUrl(e){return pm(e)}bypassSecurityTrustResourceUrl(e){return hm(e)}static \u0275fac=function(n){return new(n||i)(B(K))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var me="primary",ja=Symbol("RouteTitle"),t0=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ur(i){return new t0(i)}function Sf(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let a=n[o],s=i[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function pb(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Vn(i[e],t[e]))return!1;return!0}function Vn(i,t){let e=i?n0(i):void 0,n=t?n0(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Ef(i[r],t[r]))return!1;return!0}function n0(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Ef(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function Df(i){return i.length>0?i[i.length-1]:null}function ki(i){return Yi(i)?i:oo(i)?dt(Promise.resolve(i)):q(i)}var hb={exact:Af,subset:kf},Mf={exact:mb,subset:fb,ignored:()=>!0};function _f(i,t,e){return hb[e.paths](i.root,t.root,e.matrixParams)&&Mf[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function mb(i,t){return Vn(i,t)}function Af(i,t,e){if(!cr(i.segments,t.segments)||!wl(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!Af(i.children[n],t.children[n],e))return!1;return!0}function fb(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>Ef(i[e],t[e]))}function kf(i,t,e){return Tf(i,t,t.segments,e)}function Tf(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!cr(r,e)||t.hasChildren()||!wl(r,e,n))}else if(i.segments.length===e.length){if(!cr(i.segments,e)||!wl(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!kf(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!cr(i.segments,r)||!wl(i.segments,r,n)||!i.children[me]?!1:Tf(i.children[me],t,o,n)}}function wl(i,t,e){return t.every((n,r)=>Mf[e](i[r].parameters,n.parameters))}var Hn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Oe([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=ur(this.queryParams),this._queryParamMap}toString(){return vb.serialize(this)}},Oe=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xl(this)}},Ei=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ur(this.parameters),this._parameterMap}toString(){return Pf(this)}};function gb(i,t){return cr(i,t)&&i.every((e,n)=>Vn(e.parameters,t[n].parameters))}function cr(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function _b(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===me&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==me&&(e=e.concat(t(r,n)))}),e}var pr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>new Di,providedIn:"root"})}return i})(),Di=class{parse(t){let e=new r0(t);return new Hn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ka(t.root,!0)}`,n=wb(t.queryParams),r=typeof t.fragment=="string"?`#${bb(t.fragment)}`:"";return`${e}${n}${r}`}},vb=new Di;function xl(i){return i.segments.map(t=>Pf(t)).join("/")}function ka(i,t){if(!i.hasChildren())return xl(i);if(t){let e=i.children[me]?ka(i.children[me],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==me&&n.push(`${r}:${ka(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=_b(i,(n,r)=>r===me?[ka(i.children[me],!1)]:[`${r}:${ka(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[me]!=null?`${xl(i)}/${e[0]}`:`${xl(i)}/(${e.join("//")})`}}function If(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bl(i){return If(i).replace(/%3B/gi,";")}function bb(i){return encodeURI(i)}function i0(i){return If(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cl(i){return decodeURIComponent(i)}function vf(i){return Cl(i.replace(/\+/g,"%20"))}function Pf(i){return`${i0(i.path)}${yb(i.parameters)}`}function yb(i){return Object.entries(i).map(([t,e])=>`;${i0(t)}=${i0(e)}`).join("")}function wb(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${bl(e)}=${bl(r)}`).join("&"):`${bl(e)}=${bl(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var xb=/^[^\/()?;#]+/;function Ju(i){let t=i.match(xb);return t?t[0]:""}var Cb=/^[^\/()?;=#]+/;function Sb(i){let t=i.match(Cb);return t?t[0]:""}var Eb=/^[^=?&#]+/;function Db(i){let t=i.match(Eb);return t?t[0]:""}var Mb=/^[^&#]+/;function Ab(i){let t=i.match(Mb);return t?t[0]:""}var r0=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[me]=new Oe(t,e)),n}parseSegment(){let t=Ju(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(t),new Ei(Cl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=Sb(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=Ju(this.remaining);r&&(n=r,this.capture(n))}t[Cl(e)]=Cl(n)}parseQueryParam(t){let e=Db(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let a=Ab(this.remaining);a&&(n=a,this.capture(n))}let r=vf(e),o=vf(n);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Ju(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new he(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=me);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[me]:new Oe([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new he(4011,!1)}};function Rf(i){return i.segments.length>0?new Oe([],{[me]:i}):i}function Of(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=Of(r);if(n===me&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new Oe(i.segments,t);return kb(e)}function kb(i){if(i.numberOfChildren===1&&i.children[me]){let t=i.children[me];return new Oe(i.segments.concat(t.segments),t.children)}return i}function Mi(i){return i instanceof Hn}function Nf(i,t,e=null,n=null){let r=Ff(i);return Lf(r,t,e,n)}function Ff(i){let t;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new Oe(o.url,a);return o===i&&(t=s),s}let n=e(i.root),r=Rf(n);return t??r}function Lf(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return Xu(r,r,r,e,n);let o=Tb(t);if(o.toRoot())return Xu(r,r,new Oe([],{}),e,n);let a=Ib(o,r,i),s=a.processChildren?Ia(a.segmentGroup,a.index,o.commands):Bf(a.segmentGroup,a.index,o.commands);return Xu(r,a.segmentGroup,s,e,n)}function El(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Ra(i){return typeof i=="object"&&i!=null&&i.outlets}function Xu(i,t,e,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let a;i===t?a=e:a=Vf(i,t,e);let s=Rf(Of(a));return new Hn(s,o,r)}function Vf(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=Vf(o,t,e)}),new Oe(i.segments,n)}var Dl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&El(n[0]))throw new he(4003,!1);let r=n.find(Ra);if(r&&r!==Df(n))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Tb(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Dl(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new Dl(e,t,n)}var go=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function Ib(i,t,e){if(i.isAbsolute)return new go(t,!0,0);if(!e)return new go(t,!1,NaN);if(e.parent===null)return new go(e,!0,0);let n=El(i.commands[0])?0:1,r=e.segments.length-1+n;return Pb(e,r,i.numberOfDoubleDots)}function Pb(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new he(4005,!1);r=n.segments.length}return new go(n,!1,r-o)}function Rb(i){return Ra(i[0])?i[0].outlets:{[me]:i}}function Bf(i,t,e){if(i??=new Oe([],{}),i.segments.length===0&&i.hasChildren())return Ia(i,t,e);let n=Ob(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new Oe(i.segments.slice(0,n.pathIndex),{});return o.children[me]=new Oe(i.segments.slice(n.pathIndex),i.children),Ia(o,0,r)}else return n.match&&r.length===0?new Oe(i.segments,{}):n.match&&!i.hasChildren()?o0(i,t,e):n.match?Ia(i,0,r):o0(i,t,e)}function Ia(i,t,e){if(e.length===0)return new Oe(i.segments,{});{let n=Rb(e),r={};if(Object.keys(n).some(o=>o!==me)&&i.children[me]&&i.numberOfChildren===1&&i.children[me].segments.length===0){let o=Ia(i.children[me],t,e);return new Oe(i.segments,o.children)}return Object.entries(n).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=Bf(i.children[o],t,a))}),Object.entries(i.children).forEach(([o,a])=>{n[o]===void 0&&(r[o]=a)}),new Oe(i.segments,r)}}function Ob(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let a=i.segments[r],s=e[n];if(Ra(s))break;let l=`${s}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!yf(l,c,a))return o;n+=2}else{if(!yf(l,{},a))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function o0(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Ra(o)){let l=Nb(o.outlets);return new Oe(n,l)}if(r===0&&El(e[0])){let l=i.segments[t];n.push(new Ei(l.path,bf(e[0]))),r++;continue}let a=Ra(o)?o.outlets[me]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&El(s)?(n.push(new Ei(a,bf(s))),r+=2):(n.push(new Ei(a,{})),r++)}return new Oe(n,{})}function Nb(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=o0(new Oe([],{}),0,n))}),t}function bf(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function yf(i,t,e){return i==e.path&&Vn(t,e.parameters)}var Sl="imperative",ft=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(ft||{}),on=class{id;url;constructor(t,e){this.id=t,this.url=e}},Ai=class extends on{type=ft.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends on{urlAfterRedirects;type=ft.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yt=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Yt||{}),vo=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(vo||{}),Bn=class extends on{reason;code;type=ft.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jn=class extends on{reason;code;type=ft.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},bo=class extends on{error;target;type=ft.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Oa=class extends on{urlAfterRedirects;state;type=ft.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ml=class extends on{urlAfterRedirects;state;type=ft.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Al=class extends on{urlAfterRedirects;state;shouldActivate;type=ft.GuardsCheckEnd;constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kl=class extends on{urlAfterRedirects;state;type=ft.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tl=class extends on{urlAfterRedirects;state;type=ft.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Il=class{route;type=ft.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pl=class{route;type=ft.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rl=class{snapshot;type=ft.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ol=class{snapshot;type=ft.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nl=class{snapshot;type=ft.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fl=class{snapshot;type=ft.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yo=class{routerEvent;position;anchor;type=ft.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Na=class{},wo=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Fb(i,t){return i.providers&&!i._injector&&(i._injector=Js(i.providers,t,`Route: ${i.path}`)),i._injector??t}function Tn(i){return i.outlet||me}function Lb(i,t){let e=i.filter(n=>Tn(n)===t);return e.push(...i.filter(n=>Tn(n)!==t)),e}function Za(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ll=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Za(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new hr(this.rootInjector)}},hr=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Ll(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(B(Gt))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Vl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=a0(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=a0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=s0(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return s0(t,this._root).map(e=>e.value)}};function a0(i,t){if(i===t.value)return t;for(let e of t.children){let n=a0(i,e);if(n)return n}return null}function s0(i,t){if(i===t.value)return[t];for(let e of t.children){let n=s0(i,e);if(n.length)return n.unshift(t),n}return[]}var rn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function fo(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Fa=class extends Vl{snapshot;constructor(t,e){super(t),this.snapshot=e,f0(this,t)}toString(){return this.snapshot.toString()}};function Hf(i){let t=Vb(i),e=new vt([new Ei("",{})]),n=new vt({}),r=new vt({}),o=new vt({}),a=new vt(""),s=new hn(e,n,o,a,r,me,i,t.root);return s.snapshot=t.root,new Fa(new rn(s,[]),t)}function Vb(i){let t={},e={},n={},r="",o=new dr([],t,n,r,e,me,i,null,{});return new La("",new rn(o,[]))}var hn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,o,a,s,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(fe(c=>c[ja]))??q(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(t=>ur(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(t=>ur(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bl(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:T(T({},t.params),i.params),data:T(T({},t.data),i.data),resolve:T(T(T(T({},i.data),t.data),r?.data),i._resolvedData)}:n={params:T({},i.params),data:T({},i.data),resolve:T(T({},i.data),i._resolvedData??{})},r&&Zf(r)&&(n.resolve[ja]=r.title),n}var dr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ja]}constructor(t,e,n,r,o,a,s,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ur(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ur(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},La=class extends Vl{url;constructor(t,e){super(e),this.url=t,f0(this,e)}toString(){return jf(this._root)}};function f0(i,t){t.value._routerState=i,t.children.forEach(e=>f0(i,e))}function jf(i){let t=i.children.length>0?` { ${i.children.map(jf).join(", ")} } `:"";return`${i.value}${t}`}function Qu(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Vn(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Vn(t.params,e.params)||i.paramsSubject.next(e.params),pb(t.url,e.url)||i.urlSubject.next(e.url),Vn(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function l0(i,t){let e=Vn(i.params,t.params)&&gb(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||l0(i.parent,t.parent))}function Zf(i){return typeof i.title=="string"||i.title===null}var zf=new N(""),mr=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new j;deactivateEvents=new j;attachEvents=new j;detachEvents=new j;routerOutletData=Sn(void 0);parentContexts=y(hr);location=y(ut);changeDetector=y(qe);inputBinder=y(za,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new he(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new c0(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[je]})}return i})(),c0=class{route;childContexts;parent;outletData;constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===hn?this.route:t===hr?this.childContexts:t===zf?this.outletData:this.parent.get(t,e)}},za=new N(""),g0=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=Qr([n.queryParams,n.params,n.data]).pipe(Tt(([o,a,s],l)=>(s=T(T(T({},o),a),s),l===0?q(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let a=Em(n.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),_0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&w(0,"router-outlet")},dependencies:[mr],encapsulation:2})}return i})();function v0(i){let t=i.children&&i.children.map(v0),e=t?Ce(T({},i),{children:t}):T({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==me&&(e.component=_0),e}function Bb(i,t,e){let n=Va(i,t._root,e?e._root:void 0);return new Fa(n,t)}function Va(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=Hb(i,t,e);return new rn(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Va(i,s)),a}}let n=jb(t.value),r=t.children.map(o=>Va(i,o));return new rn(n,r)}}function Hb(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Va(i,n,r);return Va(i,n)})}function jb(i){return new hn(new vt(i.url),new vt(i.params),new vt(i.queryParams),new vt(i.fragment),new vt(i.data),i.outlet,i.component,i)}var xo=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Uf="ngNavigationCancelingError";function Hl(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=Mi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Wf(!1,Yt.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function Wf(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[Uf]=!0,e.cancellationCode=t,e}function Zb(i){return $f(i)&&Mi(i.url)}function $f(i){return!!i&&i[Uf]}var zb=(i,t,e,n)=>fe(r=>(new d0(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),d0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Qu(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=fo(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],n),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=fo(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(n&&n.outlet){let a=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=fo(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=fo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Fl(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ol(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(Qu(r),r===o)if(r.component){let a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Qu(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,n)}},jl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},_o=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Ub(i,t,e){let n=i._root,r=t?t._root:null;return Ta(n,r,e,[n.value])}function Wb(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function So(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!im(i)?i:t.get(i):n}function Ta(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=fo(t);return i.children.forEach(a=>{$b(a,o[a.value.outlet],e,n.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Pa(s,e.getContext(a),r)),r}function $b(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,a=t?t.value:null,s=e?e.getContext(i.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=Gb(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new jl(n)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Ta(i,t,s?s.children:null,n,r):Ta(i,t,e,n,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new _o(s.outlet.component,a))}else a&&Pa(t,s,r),r.canActivateChecks.push(new jl(n)),o.component?Ta(i,null,s?s.children:null,n,r):Ta(i,null,e,n,r);return r}function Gb(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!cr(i.url,t.url);case"pathParamsOrQueryParamsChange":return!cr(i.url,t.url)||!Vn(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!l0(i,t)||!Vn(i.queryParams,t.queryParams);case"paramsChange":default:return!l0(i,t)}}function Pa(i,t,e){let n=fo(i),r=i.value;Object.entries(n).forEach(([o,a])=>{r.component?t?Pa(a,t.children.getContext(o),e):Pa(a,null,e):Pa(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new _o(t.outlet.component,r)):e.canDeactivateChecks.push(new _o(null,r)):e.canDeactivateChecks.push(new _o(null,r))}function Ua(i){return typeof i=="function"}function qb(i){return typeof i=="boolean"}function Kb(i){return i&&Ua(i.canLoad)}function Yb(i){return i&&Ua(i.canActivate)}function Jb(i){return i&&Ua(i.canActivateChild)}function Xb(i){return i&&Ua(i.canDeactivate)}function Qb(i){return i&&Ua(i.canMatch)}function Gf(i){return i instanceof Xh||i?.name==="EmptyError"}var yl=Symbol("INITIAL_VALUE");function Co(){return Tt(i=>Qr(i.map(t=>t.pipe(Lt(1),un(yl)))).pipe(fe(t=>{for(let e of t)if(e!==!0){if(e===yl)return yl;if(e===!1||e3(e))return e}return!0}),Qe(t=>t!==yl),Lt(1)))}function e3(i){return Mi(i)||i instanceof xo}function t3(i,t){return Wt(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?q(Ce(T({},e),{guardsResult:!0})):n3(a,n,r,i).pipe(Wt(s=>s&&qb(s)?i3(n,o,i,t):q(s)),fe(s=>Ce(T({},e),{guardsResult:s})))})}function n3(i,t,e,n){return dt(i).pipe(Wt(r=>l3(r.component,r.route,e,t,n)),_i(r=>r!==!0,!0))}function i3(i,t,e,n){return dt(t).pipe(Qn(r=>zs(o3(r.route.parent,n),r3(r.route,n),s3(i,r.path,e),a3(i,r.route,e))),_i(r=>r!==!0,!0))}function r3(i,t){return i!==null&&t&&t(new Nl(i)),q(!0)}function o3(i,t){return i!==null&&t&&t(new Rl(i)),q(!0)}function a3(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return q(!0);let r=n.map(o=>au(()=>{let a=Za(t)??e,s=So(o,a),l=Yb(s)?s.canActivate(t,i):qt(a,()=>s(t,i));return ki(l).pipe(_i())}));return q(r).pipe(Co())}function s3(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>Wb(a)).filter(a=>a!==null).map(a=>au(()=>{let s=a.guards.map(l=>{let c=Za(a.node)??e,d=So(l,c),h=Jb(d)?d.canActivateChild(n,i):qt(c,()=>d(n,i));return ki(h).pipe(_i())});return q(s).pipe(Co())}));return q(o).pipe(Co())}function l3(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let a=o.map(s=>{let l=Za(t)??r,c=So(s,l),d=Xb(c)?c.canDeactivate(i,t,e,n):qt(l,()=>c(i,t,e,n));return ki(d).pipe(_i())});return q(a).pipe(Co())}function c3(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return q(!0);let o=r.map(a=>{let s=So(a,i),l=Kb(s)?s.canLoad(t,e):qt(i,()=>s(t,e));return ki(l)});return q(o).pipe(Co(),qf(n))}function qf(i){return Jh(nt(t=>{if(typeof t!="boolean")throw Hl(i,t)}),fe(t=>t===!0))}function d3(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return q(!0);let o=r.map(a=>{let s=So(a,i),l=Qb(s)?s.canMatch(t,e):qt(i,()=>s(t,e));return ki(l)});return q(o).pipe(Co(),qf(n))}var Ba=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ha=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function mo(i){return la(new Ba(i))}function u3(i){return la(new he(4e3,!1))}function p3(i){return la(Wf(!1,Yt.GuardRejected))}var u0=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return q(n);if(r.numberOfChildren>1||!r.children[me])return u3(`${t.redirectTo}`);r=r.children[me]}}applyRedirectCommands(t,e,n,r,o){if(typeof e!="string"){let s=e,{queryParams:l,fragment:c,routeConfig:d,url:h,outlet:g,params:_,data:b,title:C}=r,D=qt(o,()=>s({params:_,data:b,queryParams:l,fragment:c,routeConfig:d,url:h,outlet:g,title:C}));if(D instanceof Hn)throw new Ha(D);e=D}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new Ha(a);return a}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new Hn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);n[r]=e[s]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(t,l,n,r)}),new Oe(o,a)}createSegments(t,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new he(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},p0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h3(i,t,e,n,r){let o=Kf(i,t,e);return o.matched?(n=Fb(t,n),d3(n,t,e,r).pipe(fe(a=>a===!0?o:T({},p0)))):q(o)}function Kf(i,t,e){if(t.path==="**")return m3(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?T({},p0):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||Sf)(e,i,t);if(!r)return T({},p0);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?T(T({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function m3(i){return{matched:!0,parameters:i.length>0?Df(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function wf(i,t,e,n){return e.length>0&&_3(i,e,n)?{segmentGroup:new Oe(t,g3(n,new Oe(e,i.children))),slicedSegments:[]}:e.length===0&&v3(i,e,n)?{segmentGroup:new Oe(i.segments,f3(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Oe(i.segments,i.children),slicedSegments:e}}function f3(i,t,e,n){let r={};for(let o of e)if(zl(i,t,o)&&!n[Tn(o)]){let a=new Oe([],{});r[Tn(o)]=a}return T(T({},n),r)}function g3(i,t){let e={};e[me]=t;for(let n of i)if(n.path===""&&Tn(n)!==me){let r=new Oe([],{});e[Tn(n)]=r}return e}function _3(i,t,e){return e.some(n=>zl(i,t,n)&&Tn(n)!==me)}function v3(i,t,e){return e.some(n=>zl(i,t,n))}function zl(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function b3(i,t,e){return t.length===0&&!i.children[e]}var h0=class{};function y3(i,t,e,n,r,o,a="emptyOnly"){return new m0(i,t,e,n,r,a,o).recognize()}var w3=31,m0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,o,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new u0(this.urlSerializer,this.urlTree)}noMatchError(t){return new he(4002,`'${t.segmentGroup}'`)}recognize(){let t=wf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(fe(({children:e,rootSnapshot:n})=>{let r=new rn(n,e),o=new La("",r),a=Nf(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let e=new dr([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,me,e).pipe(fe(n=>({children:n,rootSnapshot:e})),Ji(n=>{if(n instanceof Ha)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ba?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,o):this.processSegment(t,e,n,n.segments,r,!0,o).pipe(fe(a=>a instanceof rn?[a]:[]))}processChildren(t,e,n,r){let o=[];for(let a of Object.keys(n.children))a==="primary"?o.unshift(a):o.push(a);return dt(o).pipe(Qn(a=>{let s=n.children[a],l=Lb(e,a);return this.processSegmentGroup(t,l,s,a,r)}),nm((a,s)=>(a.push(...s),a)),su(null),tm(),Wt(a=>{if(a===null)return mo(n);let s=Yf(a);return x3(s),q(s)}))}processSegment(t,e,n,r,o,a,s){return dt(e).pipe(Qn(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,r,o,a,s).pipe(Ji(c=>{if(c instanceof Ba)return q(null);throw c}))),_i(l=>!!l),Ji(l=>{if(Gf(l))return b3(n,r,o)?q(new h0):mo(n);throw l}))}processSegmentAgainstRoute(t,e,n,r,o,a,s,l){return Tn(n)!==a&&(a===me||!zl(r,o,n))?mo(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,a,l):mo(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,a,s){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:g}=Kf(e,r,o);if(!l)return mo(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>w3&&(this.allowRedirects=!1));let _=new dr(o,c,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,xf(r),Tn(r),r.component??r._loadedComponent??null,r,Cf(r)),b=Bl(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(b.params),_.data=Object.freeze(b.data);let C=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h,_,t);return this.applyRedirects.lineralizeSegments(r,C).pipe(Wt(D=>this.processSegment(t,n,e,D.concat(g),a,!1,s)))}matchSegmentAgainstRoute(t,e,n,r,o,a){let s=h3(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),s.pipe(Tt(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(Tt(({routes:c})=>{let d=n._loadedInjector??t,{parameters:h,consumedSegments:g,remainingSegments:_}=l,b=new dr(g,h,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,xf(n),Tn(n),n.component??n._loadedComponent??null,n,Cf(n)),C=Bl(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(C.params),b.data=Object.freeze(C.data);let{segmentGroup:D,slicedSegments:F}=wf(e,g,_,c);if(F.length===0&&D.hasChildren())return this.processChildren(d,c,D,b).pipe(fe(ae=>new rn(b,ae)));if(c.length===0&&F.length===0)return q(new rn(b,[]));let pe=Tn(n)===o;return this.processSegment(d,c,D,F,pe?me:o,!0,b).pipe(fe(ae=>new rn(b,ae instanceof rn?[ae]:[])))}))):mo(e)))}getChildConfig(t,e,n){return e.children?q({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?q({routes:e._loadedRoutes,injector:e._loadedInjector}):c3(t,e,n,this.urlSerializer).pipe(Wt(r=>r?this.configLoader.loadChildren(t,e).pipe(nt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):p3(e))):q({routes:[],injector:t})}};function x3(i){i.sort((t,e)=>t.value.outlet===me?-1:e.value.outlet===me?1:t.value.outlet.localeCompare(e.value.outlet))}function C3(i){let t=i.value.routeConfig;return t&&t.path===""}function Yf(i){let t=[],e=new Set;for(let n of i){if(!C3(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=Yf(n.children);t.push(new rn(n.value,r))}return t.filter(n=>!e.has(n))}function xf(i){return i.data||{}}function Cf(i){return i.resolve||{}}function S3(i,t,e,n,r,o){return Wt(a=>y3(i,t,e,n,a.extractedUrl,r,o).pipe(fe(({state:s,tree:l})=>Ce(T({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function E3(i,t){return Wt(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return q(e);let o=new Set(r.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of Jf(l))a.add(c);let s=0;return dt(a).pipe(Qn(l=>o.has(l)?D3(l,n,i,t):(l.data=Bl(l,l.parent,i).resolve,q(void 0))),nt(()=>s++),cu(1),Wt(l=>s===a.size?q(e):Cn))})}function Jf(i){let t=i.children.map(e=>Jf(e)).flat();return[i,...t]}function D3(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!Zf(r)&&(o[ja]=r.title),M3(o,i,t,n).pipe(fe(a=>(i._resolvedData=a,i.data=Bl(i,i.parent,e).resolve,null)))}function M3(i,t,e,n){let r=n0(i);if(r.length===0)return q({});let o={};return dt(r).pipe(Wt(a=>A3(i[a],t,e,n).pipe(_i(),nt(s=>{if(s instanceof xo)throw Hl(new Di,s);o[a]=s}))),cu(1),fe(()=>o),Ji(a=>Gf(a)?Cn:la(a)))}function A3(i,t,e,n){let r=Za(t)??n,o=So(i,r),a=o.resolve?o.resolve(t,e):qt(r,()=>o(t,e));return ki(a)}function e0(i){return Tt(t=>{let e=i(t);return e?dt(e).pipe(fe(()=>t)):q(t)})}var b0=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===me);return n}getResolvedTitleForRoute(e){return e.data[ja]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(Xf),providedIn:"root"})}return i})(),Xf=(()=>{class i extends b0{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(B(ff))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),fr=new N("",{providedIn:"root",factory:()=>({})}),gr=new N(""),Ul=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(ym);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return q(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=ki(e.loadComponent()).pipe(fe(e1),nt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Xi(()=>{this.componentLoaders.delete(e)})),r=new ru(n,()=>new H).pipe(iu());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return q({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=Qf(n,this.compiler,e,this.onLoadEndListener).pipe(Xi(()=>{this.childrenLoaders.delete(n)})),a=new ru(o,()=>new H).pipe(iu());return this.childrenLoaders.set(n,a),a}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Qf(i,t,e,n){return ki(i.loadChildren()).pipe(fe(e1),Wt(r=>r instanceof _m||Array.isArray(r)?q(r):dt(t.compileModuleAsync(r))),fe(r=>{n&&n(i);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(e).injector,a=o.get(gr,[],{optional:!0,self:!0}).flat()),{routes:a.map(v0),injector:o}}))}function k3(i){return i&&typeof i=="object"&&"default"in i}function e1(i){return k3(i)?i.default:i}var Wl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(T3),providedIn:"root"})}return i})(),T3=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),y0=new N(""),w0=new N("");function t1(i,t,e){let n=i.get(w0),r=i.get(K);return i.get(oe).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,a=new Promise(c=>{o=c}),s=r.startViewTransition(()=>(o(),I3(i))),{onViewTransitionCreated:l}=n;return l&&qt(i,()=>l({transition:s,from:t,to:e})),a})}function I3(i){return new Promise(t=>{En({read:()=>setTimeout(t)},{injector:i})})}var x0=new N(""),$l=(()=>{class i{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new H;transitionAbortSubject=new H;configLoader=y(Ul);environmentInjector=y(Gt);destroyRef=y(uu);urlSerializer=y(pr);rootContexts=y(hr);location=y(Fn);inputBindingEnabled=y(za,{optional:!0})!==null;titleStrategy=y(b0);options=y(fr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Wl);createViewTransition=y(y0,{optional:!0});navigationErrorHandler=y(x0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Il(r)),n=r=>this.events.next(new Pl(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(Ce(T({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new vt(null),this.transitions.pipe(Qe(n=>n!==null),Tt(n=>{let r=!1,o=!1;return q(n).pipe(Tt(a=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Yt.SupersededByNewNavigation),Cn;this.currentTransition=n,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&l!=="reload"){let c="";return this.events.next(new jn(a.id,this.urlSerializer.serialize(a.rawUrl),c,vo.IgnoredSameUrlNavigation)),a.resolve(!1),Cn}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return q(a).pipe(Tt(c=>(this.events.next(new Ai(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Cn:Promise.resolve(c))),S3(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(c=>{n.targetSnapshot=c.targetSnapshot,n.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Ce(T({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new Oa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:c,extractedUrl:d,source:h,restoredState:g,extras:_}=a,b=new Ai(c,this.urlSerializer.serialize(d),h,g);this.events.next(b);let C=Hf(this.rootComponentType).snapshot;return this.currentTransition=n=Ce(T({},a),{targetSnapshot:C,urlAfterRedirects:d,extras:Ce(T({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,q(n)}else{let c="";return this.events.next(new jn(a.id,this.urlSerializer.serialize(a.extractedUrl),c,vo.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Cn}}),nt(a=>{let s=new Ml(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),fe(a=>(this.currentTransition=n=Ce(T({},a),{guards:Ub(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),n)),t3(this.environmentInjector,a=>this.events.next(a)),nt(a=>{if(n.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Hl(this.urlSerializer,a.guardsResult);let s=new Al(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),Qe(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Yt.GuardRejected),!1)),e0(a=>{if(a.guards.canActivateChecks.length!==0)return q(a).pipe(nt(s=>{let l=new kl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),Tt(s=>{let l=!1;return q(s).pipe(E3(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(s,"",Yt.NoDataFromResolver)}}))}),nt(s=>{let l=new Tl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),e0(a=>{let s=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(nt(d=>{l.component=d}),fe(()=>{})));for(let d of l.children)c.push(...s(d));return c};return Qr(s(a.targetSnapshot.root)).pipe(su(null),Lt(1))}),e0(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:a,targetSnapshot:s}=n,l=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return l?dt(l).pipe(fe(()=>n)):q(n)}),fe(a=>{let s=Bb(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=n=Ce(T({},a),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,n}),nt(()=>{this.events.next(new Na)}),zb(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Lt(1),nt({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),ke(this.transitionAbortSubject.pipe(nt(a=>{throw a}))),Xi(()=>{!r&&!o&&this.cancelNavigationTransition(n,"",Yt.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ji(a=>{if(this.destroyed)return n.resolve(!1),Cn;if(o=!0,$f(a))this.events.next(new Bn(n.id,this.urlSerializer.serialize(n.extractedUrl),a.message,a.cancellationCode)),Zb(a)?this.events.next(new wo(a.url,a.navigationBehaviorOptions)):n.resolve(!1);else{let s=new bo(n.id,this.urlSerializer.serialize(n.extractedUrl),a,n.targetSnapshot??void 0);try{let l=qt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(l instanceof xo){let{message:c,cancellationCode:d}=Hl(this.urlSerializer,l);this.events.next(new Bn(n.id,this.urlSerializer.serialize(n.extractedUrl),c,d)),this.events.next(new wo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(l){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(l)}}return Cn}))}))}cancelNavigationTransition(e,n,r){let o=new Bn(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function P3(i){return i!==Sl}var n1=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(R3),providedIn:"root"})}return i})(),Zl=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},R3=(()=>{class i extends Zl{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),i1=(()=>{class i{urlSerializer=y(pr);options=y(fr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Fn);urlHandlingStrategy=y(Wl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Hn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,a=r??o;return a instanceof Hn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=Hf(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:()=>y(O3),providedIn:"root"})}return i})(),O3=(()=>{class i extends i1{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof Ai?this.updateStateMemento():e instanceof jn?this.commitTransition(n):e instanceof Oa?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Na?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Bn&&(e.code===Yt.GuardRejected||e.code===Yt.NoDataFromResolver)?this.restoreHistory(n):e instanceof bo?this.restoreHistory(n,!0):e instanceof an&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:o,state:a}=n;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,l=T(T({},a),this.generateNgRouterState(r,s));this.location.replaceState(e,"",l)}else{let s=T(T({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Gl(i,t){i.events.pipe(Qe(e=>e instanceof an||e instanceof Bn||e instanceof bo||e instanceof jn),fe(e=>e instanceof an||e instanceof jn?0:(e instanceof Bn?e.code===Yt.Redirect||e.code===Yt.SupersededByNewNavigation:!1)?2:1),Qe(e=>e!==2),Lt(1)).subscribe(()=>{t()})}var N3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},te=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(hu);stateManager=y(i1);options=y(fr,{optional:!0})||{};pendingTasks=y(ua);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y($l);urlSerializer=y(pr);location=y(Fn);urlHandlingStrategy=y(Wl);_events=new H;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(n1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(gr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(za,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new kt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Bn&&n.code!==Yt.Redirect&&n.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof an)this.navigated=!0;else if(n instanceof wo){let a=n.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=T({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||P3(r.source)},a);this.scheduleNavigation(s,Sl,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}V3(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let l=T({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,n,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(v0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let g=r?r.snapshot:this.routerState.snapshot.root;h=Ff(g)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return Lf(h,e,d,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Mi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Sl,null,n)}navigate(e,n={skipLocationChange:!1}){return L3(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=T({},N3):n===!1?r=T({},F3):r=n,Mi(e))return _f(this.currentUrlTree,e,r);let o=this.parseUrl(e);return _f(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((h,g)=>{s=h,l=g});let d=this.pendingTasks.add();return Gl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function L3(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new he(4008,!1)}function V3(i){return!(i instanceof Na)&&!(i instanceof wo)}var Eo=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new H;constructor(e,n,r,o,a,s){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof an&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Mi(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||n||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:gm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Mi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(S(te),S(hn),to("tabindex"),S(Je),S(J),S(kn))};static \u0275dir=U({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&E("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),n&2&&He("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",se],skipLocationChange:[2,"skipLocationChange","skipLocationChange",se],replaceUrl:[2,"replaceUrl","replaceUrl",se],routerLink:"routerLink"},features:[je]})}return i})(),S0=(()=>{class i{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new j;constructor(e,n,r,o,a){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.link=a,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof an&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(ca()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=dt(e).pipe(ca()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=B3(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||i)(S(te),S(J),S(Je),S(qe),S(Eo,8))};static \u0275dir=U({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(n&1&&mt(o,Eo,5),n&2){let a;ne(a=ie())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[je]})}return i})();function B3(i){return!!i.paths}var Wa=class{};var r1=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Qe(e=>e instanceof an),Qn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=Js(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return dt(r).pipe(ca())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=q(null);let o=r.pipe(Wt(a=>a===null?q(void 0):(n._loadedRoutes=a.routes,n._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(n.loadComponent&&!n._loadedComponent){let a=this.loader.loadComponent(n);return dt([o,a]).pipe(ca())}else return o})}static \u0275fac=function(n){return new(n||i)(B(te),B(Gt),B(Wa),B(Ul))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),o1=new N(""),H3=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,r,o,a={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ai?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof an?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof jn&&e.code===vo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof yo&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yo(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){Ks()};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();function E0(i,...t){return Qi([{provide:gr,multi:!0,useValue:i},[],{provide:hn,useFactory:a1,deps:[te]},{provide:fu,multi:!0,useFactory:s1},t.map(e=>e.\u0275providers)])}function a1(i){return i.routerState.root}function $a(i,t){return{\u0275kind:i,\u0275providers:t}}function s1(){let i=y(Te);return t=>{let e=i.get(ei);if(t!==e.components[0])return;let n=i.get(te),r=i.get(l1);i.get(D0)===1&&n.initialNavigation(),i.get(u1,null,du.Optional)?.setUpPreloading(),i.get(o1,null,du.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var l1=new N("",{factory:()=>new H}),D0=new N("",{providedIn:"root",factory:()=>1});function c1(){let i=[{provide:D0,useValue:0},mu(()=>{let t=y(Te);return t.get(Su,Promise.resolve()).then(()=>new Promise(n=>{let r=t.get(te),o=t.get(l1);Gl(r,()=>{n(!0)}),t.get($l).afterPreactivation=()=>(n(!0),o.closed?q(void 0):o),r.initialNavigation()}))})];return $a(2,i)}function d1(){let i=[mu(()=>{y(te).setUpLocationChangeListener()}),{provide:D0,useValue:2}];return $a(3,i)}var u1=new N("");function p1(i){return $a(0,[{provide:u1,useExisting:r1},{provide:Wa,useExisting:i}])}function h1(){return $a(8,[g0,{provide:za,useExisting:g0}])}function m1(i){tr("NgRouterViewTransitions");let t=[{provide:y0,useValue:t1},{provide:w0,useValue:T({skipNextTransition:!!i?.skipInitialTransition},i)}];return $a(9,t)}var f1=[Fn,{provide:pr,useClass:Di},te,hr,{provide:hn,useFactory:a1,deps:[te]},Ul,[]],Ga=(()=>{class i{constructor(){}static forRoot(e,n){return{ngModule:i,providers:[f1,[],{provide:gr,multi:!0,useValue:e},[],n?.errorHandler?{provide:x0,useValue:n.errorHandler}:[],{provide:fr,useValue:n||{}},n?.useHash?Z3():z3(),j3(),n?.preloadingStrategy?p1(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?U3(n):[],n?.bindToComponentInputs?h1().\u0275providers:[],n?.enableViewTransitions?m1().\u0275providers:[],W3()]}}static forChild(e){return{ngModule:i,providers:[{provide:gr,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({})}return i})();function j3(){return{provide:o1,useFactory:()=>{let i=y(Um),t=y(oe),e=y(fr),n=y($l),r=y(pr);return e.scrollOffset&&i.setOffset(e.scrollOffset),new H3(r,n,i,t,e)}}}function Z3(){return{provide:kn,useClass:Iu}}function z3(){return{provide:kn,useClass:il}}function U3(i){return[i.initialNavigation==="disabled"?d1().\u0275providers:[],i.initialNavigation==="enabledBlocking"?c1().\u0275providers:[]]}var C0=new N("");function W3(){return[{provide:C0,useFactory:s1},{provide:fu,multi:!0,useExisting:C0}]}var $3=(()=>{class i extends el{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(B(K),B(ga),B(Qs))};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})();function G3(){return new Mm}function q3(i,t,e){return new km(i,t,e)}var g1=[{provide:Qs,useFactory:G3},{provide:el,useClass:$3},{provide:rt,useFactory:q3,deps:[sr,el,oe]}],qI=[{provide:ga,useClass:Dm},{provide:it,useValue:"NoopAnimations"},...g1],K3=[{provide:ga,useFactory:()=>new Am},{provide:it,useFactory:()=>"BrowserAnimations"},...g1];function _1(){return tr("NgEagerAnimations"),[...K3]}var rP=new N("Ng Glyph Config");var oP=new N("NgGlyphsToken");function Y3(i){return i==null?"":/^\d+$/.test(i)?`${i}px`:i}var J3=new N("Ng Icon Pre Processor"),X3=new N("Ng Icon Post Processor");function Q3(){return y(J3,{optional:!0})??(i=>i)}function ey(){return y(X3,{optional:!0})??(()=>{})}var ty=new N("Ng Icon Logger"),M0=class{log(t){console.log(t)}warn(t){console.warn(t)}error(t){console.error(t)}};function ny(){return y(ty,{optional:!0})??new M0}var iy=new N("Ng Icon Config");function ry(){return y(iy,{optional:!0})??{}}var oy=new N("Ng Icon Loader Token");var ay=new N("Ng Icon Cache Token");function sy(){return y(oy,{optional:!0})}function ly(){return y(ay,{optional:!0})}function v1(i){return[{provide:A0,useFactory:(t=y(A0,{optional:!0,skipSelf:!0}))=>T(T({},t?.reduce((e,n)=>T(T({},e),n),{})),i),multi:!0}]}var A0=new N("Icons Token");function cy(){return y(A0,{optional:!0})??[]}function dy(i){return typeof i=="string"?Promise.resolve(i):Yi(i)?i.toPromise():i}function uy(i){return i.replace(/([^a-zA-Z0-9])+(.)?/g,(t,e,n)=>n?n.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,t=>t.toLowerCase())}var py=0,b1=(()=>{class i{constructor(){this.config=ry(),this.icons=cy(),this.loader=sy(),this.cache=ly(),this.preProcessor=Q3(),this.postProcessor=ey(),this.injector=y(Te),this.renderer=y(Je),this.platform=y(On),this.elementRef=y(J),this.uniqueId=py++,this.logger=ny(),this.name=Sn(),this.svg=Sn(),this.size=Sn(this.config.size,{transform:Y3}),this.strokeWidth=Sn(this.config.strokeWidth),this.color=Sn(this.config.color),Sm(()=>this.updateIcon()),y(new $s("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}updateIcon(){return O(this,null,function*(){let e=this.name(),n=this.svg();if(n!==void 0){this.setSvg(n);return}if(e===void 0)return;let r=uy(e);for(let o of[...this.icons].reverse())if(o[r]){this.setSvg(o[r]);return}if(this.loader){let o=yield this.requestIconFromLoader(e);if(o!==null){this.setSvg(o);return}}this.logger.warn(`No icon named ${e} was found. You may need to import it using the withIcons function.`)})}setSvg(e){if(co(this.platform)){this.elementRef.nativeElement.innerHTML=e,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),e===""))return;let n=this.renderer.createElement("template");e=this.replaceIds(e),this.renderer.setProperty(n,"innerHTML",this.preProcessor(e)),this.svgElement=n.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(e){if(!e.includes("ID_PLACEHOLDER_"))return e;let n=/ID_PLACEHOLDER_(\d+)/g,r=new Map,o=new Set(e.match(n));if(o===null)return e;for(let a of o){let s=a.replace("ID_PLACEHOLDER_",""),l=`ng-icon-${this.uniqueId}-${r.size}`;r.set(s,l),e=e.replace(new RegExp(a,"g"),l)}return e}requestIconFromLoader(e){return new Promise(n=>{qt(this.injector,()=>O(this,null,function*(){if(this.cache){let a=this.cache.get(e);if(typeof a=="string"){n(a);return}if(a instanceof Promise){let s=yield a;n(s);return}}let r=dy(this.loader(e));this.cache?.set(e,r);let o=yield r;this.cache?.set(e,o),n(o)}))})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=R({type:i,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(n,r){n&2&&Dn("--ng-icon__stroke-width",r.strokeWidth())("--ng-icon__size",r.size())("--ng-icon__color",r.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(n,r){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return i})();var Do=class i{arr_menu=[{menu_id:"0",name:"Request Pengajuan",route:"new-approval",icon:"heroClipboardDocumentListSolid",parent_id:null},{menu_id:"1",name:"Info Pengajuan",route:"info-pengajuan",icon:"heroNewspaperSolid",parent_id:null},{menu_id:"2",name:"Approve Pengajuan",route:"approve-pengajuan",icon:"heroClipboardDocumentCheckSolid",parent_id:null},{menu_id:"3",name:"Histori Pengajuan",route:"cek-pengajuan",icon:"heroClipboardDocumentListSolid",parent_id:null},{menu_id:"99",name:"<DEV> Debug",route:"page-debug",icon:"heroClipboardDocumentListSolid",parent_id:null},{menu_id:"4",name:"Master Setup",route:null,icon:"heroCog8ToothSolid",parent_id:null},{menu_id:"41",name:"Suppliers",route:"suppliers",icon:null,parent_id:"4"},{menu_id:"42",name:"Jenis Transaksi",route:"jenis_transaksi",icon:null,parent_id:"4"},{menu_id:"43",name:"Bank",route:"setup-bank",icon:null,parent_id:"4"}];arr_menu_processed=[];get_menu(){return this.arr_menu}build_menu(){let t=e(this.arr_menu,null);function e(n,r){let o=[];for(let a of n)if(a.parent_id==r){let s=e(n,a.menu_id);s.length>0&&(a.CHILDREN=s),o.push(a)}return o}return console.log(t),t}static \u0275fac=function(e){return new(e||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var ql=class i{constructor(t,e){this.router=t;this.repMenu=e}getActRoute(){let t=window.location.pathname.replaceAll("/","");console.log(t)}static \u0275fac=function(e){return new(e||i)(B(te),B(Do))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var my=(i,t)=>({"ml-[-220px]":i,"ml-0":t}),fy=(i,t)=>({hidden:i,fixed:t}),gy=i=>({"text-[#ac9c1e]":i}),_y=i=>({"bg-[#e7e0b7]":i}),vy=i=>({"border-2 border-black":i}),by=i=>({"border-2":i}),yy=i=>({"":i});function wy(i,t){i&1&&(u(0,"p"),f(1,"-"),p())}function xy(i,t){i&1&&(u(0,"p"),f(1,"+"),p())}function Cy(i,t){if(i&1&&(u(0,"div",37),k(1,wy,2,0,"p",31)(2,xy,2,0,"p",31),p()),i&2){let e=x().$implicit,n=x(6);m(),v("ngIf",n.act_menu.includes(e.name)),m(),v("ngIf",!n.act_menu.includes(e.name))}}function Sy(i,t){if(i&1&&w(0,"div",38),i&2){let e=x().$implicit;v("ngClass",be(1,yy,e.CHILDREN))}}function Ey(i,t){i&1&&w(0,"div")}function Dy(i,t){if(i&1){let e=Z();u(0,"div",33)(1,"div",34),E("click",function(){let r=M(e).$implicit,o=x(6);return A(o.menu_clicked(r))}),k(2,Cy,3,2,"div",35)(3,Sy,1,3,"div",36),u(4,"p",25),f(5),p()(),k(6,Ey,1,0,"div",31),p()}if(i&2){let e=t.$implicit,n=x(6);m(2),v("ngIf",e.CHILDREN),m(),v("ngIf",!e.CHILDREN),m(),v("ngClass",be(5,by,n.act_menu.includes(e.name))),m(),we(" ",e.name," "),m(),v("ngIf",e.CHILDREN&&n.act_menu.includes(e.name))}}function My(i,t){if(i&1&&(u(0,"div"),k(1,Dy,7,7,"div",32),p()),i&2){let e=x().$implicit;m(),v("ngForOf",e.CHILDREN)}}function Ay(i,t){if(i&1){let e=Z();u(0,"div",29)(1,"div",30),E("click",function(){let r=M(e).$implicit,o=x(4);return A(o.menu_clicked(r))}),u(2,"p",25),f(3),p()(),k(4,My,2,1,"div",31),p()}if(i&2){let e=t.$implicit,n=x(4);m(),v("ngClass",be(4,_y,e.route==n.act_route)),m(),v("ngClass",be(6,vy,n.act_menu.includes(e.name)&&e.CHILDREN)),m(),we(" ",e.name," "),m(),v("ngIf",e.CHILDREN&&n.act_menu.includes(e.name))}}function ky(i,t){if(i&1&&(u(0,"div",27),k(1,Ay,5,8,"div",28),p()),i&2){let e=x().$implicit;m(),v("ngForOf",e.CHILDREN)}}function Ty(i,t){if(i&1){let e=Z();u(0,"div",22)(1,"div",23),E("click",function(){let r=M(e).$implicit,o=x(2);return A(o.menu_clicked(r))}),w(2,"ng-icon",24),u(3,"p",25),f(4),p()(),k(5,ky,2,1,"div",26),p()}if(i&2){let e=t.$implicit,n=x(2);v("routerLink",e.route),m(2),Xs("name",e.icon),m(),v("ngClass",be(5,gy,n.act_menu.includes(e.name)&&e.CHILDREN)),m(),we(" ",e.name," "),m(),v("ngIf",e.CHILDREN&&n.act_menu.includes(e.name))}}function Iy(i,t){if(i&1&&(u(0,"div",20),k(1,Ty,6,7,"div",21),p()),i&2){let e=x();m(),v("ngForOf",e.menuItems)}}var Kl=class i{constructor(t,e,n){this.repMenu=t;this.router=e;this.repNav=n}fetching_menu=!1;processed_menu=null;is_expanded=!1;act_menu=[];act_route=null;menuItems=[];ngOnInit(){this.get_menu()}get_menu(){this.menuItems=this.repMenu.build_menu(),console.log(this.menuItems)}menu_clicked(t){this.detect_route(),t.route?(this.act_route=t.route,this.router.navigate([t.route])):t.CHILDREN&&this.change_act_menu(t)}detect_route(){return this.repNav.getActRoute()}change_act_menu(t){let e=t.name;this.act_menu.includes(e)?this.act_menu=this.act_menu.filter(n=>n!==e):this.act_menu.push(e)}f_expand(){this.is_expanded=!this.is_expanded}f_close_menu(){this.is_expanded=!0}static \u0275fac=function(e){return new(e||i)(S(Do),S(te),S(ql))};static \u0275cmp=R({type:i,selectors:[["app-navleft"]],decls:22,vars:9,consts:[[1,"h-screen"],[1,"h-screen","flex","flex-col","w-[220px]","border-r-2","drop-shadow-lg","bg-white","sm:relative","fixed","z-50","transition-all",3,"ngClass"],[1,"sm:hidden","w-10","h-10","p-1","pr-2","rounded-r-full","bg-[#b8aa5f]","flex","justify-center","items-center","fill-white","text-white","right-[-41px]","bottom-[20lvh]","absolute",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 256 256"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"grow","flex","flex-col","items-center"],[1,""],[1,"w-full","flex","justify-center"],[1,"p-4","w-full","flex","justify-center"],["src","assets/img/w_nav_logo_small.png",1,"h-[14vh]"],[1,"flex","flex-col","font-medium","justify-center","items-center"],[1,"text-lg"],[1,"text-2xl"],[1,"w-[80%]","h-[2px]","bg-[#b8aa5f]","my-3"],[1,"overflow-y-scroll","text-sm","grow","h-[200px]","w-full","select-none","px-2"],[1,"flex","flex-col","relative","z-30","py-3"],["class","flex h-fit flex-col space-y-2",4,"ngIf"],[1,"h-[100px]"],[1,"sm:hidden"],[1,"bg-[#00000030]","w-[200vw]","h-[100vh]","top-0","left-0","z-10",3,"click","ngClass"],[1,"flex","h-fit","flex-col","space-y-2"],["class","rounded-md","routerLinkActive","bg-[#e7e0b7]",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","bg-[#e7e0b7]",1,"rounded-md",3,"routerLink"],[1,"flex","flex-row","transition-all","cursor-pointer","rounded-md","p-2","border-2","border-[#0000]","items-center","hover:border-[#e7e0b7]",3,"click"],[1,"text-[18px]","mr-1",3,"name"],[1,"",3,"ngClass"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"flex","flex-col","space-y-2"],["class","pl-6 mt-2",4,"ngFor","ngForOf"],[1,"pl-6","mt-2"],[1,"flex","flex-row","transition-all","cursor-pointer","rounded-md","p-2","border-2","border-[#0000]","items-center","hover:border-[#e7e0b7]",3,"click","ngClass"],[4,"ngIf"],["class","pl-6",4,"ngFor","ngForOf"],[1,"pl-6"],[1,"flex","flex-row","cursor-pointer","hover:bg-gray-100",3,"click"],["class","w-[20px] h-[20px] text-center",4,"ngIf"],["class","w-[20px] h-[20px]",3,"ngClass",4,"ngIf"],[1,"w-[20px]","h-[20px]","text-center"],[1,"w-[20px]","h-[20px]",3,"ngClass"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"button",2),E("click",function(){return n.f_expand()}),ee(),u(3,"svg",3),w(4,"path",4),p()(),De(),u(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),w(9,"img",9),p()(),u(10,"div",10)(11,"p",11),f(12," Transpacific Finance "),p(),u(13,"p",12),f(14," E-Approval "),p()()(),w(15,"div",13),u(16,"div",14)(17,"ul",15),k(18,Iy,2,1,"div",16),p()(),w(19,"div",17),p()(),u(20,"div",18)(21,"div",19),E("click",function(){return n.f_close_menu()}),p()()()),e&2&&(m(),v("ngClass",We(3,my,n.is_expanded,!n.is_expanded)),m(17),v("ngIf",!n.fetching_menu),m(3),v("ngClass",We(6,fy,n.is_expanded,!n.is_expanded)))},dependencies:[Ga,Eo,S0,Y,Se,xe,de,b1],styles:[".active-link[_ngcontent-%COMP%]{transition:cubic-bezier();color:#3a3208}.menu_c_con[_ngcontent-%COMP%]:hover{background-color:#eee8c686}"]})};var k1=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(S(Je),S(J))};static \u0275dir=U({type:i})}return i})(),Qa=(()=>{class i extends k1{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275dir=U({type:i,features:[Xe]})}return i})(),In=new N(""),Py={provide:In,useExisting:$t(()=>es),multi:!0},es=(()=>{class i extends Qa{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275dir=U({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&E("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ue([Py]),Xe]})}return i})(),Ry={provide:In,useExisting:$t(()=>ze),multi:!0};function Oy(){let i=pn()?pn().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Ny=new N(""),ze=(()=>{class i extends k1{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Oy())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(S(Je),S(J),S(Ny,8))};static \u0275dir=U({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&E("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[Ue([Ry]),Xe]})}return i})();function R0(i){return i==null||O0(i)===0}function O0(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var N0=new N(""),F0=new N(""),Fy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ti=class{static min(t){return Ly(t)}static max(t){return Vy(t)}static required(t){return By(t)}static requiredTrue(t){return Hy(t)}static email(t){return jy(t)}static minLength(t){return Zy(t)}static maxLength(t){return zy(t)}static pattern(t){return Uy(t)}static nullValidator(t){return T1()}static compose(t){return F1(t)}static composeAsync(t){return V1(t)}};function Ly(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function Vy(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function By(i){return R0(i.value)?{required:!0}:null}function Hy(i){return i.value===!0?null:{required:!0}}function jy(i){return R0(i.value)||Fy.test(i.value)?null:{email:!0}}function Zy(i){return t=>{let e=t.value?.length??O0(t.value);return e===null||e===0?null:e<i?{minlength:{requiredLength:i,actualLength:e}}:null}}function zy(i){return t=>{let e=t.value?.length??O0(t.value);return e!==null&&e>i?{maxlength:{requiredLength:i,actualLength:e}}:null}}function Uy(i){if(!i)return T1;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(R0(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function T1(i){return null}function I1(i){return i!=null}function P1(i){return oo(i)?dt(i):i}function R1(i){let t={};return i.forEach(e=>{t=e!=null?T(T({},t),e):t}),Object.keys(t).length===0?null:t}function O1(i,t){return t.map(e=>e(i))}function Wy(i){return!i.validate}function N1(i){return i.map(t=>Wy(t)?t:e=>t.validate(e))}function F1(i){if(!i)return null;let t=i.filter(I1);return t.length==0?null:function(e){return R1(O1(e,t))}}function L1(i){return i!=null?F1(N1(i)):null}function V1(i){if(!i)return null;let t=i.filter(I1);return t.length==0?null:function(e){let n=O1(e,t).map(P1);return Qh(n).pipe(fe(R1))}}function B1(i){return i!=null?V1(N1(i)):null}function w1(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function H1(i){return i._rawValidators}function j1(i){return i._rawAsyncValidators}function k0(i){return i?Array.isArray(i)?i:[i]:[]}function Jl(i,t){return Array.isArray(i)?i.includes(t):i===t}function x1(i,t){let e=k0(t);return k0(i).forEach(r=>{Jl(e,r)||e.push(r)}),e}function C1(i,t){return k0(t).filter(e=>!Jl(i,e))}var Xl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=L1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=B1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},_r=class extends Xl{name;get formDirective(){return null}get path(){return null}},vr=class extends Xl{_parent=null;name=null;valueAccessor=null},Ql=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$y={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kP=Ce(T({},$y),{"[class.ng-submitted]":"isSubmitted"}),Ie=(()=>{class i extends Ql{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(S(vr,2))};static \u0275dir=U({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&ve("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Xe]})}return i})(),L0=(()=>{class i extends Ql{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(S(_r,10))};static \u0275dir=U({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&ve("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Xe]})}return i})();var qa="VALID",Yl="INVALID",Mo="PENDING",Ka="DISABLED",Ii=class{},ec=class extends Ii{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Ya=class extends Ii{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Ja=class extends Ii{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Ao=class extends Ii{status;source;constructor(t,e){super(),this.status=t,this.source=e}},T0=class extends Ii{source;constructor(t){super(),this.source=t}},I0=class extends Ii{source;constructor(t){super(),this.source=t}};function Z1(i){return(rc(i)?i.validators:i)||null}function Gy(i){return Array.isArray(i)?L1(i):i||null}function z1(i,t){return(rc(t)?t.asyncValidators:i)||null}function qy(i){return Array.isArray(i)?B1(i):i||null}function rc(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Ky(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new he(1e3,"");if(!n[e])throw new he(1001,"")}function Yy(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new he(1002,"")})}var tc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return nn(this.statusReactive)}set status(t){nn(()=>this.statusReactive.set(t))}_status=ao(()=>this.statusReactive());statusReactive=vi(void 0);get valid(){return this.status===qa}get invalid(){return this.status===Yl}get pending(){return this.status==Mo}get disabled(){return this.status===Ka}get enabled(){return this.status!==Ka}errors;get pristine(){return nn(this.pristineReactive)}set pristine(t){nn(()=>this.pristineReactive.set(t))}_pristine=ao(()=>this.pristineReactive());pristineReactive=vi(!0);get dirty(){return!this.pristine}get touched(){return nn(this.touchedReactive)}set touched(t){nn(()=>this.touchedReactive.set(t))}_touched=ao(()=>this.touchedReactive());touchedReactive=vi(!1);get untouched(){return!this.touched}_events=new H;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(x1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(x1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(C1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(C1(t,this._rawAsyncValidators))}hasValidator(t){return Jl(this._rawValidators,t)}hasAsyncValidator(t){return Jl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ce(T({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Ja(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Ja(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ce(T({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Ya(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Ya(!0,n))}markAsPending(t={}){this.status=Mo;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ao(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ce(T({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ka,this.errors=null,this._forEachChild(r=>{r.disable(Ce(T({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ec(this.value,n)),this._events.next(new Ao(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ce(T({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=qa,this._forEachChild(n=>{n.enable(Ce(T({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ce(T({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qa||this.status===Mo)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ec(this.value,e)),this._events.next(new Ao(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ce(T({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ka:qa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Mo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=P1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Ao(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new j,this.statusChanges=new j}_calculateStatus(){return this._allControlsDisabled()?Ka:this.errors?Yl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mo)?Mo:this._anyControlsHaveStatus(Yl)?Yl:qa}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Ya(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ja(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){rc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Gy(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=qy(this._rawAsyncValidators)}},Xa=class extends tc{constructor(t,e,n){super(Z1(e),z1(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Yy(this,!0,t),Object.keys(t).forEach(n=>{Ky(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var oc=new N("",{providedIn:"root",factory:()=>ac}),ac="always";function U1(i,t){return[...t.path,i]}function P0(i,t,e=ac){V0(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),Xy(i,t),ew(i,t),Qy(i,t),Jy(i,t)}function S1(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),ic(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function nc(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Jy(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function V0(i,t){let e=H1(i);t.validator!==null?i.setValidators(w1(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=j1(i);t.asyncValidator!==null?i.setAsyncValidators(w1(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();nc(t._rawValidators,r),nc(t._rawAsyncValidators,r)}function ic(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=H1(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let r=j1(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return nc(t._rawValidators,n),nc(t._rawAsyncValidators,n),e}function Xy(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&W1(i,t)})}function Qy(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&W1(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function W1(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function ew(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function tw(i,t){i==null,V0(i,t)}function nw(i,t){return ic(i,t)}function $1(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function iw(i){return Object.getPrototypeOf(i.constructor)===Qa}function rw(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function G1(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===ze?e=o:iw(o)?n=o:r=o}),r||n||e||null}function ow(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function E1(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function D1(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ii=class extends tc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(Z1(e),z1(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(D1(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){E1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){E1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){D1(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var aw=i=>i instanceof ii;var sw={provide:vr,useExisting:$t(()=>Fe)},M1=Promise.resolve(),Fe=(()=>{class i extends vr{_changeDetectorRef;callSetDisabledState;control=new ii;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new j;constructor(e,n,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=G1(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),$1(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){P0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){M1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&se(n);M1.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?U1(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(S(_r,9),S(N0,10),S(F0,10),S(In,10),S(qe,8),S(oc,8))};static \u0275dir=U({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ue([sw]),Xe,je]})}return i})();var B0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})(),lw={provide:In,useExisting:$t(()=>ri),multi:!0},ri=(()=>{class i extends Qa{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275dir=U({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&E("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ue([lw]),Xe]})}return i})();var q1=new N("");var cw={provide:_r,useExisting:$t(()=>sc)},sc=(()=>{class i extends _r{callSetDisabledState;get submitted(){return nn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=ao(()=>this._submittedReactive());_submittedReactive=vi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new j;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ic(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return P0(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){S1(e.control||null,e,!1),ow(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),rw(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new T0(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new I0(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(S1(n||null,e),aw(r)&&(P0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);tw(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&nw(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){V0(this.form,this),this._oldForm&&ic(this._oldForm,this)}static \u0275fac=function(n){return new(n||i)(S(N0,10),S(F0,10),S(oc,8))};static \u0275dir=U({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&E("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ue([cw]),Xe,je]})}return i})();var dw={provide:vr,useExisting:$t(()=>lc)},lc=(()=>{class i extends vr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new j;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,r,o,a){super(),this._ngModelWarningConfig=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=G1(this,o)}ngOnChanges(e){this._added||this._setUpControl(),$1(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return U1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||i)(S(_r,13),S(N0,10),S(F0,10),S(In,10),S(q1,8))};static \u0275dir=U({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ue([dw]),Xe,je]})}return i})();var uw={provide:In,useExisting:$t(()=>Pt),multi:!0};function K1(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function pw(i){return i.split(":")[0]}var Pt=(()=>{class i extends Qa{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n=this._getOptionId(e),r=K1(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=pw(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275dir=U({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&E("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ue([uw]),Xe]})}return i})(),ot=(()=>{class i{_element;_renderer;_select;id;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(K1(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(S(J),S(Je),S(Pt,9))};static \u0275dir=U({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),hw={provide:In,useExisting:$t(()=>Y1),multi:!0};function A1(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function mw(i){return i.split(":")[0]}var Y1=(()=>{class i extends Qa{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));n=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],c=this._getOptionValue(l.value);r.push(c)}}else{let a=n.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=mw(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275dir=U({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&E("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ue([hw]),Xe]})}return i})(),at=(()=>{class i{_element;_renderer;_select;id;_value;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(A1(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(A1(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(S(J),S(Je),S(Y1,9))};static \u0275dir=U({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();var J1=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({})}return i})();var ue=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:oc,useValue:e.callSetDisabledState??ac}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({imports:[J1]})}return i})(),X1=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:q1,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:oc,useValue:e.callSetDisabledState??ac}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({imports:[J1]})}return i})();function br(i){return i.buttons===0||i.detail===0}function yr(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var H0;function Q1(){if(H0==null){let i=typeof document<"u"?document.head:null;H0=!!(i&&(i.createShadowRoot||i.attachShadow))}return H0}function wr(i){if(Q1()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function gt(i){return i.composedPath?i.composedPath()[0]:i.target}function st(i,t,e,n,r){let o=parseInt(yu.major),a=parseInt(yu.minor);return o>19||o===19&&a>0||o===0&&a===0?i.listen(t,e,n,r):(t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)})}var j0;try{j0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{j0=!1}var $e=(()=>{class i{_platformId=y(On);isBrowser=this._platformId?Fu(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||j0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ts;function eg(){if(ts==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ts=!0}))}finally{ts=ts||!1}return ts}function Pi(i){return eg()?i:!!i.capture}function Ri(i,t=0){return tg(i)?Number(i):arguments.length===2?t:0}function tg(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function bt(i){return i instanceof J?i.nativeElement:i}var ng=new N("cdk-input-modality-detector-options"),ig={ignoreKeys:[18,17,224,91,16]},rg=650,Z0={passive:!0,capture:!0},og=(()=>{class i{_platform=y($e);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new vt(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=gt(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<rg||(this._modality.next(br(e)?"keyboard":"mouse"),this._mostRecentTarget=gt(e))};_onTouchstart=e=>{if(yr(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=gt(e)};constructor(){let e=y(oe),n=y(K),r=y(ng,{optional:!0});if(this._options=T(T({},ig),r),this.modalityDetected=this._modality.pipe(Ws(1)),this.modalityChanged=this.modalityDetected.pipe(lu()),this._platform.isBrowser){let o=y(rt).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[st(o,n,"keydown",this._onKeydown,Z0),st(o,n,"mousedown",this._onMousedown,Z0),st(o,n,"touchstart",this._onTouchstart,Z0)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ns=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(ns||{}),ag=new N("cdk-focus-monitor-default-options"),cc=Pi({passive:!0,capture:!0}),xr=(()=>{class i{_ngZone=y(oe);_platform=y($e);_inputModalityDetector=y(og);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=y(K,{optional:!0});_stopInputModalityDetector=new H;constructor(){let e=y(ag,{optional:!0});this._detectionMode=e?.detectionMode||ns.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=gt(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=bt(e);if(!this._platform.isBrowser||r.nodeType!==1)return q();let o=wr(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return n&&(a.checkChildren=!0),a.subject;let s={checkChildren:n,subject:new H,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let n=bt(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=bt(e),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,n,l)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===ns.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===ns.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?rg:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=gt(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,cc),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,cc)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ke(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cc),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cc),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var dc=new WeakMap,Jt=(()=>{class i{_appRef;_injector=y(Te);_environmentInjector=y(Gt);load(e){let n=this._appRef=this._appRef||this._injector.get(ei),r=dc.get(n);r||(r={loaders:new Set,refs:[]},dc.set(n,r),n.onDestroy(()=>{dc.get(n)?.refs.forEach(o=>o.destroy()),dc.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(so(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var sg=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return i})();function Oi(i){return Array.isArray(i)?i:[i]}var lg=new Set,Cr,dg=(()=>{class i{_platform=y($e);_nonce=y(pa,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gw}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&fw(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function fw(i,t){if(!lg.has(i))try{Cr||(Cr=document.createElement("style"),t&&Cr.setAttribute("nonce",t),Cr.setAttribute("type","text/css"),document.head.appendChild(Cr)),Cr.sheet&&(Cr.sheet.insertRule(`@media ${i} {body{ }}`,0),lg.add(i))}catch(e){console.error(e)}}function gw(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var is=(()=>{class i{_mediaMatcher=y(dg);_zone=y(oe);_queries=new Map;_destroySubject=new H;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return cg(Oi(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=cg(Oi(e)).map(a=>this._registerQuery(a).observable),o=Qr(r);return o=zs(o.pipe(Lt(1)),o.pipe(Ws(1),Us(0))),o.pipe(fe(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new Xn(a=>{let s=l=>this._zone.run(()=>a.next(l));return n.addListener(s),()=>{n.removeListener(s)}}).pipe(un(n),fe(({matches:a})=>({query:e,matches:a})),ke(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function cg(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var _w=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ug=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({providers:[_w]})}return i})();var mg=new N("liveAnnouncerElement",{providedIn:"root",factory:fg});function fg(){return null}var gg=new N("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),vw=0,U0=(()=>{class i{_ngZone=y(oe);_defaultOptions=y(gg,{optional:!0});_liveElement;_document=y(K);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=y(mg,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,o,a;return n.length===1&&typeof n[0]=="number"?a=n[0]:[o,a]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${vw++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],a=o.getAttribute("aria-owns");a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ni=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(Ni||{}),pg="cdk-high-contrast-black-on-white",hg="cdk-high-contrast-white-on-black",z0="cdk-high-contrast-active",uc=(()=>{class i{_platform=y($e);_hasCheckedHighContrastMode;_document=y(K);_breakpointSubscription;constructor(){this._breakpointSubscription=y(is).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ni.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ni.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ni.BLACK_ON_WHITE}return Ni.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(z0,pg,hg),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Ni.BLACK_ON_WHITE?e.add(z0,pg):n===Ni.WHITE_ON_BLACK&&e.add(z0,hg)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),W0=(()=>{class i{constructor(){y(uc)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({imports:[ug]})}return i})();var $0={},Pn=(()=>{class i{_appId=y(er);getId(e){return this._appId!=="ng"&&(e+=this._appId),$0.hasOwnProperty(e)||($0[e]=0),`${e}${$0[e]++}`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function pc(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var vg=" ";function bw(i,t,e){let n=mc(i,t);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),i.setAttribute(t,n.join(vg)))}function yw(i,t,e){let n=mc(i,t);e=e.trim();let r=n.filter(o=>o!==e);r.length?i.setAttribute(t,r.join(vg)):i.removeAttribute(t)}function mc(i,t){return i.getAttribute(t)?.match(/\S+/g)??[]}var bg="cdk-describedby-message",hc="cdk-describedby-host",q0=0,yg=(()=>{class i{_platform=y($e);_document=y(K);_messageRegistry=new Map;_messagesContainer=null;_id=`${q0++}`;constructor(){y(Jt).load(sg),this._id=y(er)+"-"+q0++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;let o=G0(n,r);typeof n!="string"?(_g(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;let o=G0(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let a=this._messageRegistry.get(o);a&&a.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${hc}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(hc);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let r=this._document.createElement("div");_g(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(G0(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let n=mc(e,"aria-describedby").filter(r=>r.indexOf(bg)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let r=this._messageRegistry.get(n);bw(e,"aria-describedby",r.messageElement.id),e.setAttribute(hc,this._id),r.referenceCount++}_removeMessageReference(e,n){let r=this._messageRegistry.get(n);r.referenceCount--,yw(e,"aria-describedby",r.messageElement.id),e.removeAttribute(hc)}_isElementDescribedByMessage(e,n){let r=mc(e,"aria-describedby"),o=this._messageRegistry.get(n),a=o&&o.messageElement.id;return!!a&&r.indexOf(a)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function G0(i,t){return typeof i=="string"?`${t||""}/${i}`:i}function _g(i,t){i.id||(i.id=`${bg}-${t}-${q0++}`)}function K0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function tt(i){return i==null?"":typeof i=="string"?i:`${i}px`}var ww=new N("cdk-dir-doc",{providedIn:"root",factory:xw});function xw(){return y(K)}var Cw=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function wg(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Cw.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Fi=(()=>{class i{value="ltr";change=new j;constructor(){let e=y(ww,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=wg(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Sr;function xg(){if(Sr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Sr=!1,Sr;if("scrollBehavior"in document.documentElement.style)Sr=!0;else{let i=Element.prototype.scrollTo;i?Sr=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Sr=!1}}return Sr}var Li=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({})}return i})();var Sw=20,Er=(()=>{class i{_ngZone=y(oe);_platform=y($e);_renderer=y(rt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new H;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Sw){return this._platform.isBrowser?new Xn(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(da(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):q()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Qe(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_scrollableContainsElement(e,n){let r=bt(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ew=20,To=(()=>{class i{_platform=y($e);_listeners;_viewportSize;_change=new H;_document=y(K,{optional:!0});constructor(){let e=y(oe),n=y(rt).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,s=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=Ew){return e>0?this._change.pipe(da(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ko=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({})}return i})(),Y0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({imports:[Li,ko,Li,ko]})}return i})();var Io=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},oi=class extends Io{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=o}},ai=class extends Io{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},fc=class extends Io{element;constructor(t){super(),this.element=t instanceof J?t.nativeElement:t}},Dr=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof oi)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ai)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof fc)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var rs=class extends Dr{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,n,r,o){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=r,this._document=o}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get(Ys,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,r=t.injector||this._defaultInjector||Te.NULL,o=r.get(Gt,n.injector);e=so(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Po=(()=>{class i extends Dr{_moduleRef=y(Ys,{optional:!0});_document=y(K);_viewContainerRef=y(ut);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new j;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Xe]})}return i})();var Ro=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({})}return i})();var Cg=xg(),gc=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=tt(-this._previousScrollPosition.left),t.style.top=tt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,o=n.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Cg&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Cg&&(n.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var _c=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Qe(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},as=class{enable(){}disable(){}attach(){}};function J0(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,o=i.right<e.left,a=i.left>e.right;return n||r||o||a})}function Sg(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,o=i.left<e.left,a=i.right>e.right;return n||r||o||a})}var vc=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();J0(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Tg=(()=>{class i{_scrollDispatcher=y(Er);_viewportRuler=y(To);_ngZone=y(oe);_document=y(K);constructor(){}noop=()=>new as;close=e=>new _c(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new gc(this._viewportRuler,this._document);reposition=e=>new vc(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Oo=class{positionStrategy;scrollStrategy=new as;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var bc=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var Ig=(()=>{class i{_attachedOverlays=[];_document=y(K);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Pg=(()=>{class i extends Ig{_ngZone=y(oe);_renderer=y(rt).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rg=(()=>{class i extends Ig{_platform=y($e);_ngZone=y(oe);_renderer=y(rt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[st(this._renderer,n,"pointerdown",this._pointerDownListener,r),st(this._renderer,n,"click",this._clickListener,r),st(this._renderer,n,"auxclick",this._clickListener,r),st(this._renderer,n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=gt(e)};_clickListener=e=>{let n=gt(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(Eg(s.overlayElement,n)||Eg(s.overlayElement,r))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Eg(i,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===i)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Og=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return i})(),Ng=(()=>{class i{_platform=y($e);_containerElement;_document=y(K);_styleLoader=y(Jt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||K0()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(e),K0()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(Og)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),X0=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,n,r){this._renderer=e,this._ngZone=n,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},yc=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new H;_attachments=new H;_detachments=new H;_positionStrategy;_scrollStrategy;_locationChanges=kt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new H;_outsidePointerEvents=new H;_renders=new H;_afterRenderRef;_afterNextRenderRef;constructor(t,e,n,r,o,a,s,l,c,d=!1,h,g){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=h,this._renderer=g,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=nn(()=>Gs(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=En(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=T(T({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Ce(T({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=tt(this._config.width),t.height=tt(this._config.height),t.minWidth=tt(this._config.minWidth),t.minHeight=tt(this._config.minHeight),t.maxWidth=tt(this._config.maxWidth),t.maxHeight=tt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new X0(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,n){let r=Oi(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(ke(dn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},Dg="cdk-overlay-connected-position-bounding-box",Dw=/([A-Za-z%]+)$/,wc=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new H;_resizeSubscription=kt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Dg),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,r,s),c=this._getOverlayPoint(l,e,s),d=this._getOverlayFit(c,e,n,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!a||a.overlayFit.visibleArea<d.visibleArea)&&(a={overlayFit:d,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Dg),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;r=n.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){let o=Ag(e),{x:a,y:s}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let d=0-a,h=a+o.width-n.width,g=0-s,_=s+o.height-n.height,b=this._subtractOverflows(o.width,d,h),C=this._subtractOverflows(o.height,g,_),D=b*C;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,o=n.right-e.x,a=Mg(this._overlayRef.getConfig().minHeight),s=Mg(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||a!=null&&a<=r,c=t.fitsInViewportHorizontally||s!=null&&s<=o;return l&&c}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=Ag(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),s=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0),d=0,h=0;return r.width<=o.width?d=c||-a:d=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?h=l||-s:h=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!Mw(this._lastScrollVisibility,n)){let r=new bc(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=t.y,o=n.height-a+this._viewportMargin;else if(e.overlayY==="bottom")s=n.height-t.y+this._viewportMargin*2,o=n.height-s+this._viewportMargin;else{let _=Math.min(n.bottom-t.y+n.top,t.y),b=this._lastBoundingBoxSize.height;o=_*2,a=t.y-_,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-b/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,h,g;if(c)g=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)h=t.x,d=n.right-t.x;else{let _=Math.min(n.right-t.x+n.left,t.x),b=this._lastBoundingBoxSize.width;d=_*2,h=t.x-_,d>b&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-b/2)}return{top:a,left:h,bottom:s,right:g,width:d,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=tt(n.height),r.top=tt(n.top),r.bottom=tt(n.bottom),r.width=tt(n.width),r.left=tt(n.left),r.right=tt(n.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=tt(o)),a&&(r.maxWidth=tt(a))}this._lastBoundingBoxSize=n,Mr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Mr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Mr(n,this._getExactOverlayY(e,t,d)),Mr(n,this._getExactOverlayX(e,t,d))}else n.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),a.maxHeight&&(r?n.maxHeight=tt(a.maxHeight):o&&(n.maxHeight="")),a.maxWidth&&(r?n.maxWidth=tt(a.maxWidth):o&&(n.maxWidth="")),Mr(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=tt(o.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=tt(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Sg(t,n),isOriginOutsideView:J0(t,n),isOverlayClipped:Sg(e,n),isOverlayOutsideView:J0(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Oi(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof J)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}};function Mr(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function Mg(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(Dw);return!e||e==="px"?parseFloat(t):null}return i||null}function Ag(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function Mw(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var kg="cdk-global-overlay-wrapper",xc=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kg),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=n,l=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),c=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,h=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",_="",b="",C="";l?C="flex-start":d==="center"?(C="center",g?b=h:_=h):g?d==="left"||d==="end"?(C="flex-end",_=h):(d==="right"||d==="start")&&(C="flex-start",b=h):d==="left"||d==="start"?(C="flex-start",_=h):(d==="right"||d==="end")&&(C="flex-end",b=h),t.position=this._cssPosition,t.marginLeft=l?"0":_,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":b,e.justifyContent=C,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(kg),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},Fg=(()=>{class i{_viewportRuler=y(To);_document=y(K);_platform=y($e);_overlayContainer=y(Ng);constructor(){}global(){return new xc}flexibleConnectedTo(e){return new wc(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Zn=(()=>{class i{scrollStrategies=y(Tg);_overlayContainer=y(Ng);_positionBuilder=y(Fg);_keyboardDispatcher=y(Pg);_injector=y(Te);_ngZone=y(oe);_document=y(K);_directionality=y(Fi);_location=y(Fn);_outsideClickDispatcher=y(Rg);_animationsModuleType=y(it,{optional:!0});_idGenerator=y(Pn);_renderer=y(rt).createRenderer(null,null);_appRef;_styleLoader=y(Jt);constructor(){}create(e){this._styleLoader.load(Og);let n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),a=new Oo(e);return a.direction=a.direction||this._directionality.value,new yc(o,n,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Gt),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ei)),new rs(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Aw=new N("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(Zn);return()=>i.scrollStrategies.reposition()}});function kw(i){return()=>i.scrollStrategies.reposition()}var Tw={provide:Aw,deps:[Zn],useFactory:kw},Cc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({providers:[Zn,Tw],imports:[Li,Ro,Y0,Y0]})}return i})();function Sc(i){return i!=null&&`${i}`!="false"}var Ar=(()=>{class i{constructor(){y(uc)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({imports:[Li,Li]})}return i})();var Pw=["tooltip"],Q0=20;var ep=new N("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(Zn);return()=>i.scrollStrategies.reposition({scrollThrottle:Q0})}});function Bg(i){return()=>i.scrollStrategies.reposition({scrollThrottle:Q0})}var Hg={provide:ep,deps:[Zn],useFactory:Bg};function jg(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Zg=new N("mat-tooltip-default-options",{providedIn:"root",factory:jg});var Lg="tooltip-panel",Vg=Pi({passive:!0}),Rw=8,Ow=8,Nw=24,Fw=200,tp=(()=>{class i{_elementRef=y(J);_ngZone=y(oe);_platform=y($e);_ariaDescriber=y(yg);_focusMonitor=y(xr);_dir=y(Fi);_injector=y(Te);_viewContainerRef=y(ut);_defaultOptions=y(Zg,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=zg;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Sc(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=Sc(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ri(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ri(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new H;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=Rw}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(ke(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,Vg)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new oi(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(ke(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof J)return this._overlayRef;this._detach()}let n=this._injector.get(Er).getAncestorScrollContainers(this._elementRef),r=this._injector.get(Zn),o=r.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return o.positionChanges.pipe(ke(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=r.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${Lg}`,scrollStrategy:this._injector.get(ep)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(ke(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(ke(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(ke(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!pc(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(ke(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(T(T({},r.main),o.main)),this._addOffset(T(T({},r.fallback),o.fallback))])}_addOffset(e){let n=Ow,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=r?-n:n:e.originX==="end"&&(e.offsetX=r?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),En(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:r,originY:o}=e,a;if(n==="center"?this._dir&&this._dir.value==="rtl"?a=r==="end"?"left":"right":a=r==="start"?"left":"right":a=n==="bottom"&&o==="top"?"above":"below",a!==this._currentPosition){let s=this._overlayRef;if(s){let l=`${this._cssClassPrefix}-${Lg}-`;s.removePanelClass(l+this._currentPosition),s.addPanelClass(l+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,Vg)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let n=this._injector.get(K).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,r=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||En({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&ve("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),zg=(()=>{class i{_changeDetectorRef=y(qe);_elementRef=y(J);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new H;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=y(it,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Nw&&e.width>=Fw}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(n);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&Re(Pw,7),n&2){let o;ne(o=ie())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){n&1&&E("mouseleave",function(a){return r._handleMouseLeave(a)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(n&1){let o=Z();u(0,"div",1,0),E("animationend",function(s){return M(o),A(r._handleAnimationEnd(s))}),u(2,"div",2),f(3),p()()}n&2&&(ve("mdc-tooltip--multiline",r._isMultiline),v("ngClass",r.tooltipClass),m(3),P(r.message))},dependencies:[Se],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return i})(),np=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({providers:[Hg],imports:[W0,Cc,Ar,Ar,ko]})}return i})();function Vw(i,t){if(i&1&&(u(0,"div",10),ee(),u(1,"svg",11),w(2,"path",12),p()()),i&2){let e=x();v("matTooltip",e.warning_str)}}var Ec=class i{constructor(t){this.router=t}fetching=!0;showMenu=!0;spawn_warning=!1;warning_str="";empl_data;empl_name="";empl_jobcode="";office_name="";arr_warning=[];ngOnInit(){return O(this,null,function*(){this.initLoad()})}initLoad(){return O(this,null,function*(){yield this.fetch_user_data(),this.fetching=!1})}fetch_user_data(){return O(this,null,function*(){var t=localStorage.getItem("user_dtl"),e=JSON.parse(t).data[0];console.log(e),this.empl_data=e,this.empl_name=e.EMPL_NAME,this.empl_jobcode=e.JOB_DESCRIPTION,this.office_name=e.NAME_SHORT,this.f_email_check(),this.f_warning_check()})}f_email_check(){this.empl_data.email||this.arr_warning.push("+ User belum mengisi email")}signOut(){localStorage.clear(),this.router.navigate(["/login"])}go_to_profile(){this.router.navigate(["/profile"])}f_warning_check(){this.arr_warning.length>0?(this.warning_str=this.arr_warning.join(`
`),this.spawn_warning=!0):(this.warning_str="",this.spawn_warning=!1)}static \u0275fac=function(e){return new(e||i)(S(te))};static \u0275cmp=R({type:i,selectors:[["app-c-navtop"]],decls:17,vars:4,consts:[[1,"flex","flex-row","justify-between","w-full","p-4","py-2","border-[#b8aa5f]","border-b-2","drop-shadow-md","text-xs","z-10"],[1,"flex","flex-row","items-center","py-1","ml-4"],["class","mr-2 fill-red-800 ","matTooltipClass","mat-tooltip",3,"matTooltip",4,"ngIf"],["id","dropdownAvatarNameButton","data-dropdown-toggle","dropdownAvatarName",1,"flex","flex-row","items-center",3,"click"],[1,"w-8","h-8","border-2","border-[#bbb]","rounded-full","mr-4","overflow-hidden"],["src","assets/img/profile_default.png"],[1,"flex","flex-col","w-fit","pr-4","transition-all"],[1,"text-start"],[1,"flex","flex-row","items-center"],[1,"mx-2","w-2","h-2","bg-[#b8aa5f]","rounded-full"],["matTooltipClass","mat-tooltip",1,"mr-2","fill-red-800",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 256 256"],["d","M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"div"),u(2,"div",1),k(3,Vw,3,1,"div",2),u(4,"div")(5,"button",3),E("click",function(){return n.go_to_profile()}),u(6,"div",4),w(7,"img",5),p(),u(8,"div",6)(9,"p",7),f(10),p(),u(11,"div",8)(12,"p"),f(13),p(),w(14,"div",9),u(15,"p"),f(16),p()()()()()()()),e&2&&(m(3),v("ngIf",n.spawn_warning),m(7),P(n.empl_name),m(3),P(n.empl_jobcode),m(3),P(n.office_name))},dependencies:[Y,de,ue,np,tp],encapsulation:2})};function Bw(i,t){i&1&&(u(0,"div",3),w(1,"app-navleft"),u(2,"div",4),w(3,"app-c-navtop"),u(4,"div",5),w(5,"router-outlet"),p()()())}function Hw(i,t){i&1&&(u(0,"div",6),f(1," loading "),p())}var Dc=class i{fetching=!0;user_data;fetch_user_data(){return O(this,null,function*(){yield new Promise((t,e)=>{setTimeout(()=>{this.user_data={empl_code:"71005122",empl_name:"Muhammad Ramzy",function_id:"IT",office_code:"904",office_name:"Depok"},localStorage.setItem("token",this.user_data),t()},1500)})})}ngOnInit(){return O(this,null,function*(){this.fetching=!0,console.log(this.user_data),yield this.fetch_user_data(),console.log(this.user_data),this.fetching=!1})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-layout"]],decls:3,vars:2,consts:[[1,"h-screen","w-screen"],["class","h-full flex flex-row",4,"ngIf"],["class","h-full w-screen flex items-center justify-center",4,"ngIf"],[1,"h-full","flex","flex-row"],[1,"flex","flex-col","h-full","grow","overflow-auto"],[1,"pt-6","px-6","overflow-auto"],[1,"h-full","w-screen","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0),k(1,Bw,6,0,"div",1)(2,Hw,2,0,"div",2),p()),e&2&&(m(),v("ngIf",!n.fetching),m(),v("ngIf",n.fetching))},dependencies:[Y,de,Kl,Ga,mr,Ec],encapsulation:2})};var Mc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-home"]],decls:4,vars:0,consts:[[1,"flex-grow"],[1,"text-xl"],[1,""]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"p",2),f(3,"Selamat Datang,"),p()()())},encapsulation:2})};function o5(i){let t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return n==="canvas"?$g(i,t):(n==="input"||n==="select"||n==="textarea")&&Wg(i,t),Ug("canvas",i,t,$g),Ug("input, textarea, select",i,t,Wg),t}function Ug(i,t,e,n){let r=t.querySelectorAll(i);if(r.length){let o=e.querySelectorAll(i);for(let a=0;a<r.length;a++)n(r[a],o[a])}}var jw=0;function Wg(i,t){t.type!=="file"&&(t.value=i.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${jw++}`)}function $g(i,t){let e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}function dp(i){let t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function op(i,t,e){let{top:n,bottom:r,left:o,right:a}=i;return e>=n&&e<=r&&t>=o&&t<=a}function cs(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function Gg(i,t,e,n){let{top:r,right:o,bottom:a,left:s,width:l,height:c}=i,d=l*t,h=c*t;return n>r-h&&n<a+h&&e>s-d&&e<o+d}var Ac=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:dp(e)})})}handleScroll(t){let e=gt(t),n=this.positions.get(e);if(!n)return null;let r=n.scrollPosition,o,a;if(e===this._document){let c=this.getViewportScrollPosition();o=c.top,a=c.left}else o=e.scrollTop,a=e.scrollLeft;let s=r.top-o,l=r.left-a;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&cs(c.clientRect,s,l)}),r.top=o,r.left=a,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function a5(i,t){let e=i.rootNodes;if(e.length===1&&e[0].nodeType===t.ELEMENT_NODE)return e[0];let n=t.createElement("div");return e.forEach(r=>n.appendChild(r)),n}function up(i,t,e){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];r?i.setProperty(n,r,e?.has(n)?"important":""):i.removeProperty(n)}return i}function No(i,t){let e=t?"":"none";up(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function qg(i,t,e){up(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function kc(i,t){return t&&t!="none"?i+" "+t:i}function Kg(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=Tc(t.left,t.top)}function Tc(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function Yg(i){let t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function Zw(i){let t=getComputedStyle(i),e=ip(t,"transition-property"),n=e.find(s=>s==="transform"||s==="all");if(!n)return 0;let r=e.indexOf(n),o=ip(t,"transition-duration"),a=ip(t,"transition-delay");return Yg(o[r])+Yg(a[r])}function ip(i,t){return i.getPropertyValue(t).split(",").map(n=>n.trim())}var zw=new Set(["position"]),ap=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,e,n,r,o,a,s,l,c,d){this._document=t,this._rootElement=e,this._direction=n,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=c,this._renderer=d}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),Jg(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return Zw(this._preview)}addEventListener(t,e){return this._renderer.listen(this._preview,t,e)}_createPreview(){let t=this._previewTemplate,e=this._previewClass,n=t?t.template:null,r;if(n&&t){let o=t.matchSize?this._initialDomRect:null,a=t.viewContainer.createEmbeddedView(n,t.context);a.detectChanges(),r=a5(a,this._document),this._previewEmbeddedView=a,t.matchSize?Kg(r,o):r.style.transform=Tc(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=o5(this._rootElement),Kg(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return up(r.style,{"pointer-events":"none",margin:Jg(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},zw),No(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}};function Jg(i){return"showPopover"in i}var Uw={passive:!0},Xg={passive:!1},Ww={passive:!1,capture:!0},$w=800,Qg=new Set(["position"]),sp=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=vi(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new H;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=kt.EMPTY;_pointerUpSubscription=kt.EMPTY;_scrollSubscription=kt.EMPTY;_resizeSubscription=kt.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>No(e,t)))}_disabled=!1;beforeStarted=new H;started=new H;released=new H;ended=new H;entered=new H;exited=new H;dropped=new H;moved=this._moveEvents;data;constrainPosition;constructor(t,e,n,r,o,a,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new Ac(n),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>bt(n)),this._handles.forEach(n=>No(n,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let e=bt(t);return e!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[st(this._renderer,e,"mousedown",this._pointerDown,Xg),st(this._renderer,e,"touchstart",this._pointerDown,Uw),st(this._renderer,e,"dragstart",this._nativeDragStart,Xg)]),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?bt(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),No(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),No(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let r=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),l=this._dropContainer;if(!s){this._endDragSequence(t);return}(!l||!l.isDragging()&&!l.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=n.x-r.x+this._passiveTransform.x,o.y=n.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){ss(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),n=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=st(this._renderer,e,"selectstart",Gw,Ww)}),n){let r=this._rootElement,o=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(s,r),this._initialTransform=r.style.transform||"",this._preview=new ap(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),qg(r,!1,Qg),this._document.body.appendChild(o.replaceChild(a,r)),this.started.next({source:this,event:t}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();let n=this.isDragging(),r=ss(e),o=!r&&e.button!==0,a=this._rootElement,s=gt(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+$w>Date.now(),c=r?yr(e):br(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),n||o||l||c)return;if(this._handles.length){let g=a.style;this._rootElementTapHighlight=g.webkitTapHighlightColor||"",g.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(g=>this._updateOnScroll(g)),this._boundaryElement&&(this._boundaryRect=dp(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);let h=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:h.x,y:h.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){qg(this._rootElement,!0,Qg),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:r,event:t}),e.drop(this,n,this._initialIndex,this._initialContainer,a,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let r=s=>{(!s||this._preview&&gt(s)===this._preview.element&&s.propertyName==="transform")&&(a(),n(),clearTimeout(o))},o=setTimeout(r,e*1.5),a=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,e=t?t.template:null,n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=a5(this._placeholderRef,this._document)):n=o5(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e,n){let r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,a=ss(n)?n.targetTouches[0]:n,s=this._getViewportScrollPosition(),l=a.pageX-o.left-s.left,c=a.pageY-o.top-s.top;return{x:o.left-t.left+l,y:o.top-t.top+c}}_getPointerPositionOnPage(t){let e=this._getViewportScrollPosition(),n=ss(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,o=n.pageY-e.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=r,s.y=o,s.matrixTransform(a.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||e==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=s.top+a,h=s.bottom-(c-a),g=s.left+o,_=s.right-(l-o);n=e5(n,g,_),r=e5(r,d,h)}return{x:n,y:r}}_updatePointerDirectionDelta(t){let{x:e,y:n}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),s=Math.abs(n-o.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(r.y=n>o.y?1:-1,o.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,No(this._rootElement,t))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(t=>t()),this._rootElementCleanups=void 0}_applyRootElementTransform(t,e){let n=1/this.scale,r=Tc(t*n,e*n),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=kc(r,this._initialTransform)}_applyPreviewTransform(t,e){let n=this._previewTemplate?.template?void 0:this._initialTransform,r=Tc(t,e);this._preview.setTransform(kc(r,n))}_getDragDistance(t){let e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(t===0&&e===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||n.width===0&&n.height===0)return;let o=r.left-n.left,a=n.right-r.right,s=r.top-n.top,l=n.bottom-r.bottom;r.width>n.width?(o>0&&(t+=o),a>0&&(t-=a)):t=0,r.height>n.height?(s>0&&(e+=s),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){let e=this.dragStartDelay;return typeof e=="number"?e:ss(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){let e=this._parentPositions.handleScroll(t);if(e){let n=gt(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&cs(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=wr(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){let n=this._previewContainer||"global";if(n==="parent")return t;if(n==="global"){let r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return bt(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}};function e5(i,t,e){return Math.max(t,Math.min(e,i))}function ss(i){return i.type[0]==="t"}function Gw(i){i.preventDefault()}function Vi(i,t,e){let n=t5(t,i.length-1),r=t5(e,i.length-1);if(n===r)return;let o=i[n],a=r<n?-1:1;for(let s=n;s!==r;s+=a)i[s]=i[s+a];i[r]=o}function t5(i,t){return Math.max(0,Math.min(t,i))}var Ic=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,e,n,r){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,n,r);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",l=o.findIndex(D=>D.drag===t),c=o[a],d=o[l].clientRect,h=c.clientRect,g=l>a?1:-1,_=this._getItemOffsetPx(d,h,g),b=this._getSiblingOffsetPx(l,o,g),C=o.slice();return Vi(o,l,a),o.forEach((D,F)=>{if(C[F]===D)return;let pe=D.drag===t,ae=pe?_:b,Ye=pe?t.getPlaceholderElement():D.drag.getRootElement();D.offset+=ae;let xt=Math.round(D.offset*(1/D.drag.scale));s?(Ye.style.transform=kc(`translate3d(${xt}px, 0, 0)`,D.initialTransform),cs(D.clientRect,0,ae)):(Ye.style.transform=kc(`translate3d(0, ${xt}px, 0)`,D.initialTransform),cs(D.clientRect,ae,0))}),this._previousSwap.overlaps=op(h,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?r.x:r.y,{previousIndex:l,currentIndex:a}}enter(t,e,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,n):r,a=this._activeDraggables,s=a.indexOf(t),l=t.getPlaceholderElement(),c=a[o];if(c===t&&(c=a[o+1]),!c&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(c=a[0]),s>-1&&a.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),a.splice(o,0,t)}else this._element.appendChild(l),a.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let e=t.getRootElement();if(e){let n=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:n})=>{cs(n,t,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:dp(n)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getItemOffsetPx(t,e,n){let r=this.orientation==="horizontal",o=r?e.left-t.left:e.top-t.top;return n===-1&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,n){let r=this.orientation==="horizontal",o=e[t].clientRect,a=e[t+n*-1],s=o[r?"width":"height"]*n;if(a){let l=r?"left":"top",c=r?"right":"bottom";n===-1?s-=a.clientRect[l]-o[c]:s+=o[l]-a.clientRect[c]}return s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,r=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let a=n[n.length-1].clientRect;return r?t>=a.right:e>=a.bottom}else{let a=n[0].clientRect;return r?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,n,r){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===t)return!1;if(r){let c=o?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return a===-1||!this._sortPredicate(a,t)?-1:a}},lp=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,e){this._document=t,this._dragDropRegistry=e}start(t){let e=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<e.length;n++){let r=e[n];this._relatedNodes.push([r,r.nextSibling])}this.withItems(t)}sort(t,e,n,r){let o=this._getItemIndexFromPointerPosition(t,e,n),a=this._previousSwap;if(o===-1||this._activeItems[o]===t)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===r.x&&a.deltaY===r.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),d=s.getRootElement();o>l?d.after(c):d.before(c),Vi(this._activeItems,l,o);let h=this._getRootNode().elementFromPoint(e,n);return a.deltaX=r.x,a.deltaY=r.y,a.drag=s,a.overlaps=d===h||d.contains(h),{previousIndex:l,currentIndex:o}}enter(t,e,n,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(t,e,n):r;o===-1&&(o=this._getClosestItemIndexToPointer(t,e,n));let a=this._activeItems[o],s=this._activeItems.indexOf(t);s>-1&&this._activeItems.splice(s,1),a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(o,0,t),a.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,e=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[r,o]=this._relatedNodes[n];r.parentNode===t&&r.nextSibling!==o&&(o===null?t.appendChild(r):o.parentNode===t&&t.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,n){let r=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(n)),o=r?this._activeItems.findIndex(a=>{let s=a.getRootElement();return r===s||s.contains(r)}):-1;return o===-1||!this._sortPredicate(o,t)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=wr(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==t){let{x:l,y:c}=s.getRootElement().getBoundingClientRect(),d=Math.hypot(e-l,n-c);d<r&&(r=d,o=a)}}return o}},n5=.05,s5=.05,mn=function(i){return i[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i}(mn||{}),Bt=function(i){return i[i.NONE=0]="NONE",i[i.LEFT=1]="LEFT",i[i.RIGHT=2]="RIGHT",i}(Bt||{}),cp=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new H;entered=new H;exited=new H;dropped=new H;sorted=new H;receivingStarted=new H;receivingStopped=new H;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=kt.EMPTY;_verticalScrollDirection=mn.NONE;_horizontalScrollDirection=Bt.NONE;_scrollNode;_stopScrollTimers=new H;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,e,n,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o;let a=this.element=bt(t);this._document=n,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new Ac(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,o,a,s,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:o,distance:a,dropPoint:s,event:l})}withItems(t){let e=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>t.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof Ic&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new lp(this._document,this._dragDropRegistry);else{let e=new Ic(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,n)=>this.sortPredicate(e,n,this)),this}withScrollableParents(t){let e=this._container;return this._scrollableElements=t.indexOf(e)===-1?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let e=bt(this.element),n=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(t);return n>-1&&this._scrollableElements.splice(n,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._domRect||!Gg(this._domRect,n5,e,n))return;let o=this._sortStrategy.sort(t,e,n,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=mn.NONE,o=Bt.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||n||Gg(a.clientRect,n5,t,e)&&([r,o]=qw(s,a.clientRect,this._direction,t,e),(r||o)&&(n=s))}),!r&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),l={width:a,height:s,top:0,right:a,bottom:s,left:0};r=l5(l,e),o=c5(l,t),n=window}n&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),em(0,sa).pipe(ke(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===mn.UP?t.scrollBy(0,-e):this._verticalScrollDirection===mn.DOWN&&t.scrollBy(0,e),this._horizontalScrollDirection===Bt.LEFT?t.scrollBy(-e,0):this._horizontalScrollDirection===Bt.RIGHT&&t.scrollBy(e,0)})};_isOverContainer(t,e){return this._domRect!=null&&op(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._domRect||!op(this._domRect,e,n)||!this.enterPredicate(t,this))return!1;let r=this._getShadowRoot().elementFromPoint(e,n);return r?r===this._container||this._container.contains(r):!1}_startReceiving(t,e){let n=this._activeSiblings;!n.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=wr(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}};function l5(i,t){let{top:e,bottom:n,height:r}=i,o=r*s5;return t>=e-o&&t<=e+o?mn.UP:t>=n-o&&t<=n+o?mn.DOWN:mn.NONE}function c5(i,t){let{left:e,right:n,width:r}=i,o=r*s5;return t>=e-o&&t<=e+o?Bt.LEFT:t>=n-o&&t<=n+o?Bt.RIGHT:Bt.NONE}function qw(i,t,e,n,r){let o=l5(t,r),a=c5(t,n),s=mn.NONE,l=Bt.NONE;if(o){let c=i.scrollTop;o===mn.UP?c>0&&(s=mn.UP):i.scrollHeight-c>i.clientHeight&&(s=mn.DOWN)}if(a){let c=i.scrollLeft;e==="rtl"?a===Bt.RIGHT?c<0&&(l=Bt.RIGHT):i.scrollWidth+c>i.clientWidth&&(l=Bt.LEFT):a===Bt.LEFT?c>0&&(l=Bt.LEFT):i.scrollWidth-c>i.clientWidth&&(l=Bt.RIGHT)}return[s,l]}var ls={capture:!0},rp={passive:!1,capture:!0},Kw=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(n,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return i})(),d5=(()=>{class i{_ngZone=y(oe);_document=y(K);_styleLoader=y(Jt);_renderer=y(rt).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=vi([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new H;pointerUp=new H;scroll=new H;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=st(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,rp)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,n){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(Kw),this._activeDragInstances.update(r=>[...r,e]),this._activeDragInstances().length===1)){let r=n.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this.scroll.next(s),ls],["selectstart",this._preventDefaultWhileDragging,rp]];r?a.push(["touchend",o,ls],["touchcancel",o,ls]):a.push(["mouseup",o,ls]),r||a.push(["mousemove",s=>this.pointerMove.next(s),rp]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,l,c])=>st(this._renderer,this._document,s,l,c))})}}stopDragging(e){this._activeDragInstances.update(n=>{let r=n.indexOf(e);return r>-1?(n.splice(r,1),[...n]):n}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let n=[this.scroll];return e&&e!==this._document&&n.push(new Xn(r=>this._ngZone.runOutsideAngular(()=>{let o=st(this._renderer,e,"scroll",a=>{this._activeDragInstances().length&&r.next(a)},ls);return()=>{o()}}))),dn(...n)}registerDirectiveNode(e,n){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,n)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Yw={dragStartThreshold:5,pointerDirectionChangeThreshold:5},u5=(()=>{class i{_document=y(K);_ngZone=y(oe);_viewportRuler=y(To);_dragDropRegistry=y(d5);_renderer=y(rt).createRenderer(null,null);constructor(){}createDrag(e,n=Yw){return new sp(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new cp(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),i5=new N("CDK_DRAG_PARENT");var Jw=new N("CdkDragHandle");var p5=new N("CDK_DRAG_CONFIG"),h5=new N("CdkDropList"),Pc=(()=>{class i{element=y(J);dropContainer=y(h5,{optional:!0,skipSelf:!0});_ngZone=y(oe);_viewContainerRef=y(ut);_dir=y(Fi,{optional:!0});_changeDetectorRef=y(qe);_selfHandle=y(Jw,{optional:!0,self:!0});_parentDrag=y(i5,{optional:!0,skipSelf:!0});_dragDropRegistry=y(d5);_destroyed=new H;_handles=new vt([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new j;released=new j;ended=new j;entered=new j;exited=new j;dropped=new j;moved=new Xn(e=>{let n=this._dragRef.moved.pipe(fe(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(e);return()=>{n.unsubscribe()}});_injector=y(Te);constructor(){let e=this.dropContainer,n=y(p5,{optional:!0}),r=y(u5);this._dragRef=r.createDrag(this.element,{dragStartThreshold:n&&n.dragStartThreshold!=null?n.dragStartThreshold:5,pointerDirectionChangeThreshold:n&&n.pointerDirectionChangeThreshold!=null?n.pointerDirectionChangeThreshold:5,zIndex:n?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),n&&this._assignDefaults(n),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(ke(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){En(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let n=e.rootElementSelector,r=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let n=this._handles.getValue();n.push(e),this._handles.next(n)}_removeHandle(e){let n=this._handles.getValue(),r=n.indexOf(e);r>-1&&(n.splice(r,1),this._handles.next(n))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,n=e;this.rootElementSelector&&(n=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):bt(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let n=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof r=="object"&&r?r:Ri(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe(Lt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let n=this.element.nativeElement.parentElement;for(;n;){let r=this._dragDropRegistry.getDragDirectiveForNode(n);if(r){e.withParent(r._dragRef);break}n=n.parentElement}})}_handleEvents(e){e.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(e){let{lockAxis:n,dragStartDelay:r,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=e;this.disabled=l??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(nt(e=>{let n=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),Tt(e=>dn(...e.map(n=>n._stateChanges.pipe(un(n))))),ke(this._destroyed)).subscribe(e=>{let n=this._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){n&2&&ve("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",se],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",It]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Ue([{provide:i5,useExisting:i}]),je]})}return i})(),r5=new N("CdkDropListGroup");var Rc=(()=>{class i{element=y(J);_changeDetectorRef=y(qe);_scrollDispatcher=y(Er);_dir=y(Fi,{optional:!0});_group=y(r5,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new H;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=y(Pn).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new j;entered=new j;exited=new j;sorted=new j;_unsortedItems=new Set;constructor(){let e=y(u5),n=y(p5,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,n&&this._assignDefaults(n),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,a)=>this.sortPredicate(r,o.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(n=>n._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let n=this._latestSortedRefs.indexOf(e._dragRef);n>-1&&(this._latestSortedRefs.splice(n,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,n)=>e._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(un(this._dir.value),ke(this._destroyed)).subscribe(n=>e.withDirection(n)),e.beforeStarted.subscribe(()=>{let n=Oi(this.connectedTo).map(r=>{if(typeof r=="string"){let o=i._dropLists.find(a=>a.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{n.indexOf(r)===-1&&n.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(r)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Ri(this.autoScrollStep,2),e.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(n=>n._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),dn(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:n,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:s}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=s||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){n&2&&(He("id",r.id),ve("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",se],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",se],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",se],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Ue([{provide:r5,useValue:void 0},{provide:h5,useExisting:i}])]})}return i})();var X={env_dev:{host:""}};function Bi(){let i=localStorage.getItem("user_dtl");if(i)return JSON.parse(i).data[0].EMPL_CODE}function Me(i){let t=localStorage.getItem("user_dtl"),e=JSON.parse(t).data[0];try{if(e)return e}catch{i.navigate(["login"])}}var Xw=["content"],Qw=["scroll"],e4=["padding"],g5=["*"],us=i=>({searchTerm:i});function t4(i,t){if(i&1&&(u(0,"div",3),Nn(1,6),p()),i&2){let e=x();m(),v("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",be(2,us,e.filterValue))}}function n4(i,t){if(i&1&&(u(0,"div",5),Nn(1,6),p()),i&2){let e=x();m(),v("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",be(2,us,e.filterValue))}}var i4=["searchInput"],r4=["clearButton"],o4=(i,t,e)=>({item:i,clear:t,label:e}),a4=(i,t)=>({items:i,clear:t}),s4=(i,t,e,n)=>({item:i,item$:t,index:e,searchTerm:n});function l4(i,t){if(i&1&&(u(0,"div",20),f(1),p()),i&2){let e=x(2);m(),P(e.placeholder)}}function c4(i,t){}function d4(i,t){if(i&1&&k(0,l4,2,1,"ng-template",null,1,Mn)(2,c4,0,0,"ng-template",19),i&2){let e=Kt(1),n=x();m(2),v("ngTemplateOutlet",n.placeholderTemplate||e)}}function u4(i,t){if(i&1){let e=Z();u(0,"span",23),E("click",function(){M(e);let r=x().$implicit,o=x(2);return A(o.unselect(r))}),f(1,"\xD7"),p(),w(2,"span",24)}if(i&2){let e=x().$implicit,n=x(2);m(2),v("ngItemLabel",e.label)("escape",n.escapeHTML)}}function p4(i,t){}function h4(i,t){if(i&1&&(u(0,"div",22),k(1,u4,3,2,"ng-template",null,2,Mn)(3,p4,0,0,"ng-template",12),p()),i&2){let e=t.$implicit,n=Kt(2),r=x(2);ve("ng-value-disabled",e.disabled),m(3),v("ngTemplateOutlet",r.labelTemplate||n)("ngTemplateOutletContext",ti(4,o4,e.value,r.clearItem,e.label))}}function m4(i,t){if(i&1&&_u(0,h4,4,8,"div",21,gu().trackByOption,!0),i&2){let e=x();vu(e.selectedItems)}}function f4(i,t){}function g4(i,t){if(i&1&&k(0,f4,0,0,"ng-template",12),i&2){let e=x();v("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",We(2,a4,e.selectedValues,e.clearItem))}}function _4(i,t){i&1&&w(0,"div",25)}function v4(i,t){}function b4(i,t){if(i&1&&k(0,_4,1,0,"ng-template",null,3,Mn)(2,v4,0,0,"ng-template",19),i&2){let e=Kt(1),n=x();m(2),v("ngTemplateOutlet",n.loadingSpinnerTemplate||e)}}function y4(i,t){if(i&1&&Nn(0,19),i&2){let e=x(2);v("ngTemplateOutlet",e.clearButtonTemplate)}}function w4(i,t){if(i&1&&(u(0,"span",26,4)(2,"span",27),f(3,"\xD7"),p()()),i&2){let e=x(2);Xs("title",e.clearAllText),He("tabindex",e.tabFocusOnClearButton()?0:-1)}}function x4(i,t){if(i&1&&k(0,y4,1,1,"ng-container",19)(1,w4,4,2,"span",26),i&2){let e=x();pt(e.clearButtonTemplate?0:1)}}function C4(i,t){if(i&1&&w(0,"span",32),i&2){let e=x().$implicit,n=x(2);v("ngItemLabel",e.label)("escape",n.escapeHTML)}}function S4(i,t){}function E4(i,t){if(i&1){let e=Z();u(0,"div",31),E("click",function(){let r=M(e).$implicit,o=x(2);return A(o.toggleItem(r))})("mouseover",function(){let r=M(e).$implicit,o=x(2);return A(o.onItemHover(r))}),k(1,C4,1,2,"ng-template",null,5,Mn)(3,S4,0,0,"ng-template",12),p()}if(i&2){let e=t.$implicit,n=Kt(2),r=x(2);ve("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===r.itemsList.markedItem),He("role",e.children?"group":"option")("aria-selected",e.selected)("id",e==null?null:e.htmlId)("aria-setsize",r.itemsList.filteredItems.length)("aria-posinset",e.index+1),m(3),v("ngTemplateOutlet",e.children?r.optgroupTemplate||n:r.optionTemplate||n)("ngTemplateOutletContext",bm(19,s4,e.value,e,e.index,r.searchTerm))}}function D4(i,t){if(i&1&&(u(0,"span")(1,"span",34),f(2),p(),f(3),p()),i&2){let e=x(3);m(2),P(e.addTagText),m(),we('"',e.searchTerm,'"')}}function M4(i,t){}function A4(i,t){if(i&1){let e=Z();u(0,"div",33),E("mouseover",function(){M(e);let r=x(2);return A(r.itemsList.unmarkItem())})("click",function(){M(e);let r=x(2);return A(r.selectTag())}),k(1,D4,4,2,"ng-template",null,6,Mn)(3,M4,0,0,"ng-template",12),p()}if(i&2){let e=Kt(2),n=x(2);ve("ng-option-marked",!n.itemsList.markedItem),m(3),v("ngTemplateOutlet",n.tagTemplate||e)("ngTemplateOutletContext",be(4,us,n.searchTerm))}}function k4(i,t){if(i&1&&(u(0,"div",35),f(1),p()),i&2){let e=x(3);m(),P(e.notFoundText)}}function T4(i,t){}function I4(i,t){if(i&1&&k(0,k4,2,1,"ng-template",null,7,Mn)(2,T4,0,0,"ng-template",12),i&2){let e=Kt(1),n=x(2);m(2),v("ngTemplateOutlet",n.notFoundTemplate||e)("ngTemplateOutletContext",be(2,us,n.searchTerm))}}function P4(i,t){if(i&1&&(u(0,"div",35),f(1),p()),i&2){let e=x(3);m(),P(e.typeToSearchText)}}function R4(i,t){}function O4(i,t){if(i&1&&k(0,P4,2,1,"ng-template",null,8,Mn)(2,R4,0,0,"ng-template",19),i&2){let e=Kt(1),n=x(2);m(2),v("ngTemplateOutlet",n.typeToSearchTemplate||e)}}function N4(i,t){if(i&1&&(u(0,"div",35),f(1),p()),i&2){let e=x(3);m(),P(e.loadingText)}}function F4(i,t){}function L4(i,t){if(i&1&&k(0,N4,2,1,"ng-template",null,9,Mn)(2,F4,0,0,"ng-template",12),i&2){let e=Kt(1),n=x(2);m(2),v("ngTemplateOutlet",n.loadingTextTemplate||e)("ngTemplateOutletContext",be(2,us,n.searchTerm))}}function V4(i,t){if(i&1){let e=Z();u(0,"ng-dropdown-panel",28),E("update",function(r){M(e);let o=x();return A(o.viewPortItems=r)})("scroll",function(r){M(e);let o=x();return A(o.scroll.emit(r))})("scrollToEnd",function(r){M(e);let o=x();return A(o.scrollToEnd.emit(r))})("outsideClick",function(){M(e);let r=x();return A(r.close())}),bi(1),_u(2,E4,4,24,"div",29,gu().trackByOption,!0),k(4,A4,4,6,"div",30),yi(),k(5,I4,3,4)(6,O4,3,1)(7,L4,3,4),p()}if(i&2){let e=x();ve("ng-select-multiple",e.multiple),v("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.ngClass?e.ngClass:e.classes:null)("id",e.dropdownId)("ariaLabelDropdown",e.ariaLabelDropdown),m(2),vu(e.viewPortItems),m(2),pt(e.showAddTag?4:-1),m(),pt(e.showNoItemsFound()?5:-1),m(),pt(e.showTypeToSearch()?6:-1),m(),pt(e.loading&&e.itemsList.filteredItems.length===0?7:-1)}}function B4(i,t){if(i&1&&f(0),i&2){let e=x();we(" ",e.notFoundText," ")}}var _5=/[&<>"']/g,H4=RegExp(_5.source),j4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Z4(i){return i&&H4.test(i)?i.replace(_5,t=>j4[t]):i}function Ke(i){return i!=null}function ds(i){return typeof i=="object"&&Ke(i)}function z4(i){return i instanceof Promise}function Nc(i){return i instanceof Function}var U4=(()=>{class i{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?Z4(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(n){return new(n||i)(S(J))}}static{this.\u0275dir=U({type:i,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[je]})}}return i})(),W4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-option-tmp",""]]})}}return i})(),$4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-optgroup-tmp",""]]})}}return i})(),G4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-label-tmp",""]]})}}return i})(),q4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-multi-label-tmp",""]]})}}return i})(),K4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-header-tmp",""]]})}}return i})(),Y4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-footer-tmp",""]]})}}return i})(),J4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-notfound-tmp",""]]})}}return i})(),X4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-placeholder-tmp",""]]})}}return i})(),Q4=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-typetosearch-tmp",""]]})}}return i})(),ex=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-loadingtext-tmp",""]]})}}return i})(),tx=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-tag-tmp",""]]})}}return i})(),nx=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-loadingspinner-tmp",""]]})}}return i})(),ix=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(S(ge))}}static{this.\u0275dir=U({type:i,selectors:[["","ng-clearbutton-tmp",""]]})}}return i})();function v5(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var rx={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function Oc(i){let t=e=>rx[e]||e;return i.replace(/[^\u0000-\u007E]/g,t)}var pp=class{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,n)=>this.mapItem(e,n)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&Ke(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return this._ngSelect.compareWith?e=n=>this._ngSelect.compareWith(n.value,t):this._ngSelect.bindValue?e=n=>!n.children&&this.resolveNested(n.value,this._ngSelect.bindValue)===t:e=n=>n.value===t||!n.children&&n.label&&n.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(n=>e(n))}addItem(t){let e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=Oc(t).toLocaleLowerCase(),this.filteredItems.find(e=>Oc(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:Oc(t).toLocaleLowerCase();let e=this._ngSelect.searchFn||this._defaultSearchFn,n=this._ngSelect.hideSelected;for(let r of Array.from(this._groups.keys())){let o=[];for(let a of this._groups.get(r)){if(n&&(a.parent&&a.parent.selected||a.selected))continue;let s=this._ngSelect.searchFn?a.value:a;e(t,s)&&o.push(a)}if(o.length>0){let[a]=o.slice(-1);if(a.parent){let s=this._items.find(l=>l===a.parent);this._filteredItems.push(s)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let e=this._getLastMarkedIndex();e>-1?this._markedIndex=e:this._markedIndex=t?this.filteredItems.findIndex(n=>!n.disabled):-1}resolveNested(t,e){if(!ds(t))return t;if(e.indexOf(".")===-1)return t[e];{let n=e.split("."),r=t;for(let o=0,a=n.length;o<a;++o){if(r==null)return null;r=r[n[o]]}return r}}mapItem(t,e){let n=Ke(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),r=Ke(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:Ke(n)?n.toString():"",value:r,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let e of this.selectedItems){let n=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,r=Ke(n)?this.findItem(n):null;this._selectionModel.unselect(e,t),this._selectionModel.select(r||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>this.selectedItems.indexOf(e)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let e=t.parent;this._filteredItems.find(r=>r===e)||this._filteredItems.push(e)}else if(t.children)for(let e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,n)=>e.index-n.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(n=>n.selected)&&(this._filteredItems=this._filteredItems.filter(n=>n!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return Oc(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){let n=new Map;if(t.length===0)return n;if(Array.isArray(t[0].value[e])){for(let a of t){let s=(a.value[e]||[]).map((l,c)=>this.mapItem(l,c));n.set(a,s)}return n}let r=Nc(this._ngSelect.groupBy),o=a=>{let s=r?e(a.value):a.value[e];return Ke(s)?s:void 0};for(let a of t){let s=o(a),l=n.get(s);l?l.push(a):n.set(s,[a])}return n}_flatten(t){let e=Nc(this._ngSelect.groupBy),n=[];for(let r of Array.from(t.keys())){let o=n.length;if(r===void 0){let h=t.get(void 0)||[];n.push(...h.map(g=>(g.index=o++,g)));continue}let a=ds(r),s={label:a?"":String(r),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:v5()},l=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>a?r.value:{[l]:r}),d=t.get(r).map(h=>(h.parent=s,h.children=void 0,h.index=o++,h));s.children=d,s.value=c(r,d.map(h=>h.value)),n.push(s),n.push(...d)}return n}},b5=(()=>{class i{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,n,r){let o=this._dimensions,a=o.itemHeight*n,l=Math.max(0,e)/a*n,c=Math.min(n,Math.ceil(l)+(o.itemsPerViewport+1)),h=Math.max(0,c-o.itemsPerViewport),g=Math.min(h,Math.floor(l)),_=o.itemHeight*Math.ceil(g)-o.itemHeight*Math.min(g,r);return _=isNaN(_)?0:_,g=isNaN(g)?-1:g,c=isNaN(c)?-1:c,g-=r,g=Math.max(0,g),c+=r,c=Math.min(n,c),{topPadding:_,scrollHeight:a,start:g,end:c}}setDimensions(e,n){let r=Math.max(1,Math.floor(n/e));this._dimensions={itemHeight:e,panelHeight:n,itemsPerViewport:r}}getScrollTo(e,n,r){let{panelHeight:o}=this.dimensions,a=e+n,s=r,l=s+o;return o>=a&&r===e?null:a>l?s+a-l:e<=s?e:null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=I({token:i,factory:i.\u0275fac})}}return i})(),m5=["top","right","bottom","left"],ox=typeof requestAnimationFrame<"u"?sa:ou,f5=(()=>{class i{constructor(e,n,r,o,a){this._renderer=e,this._zone=n,this._panelService=r,this._document=a,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.ariaLabelDropdown=Sn(null),this.update=new j,this.scroll=new j,this.scrollToEnd=new j,this.outsideClick=new j,this._destroy$=new H,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:e,panelHeight:n}=this._panelService.dimensions,r=this.markedItem.index*e;return n>r?0:r}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){let n=e.items;this._onItemsChange(n.currentValue,n.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,n=!1){if(!e)return;let r=this.items.indexOf(e);if(r<0||r>=this.itemsLength)return;let o;if(this.virtualScroll){let a=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(r*a,a,this._lastScrollPosition)}else{let a=this._dropdown.querySelector(`#${e.htmlId}`),s=n?a.offsetTop:this._lastScrollPosition;o=this._panelService.getScrollTo(a.offsetTop,a.clientHeight,s)}Ke(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){let e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),m5.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){m5.forEach(r=>{let o=`ng-select-${r}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});let n=`ng-select-${e}`;this._renderer.addClass(this._dropdown,n),this._renderer.addClass(this._select,n)}_handleScroll(){this._zone.runOutsideAngular(()=>{eo(this.scrollElementRef.nativeElement,"scroll").pipe(ke(this._destroy$),da(0,ox)).subscribe(e=>{let n=e.path||e.composedPath&&e.composedPath();if(!n||n.length===0&&!e.target)return;let r=!n||n.length===0?e.target.scrollTop:n[0].scrollTop;this._onContentScrolled(r)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{dn(eo(this._document,"touchstart",{capture:!0}),eo(this._document,"click",{capture:!0})).pipe(ke(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;let n=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,n){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(n):(this._setVirtualHeight(),this._updateItems(n))}_updateItems(e){this.update.emit(this.items),e!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let n=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,n),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;e=e||this._scrollablePanel.scrollTop;let n=this._panelService.calculateItems(e,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform=`translateY(${n.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(n.start,n.end)),this.scroll.emit({start:n.start,end:n.end})}),Ke(e)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{let r=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;this._virtualPadding.style.height=`${r*this.itemsLength}px`;let o=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(r,o),this._panelService.dimensions})}_fireScrollToEnd(e){if(this._scrollToEndFired||e===0)return;let n=this.virtualScroll?this._virtualPadding:this._contentPanel;e+this._dropdown.clientHeight>=n.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if(this.position!=="auto")return this.position;let n=this._select.getBoundingClientRect(),r=document.documentElement.scrollTop||document.body.scrollTop,o=n.top+window.pageYOffset,a=n.height,s=e.getBoundingClientRect().height;return o+a+s>r+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=this._dropdown.shadowRoot?this._dropdown.shadowRoot.querySelector(this.appendTo):document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let e=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect(),r=e.left-n.left;this._dropdown.style.left=r+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){let e=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect(),r=e.height;if(this._currentPosition==="top"){let o=n.bottom-e.bottom;this._dropdown.style.bottom=o+r+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let o=e.top-n.top;this._dropdown.style.top=o+r+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{eo(this._dropdown,"mousedown").pipe(ke(this._destroy$)).subscribe(e=>{e.target.tagName!=="INPUT"&&e.preventDefault()})})}static{this.\u0275fac=function(n){return new(n||i)(S(Je),S(oe),S(b5),S(J),S(K,8))}}static{this.\u0275cmp=R({type:i,selectors:[["ng-dropdown-panel"]],viewQuery:function(n,r){if(n&1&&(Re(Xw,7,J),Re(Qw,7,J),Re(e4,7,J)),n&2){let o;ne(o=ie())&&(r.contentElementRef=o.first),ne(o=ie())&&(r.scrollElementRef=o.first),ne(o=ie())&&(r.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",se],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue",ariaLabelDropdown:[1,"ariaLabelDropdown"]},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[je],ngContentSelectors:g5,decls:9,vars:7,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&(tn(),k(0,t4,2,4,"div",3),u(1,"div",4,0),w(3,"div",null,1),u(5,"div",null,2),ht(7),p()(),k(8,n4,2,4,"div",5)),n&2&&(pt(r.headerTemplate?0:-1),m(),He("aria-label",r.ariaLabelDropdown()),m(2),ve("total-padding",r.virtualScroll),m(2),ve("scrollable-content",r.virtualScroll&&r.items.length),m(3),pt(r.footerTemplate?8:-1))},dependencies:[xi],encapsulation:2,changeDetection:0})}}return i})(),kr=(()=>{class i{constructor(e){this.elementRef=e,this.disabled=!1,this.stateChange$=new H}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static{this.\u0275fac=function(n){return new(n||i)(S(J))}}static{this.\u0275cmp=R({type:i,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",se]},features:[je],ngContentSelectors:g5,decls:1,vars:0,template:function(n,r){n&1&&(tn(),ht(0))},encapsulation:2,changeDetection:0})}}return i})(),zn=function(i){return i.Tab="Tab",i.Enter="Enter",i.Esc="Escape",i.Space=" ",i.ArrowUp="ArrowUp",i.ArrowDown="ArrowDown",i.Backspace="Backspace",i}(zn||{});function y5(){return new hp}var hp=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,n){if(t.selected=!0,(!t.children||!e&&n)&&this._selected.push(t),e)if(t.parent){let r=t.parent.children.length,o=t.parent.children.filter(a=>a.selected).length;t.parent.selected=r===o}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),n&&this._activeChildren(t)?this._selected=[...this._selected.filter(r=>r.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(r=>!r.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(n=>n!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let n=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...n.filter(r=>r!==t&&!r.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let n of t)n.disabled||(n.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},ax=(()=>{class i{constructor(){this.fixedPlaceholder=!1,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),sx=(()=>{class i{warn(e){console.warn(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),w5=new N("ng-select-selection-model"),fn=(()=>{class i{constructor(e,n,r,o,a,s,l){this.classes=e,this.autoFocus=n,this.config=r,this._cd=s,this._console=l,this.ariaLabelDropdown="Options List",this.markFirst=!0,this.fixedPlaceholder=!1,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.tabFocusOnClearButton=Sn(!0,{transform:se}),this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new j,this.focusEvent=new j,this.changeEvent=new j,this.openEvent=new j,this.closeEvent=new j,this.searchEvent=new j,this.clearEvent=new j,this.addEvent=new j,this.removeEvent=new j,this.scroll=new j,this.scrollToEnd=new j,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=v5(),this.escapeHTML=!0,this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new H,this._keyPress$=new H,this._items=[],this.keyDownFn=c=>!0,this.clearItem=c=>{let d=this.selectedItems.find(h=>h.value===c);this.unselect(d)},this.trackByOption=(c,d)=>this.trackByFn?this.trackByFn(d.value):d,this._onChange=c=>{},this._onTouched=()=>{},this._mergeGlobalConfig(r),this.itemsList=new pp(this,o?o():y5()),this.element=a.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e??[]}get disabled(){return this.readonly||this._disabled}get compareWith(){return this._compareWith}set compareWith(e){if(e!=null&&!Nc(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return Ke(this._clearSearchOnAdd)?this._clearSearchOnAdd:Ke(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return Ke(this._deselectOnClick)?this._deselectOnClick:Ke(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}get showAddTag(){if(!this._validTerm)return!1;let e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(n=>n.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(n=>n.label.toLowerCase()===e))&&!this.loading}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let e=this.searchTerm?.trim();return e&&e.length>=this.minTermLength}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=Ke(e.isOpen.currentValue)),e.groupBy&&(e.items||this._setItems([...this.items])),e.inputAttrs&&this._setInputAttributes()}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Ke(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){let n=e.key;if(Object.values(zn).includes(n)){if(this.keyDownFn(e)===!1)return;this.handleKeyCode(e)}else n&&n.length===1&&this._keyPress$.next(n.toLocaleLowerCase())}handleKeyCode(e){let n=e.target;this.clearButton&&this.clearButton.nativeElement===n?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.key){case zn.ArrowDown:this._handleArrowDown(e);break;case zn.ArrowUp:this._handleArrowUp(e);break;case zn.Space:this._handleSpace(e);break;case zn.Enter:this._handleEnter(e);break;case zn.Tab:this._handleTab(e);break;case zn.Esc:this.close(),e.preventDefault();break;case zn.Backspace:this._handleBackspace();break}}handleKeyCodeClear(e){switch(e.key){case zn.Enter:this.handleClearClick(),e.preventDefault();break}}handleMousedown(e){if(this.preventToggleOnRightClick&&e.button===2)return!1;let n=e.target;if(n.tagName!=="INPUT"&&e.preventDefault(),n.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(n.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}n.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value),this._onSelectionChanged())}selectTag(){let e;Nc(this.addTag)?e=this.addTag(this.searchTerm):e=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let n=r=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(r,null):this.itemsList.addItem(r);z4(e)?e.then(r=>this.select(n(r))).catch(()=>{}):e&&this.select(n(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}showNoItemsFound(){let e=this.itemsList.filteredItems.length===0;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(n=>n.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let e=this.selectedItems?.[0];this.searchTerm=e?.label??null}_setItems(e){let n=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Ke(n)?!ds(n):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Ke(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let e=r=>{this.items=r.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},n=()=>{let r=dn(this.ngOptions.changes,this._destroy$);dn(...this.ngOptions.map(o=>o.stateChange$)).pipe(ke(r)).subscribe(o=>{let a=this.itemsList.findItem(o.value);a.disabled=o.disabled,a.label=o.label||a.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(un(this.ngOptions),ke(this._destroy$)).subscribe(r=>{this.bindLabel=this._defaultLabel,e(r),n()})}_isValidWriteValue(e){if(!Ke(e)||this.multiple&&e===""||Array.isArray(e)&&e.length===0)return!1;let n=r=>!Ke(this.compareWith)&&ds(r)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(r)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(e)?e.every(r=>n(r)):(this._console.warn("Multiple select ngModel should be array."),!1):n(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;let n=r=>{let o=this.itemsList.findItem(r);if(o)this.itemsList.select(o);else{let a=ds(r),s=!a&&!this.bindValue;a||s?this.itemsList.select(this.itemsList.mapItem(r,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:r},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(r=>n(r)):n(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(ke(this._destroy$),nt(e=>this._pressedKeys.push(e)),Us(200),Qe(()=>this._pressedKeys.length>0),fe(()=>this._pressedKeys.join(""))).subscribe(e=>{let n=this.itemsList.findByLabel(e);n&&(this.isOpen?(this.itemsList.markItem(n),this._scrollToMarked(),this._cd.markForCheck()):this.select(n)),this._pressedKeys=[]})}_setInputAttributes(){let e=this.searchInput.nativeElement,n=T({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:"off","aria-controls":this.dropdownId},this.inputAttrs);for(let r of Object.keys(n))e.setAttribute(r,n[r])}_updateNgModel(){let e=[];for(let r of this.selectedItems)if(this.bindValue){let o=null;if(r.children){let a=this.groupValue?this.bindValue:this.groupBy;o=r.value[a||this.groupBy]}else o=this.itemsList.resolveNested(r.value,this.bindValue);e.push(o)}else e.push(r.value);let n=this.selectedItems.map(r=>r.value);this.multiple?(this._onChange(e),this.changeEvent.emit(n)):(this._onChange(Ke(e[0])?e[0]:null),this.changeEvent.emit(n[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(this.isOpen===!1){if(this.showClear()&&!e.shiftKey&&this.tabFocusOnClearButton())this.focusOnClear(),e.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){let n=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(n<0||n===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.fixedPlaceholder=this.fixedPlaceholder||e.fixedPlaceholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=this.getVirtualScroll(e),this.openOnEnter=Ke(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}getVirtualScroll(e){return Ke(this.virtualScroll)?this.virtualScroll:this.isVirtualScrollDisabled(e)}isVirtualScrollDisabled(e){return Ke(e.disableVirtualScroll)?!e.disableVirtualScroll:!1}static{this.\u0275fac=function(n){return new(n||i)(to("class"),to("autofocus"),S(ax),S(w5,8),S(J),S(qe),S(sx))}}static{this.\u0275cmp=R({type:i,selectors:[["ng-select"]],contentQueries:function(n,r,o){if(n&1&&(mt(o,W4,5,ge),mt(o,$4,5,ge),mt(o,G4,5,ge),mt(o,q4,5,ge),mt(o,K4,5,ge),mt(o,Y4,5,ge),mt(o,J4,5,ge),mt(o,X4,5,ge),mt(o,Q4,5,ge),mt(o,ex,5,ge),mt(o,tx,5,ge),mt(o,nx,5,ge),mt(o,ix,5,ge),mt(o,kr,5)),n&2){let a;ne(a=ie())&&(r.optionTemplate=a.first),ne(a=ie())&&(r.optgroupTemplate=a.first),ne(a=ie())&&(r.labelTemplate=a.first),ne(a=ie())&&(r.multiLabelTemplate=a.first),ne(a=ie())&&(r.headerTemplate=a.first),ne(a=ie())&&(r.footerTemplate=a.first),ne(a=ie())&&(r.notFoundTemplate=a.first),ne(a=ie())&&(r.placeholderTemplate=a.first),ne(a=ie())&&(r.typeToSearchTemplate=a.first),ne(a=ie())&&(r.loadingTextTemplate=a.first),ne(a=ie())&&(r.tagTemplate=a.first),ne(a=ie())&&(r.loadingSpinnerTemplate=a.first),ne(a=ie())&&(r.clearButtonTemplate=a.first),ne(a=ie())&&(r.ngOptions=a)}},viewQuery:function(n,r){if(n&1&&(Re(f5,5),Re(i4,7),Re(r4,5)),n&2){let o;ne(o=ie())&&(r.dropdownPanel=o.first),ne(o=ie())&&(r.searchInput=o.first),ne(o=ie())&&(r.clearButton=o.first)}},hostVars:20,hostBindings:function(n,r){n&1&&E("keydown",function(a){return r.handleKeyDown(a)}),n&2&&ve("ng-select-typeahead",r.typeahead)("ng-select-multiple",r.multiple)("ng-select-taggable",r.addTag)("ng-select-searchable",r.searchable)("ng-select-clearable",r.clearable)("ng-select-opened",r.isOpen)("ng-select",r.useDefaultClass)("ng-select-filtered",r.filtered)("ng-select-single",r.single)("ng-select-disabled",r.disabled)},inputs:{ariaLabelDropdown:"ariaLabelDropdown",bindLabel:"bindLabel",bindValue:"bindValue",ariaLabel:"ariaLabel",markFirst:[2,"markFirst","markFirst",se],placeholder:"placeholder",fixedPlaceholder:"fixedPlaceholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",se],closeOnSelect:[2,"closeOnSelect","closeOnSelect",se],hideSelected:[2,"hideSelected","hideSelected",se],selectOnTab:[2,"selectOnTab","selectOnTab",se],openOnEnter:[2,"openOnEnter","openOnEnter",se],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",It],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",It],virtualScroll:[2,"virtualScroll","virtualScroll",se],selectableGroup:[2,"selectableGroup","selectableGroup",se],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",se],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",se],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",It],tabFocusOnClearButton:[1,"tabFocusOnClearButton"],readonly:[2,"readonly","readonly",se],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",se],minTermLength:[2,"minTermLength","minTermLength",It],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",se],ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",se],addTag:"addTag",searchable:[2,"searchable","searchable",se],clearable:[2,"clearable","clearable",se],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick",keyDownFn:"keyDownFn"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[Ue([{provide:In,useExisting:$t(()=>i),multi:!0},b5]),je],decls:15,vars:20,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],[1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","ariaLabelDropdown"],["aria-atomic","true","aria-live","polite","role","status",1,"ng-visually-hidden"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],[1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","ariaLabelDropdown"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(n,r){if(n&1){let o=Z();u(0,"div",10),E("mousedown",function(s){return M(o),A(r.handleMousedown(s))}),u(1,"div",11),k(2,d4,3,1)(3,m4,2,0)(4,g4,1,5,null,12),u(5,"div",13)(6,"input",14,0),E("blur",function(s){return M(o),A(r.onInputBlur(s))})("change",function(s){return M(o),A(s.stopPropagation())})("compositionend",function(){M(o);let s=Kt(7);return A(r.onCompositionEnd(s.value))})("compositionstart",function(){return M(o),A(r.onCompositionStart())})("focus",function(s){return M(o),A(r.onInputFocus(s))})("input",function(){M(o);let s=Kt(7);return A(r.filter(s.value))}),p()()(),k(8,b4,3,1)(9,x4,2,1),u(10,"span",15),w(11,"span",16),p()(),k(12,V4,8,18,"ng-dropdown-panel",17),u(13,"div",18),k(14,B4,1,1),p()}if(n&2){let o;ve("ng-appearance-outline",r.appearance==="outline")("ng-has-value",r.hasValue),m(2),pt(r.selectedItems.length===0&&!r.searchTerm||r.fixedPlaceholder?2:-1),m(),pt((!r.multiLabelTemplate||!r.multiple)&&r.selectedItems.length>0?3:-1),m(),pt(r.multiple&&r.multiLabelTemplate&&r.selectedValues.length>0?4:-1),m(2),v("disabled",r.disabled)("readOnly",!r.searchable||r.itemsList.maxItemsSelected)("value",(o=r.searchTerm)!==null&&o!==void 0?o:""),He("aria-activedescendant",r.isOpen?r.itemsList==null||r.itemsList.markedItem==null?null:r.itemsList.markedItem.htmlId:null)("aria-controls",r.isOpen?r.dropdownId:null)("aria-expanded",r.isOpen)("aria-label",r.ariaLabel)("id",r.labelForId)("tabindex",r.tabIndex),m(2),pt(r.loading?8:-1),m(),pt(r.showClear()?9:-1),m(3),pt(r.isOpen?12:-1),m(2),pt(r.isOpen&&r.showNoItemsFound()?14:-1)}},dependencies:[xi,U4,f5,Se],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}.ng-visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);border:0;white-space:nowrap}
`],encapsulation:2,changeDetection:0})}}return i})(),Fc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=ce({type:i})}static{this.\u0275inj=le({providers:[{provide:w5,useValue:y5}]})}}return i})();var lx=["determinateSpinner"];function cx(i,t){if(i&1&&(ee(),u(0,"svg",11),w(1,"circle",12),p()),i&2){let e=x();He("viewBox",e._viewBox()),m(),Dn("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),He("r",e._circleRadius())}}var dx=new N("mat-progress-spinner-default-options",{providedIn:"root",factory:ux});function ux(){return{diameter:C5}}var C5=100,px=10,Lc=(()=>{class i{_elementRef=y(J);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=y(it,{optional:!0}),n=y(dx);this._noopAnimations=e==="NoopAnimations"&&!!n&&!n._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=C5;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-px)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(n&1&&Re(lx,5),n&2){let o;ne(o=ie())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){n&2&&(He("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),Vt("mat-"+r.color),Dn("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),ve("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",It],diameter:[2,"diameter","diameter",It],strokeWidth:[2,"strokeWidth","strokeWidth",It]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(n&1&&(k(0,cx,2,8,"ng-template",null,0,Mn),u(2,"div",2,1),ee(),u(4,"svg",3),w(5,"circle",4),p()(),De(),u(6,"div",5)(7,"div",6)(8,"div",7),Nn(9,8),p(),u(10,"div",9),Nn(11,8),p(),u(12,"div",10),Nn(13,8),p()()()),n&2){let o=Kt(1);m(4),He("viewBox",r._viewBox()),m(),Dn("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),He("r",r._circleRadius()),m(4),v("ngTemplateOutlet",o),m(2),v("ngTemplateOutlet",o),m(2),v("ngTemplateOutlet",o)}},dependencies:[xi],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return i})();var Vc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({imports:[Ar]})}return i})();var Bc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-c-loading-widget"]],decls:7,vars:0,consts:[[1,"w-[100vw]","h-[100vh]","bg-[#000000b1]","flex","items-center","justify-center","z-50","fixed","top-0","left-0"],[1,"p-4","rounded-md","bg-white","flex","flex-col","items-center","justify-center","shadow-md"],[1,"p-4"],["mode","indeterminate"],[1,"py-2"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),w(3,"mat-progress-spinner",3),p(),w(4,"div",4),u(5,"p"),f(6,"Processing..."),p()()())},dependencies:[Vc,Lc],encapsulation:2})};var lt=class i{constructor(t){this.router=t}usr_detail=null;get_curr_usr_dtl(){try{return JSON.parse(localStorage.getItem("user_dtl")).data[0]}catch{console.log("err"),this.router.navigate(["/login"])}}set_user_dtl(){this.usr_detail=JSON.parse(localStorage.getItem("user_dtl")).data[0]}get_usr_detail(){let t=this.usr_detail;return this.usr_detail}get_usr_empl_code(){return JSON.parse(localStorage.getItem("user_dtl")).data[0]}get_usr_token(){return JSON.parse(localStorage.getItem("user_dtl")).data[0].token}isAdmin(){return this.usr_detail.EMPL_JOB=="G00123"}static \u0275fac=function(e){return new(e||i)(B(te))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function hx(i,t){if(i&1&&(u(0,"option",8),f(1),p()),i&2){let e=t.$implicit;v("value",e.empl_branch),m(),P(e.cabang)}}function mx(i,t){if(i&1){let e=Z();u(0,"select",6),E("change",function(r){M(e);let o=x();return A(o.on_lov_cabang_change(r))}),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_cabang,r)||(o.act_cabang=r),A(r)}),k(1,hx,2,2,"option",7),p()}if(i&2){let e=x();W("ngModel",e.act_cabang),m(),v("ngForOf",e.lov_cabang)}}function fx(i,t){if(i&1&&(u(0,"option",8),f(1),p()),i&2){let e=t.$implicit;v("value",e.personal_subarea),m(),P(e.job_name)}}function gx(i,t){if(i&1){let e=Z();u(0,"select",6),E("change",function(r){M(e);let o=x();return A(o.on_lov0_change(r))}),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_sub_area,r)||(o.act_sub_area=r),A(r)}),k(1,fx,2,2,"option",7),p()}if(i&2){let e=x();W("ngModel",e.act_sub_area),m(),v("ngForOf",e.lov0)}}function _x(i,t){if(i&1&&(u(0,"option"),f(1),p()),i&2){let e=t.$implicit;m(),P(e.empl_name)}}function vx(i,t){if(i&1){let e=Z();u(0,"select",6),E("change",function(r){M(e);let o=x();return A(o.on_lov1_change(r))}),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_person,r)||(o.act_person=r),A(r)}),k(1,_x,2,1,"option",9),p()}if(i&2){let e=x();W("ngModel",e.act_person),m(),v("ngForOf",e.lov1)}}function bx(i,t){if(i&1&&(u(0,"option"),f(1),p()),i&2){let e=t.$implicit;m(),P(e)}}function yx(i,t){if(i&1){let e=Z();u(0,"select",6),E("change",function(r){M(e);let o=x();return A(o.on_checker_change(r))}),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_checker,r)||(o.act_checker=r),A(r)}),k(1,bx,2,1,"option",9),p()}if(i&2){let e=x();W("ngModel",e.act_checker),m(),v("ngForOf",e.arr_checker)}}var Hc=class i{constructor(t,e,n){this.http=t;this.repUser=e;this.router=n}itemData;itemIndex;total_i;itemDataChange=new j;deleteThis=new j;itemDataVal;act_user;act_cabang;act_sub_area;act_job;act_person;act_person_obj;act_checker;last_item=!1;exl_empl_code;lov_cabang;lov0;lov1;fetching_cabang=!0;fetching_subarea=!0;fetching_person=!0;arr_checker=["APPROVE","CEK"];ngOnInit(){this.initLoad()}initLoad(){return O(this,null,function*(){this.set_init(),yield this.get_cabang(),this.act_user=this.repUser.get_usr_empl_code()})}set_init(){this.itemDataVal=T({},this.itemData),this.act_cabang="-",this.act_person=null,this.act_person_obj=null,this.last_item=this.itemIndex+1==this.total_i,console.log(this.itemIndex+1),console.log(this.total_i)}on_lov_cabang_change(t){return O(this,null,function*(){let e=t.target,n=e.value,r=e.options[e.selectedIndex].text,o=e.selectedIndex,a=this.lov_cabang[o];this.act_cabang=n,this.act_job=null,this.act_person=null,this.act_sub_area=a.personal_subarea,this.act_checker=null,this.act_person=null,this.act_person_obj=null,yield this.get_appr_subarea()})}on_lov0_change(t){return O(this,null,function*(){let e=t.target,n=e.value,r=e.options[e.selectedIndex].text;this.act_sub_area=n,this.act_job=r,console.log([this.act_person,this.act_person_obj]),this.act_checker=null,this.act_person=null,yield this.get_appr_person()})}on_lov1_change(t){return O(this,null,function*(){let e=t.target,n=e.options[e.selectedIndex].index;this.act_person_obj=this.lov1[n],this.act_checker=null})}on_checker_change(t){let n=t.target.selectedIndex;this.change_act_person()}change_act_person(){this.itemData.EMPL_NAME=this.act_person_obj.empl_name,this.itemData.EMPL_CODE=this.act_person_obj.empl_code,this.itemData.LVL=this.itemIndex,this.itemData.POSISION=this.act_checker,this.itemDataChange.emit(this.itemData)}removeThis(t){console.log(this.itemIndex),this.deleteThis.emit(this.itemIndex)}get_cabang(){return O(this,null,function*(){this.fetching_cabang=!0;let t={personal_subarea:Me(this.router).personal_subarea,EMPL_BRANCH:Me(this.router).EMPL_BRANCH};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_user_cabang",{params:t}));this.lov_cabang=e.data,this.act_cabang=null,this.act_job=null,this.fetching_cabang=!1})}get_appr_subarea(){return O(this,null,function*(){console.log("get_appr_subarea"),this.fetching_subarea=!0;let t={empl_branch:this.act_cabang,empl_subarea:this.act_sub_area};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_appr_subarea",{params:t}));this.act_sub_area=null,this.lov0=e.data,this.act_job=null,this.act_person=null,this.fetching_subarea=!1})}get_appr_person(){return O(this,null,function*(){console.log("get_user_cabang"),this.fetching_person=!0;let t={EMPL_BRANCH:this.act_cabang,empl_subarea:this.act_sub_area,ACT_JOB:this.act_job,act_user:this.act_user};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_appr_person",{params:t}));this.lov1=e.data,this.act_person_obj=null,this.act_person=null,this.fetching_person=!1})}static \u0275fac=function(e){return new(e||i)(S(Ee),S(lt),S(te))};static \u0275cmp=R({type:i,selectors:[["app-c-approval-item"]],inputs:{itemData:"itemData",itemIndex:"itemIndex",total_i:"total_i"},outputs:{itemDataChange:"itemDataChange",deleteThis:"deleteThis"},decls:10,vars:5,consts:[[1,"flex","flex-row","items-center","p-2"],[1,"px-2","pr-4"],["class","w-[240px] mr-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block p-1.5 ",3,"ngModel","change","ngModelChange",4,"ngIf"],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"w-[240px]","mr-4","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-1.5",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),f(2),p(),k(3,mx,2,2,"select",2)(4,gx,2,2,"select",2)(5,vx,2,2,"select",2)(6,yx,2,2,"select",2),u(7,"button",3),E("click",function(o){return n.removeThis(o)}),ee(),u(8,"svg",4),w(9,"path",5),p()()()),e&2&&(m(2),P(n.itemIndex+1),m(),v("ngIf",!n.fetching_cabang),m(),v("ngIf",n.act_cabang!=null&&!n.fetching_cabang),m(),v("ngIf",n.act_job!=null&&!n.fetching_person),m(),v("ngIf",n.act_person_obj!=null&&n.act_cabang!=null&&n.act_person_obj!=null))},dependencies:[Ve,Y,xe,de,ue,ot,at,Pt,Ie,Fe],encapsulation:2})};var gn=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(gn||{}),mp=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=gn.HIDDEN;constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},E5=Pi({passive:!0,capture:!0}),fp=class{_events=new Map;addHandler(t,e,n,r){let o=this._events.get(e);if(o){let a=o.get(n);a?a.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,E5)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,E5)))}_delegateEventHandler=t=>{let e=gt(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}},ps={enterDuration:225,exitDuration:150},wx=800,D5=Pi({passive:!0,capture:!0}),M5=["mousedown","touchstart"],A5=["mouseup","mouseleave","touchend","touchcancel"],xx=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return i})(),jc=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new fp;constructor(t,e,n,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=bt(n)),o&&o.get(Jt).load(xx)}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=T(T({},ps),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let a=n.radius||Cx(t,e,r),s=t-r.left,l=e-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${s-a}px`,d.style.top=`${l-a}px`,d.style.height=`${a*2}px`,d.style.width=`${a*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),g=h.transitionProperty,_=h.transitionDuration,b=g==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,C=new mp(this,d,n,b);d.style.transform="scale3d(1, 1, 1)",C.state=gn.FADING_IN,n.persistent||(this._mostRecentTransientRipple=C);let D=null;return!b&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let F=()=>{D&&(D.fallbackTimer=null),clearTimeout(ae),this._finishRippleTransition(C)},pe=()=>this._destroyRipple(C),ae=setTimeout(pe,c+100);d.addEventListener("transitionend",F),d.addEventListener("transitioncancel",pe),D={onTransitionEnd:F,onTransitionCancel:pe,fallbackTimer:ae}}),this._activeRipples.set(C,D),(b||!c)&&this._finishRippleTransition(C),C}fadeOutRipple(t){if(t.state===gn.FADING_OUT||t.state===gn.HIDDEN)return;let e=t.element,n=T(T({},ps),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=gn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=bt(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,M5.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{A5.forEach(e=>{this._triggerElement.addEventListener(e,this,D5)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===gn.FADING_IN?this._startFadeOutTransition(t):t.state===gn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=gn.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=gn.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=br(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+wx;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!yr(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===gn.VISIBLE||t.config.terminateOnPointerUp&&t.state===gn.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(M5.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(A5.forEach(e=>t.removeEventListener(e,this,D5)),this._pointerUpEventsRegistered=!1))}};function Cx(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var k5=new N("mat-ripple-global-options");var Sx={capture:!0},Ex=["focus","mousedown","mouseenter","touchstart"],gp="mat-ripple-loader-uninitialized",_p="mat-ripple-loader-class-name",T5="mat-ripple-loader-centered",Zc="mat-ripple-loader-disabled",I5=(()=>{class i{_document=y(K);_animationMode=y(it,{optional:!0});_globalRippleOptions=y(k5,{optional:!0});_platform=y($e);_ngZone=y(oe);_injector=y(Te);_eventCleanups;_hosts=new Map;constructor(){let e=y(rt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>Ex.map(n=>st(e,this._document,n,this._onInteraction,Sx)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(gp,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(_p))&&e.setAttribute(_p,n.className||""),n.centered&&e.setAttribute(T5,""),n.disabled&&e.setAttribute(Zc,"")}setDisabled(e,n){let r=this._hosts.get(e);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):n?e.setAttribute(Zc,""):e.removeAttribute(Zc)}_onInteraction=e=>{let n=gt(e);if(n instanceof HTMLElement){let r=n.closest(`[${gp}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(_p)),e.append(n);let r=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,a=r?0:o?.animation?.enterDuration??ps.enterDuration,s=r?0:o?.animation?.exitDuration??ps.exitDuration,l={rippleDisabled:r||o?.disabled||e.hasAttribute(Zc),rippleConfig:{centered:e.hasAttribute(T5),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:a,exitDuration:s}}},c=new jc(l,this._ngZone,n,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(gp)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var zc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return i})();var Dx=new N("MAT_BUTTON_CONFIG");var Mx=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],P5=(()=>{class i{_elementRef=y(J);_ngZone=y(oe);_animationMode=y(it,{optional:!0});_focusMonitor=y(xr);_rippleLoader=y(I5);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){y(Jt).load(zc);let e=y(Dx,{optional:!0}),n=this._elementRef.nativeElement,r=n.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:a}of Mx)n.hasAttribute(o)&&r.add(...a)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",se],disabled:[2,"disabled","disabled",se],ariaDisabled:[2,"aria-disabled","ariaDisabled",se],disabledInteractive:[2,"disabledInteractive","disabledInteractive",se]}})}return i})();var Ax=["mat-button",""],kx=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Tx=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var R5=(()=>{class i extends P5{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(i)))(r||i)}})();static \u0275cmp=R({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(He("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Vt(r.color?"mat-"+r.color:""),ve("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Xe],attrs:Ax,ngContentSelectors:Tx,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(tn(kx),w(0,"span",0),ht(1),u(2,"span",1),ht(3,1),p(),ht(4,2),w(5,"span",2)(6,"span",3)),n&2&&ve("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();var O5={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function Ix(i,t){if(i&1){let e=Z();u(0,"div",1)(1,"button",2),E("click",function(){M(e);let r=x();return A(r.action())}),f(2),p()()}if(i&2){let e=x();m(2),we(" ",e.data.action," ")}}var Px=["label"];function Rx(i,t){}var Ox=Math.pow(2,31)-1,hs=class{_overlayRef;instance;containerInstance;_afterDismissed=new H;_afterOpened=new H;_onAction=new H;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Ox))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},N5=new N("MatSnackBarData"),Fo=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},Nx=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),Fx=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),Lx=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),Vx=(()=>{class i{snackBarRef=y(hs);data=y(N5);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){n&1&&(u(0,"div",0),f(1),p(),k(2,Ix,3,1,"div",1)),n&2&&(m(),we(" ",r.data.message,`
`),m(),pt(r.hasAction?2:-1))},dependencies:[R5,Nx,Fx,Lx],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return i})(),vp="_mat-snack-bar-enter",bp="_mat-snack-bar-exit",Bx=(()=>{class i extends Dr{_ngZone=y(oe);_elementRef=y(J);_changeDetectorRef=y(qe);_platform=y($e);_rendersRef;_animationsDisabled=y(it,{optional:!0})==="NoopAnimations";snackBarConfig=y(Fo);_document=y(K);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new H;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new H;_onExit=new H;_onEnter=new H;_animationState="void";_live;_label;_role;_liveElementId=y(Pn).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=Gs(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){e===bp?this._completeExit():e===vp&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(Lt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(vp)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(vp)},200)))}exit(){return this._destroyed?q(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(Lt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(bp)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(bp),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(a=>e.classList.add(a)):e.classList.add(n)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,n=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(n&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(n&1&&(Re(Po,7),Re(Px,7)),n&2){let o;ne(o=ie())&&(r._portalOutlet=o.first),ne(o=ie())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,r){n&1&&E("animationend",function(a){return r.onAnimationEnd(a.animationName)})("animationcancel",function(a){return r.onAnimationEnd(a.animationName)}),n&2&&ve("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[Xe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(u(0,"div",1)(1,"div",2,0)(3,"div",3),k(4,Rx,0,0,"ng-template",4),p(),w(5,"div"),p()()),n&2&&(m(5),He("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Po],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return i})();function Hx(){return new Fo}var jx=new N("mat-snack-bar-default-options",{providedIn:"root",factory:Hx}),Ge=(()=>{class i{_overlay=y(Zn);_live=y(U0);_injector=y(Te);_breakpointObserver=y(is);_parentSnackBar=y(i,{optional:!0,skipSelf:!0});_defaultConfig=y(jx);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Vx;snackBarContainerComponent=Bx;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){let o=T(T({},this._defaultConfig),r);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=Te.create({parent:r||this._injector,providers:[{provide:Fo,useValue:n}]}),a=new oi(this.snackBarContainerComponent,n.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=n,s.instance}_attach(e,n){let r=T(T(T({},new Fo),this._defaultConfig),n),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new hs(a,o);if(e instanceof ge){let l=new ai(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(l)}else{let l=this._createInjector(r,s),c=new oi(e,void 0,l),d=a.attachComponentPortal(c);s.instance=d.instance}return this._breakpointObserver.observe(O5.HandsetPortrait).pipe(ke(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let n=new Oo;n.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,s=!a&&e.horizontalPosition!=="center";return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(e,n){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Te.create({parent:r||this._injector,providers:[{provide:hs,useValue:n},{provide:N5,useValue:e.data}]})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Xt=class i{enc_str(t){try{return t=t.replaceAll("'","%27"),t=t.replaceAll('"',"%22"),t}catch{return""}}dec_str(t){try{return t=t.replaceAll("%27","'"),t=t.replaceAll("%22",'"'),t}catch{return""}}static \u0275fac=function(e){return new(e||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Zx=i=>({"bg-gray-300":i}),zx=i=>({"placeholder-opacity-100":i}),Ux=(i,t)=>({"fill-[#159d42]":i,"fill-[#989898]":t}),Wx=i=>({"bg-[#46b946]":i});function $x(i,t){i&1&&w(0,"app-c-loading-widget")}function Gx(i,t){if(i&1&&(u(0,"option",69),f(1),p()),i&2){let e=t.$implicit;v("value",e.NAME_TYPE),m(),we(" ",e.NAME_TYPE,"")}}function qx(i,t){if(i&1){let e=Z();u(0,"tr",0)(1,"td",0)(2,"div",46),f(3),p()(),u(4,"td",47)(5,"input",48),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.KETERANGAN,r)||(o.KETERANGAN=r),A(r)}),p()(),u(6,"td",49)(7,"ng-select",50),E("change",function(r){let o=M(e).index,a=x();return A(a.on_rek_changed(r,o))}),p()(),u(8,"td")(9,"select",51),G("valueChange",function(r){let o=M(e).$implicit;return $(o.JENIS_PEMBIAYAAN,r)||(o.JENIS_PEMBIAYAAN=r),A(r)}),E("change",function(r){let o=M(e).index,a=x();return A(a.on_type_pengajuan_changed(r,o))}),k(10,Gx,2,2,"option",52),p()(),u(11,"td",49)(12,"input",53),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.HARGA_SATUAN,r)||(o.HARGA_SATUAN=r),A(r)}),E("input",function(){let r=M(e).index,o=x();return A(o.getTotalHarga(r))}),p()(),u(13,"td",49)(14,"input",54),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.QTY,r)||(o.QTY=r),A(r)}),E("input",function(){let r=M(e).index,o=x();return A(o.getTotalHarga(r))}),p()(),u(15,"td")(16,"div",55)(17,"div",56)(18,"input",57),E("click",function(r){let o=M(e).index,a=x();return A(a.isPPN_clicked(r,o))}),p(),w(19,"div",58),u(20,"div",59)(21,"input",60),E("input",function(){let r=M(e).index,o=x();return A(o.getTotalHarga(r))}),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.PPN,r)||(o.PPN=r),A(r)}),p(),u(22,"div",61)(23,"p"),f(24,"%"),p()()()()()(),u(25,"td")(26,"div",55)(27,"div",56)(28,"input",57),E("click",function(r){let o=M(e).index,a=x();return A(a.isPPH_clicked(r,o))}),p(),w(29,"div",58),u(30,"div",59)(31,"input",60),E("input",function(){let r=M(e).index,o=x();return A(o.getTotalHarga(r))}),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.PPH,r)||(o.PPH=r),A(r)}),p(),u(32,"div",61)(33,"p"),f(34,"%"),p()()()()()(),u(35,"td",49)(36,"input",62),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.TOTAL_HARGA,r)||(o.TOTAL_HARGA=r),A(r)}),E("change",function(){M(e);let r=x();return A(r.getTotal())}),p()(),u(37,"td",47)(38,"button",63),ee(),u(39,"svg",64),E("click",function(){let r=M(e).index,o=x();return A(o.lockThis(r))}),w(40,"path",65),p()()(),De(),u(41,"td",47)(42,"button",66),E("click",function(){let r=M(e).index,o=x();return A(o.removeItem(r))}),ee(),u(43,"svg",67),w(44,"path",68),p()()()()}if(i&2){let e=t.$implicit,n=t.index,r=x();m(3),P(n+1),m(2),W("ngModel",e.KETERANGAN),m(2),v("items",r.arr_rek_data),m(2),W("value",e.JENIS_PEMBIAYAAN),m(),v("ngForOf",r.arr_request_type),m(2),W("ngModel",e.HARGA_SATUAN),v("value",e.HARGA_SATUAN),m(2),W("ngModel",e.QTY),v("value",e.QTY),m(7),v("disabled",e.FLAG_PPN=="N"),W("ngModel",e.PPN),m(10),v("disabled",e.FLAG_PPH=="N"),W("ngModel",e.PPH),m(5),v("disabled",e.bind_calc==!0),W("ngModel",e.TOTAL_HARGA),v("value",e.TOTAL_HARGA),m(2),v("ngClass",We(17,Ux,e.bind_calc==!0,e.bind_calc==!1))}}function Kx(i,t){if(i&1){let e=Z();u(0,"div",70)(1,"p"),f(2),p(),w(3,"div",71)(4,"div",58),ee(),u(5,"svg",72),E("click",function(){M(e);let r=x();return A(r.clear_file())}),w(6,"path",73),p()()}if(i&2){let e=x();m(2),P(e.act_file.file_name)}}function Yx(i,t){if(i&1){let e=Z();u(0,"div",74),w(1,"div",75),u(2,"app-c-approval-item",76),G("itemDataChange",function(r){let o=M(e).index,a=x();return $(a.items_kom_approve[o],r)||(a.items_kom_approve[o]=r),A(r)}),E("deleteThis",function(r){M(e);let o=x();return A(o.remove_appr_person(r))}),p()()}if(i&2){let e=t.index,n=x();m(),v("ngClass",be(4,Wx,e+1==n.items_kom_approve.length)),m(),W("itemData",n.items_kom_approve[e]),v("itemIndex",e)("total_i",n.items_kom_approve.length)}}var ms=class i{constructor(t,e,n,r){this.http=t;this.snackbar=e;this.router=n;this.repValid=r}arr_rek_data=[];arr_request_type=[{NAME_TYPE:""}];act_pengajuan=this.arr_request_type[0].NAME_TYPE;arr_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];act_divisi={EMPL_JOB:null,EMPL_JOB_NAME:null};act_file={file_name:"",file_base64:""};arr_tipe_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];arr_files=[];items_default=[{KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:"0",FLAG_PPN:"N",PPN:0,FLAG_PPH:"N",PPH:0,TOTAL_HARGA:0,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,NO_REK:null,NAMA_REK:null,BANK_NAME:null,unf_rek:null,FILE_NAME:"",FILE_:"",bind_calc:!1}];items=[{KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:"0",FLAG_PPN:"N",PPN:0,FLAG_PPH:"N",PPH:0,TOTAL_HARGA:0,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,NO_REK:null,NAMA_REK:null,BANK_NAME:null,unf_rek:null,FILE_NAME:"",FILE_:"",bind_calc:!1}];arr_kom_type=[{POSISION:"APPROVE"},{POSISION:"CEK"}];items_kom_approve=[{EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null}];arr_office=[{office_name:"Grogol",office_code:"903"},{office_name:"Depok",office_code:"904"},{office_name:"Jakpus",office_code:"911"},{office_name:"Cikupa",office_code:"929"}];arr_tipe_pengajuan=["FPPU"];str_info_pengajuan="";act_office=this.arr_office[0].office_code;is_fetching=!1;base64_sig_data=null;user_cabang;act_tipe_pengajuan="";ngOnInit(){this.initLoad()}init_fetch(){}addItem(){this.items.push({KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:"0",FLAG_PPN:"N",PPN:0,FLAG_PPH:"N",PPH:0,TOTAL_HARGA:0,unf_rek:null,NO_REK:null,NAMA_REK:null,BANK_NAME:null,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,FILE_NAME:"",FILE_:"",bind_calc:!0}),console.log(this.items)}removeItem(t){this.items.splice(t,1)}bankChanged(t){let e=t.target.value,n=t.target.text}addKomite(){this.items_kom_approve.push({EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null})}removeKomite(t){this.items_kom_approve.splice(t,1)}get_kom_appr_detail(t){let e=t.target.value}trackByFn(t,e){return e.LVL}swapOrder(t,e){let n=this.items_kom_approve[t].LVL;this.items_kom_approve[t].LVL=this.items_kom_approve[e].LVL,this.items_kom_approve[e].LVL=n}drop(t){Vi(this.items_kom_approve,t.previousIndex,t.currentIndex)}initLoad(){return O(this,null,function*(){this.get_rekening(),this.get_request_type(),this.act_tipe_pengajuan=this.arr_tipe_pengajuan[0],this.setInit()})}get_rekening(){return O(this,null,function*(){let t={data:"test"};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_rekening",{params:t}));this.arr_rek_data=e.data})}get_request_type(){return O(this,null,function*(){let t={data:"test"};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_request_type",{params:t}));this.arr_request_type=e.data})}setInit(){this.items=[],this.act_divisi={EMPL_JOB:Me(this.router).EMPL_JOB,EMPL_JOB_NAME:Me(this.router).JOB_DESCRIPTION},this.user_cabang=Me(this.router).NAME_FULL}on_rek_changed(t,e){let n=t,r=this.items[e];n?r.unf_rek=n.toString():r.unf_rek=null,console.log(this.items)}isPPN_clicked(t,e){let n=this.items[e],r=t.target.checked;console.log(r),r?(n.FLAG_PPN="Y",n.PPN=0):(n.FLAG_PPN="N",n.PPN=0),this.getTotalHarga(e),console.log(n)}isPPH_clicked(t,e){let n=this.items[e];t.target.checked?(n.FLAG_PPH="Y",n.PPH=0):(n.FLAG_PPH="N",n.PPH=0),this.getTotalHarga(e),console.log(n)}on_type_pengajuan_changed(t,e){let r=t.target.value;console.log(r),this.items[e].JENIS_PEMBIAYAAN=r,console.log(this.items[e])}on_pajak_changed(t,e){var n=t.target.value;this.items[e].PAJAK_TYPE=n,this.items[e].PAJAK_AMOUNT="0",this.getTotalHarga(e)}remove_appr_person(t){this.items_kom_approve.splice(t,1)}lockThis(t){console.log(t),this.items[t].bind_calc=!this.items[t].bind_calc,this.items[t].bind_calc?this.getTotalHarga(t):this.items[t].TOTAL_HARGA=0}change_sig_data(t){this.base64_sig_data=t}chooseFile(t,e){let r=t.target.parentElement?.querySelector(".inputFile");var o=document.createElement("input");o.setAttribute("type","file"),o.click(),o.onchange=a=>{let s=a.target.files;if(s){let l=s[0];this.items[e].FILE_NAME=s[0].name;let c=new FileReader;c.onload=()=>{let d=c.result;this.items[e].FILE_=d},c.readAsDataURL(l)}}}chooseFile_v2(t){let n=t.target.parentElement?.querySelector(".inputFile");var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".pdf"),r.click(),r.onchange=o=>{let a=o.target.files;if(a){let s=a[0],l=new FileReader;l.onload=()=>{let c=l.result;this.act_file={file_name:a[0].name,file_base64:c},this.items.forEach(d=>{d.FILE_NAME=a[0].name})},l.readAsDataURL(s)}}}clear_file(){this.act_file.file_base64="",this.act_file.file_name=""}rm_file(t){this.items[t].FILE_="",this.items[t].FILE_NAME=""}notif_str="";filter_kom_approve(){let t=[...this.items_kom_approve];console.log(t);let e=1;for(let n of t)n.LVL=e,e++;return t}allow_send_pengajuan(){if(console.log("allow_send_pengajuan"),this.act_tipe_pengajuan=="FPPU"){if(this.items.length==0)return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;for(let t of this.items){if(t.KETERANGAN==""||t.HARGA_SATUAN==0||t.QTY==0||t.unf_rek=="")return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;if(t.FLAG_PPN=="Y"&&Number(t.PPN)<=0||t.FLAG_PPH=="Y"&&Number(t.PPH)<=0)return this.snackbar.open("Cek kembali pengisian pajak pada pengajuan.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1}}else for(let t of this.items){if(t.KETERANGAN==""||t.HARGA_SATUAN==0||t.QTY==0)return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;if(t.FLAG_PPN=="Y"&&Number(t.PPN)<=0||t.FLAG_PPH=="Y"&&Number(t.PPH)<=0)return this.snackbar.open("Cek kembali pengisian pajak pada pengajuan.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1}for(let t of this.items_kom_approve)if(t.EMPL_CODE==null)return this.snackbar.open("Silahkan cek kembali komite approval.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;for(let t of this.items_kom_approve){let e=0;for(let n of this.items_kom_approve)t.EMPL_CODE==n.EMPL_CODE&&(e+=1);if(console.log(e),e>1)return this.snackbar.open("Tidak boleh ada duplikat di komite approval.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1}return!0}filter_rek(){this.act_tipe_pengajuan=="FPPU"&&this.items.forEach(t=>{let n=t.unf_rek?.split(" - ");t.NO_REK=n[3].toString(),t.BANK_NAME=n[0].toString(),t.NAMA_REK=n[1].toString()})}filter_file(){this.act_file.file_name==""&&(this.act_file={file_name:"",file_base64:""},this.items.forEach(t=>{t.FILE_NAME=""}))}savePengajuan(){return O(this,null,function*(){this.is_fetching=!0;let t;if(!this.allow_send_pengajuan())return this.is_fetching=!1,!1;var e=this.filter_kom_approve();this.filter_rek(),this.filter_file(),console.log(this.items);try{let n={user_data:{empl_code:Bi(),office_code:this.act_office,pengajuan_type:this.repValid.enc_str(this.str_info_pengajuan),selected_file:this.act_file,base64_sig_data:this.base64_sig_data},data:{pengajuan:this.items,komite_approve:e},file_data:this.act_file};if(console.log(n.data),t=yield Q(this.http.post(X.env_dev.host+"/api-eappr/new_pengajuan",n)),t.status!=200)return this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_failed"]}),this.is_fetching=!1,!1;this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_success"]})}catch(n){console.log(n)}return yield this.redirect_to_latest_pengajuan(),this.is_fetching=!1,!0})}getTotal(){let t=0;for(var e of this.items)t=t+Number(e.TOTAL_HARGA);return t}getTotalHarga(t){if(console.log(t),this.items[t].bind_calc){let e=this.items[t],n=e.QTY,r=e.HARGA_SATUAN,o=n*r,a=0;e.PPN!=null,a=Number(e.PPN)/100*o;let s=0;e.PPH!=null,s=Number(e.PPH)/100*o,e.TOTAL_HARGA=o+a-s}}redirect_to_latest_pengajuan(){return O(this,null,function*(){console.log(`
 ======= redirect_to_latest_pengajuan() ======= 
`),this.router.navigate(["info-pengajuan"])})}debug_(){console.log()}static \u0275fac=function(e){return new(e||i)(S(Ee),S(Ge),S(te),S(Xt))};static \u0275cmp=R({type:i,selectors:[["app-h-item-pengajuan"]],decls:82,vars:16,consts:[[1,""],[4,"ngIf"],[1,"p-2","pl-3","rounded-md","border-[1px]","border-[#ccc]","w-fit"],[1,"flex","items-center"],[1,"text-[#282828]","w-40"],[1,"mx-2"],["placeholder","Judul Info Pengajuan","type","text",1,"p-1.5","w-[40vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"pb-8"],[1,"border","border-gray-300","w-full","rounded-md","overflow-hidden","overflow-x-hidden","flex","flex-col","items-center"],[1,"bg-gray-100","w-full"],[1,"text-xl","py-2","pl-3","tracking-wide"],[1,"w-[79vw]","overflow-y-auto","h-[50vh]","pb-2","border-b-2","text-xs"],[1,"w-[98%]","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[140px]","border-slate-500","font-medium"],[1,"w-20","border-slate-500","font-medium"],[1,"w-[60px]","border-slate-500","font-medium"],[1,"w-[10%]","border-slate-500","font-medium"],[1,"w-[100px]","border-slate-500","font-medium"],[1,"w-[25px]","border-slate-500","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","items-center","px-4","w-full"],[1,"p-2","my-4","bg-blue-500","text-white","rounded-md",3,"click"],[1,"w-60","justify-between","flex","flex-row"],[1,"py-8"],[1,"text-2xl","mb-4"],[1,"flex"],[1,"w-fit","flex","flex-row","items-center","rounded-md","border","p-2","bg-gray-200","hover:bg-gray-100","transition-all","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 256 256",1,"fill-black","p-1"],["d","M209.66,122.34a8,8,0,0,1,0,11.32l-82.05,82a56,56,0,0,1-79.2-79.21L147.67,35.73a40,40,0,1,1,56.61,56.55L105,193A24,24,0,1,1,71,159L154.3,74.38A8,8,0,1,1,165.7,85.6L82.39,170.31a8,8,0,1,0,11.27,11.36L192.93,81A24,24,0,1,0,159,47L59.76,147.68a40,40,0,1,0,56.53,56.62l82.06-82A8,8,0,0,1,209.66,122.34Z"],[1,"ml-1","mr-1","text-nowrap"],[1,"px-2"],["class","border-[#b8b8b8] border-2 text-[#848484]  p-1 px-2 w-fit rounded-md text-center flex justify-center items-center",4,"ngIf"],[1,"text-sm","mt-2","text-[#777]"],[1,"text-2xl","mb-4","tracking-wide"],[1,"w-full","border","rounded-md","text-sm"],["cdkDropList","",1,"w-full","h-[400px]","overflow-y-scroll","p-2","text-sm",3,"cdkDropListDropped"],["class"," w-fit border border-[#0003] rounded-md m-1 mb-2 relative overflow-hidden flex flex-row items-center","cdkDrag","",4,"ngFor","ngForOf"],[1,"border-t-2","p-2","flex","flex-row","items-center"],[1,"bg-[#46b946]","w-4","h-4","border","rounded-full"],[1,"ml-2"],[1,"flex","flex-row","my-4","items-center"],[1,"w-fit","p-2","bg-green-600","text-[20px]","text-white","rounded-md","transition-all",3,"click","ngClass"],[3,"ngClass"],[1,"ml-4","h-6","text-lg","text-[#d42929]"],[1,"flex","py-4","justify-center"],[1,"border-separate","border-slate-500"],["placeholder","Keterangan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"border-separate","px-2","border-slate-500"],[3,"change","items"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","tracking-wider",3,"valueChange","change","value"],["class","tracking-wider",3,"value",4,"ngFor","ngForOf"],["placeholder","Harga Satuan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],["placeholder","Quantity","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],[1,"flex","flex-row","items-center","justify-center"],[1,"rounded-md","border-2","flex","flex-row","items-center"],["type","checkbox",1,"w-4","h-4","ml-2",3,"click"],[1,"px-1"],[1,"w-20","flex","flex-row","items-center","tracking-wide","rounded-md","border-gray-200","border-l-2","focus:ring-0","outline-blue-200","transition-all","overflow-hidden"],["type","number",1,"p-2","pr-0","w-full","focus:ring-0","outline-none",3,"input","ngModelChange","disabled","ngModel"],[1,"p-2","bg-[#eee]"],["type","number",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","change","disabled","ngModel","value"],[1,"flex","justify-center","items-center",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",3,"click"],["d","M80,120h96a8,8,0,0,0,8-8V64a8,8,0,0,0-8-8H80a8,8,0,0,0-8,8v48A8,8,0,0,0,80,120Zm8-48h80v32H88ZM200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24Zm0,192H56V40H200ZM100,148a12,12,0,1,1-12-12A12,12,0,0,1,100,148Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,140,148Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,180,148Zm-80,40a12,12,0,1,1-12-12A12,12,0,0,1,100,188Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,140,188Zm40,0a12,12,0,1,1-12-12A12,12,0,0,1,180,188Z"],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"tracking-wider",3,"value"],[1,"border-[#b8b8b8]","border-2","text-[#848484]","p-1","px-2","w-fit","rounded-md","text-center","flex","justify-center","items-center"],[1,"px-[1px]"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 256 256",1,"fill-[#d34b4b]","cursor-pointer","hover:fill-[#fff]","hover:bg-[#d34b4b]","rounded-full","transition-all",3,"click"],["d","M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"],["cdkDrag","",1,"w-fit","border","border-[#0003]","rounded-md","m-1","mb-2","relative","overflow-hidden","flex","flex-row","items-center"],[1,"w-4","h-10","rounded-tr-md","rounded-br-md",3,"ngClass"],[1,"flex","items-center","w-fit","cursor-move","rounded-md",3,"itemDataChange","deleteThis","itemData","itemIndex","total_i"]],template:function(e,n){e&1&&(u(0,"div",0),k(1,$x,1,0,"app-c-loading-widget",1),u(2,"div",2)(3,"div",3)(4,"p",4),f(5,"Judul Info Pengajuan : "),p(),w(6,"div",5),u(7,"input",6),G("ngModelChange",function(o){return $(n.str_info_pengajuan,o)||(n.str_info_pengajuan=o),o}),p()()(),w(8,"div",7),u(9,"div",8)(10,"div",9)(11,"p",10),f(12,"Pengajuan"),p()(),u(13,"div",11)(14,"table",12)(15,"thead",0)(16,"tr")(17,"th",13),f(18,"No"),p(),u(19,"th",14),f(20,"Keterangan"),p(),u(21,"th",14),f(22,"Bank"),p(),u(23,"th",14),f(24,"Jenis Transaksi"),p(),u(25,"th",15),f(26,"Harga Satuan"),p(),u(27,"th",16),f(28,"Quantity"),p(),u(29,"th",17),f(30,"PPN"),p(),u(31,"th",17),f(32,"PPH"),p(),u(33,"th",18),f(34,"Total Harga"),p(),w(35,"th",19)(36,"th",19),p()(),u(37,"tbody",20),k(38,qx,45,20,"tr",21),p()()(),u(39,"div",22)(40,"button",23),E("click",function(){return n.addItem()}),f(41,"Add Item"),p(),u(42,"div",24)(43,"p"),f(44,"Total :"),p(),u(45,"p",0),f(46),_e(47,"number"),p()()()(),u(48,"div",25)(49,"p",26),f(50,"Attachment"),p(),u(51,"div",27)(52,"div",28),E("click",function(o){return n.chooseFile_v2(o)}),ee(),u(53,"svg",29),w(54,"path",30),p(),De(),u(55,"p",31),f(56,"Upload PDF"),p()(),w(57,"div",32),k(58,Kx,7,1,"div",33),p(),u(59,"p",34),f(60,"File yang di upload adalah file .pdf."),p()(),u(61,"div")(62,"div",0)(63,"p",35),f(64,"Pilih Committee Approve"),p()(),u(65,"div",36)(66,"div",37),E("cdkDropListDropped",function(o){return n.drop(o)}),k(67,Yx,3,6,"div",38),p(),u(68,"div",39),w(69,"div",40),u(70,"p",41),f(71," : Final Approve"),p()()(),u(72,"div",0)(73,"button",23),E("click",function(){return n.addKomite()}),f(74,"Add Komite"),p()()(),u(75,"div",42)(76,"button",43),E("click",function(){return n.savePengajuan()}),u(77,"P",44),f(78,"Buat Pengajuan"),p(),w(79,"div"),p(),u(80,"p",45),f(81),p()()()),e&2&&(m(),v("ngIf",n.is_fetching),m(6),W("ngModel",n.str_info_pengajuan),m(31),v("ngForOf",n.items),m(8),P(wi(47,9,n.getTotal(),"2.")),m(12),v("ngIf",n.act_file.file_name!=""),m(9),v("ngForOf",n.items_kom_approve),m(9),v("ngClass",be(12,Zx,n.is_fetching===!0)),m(),v("ngClass",be(14,zx,n.is_fetching===!0)),m(4),P(n.notif_str))},dependencies:[ue,ot,at,ze,ri,Ie,Fe,Y,Se,xe,de,or,Rc,Pc,Ve,Hc,Fc,fn,Bc],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{transition:all;background-color:#fff;border-color:#949494;box-sizing:border-box;border-radius:4px;box-shadow:0 0 10px -3px #0003}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})};var vn=class i{size=70;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-c-loading-spin"]],inputs:{size:"size"},decls:2,vars:1,consts:[["mode","indeterminate",3,"diameter"]],template:function(e,n){e&1&&(u(0,"div"),w(1,"mat-progress-spinner",0),p()),e&2&&(m(),v("diameter",n.size))},dependencies:[Vc,Lc],encapsulation:2})};function Jx(i,t){if(i&1&&(u(0,"tr",18)(1,"td",19)(2,"div",20),f(3),p()(),u(4,"td",19)(5,"div",21),f(6),p()(),u(7,"td",19)(8,"div",21),f(9),p()(),u(10,"td",19)(11,"div",22)(12,"p"),f(13),p()()(),u(14,"td",19)(15,"div",23),f(16),_e(17,"number"),p()(),u(18,"td",19)(19,"div",20),f(20),p()(),u(21,"td",19)(22,"div",20),f(23),p()(),u(24,"td",19)(25,"div",20),f(26),p()(),u(27,"td",19)(28,"div",23),f(29),_e(30,"number"),p()()()),i&2){let e=t.$implicit,n=t.index;m(3),P(n+1),m(3),P(e.KETERANGAN),m(3),P(e.JENIS_PEMBIAYAAN),m(4),P(e.BANK_NAME+" - "+e.NO_REK+" - "+e.NAMA_REK),m(3),P(wi(17,9,e.HARGA_SATUAN,"2.")),m(4),P(e.QTY),m(3),P(e.PPN?e.PPN+"%":"-"),m(3),P(e.PPH?e.PPH+"%":"-"),m(3),P(wi(30,12,e.TOTAL_HARGA,"2."))}}var Uc=class i{itemData;ngOnInit(){console.log(this.itemData)}format_rp(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-c-comp-kasbon-detail"]],inputs:{itemData:"itemData"},decls:35,vars:2,consts:[[1,"flex","flex-shrink-0","flex-col"],[1,"bg-gray-300","w-full","h-[1.5px]","mb-8"],[1,"text-2xl","font-medium"],[1,"py-1"],[1,"flex","flex-col"],[1,"text-md","font-medium"],[1,"py-2"],[1,"overflow-y-auto","h-fit","w-fit","text-xs","rounded-t-md","border"],[1,"w-fit","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"bg-[#f8f8f8]","mb-2"],[1,"w-[60px]","border-x","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[200px]","border-x","border-gray-200","font-medium"],[1,"w-[300px]","border-x","border-gray-200","font-medium"],[1,"w-[120px]","border-x","border-gray-200","font-medium"],[1,"w-[60px]","border-x","border-gray-200","font-medium"],[1,"w-[120px]","border-x","border-r-0","border-gray-200","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"border","px-2"],[1,"flex","py-2","justify-center"],[1,"flex","py-2","justify-start"],[1,"flex","py-2","justify-start","text-start","flex-col","mr-8"],[1,"flex","py-2","justify-end","mr-8"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"div",1),u(2,"p",2),f(3,"Pengajuan"),p(),w(4,"div",3),u(5,"div",4)(6,"p"),f(7,"Nomor Pengajuan : "),p(),u(8,"p",5),f(9),p()(),w(10,"div",6),u(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),f(16,"No"),p(),u(17,"th",11),f(18,"Keterangan"),p(),u(19,"th",11),f(20,"Jenis Pembiayaan"),p(),u(21,"th",12),f(22,"Bank"),p(),u(23,"th",13),f(24,"Harga Satuan"),p(),u(25,"th",14),f(26,"Quantity"),p(),u(27,"th",14),f(28,"PPN"),p(),u(29,"th",14),f(30,"PPH"),p(),u(31,"th",15),f(32,"Total Harga"),p()()(),u(33,"tbody",16),k(34,Jx,31,15,"tr",17),p()()()()),e&2&&(m(9),P(n.itemData[0].REQUEST_ID),m(25),v("ngForOf",n.itemData))},dependencies:[Y,xe,or],encapsulation:2})};var Vo=class i{constructor(t,e){this.router=t;this.ru=e}logout(){localStorage.clear(),this.router.navigate(["/login"]),window.location.reload()}static \u0275fac=function(e){return new(e||i)(B(te),B(lt))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Un=class i{constructor(t,e,n){this.http=t;this.user_rep=e;this.login_rep=n}fetch_get_auto(t,e){return O(this,null,function*(){let n=yield Q(this.http.get(`${X.env_dev.host}/api-eappr/${e}`,{headers:{Authorization:`Bearer ${this.user_rep.get_usr_token()}`},params:t}));if(console.log(n),n.status==401){this.login_rep.logout();return}return n})}fetch_post_auto(t,e){return O(this,null,function*(){let n=yield Q(this.http.post(`${X.env_dev.host}/api-eappr/${e}`,t,{headers:{Authorization:`Bearer ${this.user_rep.get_usr_token()}`}}));if(n.status==401){this.login_rep.logout();return}return n})}static \u0275fac=function(e){return new(e||i)(B(Ee),B(lt),B(Vo))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var $c=class i{constructor(t,e){this.rv=t;this.rf=e}build_pengajuan(t){for(var e of t){let n=`${e.REQUEST_ID} - ${this.rv.dec_str(e.KATEGORI_REQUEST)} - ${e.CREATED_DATE}`;e.str=n}return t}get_detail(t){return O(this,null,function*(){let e={req_id:t};var n=this.rf.fetch_get_auto(e,"get_detail_pengajuan_item");return n})}static \u0275fac=function(e){return new(e||i)(B(Xt),B(Un))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Qx=i=>({"opacity-30 cursor-not-allowed":i});function eC(i,t){if(i&1&&(u(0,"ng-option",12),f(1),p()),i&2){let e=t.$implicit;v("value",e.REQUEST_ID),m(),P(e.str)}}function tC(i,t){i&1&&w(0,"app-c-loading-spin",13),i&2&&v("size",24)}function nC(i,t){if(i&1&&(u(0,"div",14),w(1,"div",15)(2,"app-c-comp-kasbon-detail",16),p()),i&2){let e=x(2);m(2),v("itemData",e.arr_req_items)}}function iC(i,t){if(i&1){let e=Z();u(0,"div",1)(1,"div",2)(2,"p"),f(3,"Pilih Nomor pengajuan : "),p(),w(4,"div",3),u(5,"ng-select",4),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_pengajuan,r)||(o.act_pengajuan=r),A(r)}),k(6,eC,2,2,"ng-option",5),p(),w(7,"div",3),u(8,"div",6)(9,"button",7),E("click",function(){M(e);let r=x();return A(r.pilih_pengajuan())}),u(10,"p"),f(11,"Pilih Pengajuan"),p()(),w(12,"div",8),k(13,tC,1,1,"app-c-loading-spin",9),p()(),k(14,nC,3,1,"div",10),w(15,"div",11),p()}if(i&2){let e=x();m(5),W("ngModel",e.act_pengajuan),m(),v("ngForOf",e.arr_pengajuan_base),m(3),v("ngClass",be(5,Qx,e.isFetch_request)),m(4),v("ngIf",e.isFetch_request),m(),v("ngIf",e.arr_req_items.length>0)}}var Gc=class i{constructor(t,e,n,r,o){this.rf=t;this.rk=e;this.rv=n;this.ru=r;this.sb=o}arr_req_items=[];arr_pengajuan_base=[];arr_pengajuan_str=[];act_pengajuan="";isFetch_request=!1;ngOnInit(){this.initLoad()}initLoad(){return O(this,null,function*(){yield this.getData(),this.setData()})}getData(){return O(this,null,function*(){let t={};this.arr_pengajuan_base=(yield this.rf.fetch_get_auto(t,"get_list_pengajuan")).data})}setData(){this.buildStringPengajuan()}buildStringPengajuan(){this.arr_pengajuan_base=this.rk.build_pengajuan(this.arr_pengajuan_base)}onPengajuanChange(t){console.log(t)}pilih_pengajuan(){return O(this,null,function*(){if(this.act_pengajuan==""||this.act_pengajuan==null){this.sb.open("Nomor pengajuan tidak boleh kosong",void 0,{duration:5e3,panelClass:"notif_failed"});return}if(!this.isFetch_request)try{this.arr_req_items=[],this.isFetch_request=!0;var t=yield this.rk.get_detail(this.act_pengajuan);this.arr_req_items=t.data,this.isFetch_request=!1}catch(e){console.error(e),this.isFetch_request=!1}})}isAdmin(){return this.ru.isAdmin()}static \u0275fac=function(e){return new(e||i)(S(Un),S($c),S(Xt),S(lt),S(Ge))};static \u0275cmp=R({type:i,selectors:[["app-c-comp-kasbon"]],decls:1,vars:1,consts:[["class","",4,"ngIf"],[1,""],[1,"p-2","border","rounded-md","border-gray-400","bg-white","drop-shadow"],[1,"py-1"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-row","items-center"],[1,"p-1","px-2","rounded-md","bg-green-700","text-white","transition-all","w-fit","flex","flex-row",3,"click","ngClass"],[1,"mx-1"],["active","",3,"size",4,"ngIf"],["class","w-full",4,"ngIf"],[1,"h-[600px]"],[3,"value"],["active","",3,"size"],[1,"w-full"],[1,"mt-10"],[3,"itemData"]],template:function(e,n){e&1&&k(0,iC,16,7,"div",0),e&2&&v("ngIf",n.isAdmin())},dependencies:[ue,Ie,Fe,Y,Se,xe,de,fn,kr,vn,Uc],encapsulation:2})};var rC=["container"];function oC(i,t){if(i&1&&(u(0,"option"),f(1),p()),i&2){let e=t.$implicit;m(),P(e)}}function aC(i,t){i&1&&w(0,"app-h-item-pengajuan")}function sC(i,t){i&1&&w(0,"app-c-comp-kasbon")}function lC(i,t){if(i&1&&(u(0,"div")(1,"p",17),f(2),p(),u(3,"div",18),k(4,aC,1,0,"app-h-item-pengajuan",19)(5,sC,1,0,"app-c-comp-kasbon",19),p()()),i&2){let e=x();m(2),P(e.act_tipe_pengajuan),m(),v("ngSwitch",e.act_tipe_pengajuan),m(),v("ngSwitchCase","FPPU"),m(),v("ngSwitchCase","Form Permohonan Kasbon")}}function cC(i,t){i&1&&(u(0,"div",20)(1,"p",21),f(2," Pilih tipe pengajuan "),p()())}var fs=class i{constructor(t){this.ru=t}container;fillData;act_tipe_pengajuan="";arr_tipe_pengajuan=["--- Pilih tipe pengajuan ---","FPPU","Form Permohonan Kasbon"];act_divisi={EMPL_JOB:null,EMPL_JOB_NAME:null};user_cabang;ngOnInit(){this.setUserInfo(),this.setInit()}setInit(){this.act_tipe_pengajuan=this.arr_tipe_pengajuan[0]}setUserInfo(){var t=this.ru.get_curr_usr_dtl();this.act_divisi.EMPL_JOB_NAME=t.JOB_DESCRIPTION,this.user_cabang=t.NAME_FULL}jobCheck_it(){return this.ru.isAdmin()}static \u0275fac=function(e){return new(e||i)(S(lt))};static \u0275cmp=R({type:i,selectors:[["app-p-new-approval"]],viewQuery:function(e,n){if(e&1&&(Re(rC,7,ut),Re(ms,5)),e&2){let r;ne(r=ie())&&(n.container=r.first),ne(r=ie())&&(n.fillData=r.first)}},decls:26,vars:6,consts:[[1,"mom","px-4"],[1,"w-fit","text-3xl","bg-white","rounded-md","flex","mb-4"],[1,"mom_c","bg-white","rounded-md"],[1,"flex","flex-row","items-center","text-base"],[1,""],[1,"mb-2","text-[#282828]"],[1,"mb-2","font-medium","tracking-wider","border-2","border-[#c1c1c1]","rounded-md","p-1","w-fit","px-2"],[1,"mx-8","w-[2px]","h-20","bg-[#c1c1c1]"],[1,"flex","items-center","my-8"],[1,"text-[#282828]"],[1,"mx-2"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-fit","p-1.5","tracking-wider",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"w-full","h-[1.5px]","bg-gray-300"],[1,"py-4"],[4,"ngIf"],["class","w-full h-[100px] flex items-center justify-center",4,"ngIf"],[1,"text-2xl","font-medium","pb-4"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"w-full","h-[100px]","flex","items-center","justify-center"],[1,"text-2xl","text-gray-400"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),f(2," Request Pengajuan "),p(),u(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),f(7,"Divisi"),p(),u(8,"p",6),f(9),p()(),w(10,"div",7),u(11,"div",4)(12,"p",5),f(13,"Cabang / Outlet"),p(),u(14,"p",6),f(15),p()()(),u(16,"div",8)(17,"p",9),f(18,"Tipe Pengajuan : "),p(),w(19,"div",10),u(20,"select",11),G("ngModelChange",function(o){return $(n.act_tipe_pengajuan,o)||(n.act_tipe_pengajuan=o),o}),k(21,oC,2,1,"option",12),p()(),w(22,"div",13)(23,"div",14),k(24,lC,6,4,"div",15)(25,cC,3,0,"div",16),p()()),e&2&&(m(9),we(" ",n.act_divisi.EMPL_JOB_NAME,""),m(6),we(" ",n.user_cabang,""),m(5),W("ngModel",n.act_tipe_pengajuan),m(),v("ngForOf",n.arr_tipe_pengajuan),m(3),v("ngIf",n.act_tipe_pengajuan!=n.arr_tipe_pengajuan[0]),m(),v("ngIf",n.act_tipe_pengajuan==n.arr_tipe_pengajuan[0]))},dependencies:[ms,Y,xe,de,sl,Ru,ue,ot,at,Pt,Ie,Fe,Gc],encapsulation:2})};var gs=class i{constructor(t){this.router=t}canActivateChild(){return!localStorage.getItem("user_dtl")?(this.router.navigate(["/login"]),!1):!0}canActivate(){return localStorage.getItem("user_dtl")?(this.router.navigate(["/home"]),!1):!0}static \u0275fac=function(e){return new(e||i)(B(te))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var dC=(i,t)=>({"bg-gray-300":i,"cursor-not-allowed":t});function uC(i,t){if(i&1&&(u(0,"div",13)(1,"p"),f(2),p()()),i&2){let e=x();m(2),P(e.resp_login)}}var qc=class i{constructor(t,e,n){this.router=t;this.http=e;this.repUser=n}snackbar;fetching=!1;usn="";pwd="";resp_login="";user_dtl={};login(){return O(this,null,function*(){if(!this.fetching){this.fetching=!0,this.resp_login="";let e={pwd:this.pwd.toString(),usn:this.usn.toString()};var t=yield Q(this.http.get(X.env_dev.host+"/api-eappr/login_main",{params:e}));console.log(t),t.isSuccess!=!0?(this.resp_login=t.message,this.fetching=!1):(yield this.account_setup(t),this.repUser.set_user_dtl(),this.router.navigate(["/home"]),this.fetching=!1),this.fetching=!1}})}account_setup(t){return O(this,null,function*(){console.log(t),localStorage.setItem("user_dtl",JSON.stringify(t)),localStorage.setItem("q_paging","1"),localStorage.setItem("act_request_id","")})}getMenu(){return O(this,null,function*(){try{let t={user_dtl:Me(this.router)};return yield Q(this.http.post(X.env_dev.host+"/api-eappr/get_menu",t))}catch(t){console.log(t)}})}static \u0275fac=function(e){return new(e||i)(S(te),S(Ee),S(lt))};static \u0275cmp=R({type:i,selectors:[["app-p-login"]],decls:22,vars:7,consts:[[1,"w-screen","h-screen","flex","items-center","justify-center"],[1,"sm:w-[26vw]","w-[80vw]","p-4","rounded-md","border-2","border-[#917b0075]","flex","flex-col","items-center"],[1,"w-full","flex","items-center","justify-center","py-4"],[1,"flex","flex-row","items-center","justify-center"],["src","assets/img/w_nav_logo_small.png",1,"w-10"],[1,"ml-4","text-nowrap","text-3xl","tracking-wide"],[1,"py-2"],[1,"flex","flex-col","w-full"],[1,"mb-2"],["type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","keydown.enter","ngModel"],["type","password",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","keydown.enter","ngModel"],[1,"p-2","px-6","text-white","font-medium","rounded-full","bg-[#917C00]",3,"click","ngClass"],["class","mt-2 text-[#ab4444]",4,"ngIf"],[1,"mt-2","text-[#ab4444]"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),w(4,"img",4),u(5,"p",5),f(6,"E-Approval"),p()()(),w(7,"div",6),u(8,"div",7)(9,"p",8),f(10,"Username"),p(),u(11,"input",9),G("ngModelChange",function(o){return $(n.usn,o)||(n.usn=o),o}),E("keydown.enter",function(){return n.login()}),p()(),w(12,"div",6),u(13,"div",7)(14,"p",8),f(15,"Password"),p(),u(16,"input",10),G("ngModelChange",function(o){return $(n.pwd,o)||(n.pwd=o),o}),E("keydown.enter",function(){return n.login()}),p()(),w(17,"div",6),u(18,"div")(19,"button",11),E("click",function(){return n.login()}),f(20," Login "),p()(),k(21,uC,3,1,"div",12),p()()),e&2&&(m(11),W("ngModel",n.usn),m(5),W("ngModel",n.pwd),m(3),v("ngClass",We(4,dC,n.fetching==!0,n.fetching==!0)),m(2),v("ngIf",n.resp_login!=""))},dependencies:[Y,Se,de,ue,ze,Ie,Fe,Ve],encapsulation:2})};var pC=i=>({"text-green-600":i});function hC(i,t){if(i&1&&(u(0,"option"),f(1),p()),i&2){let e=t.$implicit;m(),P(e.string)}}function mC(i,t){i&1&&(u(0,"th",41),f(1," STATUS "),p())}function fC(i,t){if(i&1&&(u(0,"td",44)(1,"div",53),f(2),p()()),i&2){let e=x().$implicit;m(),v("ngClass",be(2,pC,e.STATUS=="AP")),m(),we(" ",e.STATUS," ")}}function gC(i,t){if(i&1){let e=Z();u(0,"tr",42)(1,"td",43),f(2),p(),u(3,"td",44),f(4),p(),u(5,"td",45),f(6),p(),u(7,"td",46),f(8),p(),k(9,fC,3,4,"td",47),u(10,"td",45),f(11),p(),u(12,"td",48)(13,"button",49),E("click",function(){let r=M(e).$implicit,o=x(2);return A(o.go_to_detail(r.REQUEST_ID))}),ee(),u(14,"svg",50),w(15,"path",51),p(),De(),u(16,"p",52),f(17," Detail "),p()()()()}if(i&2){let e=t.$implicit,n=t.index,r=x(2);m(2),P(n+1),m(2),P(e.REQUEST_ID),m(2),P(e.NAME_FULL),m(2),P(r.dec_str(e.KATEGORI_REQUEST)),m(),v("ngIf",r.q_page_code!=1),m(2),P(r.give_date(e.CREATED_DATE))}}function _C(i,t){if(i&1){let e=Z();u(0,"div",54)(1,"Button",55),E("click",function(){M(e);let r=x(2);return A(r.get_tableData())}),u(2,"p",14),f(3,"Refresh"),p(),w(4,"div",15),ee(),u(5,"svg",16),w(6,"path",17),p()()()}}function vC(i,t){i&1&&(u(0,"div",54),f(1," No Data "),p())}function bC(i,t){if(i&1){let e=Z();u(0,"div",21)(1,"table",22)(2,"thead",23)(3,"tr",24)(4,"th",25),f(5,"NO"),p(),u(6,"th",26),f(7,"REQUEST ID"),p(),u(8,"th",27),f(9,"CABANG"),p(),u(10,"th",28),f(11,"KATEGORI REQUEST"),p(),k(12,mC,2,0,"th",29),u(13,"th",30),f(14,"TANGGAL DIBUAT"),p(),u(15,"th",31),f(16,"ACTION"),p()()(),u(17,"tbody",32),k(18,gC,18,6,"tr",33),p()(),k(19,_C,7,0,"div",34)(20,vC,2,0,"div",34),u(21,"div",35)(22,"button",36),E("click",function(){M(e);let r=x();return A(r.pgDown())}),ee(),u(23,"svg",37),w(24,"path",38),p()(),De(),u(25,"input",39),E("keydown.enter",function(r){M(e);let o=x();return A(o.onPageChangeEnter(r))}),p(),u(26,"button",36),E("click",function(){M(e);let r=x();return A(r.pgUp())}),ee(),u(27,"svg",37),w(28,"path",40),p()()()()}if(i&2){let e=x();m(12),v("ngIf",e.q_page_code!=1),m(6),v("ngForOf",e.tableData),m(),v("ngIf",e.first_load==0&&e.first_load==0),m(),v("ngIf",e.tableData.length==0&&e.first_load!=0),m(5),v("value",e.act_page)}}function yC(i,t){i&1&&(u(0,"div",56),w(1,"app-c-loading-spin"),p())}var Hi=class i{constructor(t,e,n){this.http=t;this.route=e;this.repValid=n}fetching_tableData=!0;first_load=0;q_search="";q_filter="All";q_page_code=0;tableData=[];act_page=localStorage.getItem("q_paging")!=null?parseInt(localStorage.getItem("q_paging")):0;arr_lov_filter=[{string:"All",code:"All"},{string:"On Process",code:"OP"},{string:"Finished",code:"AP"},{string:"Rejected",code:"RJ"}];ngOnInit(){this.initLoad()}initLoad(){return O(this,null,function*(){this.fetching_tableData=!1,this.q_filter=this.arr_lov_filter[0].code,this.pageDetect()})}pageDetect(){console.log(`
 =========== pageDetect() ========== 
`);let t=this.route.url;t=="/cek-pengajuan"?this.q_page_code=2:t=="/approve-pengajuan"?this.q_page_code=1:t=="/info-pengajuan"&&(this.q_page_code=0),console.log(t)}get_tableData(){return O(this,null,function*(){this.fetching_tableData=!0;try{let e={q_page:this.act_page,q_search:this.q_search,q_filter:this.q_filter,user_dtl:JSON.stringify(Me(this.route))};if(this.q_page_code==0){var t=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_table_data",{params:e}));console.log(t.data),this.tableData=t.data}else if(this.q_page_code==1){var t=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_table_data_approval",{params:e}));console.log(t.data),this.tableData=t.data}else if(this.q_page_code==2){var t=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_table_data_histori",{params:e}));console.log(t.data),this.tableData=t.data}}catch(e){console.log(e)}this.first_load=1,this.fetching_tableData=!1})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}onPageChangeEnter(t){let e=t.target.value;parseInt(e)>0&&(this.act_page=parseInt(e),localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}go_to_detail(t){localStorage.setItem("act_request_id",t),this.route.navigate(["request-dtl"],{queryParams:{id:t}}),console.log(t)}on_filter_change(t){let e=t.target.value;console.log(e);let n=0;for(let r=0;r<this.arr_lov_filter.length;r++){let o=this.arr_lov_filter[r].string;if(e==o){n=r;break}}this.q_filter=this.arr_lov_filter[n].code,this.get_tableData()}give_date(t){let e=t.replace(" ",`
`);return t}dec_str(t){return this.repValid.dec_str(t)}static \u0275fac=function(e){return new(e||i)(S(Ee),S(te),S(Xt))};static \u0275cmp=R({type:i,selectors:[["app-c-pengajuan-table"]],decls:25,vars:4,consts:[[1,"overflow-x-auto","overflow-y-hidden","w-full"],[1,"flex","flex-col","items-center","sm:flex-row","sm:space-y-0","space-y-1"],[1,"rounded-full","sm:w-[30vw]","w-full","border","border-gray-400","p-1","flex","flex-row","justify-between","items-center"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","grow",3,"ngModelChange","keyup.enter","ngModel"],[1,"mx-1"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],[1,"flex","flex-row","items-center","w-full","sm:w-[80vw]"],[1,"bg-gray-50","text-sm","border","border-gray-300","text-gray-900","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-fit","p-2","tracking-wider",3,"change"],[4,"ngFor","ngForOf"],[1,"p-1","h-fit","bg-[#252525]","hover:bg-[#333]","fill-white","rounded-md","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-1","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[0.6px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[2px]"],["d","M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"],[1,"my-4"],["class"," border rounded-md h-[550px] flex flex-col justify-between overflow-y-auto",4,"ngIf"],["class","w-full h-[60vh] flex items-center justify-center",4,"ngIf"],[1,"border","rounded-md","h-[550px]","flex","flex-col","justify-between","overflow-y-auto"],[1,"sm:w-full","w-fit","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,""],[1,"w-[30px]","border-x","border-b","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[140px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[130px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[150px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],["class","w-[80px] border-x border-b border-gray-200 font-medium pl-2 py-4",4,"ngIf"],[1,"w-[160px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[80px]","border-x","border-b","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"border-separate","pt-10","text-xs"],["class","h-8 flex-grow-0 odd:bg-gray-100 ",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[360px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"keydown.enter","value"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"w-[80px]","border-x","border-b","border-gray-200","font-medium","pl-2","py-4"],[1,"h-8","flex-grow-0","odd:bg-gray-100"],[1,"text-center","border","border-l-0"],[1,"text-center","border"],[1,"text-center","border","py-2"],[1,"text-start","border","px-2"],["class","text-center border",4,"ngIf"],[1,"text-center","border","border-r-0","py-2"],[1,"mx-2","p-2","rounded-md","py-1","pb-[5px]","text-sm","bg-[#303030]","fill-white","text-white","flex","flex-row",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 256 256"],["d","M88,96a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H96A8,8,0,0,1,88,96Zm8,40h64a8,8,0,0,0,0-16H96a8,8,0,0,0,0,16Zm32,16H96a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16ZM224,48V156.69A15.86,15.86,0,0,1,219.31,168L168,219.31A15.86,15.86,0,0,1,156.69,224H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48ZM48,208H152V160a8,8,0,0,1,8-8h48V48H48Zm120-40v28.7L196.69,168Z"],[1,"ml-1"],[3,"ngClass"],[1,"w-full","flex","items-center","justify-center","h-[360px]"],[1,"p-5","h-fit","bg-[#888]","hover:bg-[#333]","fill-white","rounded-md","text-white","w-fit","flex","items-center",3,"click"],[1,"w-full","h-[60vh]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),G("ngModelChange",function(o){return $(n.q_search,o)||(n.q_search=o),o}),E("keyup.enter",function(){return n.get_tableData()}),p(),w(4,"div",4),u(5,"Button",5),E("click",function(){return n.get_tableData()}),u(6,"p",6),f(7,"Search"),p(),w(8,"div",7),ee(),u(9,"svg",8),w(10,"path",9),p()()(),De(),w(11,"div",4),u(12,"div",10)(13,"select",11),E("change",function(o){return n.on_filter_change(o)}),k(14,hC,2,1,"option",12),p(),w(15,"div",4),u(16,"Button",13),E("click",function(){return n.get_tableData()}),u(17,"p",14),f(18,"Refresh"),p(),w(19,"div",15),ee(),u(20,"svg",16),w(21,"path",17),p()()()(),De(),w(22,"div",18),k(23,bC,29,5,"div",19)(24,yC,2,0,"div",20),p()),e&2&&(m(3),W("ngModel",n.q_search),m(11),v("ngForOf",n.arr_lov_filter),m(9),v("ngIf",!n.fetching_tableData),m(),v("ngIf",n.fetching_tableData))},dependencies:[Ve,Y,Se,xe,de,ue,ot,at,ze,Ie,Fe,vn],encapsulation:2})};var Kc=class i{constructor(t,e){this.http=t;this.route=e}fetching_tableData=!0;first_load=0;q_search="";q_filter="All";tableData=[];act_page=localStorage.getItem("q_paging")!=null?parseInt(localStorage.getItem("q_paging")):0;arr_lov_filter=[{string:"All",code:"All"},{string:"On Process",code:"OP"},{string:"Finished",code:"AP"},{string:"Rejected",code:"RJ"}];ngOnInit(){this.initLoad()}initLoad(){return O(this,null,function*(){this.q_filter=this.arr_lov_filter[0].code,this.fetching_tableData=!1})}get_tableData(){return O(this,null,function*(){this.fetching_tableData=!0;let t={q_page:this.act_page,q_search:this.q_search,q_filter:this.q_filter,user_dtl:JSON.stringify(Me(this.route))};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_table_data",{params:t}));console.log(e.data),this.tableData=e.data,this.first_load=1,this.fetching_tableData=!1})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}onPageChangeEnter(t){let e=t.target.value;parseInt(e)>0&&(this.act_page=parseInt(e),localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}go_to_detail(t){localStorage.setItem("act_request_id",t),this.route.navigate(["request-dtl"]),console.log(t)}on_filter_change(t){let e=t.target.value;console.log(e);let n=0;for(let r=0;r<this.arr_lov_filter.length;r++){let o=this.arr_lov_filter[r].string;if(e==o){n=r;break}}this.q_filter=this.arr_lov_filter[n].code,this.get_tableData()}give_date(t){let e=t.replace(" ",`
`);return t}static \u0275fac=function(e){return new(e||i)(S(Ee),S(te))};static \u0275cmp=R({type:i,selectors:[["app-p-cek-pengajuan"]],decls:3,vars:0,consts:[[1,"sm:w-[calc(100vw-300px)]"],[1,"py-10"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"app-c-pengajuan-table")(2,"div",1),p())},dependencies:[ue,Y,Ve,Hi],encapsulation:2})};var Yc=class i{constructor(t,e){this.http=t;this.route=e}fetching_tableData=!0;q_search="";tableData=[];act_page=localStorage.getItem("q_paging")!=null?parseInt(localStorage.getItem("q_paging")):0;ngOnInit(){this.initLoad()}initLoad(){return O(this,null,function*(){this.fetching_tableData=!1})}get_tableData(){return O(this,null,function*(){this.fetching_tableData=!0;let t={q_page:this.act_page,user_dtl:JSON.stringify(Me(this.route))};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_table_data_approval",{params:t}));console.log(e.data),this.tableData=e.data,this.fetching_tableData=!1})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}onPageChangeEnter(t){let e=t.target.value;parseInt(e)>0&&(this.act_page=parseInt(e),localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}go_to_detail(t){localStorage.setItem("act_request_id",t),this.route.navigate(["request-dtl"]),console.log(t)}give_date(t){let e=t.replace(" ",`
`);return t}static \u0275fac=function(e){return new(e||i)(S(Ee),S(te))};static \u0275cmp=R({type:i,selectors:[["app-p-approve-pengajuan"]],decls:3,vars:0,consts:[[1,"sm:w-[calc(100vw-300px)]"],[1,"py-10"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"app-c-pengajuan-table")(2,"div",1),p())},dependencies:[Y,ue,Ve,Hi],encapsulation:2})};var Jc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-info-pengajuan"]],decls:3,vars:0,consts:[[1,"sm:w-[calc(100vw-300px)]"],[1,"py-10"]],template:function(e,n){e&1&&(u(0,"div",0),w(1,"app-c-pengajuan-table")(2,"div",1),p())},dependencies:[Hi],encapsulation:2})};var wC=i=>({"bg-gray-300":i}),xC=i=>({"placeholder-opacity-100":i}),CC=(i,t)=>({"bg-[#00000048]":i,"opacity-50":t}),SC=(i,t)=>({"fill-[#159d42]":i,"fill-[#989898]":t});function EC(i,t){if(i&1&&(u(0,"option",52),f(1),p()),i&2){let e=t.$implicit;v("value",e.NAME_TYPE),m(),we(" ",e.NAME_TYPE,"")}}function DC(i,t){if(i&1&&(u(0,"option",53),f(1),p()),i&2){let e=t.$implicit;v("value",e.pajak_type),m(),we(" ",e.pajak_type," ")}}function MC(i,t){if(i&1){let e=Z();u(0,"tr",0)(1,"td",0)(2,"div",31),f(3),p()(),u(4,"td",32)(5,"input",33),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.KETERANGAN,r)||(o.KETERANGAN=r),A(r)}),p()(),u(6,"td",34)(7,"ng-select",35),E("change",function(r){let o=M(e).index,a=x();return A(a.on_rek_changed(r,o))}),p()(),u(8,"td")(9,"select",36),E("change",function(r){M(e);let o=x();return A(o.on_type_pengajuan_changed(r))}),f(10," > "),k(11,EC,2,2,"option",37),p()(),u(12,"td",34)(13,"input",38),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.HARGA_SATUAN,r)||(o.HARGA_SATUAN=r),A(r)}),E("input",function(){let r=M(e).index,o=x();return A(o.getTotalHarga(r))}),p()(),u(14,"td",34)(15,"input",39),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.QTY,r)||(o.QTY=r),A(r)}),E("input",function(){let r=M(e).index,o=x();return A(o.getTotalHarga(r))}),p()(),u(16,"td")(17,"select",40),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.PAJAK_TYPE,r)||(o.PAJAK_TYPE=r),A(r)}),E("change",function(r){let o=M(e).index,a=x();return A(a.on_pajak_changed(r,o))}),f(18," > "),k(19,DC,2,2,"option",41),p()(),u(20,"td",34)(21,"div",42)(22,"input",43),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.PAJAK_AMOUNT,r)||(o.PAJAK_AMOUNT=r),A(r)}),E("input",function(){let r=M(e).index,o=x();return A(o.getTotalHarga(r))}),p(),u(23,"a",44),f(24,"%"),p()()(),u(25,"td",34)(26,"input",45),G("ngModelChange",function(r){let o=M(e).$implicit;return $(o.TOTAL_HARGA,r)||(o.TOTAL_HARGA=r),A(r)}),E("change",function(){M(e);let r=x();return A(r.getTotal())}),p()(),u(27,"td",32)(28,"button",46),ee(),u(29,"svg",47),E("click",function(){let r=M(e).index,o=x();return A(o.lockThis(r))}),w(30,"path",48),p()()(),De(),u(31,"td",32)(32,"button",49),E("click",function(){let r=M(e).index,o=x();return A(o.removeItem(r))}),ee(),u(33,"svg",50),w(34,"path",51),p()()()()}if(i&2){let e=t.$implicit,n=t.index,r=x();m(3),P(n+1),m(2),W("ngModel",e.KETERANGAN),m(2),v("items",r.arr_rek_data)("ngModel",e.unf_rek),m(2),v("value",e.JENIS_PEMBIAYAAN),m(2),v("ngForOf",r.arr_request_type),m(2),W("ngModel",e.HARGA_SATUAN),v("value",e.HARGA_SATUAN),m(2),W("ngModel",e.QTY),v("value",e.QTY),m(2),W("ngModel",e.PAJAK_TYPE),m(2),v("ngForOf",r.arr_pajak),m(2),v("ngClass",We(19,CC,e.PAJAK_TYPE==null,e.PAJAK_TYPE=="-")),m(),v("disabled",e.PAJAK_TYPE=="-"),W("ngModel",e.PAJAK_AMOUNT),m(4),v("disabled",e.bind_calc==!0),W("ngModel",e.TOTAL_HARGA),v("value",e.TOTAL_HARGA),m(2),v("ngClass",We(22,SC,e.bind_calc==!0,e.bind_calc==!1))}}var Xc=class i{constructor(t,e,n){this.http=t;this.snackbar=e;this.router=n}arr_rek_data=[];arr_request_type=[{NAME_TYPE:""}];act_pengajuan=this.arr_request_type[0].NAME_TYPE;arr_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];act_divisi={EMPL_JOB:null,EMPL_JOB_NAME:null};user_cabang;act_file={file_name:null,file_base64:null};arr_tipe_pajak=[{pajak_type:"-",pajak_code:"0"},{pajak_type:"PPH",pajak_code:"1"},{pajak_type:"PPN",pajak_code:"2"}];arr_files=[];items=[{KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:null,TOTAL_HARGA:0,JENIS_PEMBIAYAAN:null,NO_REK:null,NAMA_REK:null,BANK_NAME:null,unf_rek:null,FILE_NAME:null,FILE_:null,bind_calc:!1}];arr_kom_type=[{POSISION:"APPROVE"},{POSISION:"CEK"}];items_kom_approve=[{EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null}];arr_office=[{office_name:"Grogol",office_code:"903"},{office_name:"Depok",office_code:"904"},{office_name:"Jakpus",office_code:"911"},{office_name:"Cikupa",office_code:"929"}];arr_items_before=[];str_info_pengajuan="";act_office=this.arr_office[0].office_code;is_fetching=!1;base64_sig_data=null;ngOnInit(){this.initLoad()}init_fetch(){}addItem(){this.items.push({KETERANGAN:"",HARGA_SATUAN:0,QTY:0,PAJAK_TYPE:"-",PAJAK_AMOUNT:null,TOTAL_HARGA:0,unf_rek:null,NO_REK:null,NAMA_REK:null,BANK_NAME:null,JENIS_PEMBIAYAAN:this.arr_request_type[0].NAME_TYPE,FILE_NAME:null,FILE_:null,bind_calc:!1})}removeItem(t){this.items.splice(t,1)}bankChanged(t){let e=t.target.value,n=t.target.text}addKomite(){this.items_kom_approve.push({EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null})}removeKomite(t){this.items_kom_approve.splice(t,1)}get_kom_appr_detail(t){let e=t.target.value}trackByFn(t,e){return e.LVL}drop(t){Vi(this.items_kom_approve,t.previousIndex,t.currentIndex)}initLoad(){return O(this,null,function*(){yield this.get_approval_data(),yield this.get_rekening(),yield this.get_request_type(),this.setInit()})}get_rekening(){return O(this,null,function*(){let t={data:"test"};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_rekening",{params:t}));this.arr_rek_data=e.data})}get_request_type(){return O(this,null,function*(){let t={data:"test"};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_request_type",{params:t}));this.arr_request_type=e.data})}get_approval_data(){return O(this,null,function*(){console.log("get_approval_data"),this.items=[];let t={data:"RF20250100000016"};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_detail_pengajuan_item_revisi",{params:t}));let n=e.data;this.arr_items_before=[...n],console.log(n);let r=o=>`${o[2]} - ${o[1]} - ${o[0]}`;n.forEach(o=>{this.items.push({KETERANGAN:o.KETERANGAN,HARGA_SATUAN:o.HARGA_SATUAN,QTY:o.QTY,PAJAK_TYPE:"-",PAJAK_AMOUNT:null,TOTAL_HARGA:o.TOTAL_HARGA,unf_rek:r([o.NO_REK,o.NAMA_REK,o.BANK_NAME]),NO_REK:o.NO_REK,NAMA_REK:o.NAMA_REK,BANK_NAME:o.BANK_NAME,JENIS_PEMBIAYAAN:o.JENIS_PEMBIAYAAN,FILE_NAME:o.FILE_NAME,FILE_:null,bind_calc:!1})}),console.log(this.items)})}setInit(){this.act_divisi={EMPL_JOB:Me(this.router).EMPL_JOB,EMPL_JOB_NAME:Me(this.router).JOB_DESCRIPTION},this.user_cabang=Me(this.router).NAME_FULL}on_rek_changed(t,e){let n=t,r=this.items[e];n?r.unf_rek=n.toString():r.unf_rek=null,console.log(this.items)}on_type_pengajuan_changed(t){console.log()}on_pajak_changed(t,e){var n=t.target.value;this.items[e].PAJAK_TYPE=n,this.items[e].PAJAK_AMOUNT=null,this.getTotalHarga(e)}remove_appr_person(t){this.items_kom_approve.splice(t,1)}lockThis(t){console.log(t),this.items[t].bind_calc=!this.items[t].bind_calc,this.items[t].bind_calc?this.getTotalHarga(t):this.items[t].TOTAL_HARGA=0}change_sig_data(t){this.base64_sig_data=t,this.allow_send_pengajuan()}chooseFile(t,e){let r=t.target.parentElement?.querySelector(".inputFile");var o=document.createElement("input");o.setAttribute("type","file"),o.click(),o.onchange=a=>{let s=a.target.files;if(s){let l=s[0];this.items[e].FILE_NAME=s[0].name;let c=new FileReader;c.onload=()=>{let d=c.result;this.items[e].FILE_=d},c.readAsDataURL(l)}}}chooseFile_v2(t){let n=t.target.parentElement?.querySelector(".inputFile");var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".pdf, .jpeg, .jpeg, .png"),r.click(),r.onchange=o=>{let a=o.target.files;if(a){let s=a[0],l=new FileReader;l.onload=()=>{let c=l.result;this.act_file={file_name:a[0].name,file_base64:c},this.items.forEach(d=>{d.FILE_NAME=a[0].name})},l.readAsDataURL(s)}}}clear_file(){this.act_file.file_base64=null,this.act_file.file_name=null}rm_file(t){this.items[t].FILE_=null,this.items[t].FILE_NAME=null}notif_str="";filter_kom_approve(){let t=[...this.items_kom_approve];console.log(t);let e=1;for(let n of t)n.LVL=e,e++,console.log(n);return t}allow_send_pengajuan(){for(let t of this.items)if(t.KETERANGAN==""||t.HARGA_SATUAN==0||t.QTY==0)return this.snackbar.open("Data pengajuan belum lengkap.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;for(let t of this.items_kom_approve)if(t.EMPL_CODE==null)return this.snackbar.open("Silahkan cek kembali komite approval.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1;return this.base64_sig_data==null?(this.snackbar.open("Silahkan cek kembali tanda tangan pembuat.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1):!0}filter_rek(){this.items.forEach(t=>{let n=t.unf_rek?.split(" - ");t.NO_REK=n[2].toString(),t.BANK_NAME=n[0].toString(),t.NAMA_REK=n[1].toString()})}savePengajuan(){return O(this,null,function*(){this.is_fetching=!0;let t;if(!this.allow_send_pengajuan())return this.is_fetching=!1,!1;var e=this.filter_kom_approve();this.filter_rek();try{let n={user_data:{empl_code:Bi(),office_code:this.act_office,pengajuan_type:this.str_info_pengajuan,selected_file:this.act_file},data:{pengajuan:this.items,komite_approve:e},file_data:this.act_file};t=yield Q(this.http.post(X.env_dev.host+"/api-eappr/new_pengajuan",n)),console.log(t),this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_success"]})}catch(n){console.log(n)}return this.redirect_to_latest_pengajuan(),!0})}getTotal(){let t=0;for(var e of this.items)t=t+Number(e.TOTAL_HARGA);return t}getTotalHarga(t){if(this.items[t].bind_calc){let e=this.items[t],n=e.QTY,r=e.HARGA_SATUAN;e.PAJAK_AMOUNT!=null?e.TOTAL_HARGA=n*r+n*r*(Number(e.PAJAK_AMOUNT)/100):e.TOTAL_HARGA=n*r}}redirect_to_latest_pengajuan(){return O(this,null,function*(){let t={EMPL_CODE:Me(this.router).EMPL_CODE};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_newest_pengajuan",{params:t}));let n=e.data[0].REQUEST_ID;console.log(n),localStorage.setItem("act_request_id",n),setTimeout(()=>{this.router.navigate(["request-dtl"])},2e3)})}debug_(){console.log()}static \u0275fac=function(e){return new(e||i)(S(Ee),S(Ge),S(te))};static \u0275cmp=R({type:i,selectors:[["app-p-revisi-pengajuan"]],decls:66,vars:12,consts:[[1,""],[1,"flex","flex-row","items-center","text-base"],[1,"mb-2","text-[#282828]"],[1,"mb-2","font-medium","tracking-wider","border-2","border-[#c1c1c1]","rounded-md","p-1","w-fit","px-2"],[1,"mx-8","w-[2px]","h-20","bg-[#c1c1c1]"],[1,"pb-8"],[1,"flex","items-center"],[1,"text-[#282828]"],[1,"mx-2"],["placeholder","Info Pengajuan","type","text",1,"p-2","w-[40vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"border","border-gray-300","rounded-md","overflow-hidden"],[1,"bg-gray-100"],[1,"text-xl","py-2","pl-3","tracking-wide"],[1,"overflow-y-auto","h-[50vh]","pb-2","border-b-2","text-sm"],[1,"w-full","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"flex-grow","border-slate-500","font-medium"],[1,"w-[10%]","border-slate-500","font-medium"],[1,"w-32","border-slate-500","font-medium"],[1,"w-20","border-slate-500","font-medium"],[1,"w-[50px]","border-slate-500","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,"flex","flex-row","justify-between","items-center","px-4"],[1,"p-2","my-4","bg-blue-500","text-white","rounded-md",3,"click"],[1,"w-60","justify-between","flex","flex-row"],[1,"flex","flex-row","my-4","items-center"],[1,"w-32","p-2","bg-blue-500","text-white","rounded-md","transition-all",3,"click","ngClass"],[3,"ngClass"],[1,"ml-4","h-6","text-lg","text-[#d42929]"],[1,"py-20"],[1,"flex","py-4","justify-center"],[1,"border-separate","border-slate-500"],["placeholder","Keterangan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"border-separate","px-2","border-slate-500"],[3,"change","items","ngModel"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","tracking-wider",3,"change","value"],["class","tracking-wider",3,"value",4,"ngFor","ngForOf"],["placeholder","Harga Satuan","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],["placeholder","Quantity","type","text",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","ngModel","value"],[1,"w-full","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-2.5",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"w-full","tracking-wide","rounded-md","border-gray-200","border-2","overflow-hidden","focus:ring-0","outline-blue-200","transition-all","flex","flex-row",3,"ngClass"],["type","text",1,"p-2","w-full","tracking-wide","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","input","disabled","ngModel"],[1,"p-2","bg-[#f7f7f7]","shadow-md","border-l-2"],["type","number",1,"p-2","w-full","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","change","disabled","ngModel","value"],[1,"flex","justify-center","items-center",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",3,"click"],["d","M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"tracking-wider",3,"value"],[3,"value"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",0)(3,"p",2),f(4,"Divisi"),p(),u(5,"p",3),f(6),p()(),w(7,"div",4),u(8,"div",0)(9,"p",2),f(10,"Cabang / Outlet"),p(),u(11,"p",3),f(12),p()()(),w(13,"div",5),u(14,"div",6)(15,"p",7),f(16,"Info Pengajuan : "),p(),w(17,"div",8),u(18,"input",9),G("ngModelChange",function(o){return $(n.str_info_pengajuan,o)||(n.str_info_pengajuan=o),o}),p()(),w(19,"div",5),u(20,"div",10)(21,"div",11)(22,"p",12),f(23,"Pengajuan"),p()(),u(24,"div",13)(25,"table",14)(26,"thead",0)(27,"tr")(28,"th",15),f(29,"No"),p(),u(30,"th",16),f(31,"Keterangan"),p(),u(32,"th",17),f(33,"Bank"),p(),u(34,"th",17),f(35,"Jenis Pembiayaan"),p(),u(36,"th",18),f(37,"Harga Satuan"),p(),u(38,"th",18),f(39,"Quantity"),p(),u(40,"th",19),f(41,"Tipe Pajak"),p(),u(42,"th",18),f(43,"Jumlah Pajak"),p(),u(44,"th",18),f(45,"Total Harga"),p(),w(46,"th",20)(47,"th",20),p()(),u(48,"tbody",21),k(49,MC,35,25,"tr",22),p()()(),u(50,"div",23)(51,"button",24),E("click",function(){return n.addItem()}),f(52,"Add Item"),p(),u(53,"div",25)(54,"p"),f(55,"Total :"),p(),u(56,"p",0),f(57),p()()()(),u(58,"div",26)(59,"button",27),E("click",function(){return n.savePengajuan()}),u(60,"P",28),f(61,"Save"),p(),w(62,"div"),p(),u(63,"p",29),f(64),p()(),w(65,"div",30),p()),e&2&&(m(6),P(n.act_divisi.EMPL_JOB_NAME),m(6),P(n.user_cabang),m(6),W("ngModel",n.str_info_pengajuan),m(31),v("ngForOf",n.items),m(8),P(n.getTotal()),m(2),v("ngClass",be(8,wC,n.is_fetching===!0)),m(),v("ngClass",be(10,xC,n.is_fetching===!0)),m(4),P(n.notif_str))},dependencies:[ue,ot,at,ze,ri,Pt,Ie,Fe,Y,Se,xe,fn,Ve],encapsulation:2})};var AC=(i,t,e)=>({"bg-green-600 opacity-100":i,"opacity-40":t,"opacity-50":e}),Qc=class i{constructor(t,e,n){this.router=t;this.snackbar=e;this.http=n}empl_name="";empl_code="";empl_branch="";empl_mail="";empl_hp="";empl_hp_2="";new_empl_hp="";new_empl_mail="";new_empl_hp_2="";canSave=!1;canSave_email=!1;isFetching_save_email=!1;ngOnInit(){this.initLoad()}initLoad(){this.set_user_info()}inp_listener(){this.empl_hp_2!=this.new_empl_hp_2||this.empl_hp!=this.new_empl_hp||this.empl_mail!=this.new_empl_mail?this.canSave=!0:this.canSave=!1,console.log(this.canSave)}listen_canSave_email(t){var e=t.target.value;this.new_empl_mail=e,console.log(this.new_empl_mail),e!=this.empl_mail?this.canSave=!0:this.canSave=!1}listen_canSave_phone(t){var e=t.target.value;this.new_empl_hp=e,console.log(this.new_empl_hp),e!=this.empl_hp?this.canSave=!0:this.canSave=!1}detect_save_mail(){let t=this.new_empl_mail,e=this.new_empl_hp;return!t.includes("@")||!t.includes(".")?(this.snackbar.open("Format email tidak sesuai",void 0,{duration:5e3,panelClass:["notif_failed"]}),!1):!0}set_user_info(){let t=Me(this.router);console.log(t),console.log(t.email),this.empl_name=t.EMPL_NAME,this.empl_code=t.EMPL_CODE,this.empl_branch=t.NAME_FULL,this.empl_mail=t.email,this.empl_hp=t.NO_HP,this.empl_hp_2=t.NO_HP_2,this.new_empl_mail=this.empl_mail,this.new_empl_hp=this.empl_hp,this.new_empl_hp_2=this.empl_hp_2}is_null(t){return console.log(t),t==null||t.toString().trim()==""?"":t.toString().trim()}signOut(){localStorage.clear(),this.router.navigate(["/login"])}save_email(){return O(this,null,function*(){if(this.canSave&&!this.isFetching_save_email)try{this.isFetching_save_email=!0;let e={empl_code:Bi(),mail_to_change:this.is_null(this.new_empl_mail),phone_to_change:this.is_null(this.new_empl_hp),phone_to_change_2:this.is_null(this.new_empl_hp_2)};var t=yield Q(this.http.post(X.env_dev.host+"/api-eappr/user_change_email",e));if(this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:["notif_success"]}),t.status==200){let n=localStorage.getItem("user_dtl"),r=JSON.parse(n).data[0];console.log(r),r.email=this.new_empl_mail,r.NO_HP=this.new_empl_hp,r.NO_HP_2=this.new_empl_hp_2,localStorage.setItem("user_dtl",JSON.stringify({isSuccess:!0,message:"success",data:[r]})),this.canSave_email=!1}}catch(e){console.log(e)}finally{this.isFetching_save_email=!1}})}static \u0275fac=function(e){return new(e||i)(S(te),S(Ge),S(Ee))};static \u0275cmp=R({type:i,selectors:[["app-p-user-profile"]],decls:56,vars:11,consts:[[1,"flex","flex-col","px-4"],[1,"text-3xl"],[1,"my-2"],[1,"flex","flex-row","h-[320px]"],[1,"flex","flex-col","h-full"],[1,"flex","flex-col","justify-center"],[1,"text-sm","w-40"],[1,"text-sm","text-[12px]","text-gray-500"],["disabled","",1,"p-1","px-2","w-full","sm:w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"value"],[1,"mx-2","bg-gray-200","h-[full]","w-[2px]"],[1,"flex","flex-col"],[1,"p-1","px-2","w-full","sm:w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"keyup","ngModelChange","ngModel"],["type","number",1,"p-1","px-2","w-full","sm:w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"keyup","ngModelChange","ngModel"],[1,"w-full","sm:w-[26vw]","text-sm","p-[6px]","px-8","pb-[7px]","tracking-wide","text-white","bg-[#888]","rounded-md","transition-all",3,"click","ngClass"],[1,"my-4"],[1,"p-2","bg-[#df6363]","rounded-md","text-white","w-fit","transition-all","pb-[10px]",3,"click"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div")(2,"p",1),f(3,"User Info"),p()(),w(4,"div",2),u(5,"div",3)(6,"div",4)(7,"div",5)(8,"p",6),f(9,"Nama : "),p(),u(10,"p",7),f(11,"Nama karyawan"),p(),w(12,"input",8),p(),w(13,"div",2),u(14,"div",5)(15,"p",6),f(16,"NIK : "),p(),u(17,"p",7),f(18,"NIK karyawan"),p(),w(19,"input",8),p(),w(20,"div",2),u(21,"div",5)(22,"p",6),f(23,"Branch : "),p(),u(24,"p",7),f(25,"Branch Karyawan"),p(),w(26,"input",8),p()(),w(27,"div",9),u(28,"div",10)(29,"div",5)(30,"p",6),f(31,"Email :"),p(),u(32,"p",7),f(33,"Contoh john@transfinance.co.id"),p(),u(34,"input",11),E("keyup",function(){return n.inp_listener()}),G("ngModelChange",function(o){return $(n.new_empl_mail,o)||(n.new_empl_mail=o),o}),p()(),w(35,"div",2),u(36,"div",5)(37,"p",6),f(38,"Nomor Handphone :"),p(),u(39,"p",7),f(40,"Contoh 085522223333"),p(),u(41,"input",12),E("keyup",function(){return n.inp_listener()}),G("ngModelChange",function(o){return $(n.new_empl_hp,o)||(n.new_empl_hp=o),o}),p()(),w(42,"div",2),u(43,"div",5)(44,"p",6),f(45,"Nomor Handphone 2:"),p(),u(46,"p",7),f(47,"Contoh 085522223333"),p(),u(48,"input",12),E("keyup",function(){return n.inp_listener()}),G("ngModelChange",function(o){return $(n.new_empl_hp_2,o)||(n.new_empl_hp_2=o),o}),p()(),w(49,"div",2),u(50,"button",13),E("click",function(){return n.save_email()}),f(51," Save "),p()()(),w(52,"div",14),u(53,"button",15),E("click",function(){return n.signOut()}),f(54," Log out "),p(),w(55,"div",14),p()),e&2&&(m(12),v("value",n.empl_name),m(7),v("value",n.empl_code),m(7),v("value",n.empl_branch),m(8),W("ngModel",n.new_empl_mail),m(7),W("ngModel",n.new_empl_hp),m(7),W("ngModel",n.new_empl_hp_2),m(2),v("ngClass",ti(7,AC,n.canSave,!n.canSave,n.isFetching_save_email)))},dependencies:[Y,Se,Ve,ue,ze,ri,Ie,Fe],encapsulation:2})};var kC=(i,t,e)=>({"border-[#3ba62b] bg-[#e4ffdf]":i,"border-[#a62b2b] bg-[#ffdfdf]":t,"border-[#cfc038] bg-[#fff9c7]":e}),TC=(i,t)=>({"bg-[#333] text-white":i,"bg-[#888] opacity-50 cursor-default":t});function IC(i,t){if(i&1&&(u(0,"option",19),f(1),p()),i&2){let e=t.$implicit;v("value",e.appr),m(),we(" ",e.appr_name," ")}}var ed=class i{constructor(t,e,n,r){this.http=t;this.snackbar=e;this.route=n;this.repVal=r}dialog_exit=new j;req_data;arr_approval=[{appr:"AP",appr_name:"Approve"},{appr:"RJ",appr_name:"Reject"}];canSend=!1;isFetching=!1;act_appr;act_reason="";base64_sig_data;ngOnInit(){this.initLoad()}initLoad(){this.act_appr=this.arr_approval[0].appr,console.log(this.req_data),console.log(this.act_reason.length)}change_sig(t){this.base64_sig_data=t,this.canSend_bool()}on_appr_change(t){let e=t.target.value;this.act_appr=e}onExit(){this.dialog_exit.emit()}send_approve(){return O(this,null,function*(){if(console.log("send_approve"),console.log(this.act_reason),console.log(this.canSend),this.canSend){this.isFetching=!0;let e={REQ_ID:this.req_data.req_id,EMPL_CODE:this.req_data.empl_code,STATUS:this.act_appr,REASON:this.repVal.enc_str(this.act_reason)};var t=yield Q(this.http.post(X.env_dev.host+"/api-eappr/approval_approve",{queryParams:e}));let n=t.data;n.toString().toLowerCase().includes("berhasil")?(this.snackbar.open(n,void 0,{duration:5e3,panelClass:["notif_success"]}),this.route.navigate(["approve-pengajuan"])):(this.snackbar.open("Approval gagal.",void 0,{duration:5e3,panelClass:["notif_neutral"]}),this.isFetching=!1)}})}on_reason_change(t){let e=t.target.value;this.act_reason=e,this.canSend_bool()}canSend_bool(){this.act_reason!=""!=null&&!this.isFetching?this.canSend=!0:this.canSend=!1}get_file_name(){let t=this.base64_sig_data.split(";")[0].split("/")[1];return`${this.req_data.req_id}_${this.req_data.empl_code}.${t}`}get_file_data(){return this.base64_sig_data.split(",")[1]}dec_string(t){return this.repVal.dec_str(t)}static \u0275fac=function(e){return new(e||i)(S(Ee),S(Ge),S(te),S(Xt))};static \u0275cmp=R({type:i,selectors:[["app-c-approve-box"]],inputs:{req_data:"req_data"},outputs:{dialog_exit:"dialog_exit"},decls:27,vars:12,consts:[[1,"sm:w-fit","w-[96vw]","h-fit","rounded-md","bg-white","p-1","px-3"],[1,"sm:text-xl","text-md","flex","flex-row","justify-start"],[1,""],[1,"mx-1"],[1,"tracking-wide","font-medium"],[1,"my-6"],[1,"h-fit","overflow-y-auto","pr-2"],[1,"flex","flex-col","items-start","justify-start","p-2","border-2","rounded-md",3,"ngClass"],[1,"text-xl","mb-1"],[1,"my-1"],[1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-[6px]","pb-[8px]","text-md","tracking-wide",3,"valueChange","change","value"],[3,"value",4,"ngFor","ngForOf"],[1,"my-4"],[1,"flex","flex-col","text-sm"],["type","text",1,"p-1","w-full","h-[72px]","tracking-wide","rounded-md","border-[#aaa]","border-2","focus:ring-0","outline-[#999]","transition-all","resize-none",3,"input"],[1,"flex","flex-row","py-2"],[1,"p-2","px-4","text-white","rounded-md","transition-all",3,"click","ngClass"],[1,"mx-2"],[1,"p-2","px-4","bg-[#888]","text-white","rounded-md",3,"click"],[3,"value"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"p",2),f(3,"Request ID :"),p(),w(4,"div",3),u(5,"p",4),f(6),p()(),w(7,"div",5),u(8,"div",6)(9,"div",7)(10,"p",8),f(11,"Approval Status :"),p(),w(12,"div",9),u(13,"select",10),G("valueChange",function(o){return $(n.act_appr,o)||(n.act_appr=o),o}),E("change",function(o){return n.on_appr_change(o)}),k(14,IC,2,2,"option",11),p()(),w(15,"div",12),u(16,"div",13)(17,"p",8),f(18,"Reason :"),p(),w(19,"div",9),u(20,"textarea",14),E("input",function(o){return n.on_reason_change(o)}),p()()(),u(21,"div",15)(22,"button",16),E("click",function(){return n.send_approve()}),f(23,"Proses"),p(),w(24,"div",17),u(25,"button",18),E("click",function(){return n.onExit()}),f(26,"Cancel"),p()()()),e&2&&(m(6),P(n.req_data.req_id),m(3),v("ngClass",ti(5,kC,n.act_appr=="AP",n.act_appr=="RJ",n.act_appr=="RC")),m(4),W("value",n.act_appr),m(),v("ngForOf",n.arr_approval),m(8),v("ngClass",We(9,TC,n.canSend==!0,n.canSend==!1)))},dependencies:[Y,Se,xe,ue,ot,at,Ve],encapsulation:2})};var PC=["spawnApprove"],RC=["captureDiv"],OC=(i,t,e)=>({"border-green-700 bg-[#fbfffa]":i,"border-red-700 bg-[#fffcfc]":t,"border-yellow-500 bg-[#fffbef]":e}),NC=(i,t,e)=>({"bg-green-700":i,"bg-red-700":t,"bg-yellow-500":e});function FC(i,t){if(i&1&&(u(0,"tr",2)(1,"td",41)(2,"div",42),f(3),p()(),u(4,"td",41)(5,"div",43),f(6),p()(),u(7,"td",41)(8,"div",43),f(9),p()(),u(10,"td",41)(11,"div",44)(12,"p"),f(13),p()()(),u(14,"td",41)(15,"div",45),f(16),_e(17,"number"),p()(),u(18,"td",41)(19,"div",42),f(20),p()(),u(21,"td",41)(22,"div",42),f(23),p()(),u(24,"td",41)(25,"div",42),f(26),p()(),u(27,"td",41)(28,"div",45),f(29),_e(30,"number"),p()()()),i&2){let e=t.$implicit,n=t.index,r=x();m(3),P(n+1),m(3),P(e.KETERANGAN),m(3),P(e.JENIS_PEMBIAYAAN),m(4),P(e.BANK_NAME+" - "+e.NO_REK+" - "+e.NAMA_REK),m(3),P(wi(17,9,r.format_rp(e.HARGA_SATUAN),"2.")),m(4),P(e.QTY),m(3),P(e.PPN?e.PPN+"%":"-"),m(3),P(e.PPH?e.PPH+"%":"-"),m(3),P(wi(30,12,e.TOTAL_HARGA,"2."))}}function LC(i,t){if(i&1){let e=Z();u(0,"div")(1,"div",47)(2,"div",48),ee(),u(3,"svg",49),w(4,"path",50),p(),De(),u(5,"div",51),f(6),p()(),w(7,"div",52),u(8,"div",53)(9,"button",54),E("click",function(){M(e);let r=x(2);return A(r.file_download())}),ee(),u(10,"svg",49),w(11,"path",55),p()(),De(),w(12,"div",52),u(13,"button",54),E("click",function(){M(e);let r=x(2);return A(r.file_view())}),ee(),u(14,"svg",49),w(15,"path",56),p()()()()()}if(i&2){let e=x(2);m(6),P(e.file_data.file_name)}}function VC(i,t){i&1&&(u(0,"div",57)(1,"p"),f(2,"No file uploaded"),p()())}function BC(i,t){if(i&1&&(u(0,"div"),k(1,LC,16,1,"div",29)(2,VC,3,0,"div",46),p()),i&2){let e=x();m(),v("ngIf",e.file_data.file_name!=""),m(),v("ngIf",e.file_data.file_name=="")}}function HC(i,t){i&1&&(u(0,"div",58),w(1,"app-c-loading-spin",59),p()),i&2&&(m(),v("size",40))}function jC(i,t){if(i&1&&(u(0,"p",73),f(1),p()),i&2){let e=x().$implicit;m(),P(e.STAT_DATE)}}function ZC(i,t){i&1&&(u(0,"p",73),f(1,"-"),p())}function zC(i,t){if(i&1&&(u(0,"div",62)(1,"p",63),f(2),p(),u(3,"p",64),f(4),p(),k(5,jC,2,1,"p",65)(6,ZC,2,0,"p",65),u(7,"div",66)(8,"p"),f(9,"Reason :"),p(),u(10,"div",67)(11,"p",68),f(12),p()()(),u(13,"div",69)(14,"div",70),f(15),p(),u(16,"div",71),w(17,"img",72),p()()()),i&2){let e=t.$implicit,n=x(2);v("ngClass",ti(9,OC,e.STATUS=="AP",e.STATUS=="RJ",e.STATUS=="RC")),m(2),P(e.empl_name),m(2),P(e.job_name),m(),v("ngIf",e.STAT_DATE!=null),m(),v("ngIf",e.STAT_DATE==null),m(6),P(n.dec_string(e.REASON)),m(2),v("ngClass",ti(13,NC,e.STATUS=="AP",e.STATUS=="RJ",e.STATUS=="RC")),m(),we(" ",n.format_status_str(e.STATUS)," "),m(2),v("src",e.sig_base64,qs)}}function UC(i,t){if(i&1&&(u(0,"div",60),k(1,zC,18,17,"div",61),p()),i&2){let e=x();m(),v("ngForOf",e.arr_approval_data)}}function WC(i,t){i&1&&(u(0,"div",74),w(1,"app-c-loading-spin",59),p()),i&2&&(m(),v("size",60))}function $C(i,t){if(i&1){let e=Z();u(0,"dialog",75,0)(2,"app-c-approve-box",76),E("dialog_exit",function(){M(e);let r=x();return A(r.dialog_approve_exit())}),p()()}if(i&2){let e=x();m(2),v("req_data",e.send_to_dialog)}}var td=class i{constructor(t,e,n,r){this.http=t;this.act_route=e;this.repVal=n;this.router=r}spawnApprove;captureDiv;req_id;arr_item_pengajuan=[];arr_approval_data=[];pengajuan_header={};arr_img_data=[];spawn_box_approve=!1;send_to_dialog={};order_create_date="";judul_pengajuan="";base64_sig_data=null;isFetching_file=!0;isFetching_approval=!0;exporting_pdf=!1;file_data={file_name:null,data:null};ngOnInit(){this.initLoad()}initLoad(){return O(this,null,function*(){this.req_id=this.act_route.snapshot.queryParams.id,this.get_item_pengajuan(),this.get_approval_data(),this.get_file_data(),console.log(this.file_data),console.log(this.file_data.file_name),this.send_to_dialog={req_id:this.req_id,empl_code:Me(this.router).EMPL_CODE}})}get_item_pengajuan(){return O(this,null,function*(){try{console.log(`
 get_item_pengajuan 
`);let e={req_id:this.req_id};var t=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_detail_pengajuan_item",{params:e}));console.log(e),console.log(t),this.order_create_date=t.data[0].TGL_PENGAJUAN??"!cek",this.judul_pengajuan=t.data[0].KATEGORI_REQUEST??"!cek",this.arr_item_pengajuan=t.data}catch(e){console.log(e)}})}get_file_data(){return O(this,null,function*(){let t={req_id:this.req_id};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_file_data",{params:t}));console.log(e),this.file_data=e.data,this.isFetching_file=!1})}get_approval_data(){return O(this,null,function*(){let t={req_id:this.req_id};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_approval_data",{params:t}));this.arr_approval_data=e.data,this.isFetching_approval=!1})}get_image_file(){return O(this,null,function*(){console.log("get_image_file");let t={req_id:this.req_id};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_sig_img_data",{params:t}));console.log(e)})}file_view(){let t=this.file_data.data;console.log(t);let e=atob(t),n=Array.from(e,s=>s.charCodeAt(0)),r=new Uint8Array(n),o=new Blob([r],{type:"application/pdf"}),a=URL.createObjectURL(o);window.open(a,"_blank")}file_download(){let t=this.file_data.data,e="download.pdf",n=`data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,${t}`,r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}dialog_approve_exit(){this.spawn_box_approve=!1}dialog_approve_spawn(){this.spawn_box_approve=!0}export_pdf(){return O(this,null,function*(){let t=document.getElementById("export_pdf()");this.exporting_pdf=!0;let e={req_id:this.req_id};console.log(this.req_id),window.open(`${X.env_dev.host}/api-eappr/get_pdf_export?req_id=`+this.req_id,"_blank")})}format_rp(t){return t}format_status_str(t){return t=="AP"?"Approve":t=="RJ"?"Reject":t=="RC"?"Re-check":"-"}dec_string(t){return this.repVal.dec_str(t)}static \u0275fac=function(e){return new(e||i)(S(Ee),S(hn),S(Xt),S(te))};static \u0275cmp=R({type:i,selectors:[["app-p-request-dtl"]],viewQuery:function(e,n){if(e&1&&(Re(PC,5),Re(RC,5)),e&2){let r;ne(r=ie())&&(n.spawnApprove=r.first),ne(r=ie())&&(n.captureDiv=r.first)}},decls:75,vars:9,consts:[["spawnApprove",""],["id","printThis",1,""],[1,""],[1,"text-xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center"],[1,"flex","flex-col"],[1,"text-sm","tracking-wider","rounded-sm"],[1,"text-md","mb-2","font-medium","tracking-wide","rounded-sm","text-[18px]"],[1,"py-2","pt-1","sm:pt-0","sm:px-6"],[1,"w-[86vw]","sm:w-[2px]","h-[2px]","sm:h-12","bg-[#ccc]"],[1,"text-md","mb-2","font-medium","tracking-wider","rounded-sm","text-[18px]"],[1,"my-8"],[1,"text-xl","font-medium","py-2","tracking-wide","mb-2"],[1,"sm:w-fit","w-full","overflow-x-auto"],[1,"w-fit","border","border-[#666]","rounded-md","overflow-auto"],[1,"overflow-y-auto","h-fit","border-b-2","text-xs"],[1,"w-fit","table-fixed","divide-y","divide-gray-200","rounded-t-md"],[1,"bg-[#f8f8f8]","mb-2"],[1,"w-[60px]","border-x","border-l-0","border-gray-200","font-medium","pl-2","py-4"],[1,"w-[200px]","border-x","border-gray-200","font-medium"],[1,"w-[300px]","border-x","border-gray-200","font-medium"],[1,"w-[120px]","border-x","border-gray-200","font-medium"],[1,"w-[60px]","border-x","border-gray-200","font-medium"],[1,"w-[120px]","border-x","border-r-0","border-gray-200","font-medium"],[1,"border-separate","pt-10"],["class","",4,"ngFor","ngForOf"],[1,"my-12"],[1,"flex","flex-col","justify-start"],[1,"text-xl","mb-2","font-medium","tracking-wide","rounded-md","w-fit"],[4,"ngIf"],["class","w-full flex h-fit",4,"ngIf"],[1,"flex","flex-col","flex-shrink-0","w-full","sm:w-[80vw]"],[1,"w-full","overflow-x-auto","pb-2"],["class","flex flex-shrink-0 w-fit",4,"ngIf"],["class","w-full flex justify-center items-center h-fit",4,"ngIf"],["class","fixed h-[100vh] w-[100vw] top-0 left-0 bg-[#00000058] flex justify-center items-center",4,"ngIf"],[1,"my-6"],[1,"flex","flex-row"],[1,"p-2","pb-[10px]","px-4","rounded-md","text-lg","tracking-wide","text-white","border-2","border-[#2f7048]","bg-[#3b905b]","mr-4",3,"click"],[1,"p-2","pb-[10px]","px-4","rounded-md","text-lg","tracking-wide","text-white","border-2","border-[#2f5370]","bg-[#3b6a90]",3,"click"],[1,"my-[40vh]"],[1,"border","px-2"],[1,"flex","py-2","justify-center"],[1,"flex","py-2","justify-start"],[1,"flex","py-2","justify-start","text-start","flex-col","mr-8"],[1,"flex","py-2","justify-end","mr-8"],["class","text-lg text-[#999]",4,"ngIf"],[1,"flex","sm:flex-row","flex-col","mt-2"],[1,"flex","flex-row","p-2","bg-[#fff]","border-2","border-[#aaa]","w-fit","rounded-md","text-[#000]","fill-[#000]","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256"],["d","M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"],[1,"mx-2"],[1,"mx-1"],[1,"flex","flex-row","sm:mt-0","mt-2"],[1,"flex","flex-row","p-2","border-2","border-[#aaa]","bg-[#fff]","w-fit","rounded-md","text-black","fill-black","items-center",3,"click"],["d","M224,144v64a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V144a8,8,0,0,1,16,0v56H208V144a8,8,0,0,1,16,0Zm-101.66,5.66a8,8,0,0,0,11.32,0l40-40a8,8,0,0,0-11.32-11.32L136,124.69V32a8,8,0,0,0-16,0v92.69L93.66,98.34a8,8,0,0,0-11.32,11.32Z"],["d","M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.46,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"],[1,"text-lg","text-[#999]"],[1,"w-full","flex","h-fit"],[3,"size"],[1,"flex","flex-shrink-0","w-fit"],["class","w-80 h-fit border-2 border-[#ddd] rounded-md flex flex-col p-3 mr-6 relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-80","h-fit","border-2","border-[#ddd]","rounded-md","flex","flex-col","p-3","mr-6","relative",3,"ngClass"],[1,"font-medium","tracking-wide","text-sm","text-nowrap"],[1,"text-sm"],["class","text-xs",4,"ngIf"],[1,"flex","flex-col","mt-2"],[1,"border-2","h-24","w-full","rounded-md","border-[#c2c2c2]","mt-2"],[1,"m-2","text-xs"],[1,"flex","justify-between","flex-row","flex-grow-0","items-center"],[1,"flex","flex-col","justify-center","items-center","w-32","flex-grow-0","mt-2","px-2","p-2","rounded-md","text-white",3,"ngClass"],[1,"relative"],[1,"h-[40px]",3,"src"],[1,"text-xs"],[1,"w-full","flex","justify-center","items-center","h-fit"],[1,"fixed","h-[100vh]","w-[100vw]","top-0","left-0","bg-[#00000058]","flex","justify-center","items-center"],[3,"dialog_exit","req_data"]],template:function(e,n){e&1&&(u(0,"div",1)(1,"div")(2,"div",2)(3,"p",3),f(4,"Detail Pengajuan"),p(),u(5,"div",4)(6,"div",5)(7,"p",6),f(8,"Judul Pengajuan"),p(),u(9,"p",7),f(10),p()(),u(11,"div",8),w(12,"div",9),p(),u(13,"div",5)(14,"p",6),f(15,"Nomor Order"),p(),u(16,"p",10),f(17),p()(),u(18,"div",8),w(19,"div",9),p(),u(20,"div",5)(21,"p",6),f(22,"Tanggal Order"),p(),u(23,"p",10),f(24),p()()()()(),w(25,"div",11),u(26,"p",12),f(27,"Item Pengajuan"),p(),u(28,"div",13)(29,"div",14)(30,"div",15)(31,"table",16)(32,"thead",17)(33,"tr")(34,"th",18),f(35,"No"),p(),u(36,"th",19),f(37,"Keterangan"),p(),u(38,"th",19),f(39,"Jenis Pembiayaan"),p(),u(40,"th",20),f(41,"Bank"),p(),u(42,"th",21),f(43,"Harga Satuan"),p(),u(44,"th",22),f(45,"Quantity"),p(),u(46,"th",22),f(47,"PPN"),p(),u(48,"th",22),f(49,"PPH"),p(),u(50,"th",23),f(51,"Total Harga"),p()()(),u(52,"tbody",24),k(53,FC,31,15,"tr",25),p()()()()(),w(54,"div",26),u(55,"div",27)(56,"div",28),f(57,"Uploaded file"),p(),k(58,BC,3,2,"div",29)(59,HC,2,1,"div",30),p(),w(60,"div",26),u(61,"div",31)(62,"div",3),f(63,"Approval"),p(),u(64,"div",32),k(65,UC,2,1,"div",33)(66,WC,2,1,"div",34),p()(),k(67,$C,3,1,"dialog",35),w(68,"div",36),u(69,"div",37)(70,"button",38),E("click",function(){return n.dialog_approve_spawn()}),f(71,"Proses Pengajuan"),p(),u(72,"button",39),E("click",function(){return n.export_pdf()}),f(73,"Export PDF "),p()(),w(74,"div",40),p()),e&2&&(m(10),we(" ",n.dec_string(n.judul_pengajuan),""),m(7),P(n.req_id),m(7),P(n.order_create_date),m(29),v("ngForOf",n.arr_item_pengajuan),m(5),v("ngIf",!n.isFetching_file),m(),v("ngIf",n.isFetching_file),m(6),v("ngIf",!n.isFetching_approval),m(),v("ngIf",n.isFetching_approval),m(),v("ngIf",n.spawn_box_approve))},dependencies:[Ve,Y,Se,xe,de,or,ue,ed,vn],encapsulation:2})};var Bo=class{constructor(t,e,n,r){if(isNaN(t)||isNaN(e))throw new Error(`Point is invalid: (${t}, ${e})`);this.x=+t,this.y=+e,this.pressure=n||0,this.time=r||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}},yp=class i{static fromPoints(t,e){let n=this.calculateControlPoints(t[0],t[1],t[2]).c2,r=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new i(t[1],n,r,t[2],e.start,e.end)}static calculateControlPoints(t,e,n){let r=t.x-e.x,o=t.y-e.y,a=e.x-n.x,s=e.y-n.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+n.x)/2,y:(e.y+n.y)/2},d=Math.sqrt(r*r+o*o),h=Math.sqrt(a*a+s*s),g=l.x-c.x,_=l.y-c.y,b=d+h==0?0:h/(d+h),C={x:c.x+g*b,y:c.y+_*b},D=e.x-C.x,F=e.y-C.y;return{c1:new Bo(l.x+D,l.y+F),c2:new Bo(c.x+D,c.y+F)}}constructor(t,e,n,r,o,a){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=r,this.startWidth=o,this.endWidth=a}length(){let e=0,n,r;for(let o=0;o<=10;o+=1){let a=o/10,s=this.point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){let c=s-n,d=l-r;e+=Math.sqrt(c*c+d*d)}n=s,r=l}return e}point(t,e,n,r,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+o*t*t*t}},wp=class{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,e,n){this._et.addEventListener(t,e,n)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,e,n){this._et.removeEventListener(t,e,n)}};function GC(i,t=250){let e=0,n=null,r,o,a,s=()=>{e=Date.now(),n=null,r=i.apply(o,a),n||(o=null,a=[])};return function(...c){let d=Date.now(),h=t-(d-e);return o=this,a=c,h<=0||h>t?(n&&(clearTimeout(n),n=null),e=d,r=i.apply(o,a),n||(o=null,a=[])):n||(n=window.setTimeout(s,h)),r}}var nd=class i extends wp{constructor(t,e={}){var n,r,o;super(),this.canvas=t,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=a=>{!this._isLeftButtonPressed(a,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(a))},this._handleMouseMove=a=>{if(!this._isLeftButtonPressed(a,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(a),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(a))},this._handleMouseUp=a=>{this._isLeftButtonPressed(a)||this._strokeEnd(this._pointerEventToSignatureEvent(a))},this._handleTouchStart=a=>{a.targetTouches.length!==1||this._drawingStroke||(a.cancelable&&a.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(a)))},this._handleTouchMove=a=>{if(a.targetTouches.length===1){if(a.cancelable&&a.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(a),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(a))}},this._handleTouchEnd=a=>{a.targetTouches.length===0&&(a.cancelable&&a.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(a)))},this._handlePointerDown=a=>{!a.isPrimary||!this._isLeftButtonPressed(a)||this._drawingStroke||typeof this._strokePointerId<"u"&&this._strokePointerId!==this._getPointerId(a)||(this._strokePointerId=this._getPointerId(a),a.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(a)))},this._handlePointerMove=a=>{if(!(!a.isPrimary||this._strokePointerId!==this._getPointerId(a))){if(!this._isLeftButtonPressed(a,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(a),!1);return}a.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(a))}},this._handlePointerUp=a=>{!a.isPrimary||this._isLeftButtonPressed(a)||this._strokePointerId!==this._getPointerId(a)||(this._strokePointerId=void 0,a.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(a)))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle=(n=e.throttle)!==null&&n!==void 0?n:16,this.minDistance=(r=e.minDistance)!==null&&r!==void 0?r:5,this.dotSize=e.dotSize||0,this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=e.compositeOperation||"source-over",this.canvasContextOptions=(o=e.canvasContextOptions)!==null&&o!==void 0?o:{},this._strokeMoveUpdate=this.throttle?GC(i.prototype._strokeUpdate,this.throttle):i.prototype._strokeUpdate,this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){let{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(t,e={}){return new Promise((n,r)=>{let o=new Image,a=e.ratio||window.devicePixelRatio||1,s=e.width||this.canvas.width/a,l=e.height||this.canvas.height/a,c=e.xOffset||0,d=e.yOffset||0;this._reset(this._getPointGroupOptions()),o.onload=()=>{this._ctx.drawImage(o,c,d,s,l),n()},o.onerror=h=>{r(h)},o.crossOrigin="anonymous",o.src=t,this._isEmpty=!1})}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return typeof e!="object"&&(e=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(e))}`;default:return typeof e!="number"&&(e=void 0),this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";let t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){var t;let e=window.document===this.canvas.ownerDocument?window:(t=this.canvas.ownerDocument.defaultView)!==null&&t!==void 0?t:this.canvas.ownerDocument;return{addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}_removeMoveUpEventListeners(){let{removeEventListener:t}=this._getListenerFunctions();t("pointermove",this._handlePointerMove),t("pointerup",this._handlePointerUp),t("mousemove",this._handleMouseMove),t("mouseup",this._handleMouseUp),t("touchmove",this._handleTouchMove),t("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:e=!0}={}){e&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_isLeftButtonPressed(t,e){return e?t.buttons===1:(t.buttons&1)===1}_pointerEventToSignatureEvent(t){return{event:t,type:t.type,x:t.clientX,y:t.clientY,pressure:"pressure"in t?t.pressure:0}}_touchEventToSignatureEvent(t){let e=t.changedTouches[0];return{event:t,type:t.type,x:e.clientX,y:e.clientY,pressure:e.force}}_getPointerId(t){return t.persistentDeviceId||t.pointerId}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;let{addEventListener:n}=this._getListenerFunctions();switch(t.event.type){case"mousedown":n("mousemove",this._handleMouseMove,{passive:!1}),n("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":n("touchmove",this._handleTouchMove,{passive:!1}),n("touchend",this._handleTouchEnd,{passive:!1});break;case"pointerdown":n("pointermove",this._handlePointerMove,{passive:!1}),n("pointerup",this._handlePointerUp,{passive:!1});break}this._drawingStroke=!0;let r=this._getPointGroupOptions(),o=Object.assign(Object.assign({},r),{points:[]});this._data.push(o),this._reset(r),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));let e=this._createPoint(t.x,t.y,t.pressure),n=this._data[this._data.length-1],r=n.points,o=r.length>0&&r[r.length-1],a=o?e.distanceTo(o)<=this.minDistance:!1,s=this._getPointGroupOptions(n);if(!o||!(o&&a)){let l=this._addPoint(e,s);o?l&&this._drawCurve(l,s):this._drawDot(e,s),r.push({time:e.time,x:e.x,y:e.y,pressure:e.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t,e=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(e&&this._strokeUpdate(t),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,e,n){let r=this.canvas.getBoundingClientRect();return new Bo(t-r.left,e-r.top,n,new Date().getTime())}_addPoint(t,e){let{_lastPoints:n}=this;if(n.push(t),n.length>2){n.length===3&&n.unshift(n[0]);let r=this._calculateCurveWidths(n[1],n[2],e),o=yp.fromPoints(n,r);return n.shift(),o}return null}_calculateCurveWidths(t,e,n){let r=n.velocityFilterWeight*e.velocityFrom(t)+(1-n.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(r,n),a={end:o,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=o,a}_strokeWidth(t,e){return Math.max(e.maxWidth/(t+1),e.minWidth)}_drawCurveSegment(t,e,n){let r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,e){let n=this._ctx,r=t.endWidth-t.startWidth,o=Math.ceil(t.length())*2;n.beginPath(),n.fillStyle=e.penColor;for(let a=0;a<o;a+=1){let s=a/o,l=s*s,c=l*s,d=1-s,h=d*d,g=h*d,_=g*t.startPoint.x;_+=3*h*s*t.control1.x,_+=3*d*l*t.control2.x,_+=c*t.endPoint.x;let b=g*t.startPoint.y;b+=3*h*s*t.control1.y,b+=3*d*l*t.control2.y,b+=c*t.endPoint.y;let C=Math.min(t.startWidth+c*r,e.maxWidth);this._drawCurveSegment(_,b,C)}n.closePath(),n.fill()}_drawDot(t,e){let n=this._ctx,r=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,r),n.closePath(),n.fillStyle=e.penColor,n.fill()}_fromData(t,e,n){for(let r of t){let{points:o}=r,a=this._getPointGroupOptions(r);if(o.length>1)for(let s=0;s<o.length;s+=1){let l=o[s],c=new Bo(l.x,l.y,l.pressure,l.time);s===0&&this._reset(a);let d=this._addPoint(c,a);d&&e(d,a)}else this._reset(a),n(o[0],a)}}toSVG({includeBackgroundColor:t=!1}={}){let e=this._data,n=Math.max(window.devicePixelRatio||1,1),r=0,o=0,a=this.canvas.width/n,s=this.canvas.height/n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttribute("viewBox",`${r} ${o} ${a} ${s}`),l.setAttribute("width",a.toString()),l.setAttribute("height",s.toString()),t&&this.backgroundColor){let c=document.createElement("rect");c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill",this.backgroundColor),l.appendChild(c)}return this._fromData(e,(c,{penColor:d})=>{let h=document.createElement("path");if(!isNaN(c.control1.x)&&!isNaN(c.control1.y)&&!isNaN(c.control2.x)&&!isNaN(c.control2.y)){let g=`M ${c.startPoint.x.toFixed(3)},${c.startPoint.y.toFixed(3)} C ${c.control1.x.toFixed(3)},${c.control1.y.toFixed(3)} ${c.control2.x.toFixed(3)},${c.control2.y.toFixed(3)} ${c.endPoint.x.toFixed(3)},${c.endPoint.y.toFixed(3)}`;h.setAttribute("d",g),h.setAttribute("stroke-width",(c.endWidth*2.25).toFixed(3)),h.setAttribute("stroke",d),h.setAttribute("fill","none"),h.setAttribute("stroke-linecap","round"),l.appendChild(h)}},(c,{penColor:d,dotSize:h,minWidth:g,maxWidth:_})=>{let b=document.createElement("circle"),C=h>0?h:(g+_)/2;b.setAttribute("r",C.toString()),b.setAttribute("cx",c.x.toString()),b.setAttribute("cy",c.y.toString()),b.setAttribute("fill",d),l.appendChild(b)}),l.outerHTML}};var qC=["canvas"];function KC(i,t){i&1&&(u(0,"p",10),f(1,"Signature is required"),p())}var id=class i{canvasEl;base64_sig_data=new j;signatureNeeded;signaturePad;signatureImg;base64_sig;constructor(){}ngOnInit(){}ngAfterViewInit(){this.signaturePad=new nd(this.canvasEl.nativeElement)}startDrawing(t){console.log("asd")}stopDrawing(t){let e=this.signaturePad.toDataURL();this.base64_sig_data.emit(e)}clearPad(){this.signaturePad.clear(),this.base64_sig_data.emit(null)}savePad(){let t=this.signaturePad.toDataURL();this.signatureImg=t,this.signatureNeeded=this.signaturePad.isEmpty(),this.signatureNeeded||(this.signatureNeeded=!1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-c-signature-pad"]],viewQuery:function(e,n){if(e&1&&Re(qC,5),e&2){let r;ne(r=ie())&&(n.canvasEl=r.first)}},outputs:{base64_sig_data:"base64_sig_data"},decls:13,vars:1,consts:[["canvas",""],[1,"w-fit","relative"],[1,"mb-2","w-fit"],["width","300","height","160",1,"rounded-md","border-2","border-[#b5b5b5]",3,"pointerup","pointerleave"],["class","error-message",4,"ngIf"],[1,"buttons","flex","justify-end","mt-2"],[1,"p-1","px-2","bg-[#666]","text-white","rounded-md",3,"click"],[1,"absolute","bottom-14","w-full","pointer-events-none","items-center","flex","flex-col","opacity-20"],[1,"w-[80%]","h-[2px]","bg-black"],[1,"mt-1"],[1,"error-message"]],template:function(e,n){if(e&1){let r=Z();u(0,"div",1)(1,"h4",2),f(2,"Please Add your signature here"),p(),u(3,"canvas",3,0),E("pointerup",function(a){return M(r),A(n.stopDrawing(a))})("pointerleave",function(a){return M(r),A(n.stopDrawing(a))}),p(),k(5,KC,2,0,"p",4),u(6,"div",5)(7,"button",6),E("click",function(){return M(r),A(n.clearPad())}),f(8," Reset "),p()(),u(9,"div",7),w(10,"div",8),u(11,"p",9),f(12," Nama Penanda Tangan"),p()()()}e&2&&(m(5),v("ngIf",n.signatureNeeded))},dependencies:[Y,de],encapsulation:2})};function YC(i,t){if(i&1){let e=Z();u(0,"div",11)(1,"button",12),E("click",function(){M(e);let r=x();return A(r.update_suppl())}),ee(),u(2,"svg",13),w(3,"path",14),p(),De(),u(4,"p",15),f(5,"Simpan Perubahan"),p()(),w(6,"div",4),u(7,"button",16),E("click",function(){M(e);let r=x();return A(r.remove_suppl())}),ee(),u(8,"svg",13),w(9,"path",17),p(),De(),u(10,"p",15),f(11,"Remove Supplier"),p()()()}}function JC(i,t){i&1&&(u(0,"div",18)(1,"p"),f(2,"Proccessing..."),p()())}var rd=class i{constructor(t,e){this.http=t;this.snackbar=e}closePopupEvent=new j;getApproval=new j;supplData;is_fetching=!1;is_fetching_update=!1;supplData_new=null;ngOnInit(){this.supplData_new=T({},this.supplData)}update_validation_check(){return JSON.stringify(this.supplData)!==JSON.stringify(this.supplData_new)}closeThis(){this.closePopupEvent.emit()}cancelAction(t){t.stopPropagation()}remove_suppl(){return O(this,null,function*(){this.is_fetching_update=!0;let t={supl_id:this.supplData.SUPL_ID};(yield Q(this.http.post(X.env_dev.host+"/api-eappr/remove_suppl",t))).status==200&&this.snackbar.open("Update supplier berhasil.",void 0,{duration:5e3,panelClass:["notif_success"]}),this.is_fetching_update=!1})}update_suppl(){return O(this,null,function*(){if(this.update_validation_check()){this.is_fetching_update=!0;let t={data:this.supplData_new};(yield Q(this.http.post(X.env_dev.host+"/api-eappr/update_suppl",t))).status==200?(this.snackbar.open("Update supplier berhasil.",void 0,{duration:5e3,panelClass:["notif_success"]}),this.getApproval.emit()):this.snackbar.open("Update supplier gagal.",void 0,{duration:5e3,panelClass:["notif_failed"]}),this.is_fetching_update=!1}else this.snackbar.open("Tidak ada perubahan.",void 0,{duration:5e3,panelClass:["notif_neutral"]})})}static \u0275fac=function(e){return new(e||i)(S(Ee),S(Ge))};static \u0275cmp=R({type:i,selectors:[["app-c-suppliers-action-box"]],inputs:{supplData:"supplData"},outputs:{closePopupEvent:"closePopupEvent",getApproval:"getApproval"},decls:49,vars:9,consts:[[1,"w-[100vw]","h-[100vh]","bg-[#0000006b]","fixed","z-20","left-0","top-0","flex","items-center","justify-center",3,"click"],[1,"w-[40vw]","h-fit","p-4","bg-white","rounded-md","relative","border-2","border-[#e0e0e0]","flex","flex-col",3,"click"],[1,"flex","flex-row","items-center"],[1,"text-sm","w-32"],[1,"mx-2"],[1,"p-1","px-2","w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[1,"my-1"],["disabled","",1,"p-1","px-2","w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModel"],["disabled","",1,"p-1","px-2","w-[26vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],["class","flex flex-row justify-between mt-4",4,"ngIf"],["class","mt-4 h-[43px] flex items-center justify-center",4,"ngIf"],[1,"flex","flex-row","justify-between","mt-4"],[1,"p-2","bg-green-700","border-2","border-green-600","text-white","fill-white","rounded-md","flex","flex-row","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 256 256"],["d","M219.31,72,184,36.69A15.86,15.86,0,0,0,172.69,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V83.31A15.86,15.86,0,0,0,219.31,72ZM168,208H88V152h80Zm40,0H184V152a16,16,0,0,0-16-16H88a16,16,0,0,0-16,16v56H48V48H172.69L208,83.31ZM160,72a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h56A8,8,0,0,1,160,72Z"],[1,"ml-1"],[1,"p-2","bg-red-700","border-2","border-red-600","text-white","fill-white","rounded-md","flex","flex-row","items-center",3,"click"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"mt-4","h-[43px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0),E("click",function(){return n.closeThis()}),u(1,"div",1),E("click",function(o){return n.cancelAction(o)}),u(2,"div",2)(3,"p",3),f(4,"Nama Supplier: "),p(),w(5,"div",4),u(6,"input",5),G("ngModelChange",function(o){return $(n.supplData_new.SUPPLIER_NAME,o)||(n.supplData_new.SUPPLIER_NAME=o),o}),p()(),w(7,"div",6),u(8,"div",2)(9,"p",3),f(10,"No. Rek: "),p(),w(11,"div",4)(12,"input",7),p(),w(13,"div",6),u(14,"div",2)(15,"p",3),f(16,"Nama Rek: "),p(),w(17,"div",4)(18,"input",7),p(),w(19,"div",6),u(20,"div",2)(21,"p",3),f(22,"Bank Name: "),p(),w(23,"div",4),u(24,"input",8),G("ngModelChange",function(o){return $(n.supplData_new.BANK_NAME,o)||(n.supplData_new.BANK_NAME=o),o}),p()(),w(25,"div",6),u(26,"div",2)(27,"p",3),f(28,"Is Active: "),p(),w(29,"div",4),u(30,"select",5),G("ngModelChange",function(o){return $(n.supplData_new.IS_ACTIVE,o)||(n.supplData_new.IS_ACTIVE=o),o}),u(31,"option"),f(32,"Y"),p(),u(33,"option"),f(34,"N"),p()()(),w(35,"div",6),u(36,"div",2)(37,"p",3),f(38,"Created By: "),p(),w(39,"div",4)(40,"input",7),p(),w(41,"div",6),u(42,"div",2)(43,"p",3),f(44,"Created Date: "),p(),w(45,"div",4)(46,"input",7),p(),k(47,YC,12,0,"div",9)(48,JC,3,0,"div",10),p()()),e&2&&(m(6),W("ngModel",n.supplData_new.SUPPLIER_NAME),m(6),v("ngModel",n.supplData_new.REK_NO),m(6),v("ngModel",n.supplData_new.REK_NAME),m(6),W("ngModel",n.supplData_new.BANK_NAME),m(6),W("ngModel",n.supplData_new.IS_ACTIVE),m(10),v("ngModel",n.supplData_new.CREATED_BY),m(6),v("ngModel",n.supplData_new.CREATED_DATE),m(),v("ngIf",!n.is_fetching_update),m(),v("ngIf",n.is_fetching_update))},dependencies:[Ve,ue,ot,at,ze,Pt,Ie,Fe,Y,de],encapsulation:2})};var L5=i=>({"placeholder-opacity-100":i}),XC=(i,t)=>({"bg-gray-300":i,"opacity-50":t});function QC(i,t){if(i&1){let e=Z();u(0,"div")(1,"app-c-suppliers-action-box",29),E("closePopupEvent",function(){M(e);let r=x(2);return A(r.show_suppl_action_box=!1)}),p()()}if(i&2){let e=x(2);m(),v("supplData",e.act_suppl)}}function e6(i,t){if(i&1){let e=Z();u(0,"tr",47)(1,"td",48),f(2),p(),u(3,"td",49),f(4),p(),u(5,"td",50),f(6),p(),u(7,"td",51),f(8),p(),u(9,"td",52),f(10),p(),u(11,"td",53),f(12),p(),u(13,"td",53),f(14),p(),u(15,"td",54)(16,"button",55),E("click",function(){let r=M(e).index,o=x(3);return A(o.f_show_suppl_action_box(r))}),f(17," Action "),p()()()}if(i&2){let e=t.$implicit,n=t.index;m(2),P(n+1),m(2),P(e.SUPPLIER_NAME),m(2),P(e.REK_NAME),m(2),P(e.REK_NO),m(2),P(e.BANK_NAME),m(2),P(e.CREATED_BY),m(2),P(e.CREATED_DATE)}}function t6(i,t){i&1&&(u(0,"div",56),f(1," No Data "),p())}function n6(i,t){if(i&1){let e=Z();u(0,"div",30)(1,"table",31)(2,"thead",32)(3,"tr",0)(4,"th",33),f(5,"NO"),p(),u(6,"th",34),f(7,"Nama Supplier"),p(),u(8,"th",34),f(9,"Nama Rekening"),p(),u(10,"th",35),f(11,"No. Rekening"),p(),u(12,"th",36),f(13,"Nama Bank"),p(),u(14,"th",37),f(15,"Created by"),p(),u(16,"th",35),f(17,"Created Date"),p(),u(18,"th",35),f(19,"ACTION"),p()()(),u(20,"tbody",38),k(21,e6,18,7,"tr",39),p()(),k(22,t6,2,0,"div",40),u(23,"div",41)(24,"button",42),E("click",function(){M(e);let r=x(2);return A(r.pgDown())}),ee(),u(25,"svg",43),w(26,"path",44),p()(),De(),w(27,"input",45),u(28,"button",42),E("click",function(){M(e);let r=x(2);return A(r.pgUp())}),ee(),u(29,"svg",43),w(30,"path",46),p()()()()}if(i&2){let e=x(2);m(21),v("ngForOf",e.tableData),m(),v("ngIf",e.tableData.length==0),m(5),v("value",e.act_page)}}function i6(i,t){i&1&&(u(0,"div",57)(1,"p"),f(2,"Fetching data..."),p()())}function r6(i,t){if(i&1){let e=Z();u(0,"div",16),w(1,"div",17),u(2,"p",1),f(3,"Edit Supplier"),p(),k(4,QC,2,1,"div",18),u(5,"div",19)(6,"div",20)(7,"input",21),G("ngModelChange",function(r){M(e);let o=x();return $(o.q_search,r)||(o.q_search=r),A(r)}),E("keyup.enter",function(){M(e);let r=x();return A(r.get_suppliers())}),p(),w(8,"div",13),u(9,"Button",22),E("click",function(){M(e);let r=x();return A(r.get_suppliers())}),u(10,"p",23),f(11,"Search"),p(),w(12,"div",24),ee(),u(13,"svg",25),w(14,"path",26),p()()()(),k(15,n6,31,3,"div",27)(16,i6,3,0,"div",28),De(),w(17,"div",17),p()}if(i&2){let e=x();m(4),v("ngIf",e.show_suppl_action_box),m(3),W("ngModel",e.q_search),m(8),v("ngIf",!e.is_fetching_data),m(),v("ngIf",e.is_fetching_data)}}var od=class i{constructor(t,e,n){this.http=t;this.snackbar=e;this.router=n}is_fetching=!0;can_add_suppl=!1;is_fetching_data=!0;show_suppl_action_box=!1;isFetching_add_suppl=!1;act_bank=null;act_suppl=null;act_page=1;tableData=[];arr_banks=[];arr_banks_base=[];suppl_name="";suppl_rek_name="";suppl_rek_no="";suppl_bank_name="";q_search="";ngOnInit(){this.initLoad(),this.is_fetching=!1}initLoad(){return O(this,null,function*(){yield this.get_banks(),this.get_suppliers()})}jobCheck_it(){return Me(this.router).EMPL_JOB=="G00123"}get_banks(){return O(this,null,function*(){let t={data:"data"};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_banks",{params:t}));this.arr_banks_base=e.data;let n=[];e.data.forEach(r=>{var o=r.BANK_NAME;n.push(o)}),this.arr_banks=n})}get_suppliers(){return O(this,null,function*(){this.is_fetching_data=!0;let t={q_page:this.act_page,q_search:this.q_search.toLowerCase()};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_suppliers",{params:t}));console.log(e),this.tableData=e.data,this.is_fetching_data=!1})}clear_act_bank(){this.act_bank=null,this.listen_inps()}on_banks_changed(t){let e=0;this.arr_banks_base.forEach(n=>{n.BANK_NAME==t&&(this.act_bank=this.arr_banks_base[e],console.log(this.act_bank)),e++}),this.listen_inps()}add_supplier(){return O(this,null,function*(){if(this.can_add_suppl||this.snackbar.open("Periksa kembali informasi penambahan supplier.",void 0,{duration:5e3,panelClass:["notif_failed"]}),!this.isFetching_add_suppl&&this.can_add_suppl){this.isFetching_add_suppl=!0;try{let e={bank_code:this.act_bank.BANK_ID,bank_name:this.act_bank.BANK_NAME,suppl_rek_no:this.suppl_rek_no,suppl_rek_name:this.suppl_rek_name,suppl_name:this.suppl_name,suppl_bank_name:this.suppl_bank_name,empl_code:Me(this.router).EMPL_CODE};var t=yield Q(this.http.post(X.env_dev.host+"/api-eappr/add_supplier",e));console.log(t),t.data.includes("berhasil")?this.snackbar.open(t.data,void 0,{duration:5e3,panelClass:["notif_success"]}):this.snackbar.open(t.data,void 0,{duration:5e3,panelClass:["notif_failed"]})}catch(e){console.log(e.error.message),this.snackbar.open(e.error.message,void 0,{duration:5e3,panelClass:["notif_failed"]})}finally{this.isFetching_add_suppl=!1}}})}listen_inps(){console.log(this.act_bank),this.suppl_name.length!=0&&this.suppl_rek_name.length!=0&&this.suppl_rek_no.length!=0&&this.act_bank!=null?this.can_add_suppl=!0:this.can_add_suppl=!1,console.log(this.can_add_suppl)}reset_add_suppl(){this.suppl_bank_name="",this.suppl_name="",this.suppl_rek_name="",this.suppl_rek_no="",this.listen_inps()}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_suppliers()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_suppliers())}f_show_suppl_action_box(t){let e=this.tableData[t];this.act_suppl=e,this.show_suppl_action_box=!0}static \u0275fac=function(e){return new(e||i)(S(Ee),S(Ge),S(te))};static \u0275cmp=R({type:i,selectors:[["app-p-suppliers"]],decls:34,vars:15,consts:[[1,""],[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"text-sm"],[1,"flex","flex-col","justify-center"],[1,"mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","ngModel"],[1,"my-4"],[1,"w-[30vw]"],[3,"remove","clear","change","items"],[1,"my-6"],[1,"flex","flex-row"],[1,"w-24","p-2","bg-red-700","border-2","opacity-100","border-red-600","text-white","rounded-md","transition-all",3,"click"],[3,"ngClass"],[1,"mx-1"],[1,"w-44","p-2","bg-green-700","border-2","opacity-100","border-green-600","text-white","rounded-md","transition-all",3,"click","ngClass"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],[1,"py-8"],[4,"ngIf"],[1,"mb-4"],[1,"rounded-full","border","border-gray-400","p-1","flex","flex-row","items-center","w-fit"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","w-[200px]",3,"ngModelChange","keyup.enter","ngModel"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],["class"," border rounded-md flex flex-col justify-between h-[520px]",4,"ngIf"],["class","w-full h-[560px] flex items-center justify-center",4,"ngIf"],[3,"closePopupEvent","supplData"],[1,"border","rounded-md","flex","flex-col","justify-between","h-[520px]"],[1,"w-full","overflow-x-auto","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,"w-[30px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[130px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[60px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[80px]","border-slate-500","font-medium","pl-2","py-4"],[1,"border-separate","pt-10"],["class","h-8 flex-grow-0 odd:bg-gray-100 border-b",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[420px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"value"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"h-8","flex-grow-0","odd:bg-gray-100","border-b"],[1,"px-2","border","border-l-0","text-center"],[1,"px-2","border","text-left"],[1,"px-2","border","text-start"],[1,"px-2","border","text-center","py-4"],[1,"px-2","border","text-center"],[1,"px-2","border","text-center","py-2"],[1,"px-2","border","border-r-0","text-center","py-2"],[1,"mx-2","rounded-full","px-4","py-1","bg-[#242424]","text-white",3,"click"],[1,"w-full","flex","items-center","justify-center","h-[420px]"],[1,"w-full","h-[560px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),f(2,"Set Up Supplier"),p(),u(3,"div",2)(4,"div",3)(5,"label",4),f(6,"Supplier name :"),p(),u(7,"input",5),E("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.suppl_name,o)||(n.suppl_name=o),o}),p()(),w(8,"div",6),u(9,"div",3)(10,"label",4),f(11,"Nama Rekening Supplier :"),p(),u(12,"input",5),E("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.suppl_rek_name,o)||(n.suppl_rek_name=o),o}),p()(),w(13,"div",6),u(14,"div",3)(15,"label",4),f(16,"Nomor Rekening Supplier :"),p(),u(17,"input",5),E("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.suppl_rek_no,o)||(n.suppl_rek_no=o),o}),p()(),w(18,"div",6),u(19,"div",3)(20,"label",4),f(21,"Bank :"),p(),u(22,"div",7)(23,"ng-select",8),E("remove",function(){return n.clear_act_bank()})("clear",function(){return n.clear_act_bank()})("change",function(o){return n.on_banks_changed(o)}),p()()(),w(24,"div",9),u(25,"div",10)(26,"button",11),E("click",function(){return n.reset_add_suppl()}),u(27,"p",12),f(28,"Reset"),p()(),w(29,"div",13),u(30,"button",14),E("click",function(){return n.add_supplier()}),u(31,"p",12),f(32,"Tambah Supplier"),p()()()(),k(33,r6,18,4,"div",15),p()),e&2&&(m(7),W("ngModel",n.suppl_name),m(5),W("ngModel",n.suppl_rek_name),m(5),W("ngModel",n.suppl_rek_no),m(6),v("items",n.arr_banks),m(4),v("ngClass",be(8,L5,n.is_fetching===!0)),m(3),v("ngClass",We(10,XC,n.is_fetching===!0,!n.can_add_suppl)),m(),v("ngClass",be(13,L5,n.is_fetching===!0)),m(2),v("ngIf",!0))},dependencies:[Y,Se,xe,de,ue,ze,Ie,Fe,Ve,Fc,fn,rd],encapsulation:2})};var V5=i=>({"placeholder-opacity-100":i}),o6=(i,t)=>({"bg-gray-300":i,"opacity-50":t}),B5=i=>({"border-r-0":i});function a6(i,t){if(i&1&&(u(0,"option"),f(1),p()),i&2){let e=t.$implicit;m(),we(" ",e," ")}}function s6(i,t){if(i&1&&(u(0,"th",51),f(1,"Action"),p()),i&2){let e=x(2);v("ngClass",be(1,B5,e.jobCheck_it()))}}function l6(i,t){if(i&1){let e=Z();u(0,"td",58)(1,"button",59),E("click",function(){M(e);let r=x().index,o=x(2);return A(o.f_show_jenis_pemb_action_box(r))}),f(2," Action "),p()()}if(i&2){let e=x(3);v("ngClass",be(1,B5,e.jobCheck_it()))}}function c6(i,t){if(i&1&&(u(0,"tr",52)(1,"td",53),f(2),p(),u(3,"td",54),f(4),p(),u(5,"td",55),f(6),p(),u(7,"td",56),f(8),p(),u(9,"td",56),f(10),p(),u(11,"td",56),f(12),p(),k(13,l6,3,3,"td",57),p()),i&2){let e=t.$implicit,n=t.index,r=x(2);m(2),P(n+1),m(2),P(e.NAME_TYPE),m(2),P(e.group_type),m(2),P(e.is_active),m(2),P(e.created_by),m(2),P(e.created_date),m(),v("ngIf",r.jobCheck_it())}}function d6(i,t){i&1&&(u(0,"div",60),f(1," No Data "),p())}function u6(i,t){if(i&1){let e=Z();u(0,"div",33)(1,"table",34)(2,"thead",35)(3,"tr",3)(4,"th",36),f(5,"NO"),p(),u(6,"th",37),f(7,"Name Type"),p(),u(8,"th",38),f(9,"Group Type"),p(),u(10,"th",39),f(11,"Is Active"),p(),u(12,"th",40),f(13,"Created By"),p(),u(14,"th",38),f(15,"Created Date"),p(),k(16,s6,2,3,"th",41),p()(),u(17,"tbody",42),k(18,c6,14,7,"tr",43),p()(),k(19,d6,2,0,"div",44),u(20,"div",45)(21,"button",46),E("click",function(){M(e);let r=x();return A(r.pgDown())}),ee(),u(22,"svg",47),w(23,"path",48),p()(),De(),w(24,"input",49),u(25,"button",46),E("click",function(){M(e);let r=x();return A(r.pgUp())}),ee(),u(26,"svg",47),w(27,"path",50),p()()()()}if(i&2){let e=x();m(16),v("ngIf",e.jobCheck_it()),m(2),v("ngForOf",e.tableData),m(),v("ngIf",e.tableData.length==0),m(5),v("value",e.act_page)}}function p6(i,t){i&1&&(u(0,"div",61)(1,"p"),f(2,"Fetching data..."),p(),w(3,"app-c-loading-spin"),p())}var ad=class i{constructor(t,e,n){this.http=t;this.snackbar=e;this.router=n}is_fetching=!0;is_fetching_data=!1;tableData=[];q_search="";act_page=1;act_jenis_pemb="";act_jenis_pemb_group="";allow_add_jenis_pemb=!1;arr_jenis_pemb_group=["P_CABANG","P_PUSAT"];ngOnInit(){this.act_jenis_pemb_group=this.arr_jenis_pemb_group[0]}listen_inps(){this.act_jenis_pemb.length!=0&&this.act_jenis_pemb_group.length!=0?this.allow_add_jenis_pemb=!0:this.allow_add_jenis_pemb=!1}get_tableData(){return O(this,null,function*(){this.is_fetching_data=!0;let t={q_page:this.act_page,q_search:this.q_search.toLowerCase()};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_jenis_pembayaran",{params:t}));console.log(e),this.tableData=e.data,this.is_fetching_data=!1})}jobCheck_it(){return Me(this.router).EMPL_JOB=="G00123"}reset_jenis_pemb(){}f_show_jenis_pemb_action_box(t){console.log(t)}add_jenis_pemb(){return O(this,null,function*(){if(this.allow_add_jenis_pemb){let e={name_type:this.act_jenis_pemb,group_type:this.act_jenis_pemb_group,empl_code:Bi()};var t=yield Q(this.http.post(X.env_dev.host+"/api-eappr/add_jenis_pembayaran",e));console.log(t),t.status==200?(this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:"notif_success"}),this.get_tableData()):this.snackbar.open(t.message,void 0,{duration:5e3,panelClass:"notif_failed"})}})}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.get_tableData())}clear_act_pemb_group(){this.act_jenis_pemb="",this.listen_inps()}static \u0275fac=function(e){return new(e||i)(S(Ee),S(Ge),S(te))};static \u0275cmp=R({type:i,selectors:[["app-p-jenis-pembayaran"]],decls:49,vars:16,consts:[[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"text-sm"],[1,"flex","flex-col","justify-center"],[1,""],[1,"text-sm","text-[#888]","tracking-wide","rounded-md","w-fit","mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","ngModel"],[1,"py-2"],[1,"mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"my-6"],[1,"flex","flex-row"],[1,"w-24","p-2","bg-red-700","border-2","opacity-100","border-red-600","text-white","rounded-md","transition-all",3,"click"],[3,"ngClass"],[1,"mx-1"],[1,"w-52","p-2","bg-green-700","border-2","opacity-100","border-green-600","text-white","rounded-md","transition-all",3,"click","ngClass"],[1,"flex","flex-col"],[1,"py-8"],[1,"mb-4","flex","flex-row","items-center"],[1,"rounded-full","border","border-gray-400","p-1","flex","flex-row","items-center","w-fit"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","w-[200px]",3,"ngModelChange","keyup.enter","ngModel"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],[1,"p-1","px-2","h-fit","bg-[#252525]","hover:bg-[#333]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-1","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[0.6px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[2px]"],["d","M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"],["class"," border rounded-md flex flex-col justify-between h-[480px]",4,"ngIf"],["class","w-full h-[480px] flex items-center justify-center",4,"ngIf"],[1,"border","rounded-md","flex","flex-col","justify-between","h-[480px]"],[1,"w-full","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,"w-[30px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[200px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[100px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[80px]","border-slate-500","font-medium","pl-2","py-4"],["class","w-[130px] border-slate-500 font-medium pl-2 py-4",3,"ngClass",4,"ngIf"],[1,"border-separate","pt-10"],["class","h-8 flex-grow-0 odd:bg-gray-100 ",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[480px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"value"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"w-[130px]","border-slate-500","font-medium","pl-2","py-4",3,"ngClass"],[1,"h-8","flex-grow-0","odd:bg-gray-100"],[1,"px-2","border-2","border-gray-200","border-l-0","text-center"],[1,"px-2","border-2","border-gray-200","text-left"],[1,"px-2","border-2","border-gray-200","text-center"],[1,"px-2","border-2","border-gray-200","text-center","py-2"],["class","px-2 border-2 border-gray-200 text-center py-2",3,"ngClass",4,"ngIf"],[1,"px-2","border-2","border-gray-200","text-center","py-2",3,"ngClass"],[1,"mx-2","rounded-full","px-4","py-1","bg-[#242424]","text-white",3,"click"],[1,"w-full","flex","items-center","justify-center","h-[480px]"],[1,"w-full","h-[480px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div")(1,"p",0),f(2,"Set Up Jenis Transaksi"),p(),u(3,"div",1)(4,"div",2)(5,"label",3),f(6,"Nama Jenis Transaksi : "),p(),u(7,"p",4),f(8," Pastikan jenis Transaksi belum ada / belum dibuat. "),p(),u(9,"input",5),E("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.act_jenis_pemb,o)||(n.act_jenis_pemb=o),o}),p()(),w(10,"div",6),u(11,"div",2)(12,"label",7),f(13,"Group Jenis Transaksi : "),p(),u(14,"select",8),G("ngModelChange",function(o){return $(n.act_jenis_pemb_group,o)||(n.act_jenis_pemb_group=o),o}),k(15,a6,2,1,"option",9),p()(),w(16,"div",10),u(17,"div",11)(18,"button",12),E("click",function(){return n.clear_act_pemb_group()}),u(19,"p",13),f(20,"Reset"),p()(),w(21,"div",14),u(22,"button",15),E("click",function(){return n.add_jenis_pemb()}),u(23,"p",13),f(24,"Tambah Jenis Transaksi"),p()()()(),u(25,"div",16),w(26,"div",17),u(27,"p",0),f(28,"Jenis Transaksi"),p(),u(29,"div",18)(30,"div",19)(31,"input",20),G("ngModelChange",function(o){return $(n.q_search,o)||(n.q_search=o),o}),E("keyup.enter",function(){return n.get_tableData()}),p(),w(32,"div",14),u(33,"Button",21),E("click",function(){return n.get_tableData()}),u(34,"p",22),f(35,"Search"),p(),w(36,"div",23),ee(),u(37,"svg",24),w(38,"path",25),p()()(),De(),w(39,"div",14),u(40,"Button",26),E("click",function(){return n.get_tableData()}),u(41,"p",27),f(42,"Refresh"),p(),w(43,"div",28),ee(),u(44,"svg",29),w(45,"path",30),p()()(),k(46,u6,28,4,"div",31)(47,p6,4,0,"div",32),De(),w(48,"div",17),p()()),e&2&&(m(9),W("ngModel",n.act_jenis_pemb),m(5),W("ngModel",n.act_jenis_pemb_group),m(),v("ngForOf",n.arr_jenis_pemb_group),m(4),v("ngClass",be(9,V5,n.is_fetching===!0)),m(3),v("ngClass",We(11,o6,n.is_fetching===!0,!n.allow_add_jenis_pemb)),m(),v("ngClass",be(14,V5,n.is_fetching===!0)),m(8),W("ngModel",n.q_search),m(15),v("ngIf",!n.is_fetching_data),m(),v("ngIf",n.is_fetching_data))},dependencies:[ue,ot,at,ze,Pt,Ie,Fe,Y,Se,xe,de,Ve,vn],encapsulation:2})};var H5=i=>typeof i>"u"||i===null,h6=i=>i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),m6=i=>{let t={};return Object.keys(i).forEach(e=>{i[e]&&(t[e]=i[e])}),t},sd=i=>{let t=m6(i);return Object.entries(t).map(([e,n])=>`${h6(e)}:${n}`).join(";")},Ho=class extends Error{constructor(t){super(t),this.name=this.constructor.name}},xp=()=>{let i=Date.now().toString(36),t=Math.random().toString(36).substring(2,7);return`${i}${t}`},j5=(i,t,e)=>Math.min(Math.max(i,t),e);function Rt(i){this.content=i}Rt.prototype={constructor:Rt,find:function(i){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===i)return t;return-1},get:function(i){var t=this.find(i);return t==-1?void 0:this.content[t+1]},update:function(i,t,e){var n=e&&e!=i?this.remove(e):this,r=n.find(i),o=n.content.slice();return r==-1?o.push(e||i,t):(o[r+1]=t,e&&(o[r]=e)),new Rt(o)},remove:function(i){var t=this.find(i);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new Rt(e)},addToStart:function(i,t){return new Rt([i,t].concat(this.remove(i).content))},addToEnd:function(i,t){var e=this.remove(i).content.slice();return e.push(i,t),new Rt(e)},addBefore:function(i,t,e){var n=this.remove(t),r=n.content.slice(),o=n.find(i);return r.splice(o==-1?r.length:o,0,t,e),new Rt(r)},forEach:function(i){for(var t=0;t<this.content.length;t+=2)i(this.content[t],this.content[t+1])},prepend:function(i){return i=Rt.from(i),i.size?new Rt(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=Rt.from(i),i.size?new Rt(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var t=this;i=Rt.from(i);for(var e=0;e<i.content.length;e+=2)t=t.remove(i.content[e]);return t},toObject:function(){var i={};return this.forEach(function(t,e){i[t]=e}),i},get size(){return this.content.length>>1}};Rt.from=function(i){if(i instanceof Rt)return i;var t=[];if(i)for(var e in i)t.push(e,i[e]);return new Rt(t)};var Cp=Rt;function J5(i,t,e){for(let n=0;;n++){if(n==i.childCount||n==t.childCount)return i.childCount==t.childCount?null:e;let r=i.child(n),o=t.child(n);if(r==o){e+=r.nodeSize;continue}if(!r.sameMarkup(o))return e;if(r.isText&&r.text!=o.text){for(let a=0;r.text[a]==o.text[a];a++)e++;return e}if(r.content.size||o.content.size){let a=J5(r.content,o.content,e+1);if(a!=null)return a}e+=r.nodeSize}}function X5(i,t,e,n){for(let r=i.childCount,o=t.childCount;;){if(r==0||o==0)return r==o?null:{a:e,b:n};let a=i.child(--r),s=t.child(--o),l=a.nodeSize;if(a==s){e-=l,n-=l;continue}if(!a.sameMarkup(s))return{a:e,b:n};if(a.isText&&a.text!=s.text){let c=0,d=Math.min(a.text.length,s.text.length);for(;c<d&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,e--,n--;return{a:e,b:n}}if(a.content.size||s.content.size){let c=X5(a.content,s.content,e-1,n-1);if(c)return c}e-=l,n-=l}}var L=class i{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,e,n,r=0,o){for(let a=0,s=0;s<e;a++){let l=this.content[a],c=s+l.nodeSize;if(c>t&&n(l,r+s,o||null,a)!==!1&&l.content.size){let d=s+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,e-d),n,r+d)}s=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let o="",a=!0;return this.nodesBetween(t,e,(s,l)=>{let c=s.isText?s.text.slice(Math.max(t,l)-l,e-l):s.isLeaf?r?typeof r=="function"?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&c||s.isTextblock)&&n&&(a?a=!1:o+=n),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new i(r,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let n=[],r=0;if(e>t)for(let o=0,a=0;a<e;o++){let s=this.content[o],l=a+s.nodeSize;l>t&&((a<t||l>e)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,e-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,e-a-1))),n.push(s),r+=s.nodeSize),a=l}return new i(n,r)}cutByIndex(t,e){return t==e?i.empty:t==0&&e==this.content.length?this:new i(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new i(r,o)}addToStart(t){return new i([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new i(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return J5(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return X5(this,t,e,n)}findIndex(t,e=-1){if(t==0)return ld(0,t);if(t==this.size)return ld(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),a=r+o.nodeSize;if(a>=t)return a==t||e>0?ld(n+1,a):ld(n,r);r=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return i.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return i.empty;let e,n=0;for(let r=0;r<t.length;r++){let o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new i(e||t,n)}static from(t){if(!t)return i.empty;if(t instanceof i)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new i([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};L.empty=new L([],0);var Sp={index:0,offset:0};function ld(i,t){return Sp.index=i,Sp.offset=t,Sp}function dd(i,t){if(i===t)return!0;if(!(i&&typeof i=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(i);if(Array.isArray(t)!=e)return!1;if(e){if(i.length!=t.length)return!1;for(let n=0;n<i.length;n++)if(!dd(i[n],t[n]))return!1}else{for(let n in i)if(!(n in t)||!dd(i[n],t[n]))return!1;for(let n in t)if(!(n in i))return!1}return!0}var Be=(()=>{class i{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let a=e[o];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,o));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(a)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&dd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return i.none;if(e instanceof i)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}}return i.none=[],i})(),Pr=class extends Error{},z=class i{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=e_(this.content,t+this.openStart,e);return n&&new i(n,this.openStart,this.openEnd)}removeBetween(t,e){return new i(Q5(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return i.empty;let n=e.openStart||0,r=e.openEnd||0;if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new i(L.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new i(t,n,r)}};z.empty=new z(L.empty,0,0);function Q5(i,t,e){let{index:n,offset:r}=i.findIndex(t),o=i.maybeChild(n),{index:a,offset:s}=i.findIndex(e);if(r==t||o.isText){if(s!=e&&!i.child(a).isText)throw new RangeError("Removing non-flat range");return i.cut(0,t).append(i.cut(e))}if(n!=a)throw new RangeError("Removing non-flat range");return i.replaceChild(n,o.copy(Q5(o.content,t-r-1,e-r-1)))}function e_(i,t,e,n){let{index:r,offset:o}=i.findIndex(t),a=i.maybeChild(r);if(o==t||a.isText)return n&&!n.canReplace(r,r,e)?null:i.cut(0,t).append(e).append(i.cut(t));let s=e_(a.content,t-o-1,e);return s&&i.replaceChild(r,a.copy(s))}function f6(i,t,e){if(e.openStart>i.depth)throw new Pr("Inserted content deeper than insertion position");if(i.depth-e.openStart!=t.depth-e.openEnd)throw new Pr("Inconsistent open depths");return t_(i,t,e,0)}function t_(i,t,e,n){let r=i.index(n),o=i.node(n);if(r==t.index(n)&&n<i.depth-e.openStart){let a=t_(i,t,e,n+1);return o.copy(o.content.replaceChild(r,a))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&i.depth==n&&t.depth==n){let a=i.parent,s=a.content;return Ir(a,s.cut(0,i.parentOffset).append(e.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=g6(e,i);return Ir(o,i_(i,a,s,t,n))}else return Ir(o,ud(i,t,n))}function n_(i,t){if(!t.type.compatibleContent(i.type))throw new Pr("Cannot join "+t.type.name+" onto "+i.type.name)}function Dp(i,t,e){let n=i.node(e);return n_(n,t.node(e)),n}function Tr(i,t){let e=t.length-1;e>=0&&i.isText&&i.sameMarkup(t[e])?t[e]=i.withText(t[e].text+i.text):t.push(i)}function _s(i,t,e,n){let r=(t||i).node(e),o=0,a=t?t.index(e):r.childCount;i&&(o=i.index(e),i.depth>e?o++:i.textOffset&&(Tr(i.nodeAfter,n),o++));for(let s=o;s<a;s++)Tr(r.child(s),n);t&&t.depth==e&&t.textOffset&&Tr(t.nodeBefore,n)}function Ir(i,t){return i.type.checkContent(t),i.copy(t)}function i_(i,t,e,n,r){let o=i.depth>r&&Dp(i,t,r+1),a=n.depth>r&&Dp(e,n,r+1),s=[];return _s(null,i,r,s),o&&a&&t.index(r)==e.index(r)?(n_(o,a),Tr(Ir(o,i_(i,t,e,n,r+1)),s)):(o&&Tr(Ir(o,ud(i,t,r+1)),s),_s(t,e,r,s),a&&Tr(Ir(a,ud(e,n,r+1)),s)),_s(n,null,r,s),new L(s)}function ud(i,t,e){let n=[];if(_s(null,i,e,n),i.depth>e){let r=Dp(i,t,e+1);Tr(Ir(r,ud(i,t,e+1)),n)}return _s(t,null,e,n),new L(n)}function g6(i,t){let e=t.depth-i.openStart,r=t.node(e).copy(i.content);for(let o=e-1;o>=0;o--)r=t.node(o).copy(L.from(r));return{start:r.resolveNoCache(i.openStart+e),end:r.resolveNoCache(r.content.size-i.openEnd-e)}}var pd=class i{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[e*3],r=e==0?0:this.path[e*3-1]+1;for(let o=0;o<t;o++)r+=n.child(o).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return Be.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let s=n;n=r,r=s}let o=n.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!r||!o[a].isInSet(r.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!r||!n[o].isInSet(r.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Rr(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,o=e;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(o),c=o-l;if(n.push(a,s,r+l),!c||(a=a.child(s),a.isText))break;o=c-1,r+=l+1}return new i(e,n,o)}static resolveCached(t,e){let n=Z5.get(t);if(n)for(let o=0;o<n.elts.length;o++){let a=n.elts[o];if(a.pos==e)return a}else Z5.set(t,n=new Mp);let r=n.elts[n.i]=i.resolve(t,e);return n.i=(n.i+1)%_6,r}},Mp=class{constructor(){this.elts=[],this.i=0}},_6=12,Z5=new WeakMap,Rr=class{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},v6=Object.create(null),Wn=class i{constructor(t,e,n,r=Be.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||L.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&dd(this.attrs,e||t.defaultAttrs||v6)&&Be.sameSet(this.marks,n||Be.none)}copy(t=null){return t==this.content?this:new i(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return z.empty;let r=this.resolve(t),o=this.resolve(e),a=n?0:r.sharedDepth(e),s=r.start(a),c=r.node(a).content.cut(r.pos-s,o.pos-s);return new z(c,r.depth-a,o.depth-a)}replace(t,e,n){return f6(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return pd.resolveCached(this,t)}resolveNoCache(t){return pd.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,o=>(n.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),r_(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=L.empty,r=0,o=n.childCount){let a=this.contentMatchAt(t).matchFragment(n,r,o),s=a&&a.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(n),a=o&&o.matchFragment(this.content,e);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Be.none;for(let e=0;e<this.marks.length;e++){let n=this.marks[e];n.type.checkAttrs(n.attrs),t=n.addToSet(t)}if(!Be.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=L.fromJSON(t,e.content),o=t.nodeType(e.type).create(e.attrs,r,n);return o.type.checkAttrs(o.attrs),o}};Wn.prototype.text=void 0;var Ap=class i extends Wn{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):r_(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new i(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new i(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function r_(i,t){for(let e=i.length-1;e>=0;e--)t=i[e].type.name+"("+t+")";return t}var Or=class i{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new kp(t,e);if(n.next==null)return i.empty;let r=o_(n);n.next&&n.err("Unexpected trailing text");let o=E6(S6(r));return D6(o,n),o}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];function o(a,s){let l=a.matchFragment(t,n);if(l&&(!e||l.validEnd))return L.from(s.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:d,next:h}=a.next[c];if(!(d.isText||d.hasRequiredAttrs())&&r.indexOf(h)==-1){r.push(h);let g=o(h,s.concat(d));if(g)return g}}return null}return o(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(t)){let a=[];for(let s=r;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in e)&&(!r.type||l.validEnd)&&(n.push({match:s.contentMatch,type:s,via:r}),e[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(n){t.push(n);for(let r=0;r<n.next.length;r++)t.indexOf(n.next[r].next)==-1&&e(n.next[r].next)}return e(this),t.map((n,r)=>{let o=r+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)o+=(a?", ":"")+n.next[a].type.name+"->"+t.indexOf(n.next[a].next);return o}).join(`
`)}};Or.empty=new Or(!0);var kp=class{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}};function o_(i){let t=[];do t.push(b6(i));while(i.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function b6(i){let t=[];do t.push(y6(i));while(i.next&&i.next!=")"&&i.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function y6(i){let t=C6(i);for(;;)if(i.eat("+"))t={type:"plus",expr:t};else if(i.eat("*"))t={type:"star",expr:t};else if(i.eat("?"))t={type:"opt",expr:t};else if(i.eat("{"))t=w6(i,t);else break;return t}function z5(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let t=Number(i.next);return i.pos++,t}function w6(i,t){let e=z5(i),n=e;return i.eat(",")&&(i.next!="}"?n=z5(i):n=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:e,max:n,expr:t}}function x6(i,t){let e=i.nodeTypes,n=e[t];if(n)return[n];let r=[];for(let o in e){let a=e[o];a.isInGroup(t)&&r.push(a)}return r.length==0&&i.err("No node type or group '"+t+"' found"),r}function C6(i){if(i.eat("(")){let t=o_(i);return i.eat(")")||i.err("Missing closing paren"),t}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let t=x6(i,i.next).map(e=>(i.inline==null?i.inline=e.isInline:i.inline!=e.isInline&&i.err("Mixing inline and block content"),{type:"name",value:e}));return i.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function S6(i){let t=[[]];return r(o(i,0),e()),t;function e(){return t.push([])-1}function n(a,s,l){let c={term:l,to:s};return t[a].push(c),c}function r(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(o(c,s)),[]);if(a.type=="seq")for(let l=0;;l++){let c=o(a.exprs[l],s);if(l==a.exprs.length-1)return c;r(c,s=e())}else if(a.type=="star"){let l=e();return n(s,l),r(o(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=e();return r(o(a.expr,s),l),r(o(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let c=0;c<a.min;c++){let d=e();r(o(a.expr,l),d),l=d}if(a.max==-1)r(o(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let d=e();n(l,d),r(o(a.expr,l),d),l=d}return[n(l)]}else{if(a.type=="name")return[n(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function a_(i,t){return t-i}function U5(i,t){let e=[];return n(t),e.sort(a_);function n(r){let o=i[r];if(o.length==1&&!o[0].term)return n(o[0].to);e.push(r);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&e.indexOf(l)==-1&&n(l)}}}function E6(i){let t=Object.create(null);return e(U5(i,0));function e(n){let r=[];n.forEach(a=>{i[a].forEach(({term:s,to:l})=>{if(!s)return;let c;for(let d=0;d<r.length;d++)r[d][0]==s&&(c=r[d][1]);U5(i,l).forEach(d=>{c||r.push([s,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let o=t[n.join(",")]=new Or(n.indexOf(i.length-1)>-1);for(let a=0;a<r.length;a++){let s=r[a][1].sort(a_);o.next.push({type:r[a][0],next:t[s.join(",")]||e(s)})}return o}}function D6(i,t){for(let e=0,n=[i];e<n.length;e++){let r=n[e],o=!r.validEnd,a=[];for(let s=0;s<r.next.length;s++){let{type:l,next:c}=r.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function s_(i){let t=Object.create(null);for(let e in i){let n=i[e];if(!n.hasDefault)return null;t[e]=n.default}return t}function l_(i,t){let e=Object.create(null);for(let n in i){let r=t&&t[n];if(r===void 0){let o=i[n];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+n)}e[n]=r}return e}function c_(i,t,e,n){for(let r in t)if(!(r in i))throw new RangeError(`Unsupported attribute ${r} for ${e} of type ${r}`);for(let r in i){let o=i[r];o.validate&&o.validate(t[r])}}function d_(i,t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Tp(i,n,t[n]);return e}var hd=class i{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=d_(t,n.attrs),this.defaultAttrs=s_(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Or.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:l_(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wn(this,this.computeAttrs(t),L.from(e),Be.setFrom(n))}createChecked(t=null,e,n){return e=L.from(e),this.checkContent(e),new Wn(this,this.computeAttrs(t),e,Be.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),e=L.from(e),e.size){let a=this.contentMatch.fillBefore(e);if(!a)return null;e=a.append(e)}let r=this.contentMatch.matchFragment(e),o=r&&r.fillBefore(L.empty,!0);return o?new Wn(this,t,e.append(o),Be.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){c_(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:Be.none:t}static compile(t,e){let n=Object.create(null);t.forEach((o,a)=>n[o]=new i(o,e,a));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function M6(i,t,e){let n=e.split("|");return r=>{let o=r===null?"null":typeof r;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${t} on type ${i}, got ${o}`)}}var Tp=class{constructor(t,e,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?M6(t,e,n.validate):n.validate}get isRequired(){return!this.hasDefault}},bs=class i{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=d_(t,r.attrs),this.excluded=null;let o=s_(this.attrs);this.instance=o?new Be(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Be(this,l_(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach((o,a)=>n[o]=new i(o,r++,e,a)),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){c_(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}},md=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let r in t)e[r]=t[r];e.nodes=Cp.from(t.nodes),e.marks=Cp.from(t.marks||{}),this.nodes=hd.compile(this.spec.nodes,this),this.marks=bs.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],a=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=n[a]||(n[a]=Or.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?W5(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:W5(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof hd){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new Ap(n,n.defaultAttrs,t,Be.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return Wn.fromJSON(this,t)}markFromJSON(t){return Be.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}};function W5(i,t){let e=[];for(let n=0;n<t.length;n++){let r=t[n],o=i.marks[r],a=o;if(o)e.push(o);else for(let s in i.marks){let l=i.marks[s];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&e.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return e}function A6(i){return i.tag!=null}function k6(i){return i.style!=null}var ji=class i{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let n=this.matchedStyles=[];e.forEach(r=>{if(A6(r))this.tags.push(r);else if(k6(r)){let o=/[^=]*/.exec(r.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=t.nodes[r.node];return o.contentMatch.matchType(o)})}parse(t,e={}){let n=new fd(this,e,!1);return n.addAll(t,Be.none,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new fd(this,e,!0);return n.addAll(t,Be.none,e.from,e.to),z.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(P6(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(t);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(t,e,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!n.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=e))){if(a.getAttrs){let l=a.getAttrs(e);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let e=[];function n(r){let o=r.priority==null?50:r.priority,a=0;for(;a<e.length;a++){let s=e[a];if((s.priority==null?50:s.priority)<o)break}e.splice(a,0,r)}for(let r in t.marks){let o=t.marks[r].spec.parseDOM;o&&o.forEach(a=>{n(a=G5(a)),a.mark||a.ignore||a.clearMark||(a.mark=r)})}for(let r in t.nodes){let o=t.nodes[r].spec.parseDOM;o&&o.forEach(a=>{n(a=G5(a)),a.node||a.ignore||a.mark||(a.node=r)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new i(t,i.schemaRules(t)))}},u_={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},T6={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},p_={ol:!0,ul:!0},ys=1,Ip=2,vs=4;function $5(i,t,e){return t!=null?(t?ys:0)|(t==="full"?Ip:0):i&&i.whitespace=="pre"?ys|Ip:e&~vs}var jo=class{constructor(t,e,n,r,o,a){this.type=t,this.attrs=e,this.marks=n,this.solid=r,this.options=a,this.content=[],this.activeMarks=Be.none,this.match=o||(a&vs?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(L.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(t.type))?(this.match=n,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&ys)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let e=L.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(L.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!u_.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}},fd=class{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=e.topNode,o,a=$5(null,e.preserveWhitespace,0)|(n?vs:0);r?o=new jo(r.type,r.attrs,Be.none,!0,e.topMatch||r.type.contentMatch,a):n?o=new jo(null,null,Be.none,!0,null,a):o=new jo(t.schema.topNodeType,null,Be.none,!0,null,a),this.nodes=[o],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let n=t.nodeValue,r=this.top,o=r.options&Ip?"full":this.localPreserveWS||(r.options&ys)>0;if(o==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(o)o!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=r.content[r.content.length-1],s=t.previousSibling;(!a||s&&s.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),e,!/\S/.test(n)),this.findInText(t)}else this.findInside(t)}addElement(t,e,n){let r=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;p_.hasOwnProperty(a)&&this.parser.normalizeLists&&I6(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,n));e:if(l?l.ignore:T6.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,d=this.needsBlock;if(u_.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let h=l&&l.skip?e:this.readStyles(t,e);h&&this.addAll(t,h),c&&this.sync(o),this.needsBlock=d}else{let c=this.readStyles(t,e);c&&this.addElementByRule(t,l,c,l.consuming===!1?s:void 0)}this.localPreserveWS=r}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e,!0)}readStyles(t,e){let n=t.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],a=n.getPropertyValue(o);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(o,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?e=e.filter(c=>!l.clearMark(c)):e=e.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return e}addElementByRule(t,e,n,r){let o,a;if(e.node)if(a=this.parser.schema.nodes[e.node],a.isLeaf)this.insertNode(a.create(e.attrs),n,t.nodeName=="BR")||this.leafFallback(t,n);else{let l=this.enter(a,e.attrs||null,n,e.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[e.mark];n=n.concat(l.create(e.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(r)this.addElement(t,n,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=t;typeof e.contentElement=="string"?l=t.querySelector(e.contentElement):typeof e.contentElement=="function"?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l,n),this.findAround(t,l,!1)}o&&this.sync(s)&&this.open--}addAll(t,e,n,r){let o=n||0;for(let a=n?t.childNodes[n]:t.firstChild,s=r==null?null:t.childNodes[r];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a,e);this.findAtPoint(t,o)}findPlace(t,e,n){let r,o;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!r||r.length>c.length+s)&&(r=c,o=l,!c.length))break;if(l.solid){if(n)break;s+=2}}if(!r)return null;this.sync(o);for(let a=0;a<r.length;a++)e=this.enterInner(r[a],null,e,!1);return e}insertNode(t,e,n){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(e=this.enterInner(o,null,e))}let r=this.findPlace(t,e,n);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let a=Be.none;for(let s of r.concat(t.marks))(o.type?o.type.allowsMarkType(s.type):q5(s.type,t.type))&&(a=s.addToSet(a));return o.content.push(t.mark(a)),!0}return!1}enter(t,e,n,r){let o=this.findPlace(t.create(e),n,!1);return o&&(o=this.enterInner(t,e,n,!0,r)),o}enterInner(t,e,n,r=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=$5(t,o,a.options);a.options&vs&&a.content.length==0&&(s|=vs);let l=Be.none;return n=n.filter(c=>(a.type?a.type.allowsMarkType(c.type):q5(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new jo(t,e,l,r,null,s)),this.open++,n}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=ys)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),a=(s,l)=>{for(;s>=0;s--){let c=e[s];if(c==""){if(s==e.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let d=l>0||l==0&&r?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return a(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let n=this.parser.schema.nodes[e];if(n.isTextblock&&n.defaultAttrs)return n}}};function I6(i){for(let t=i.firstChild,e=null;t;t=t.nextSibling){let n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&p_.hasOwnProperty(n)&&e?(e.appendChild(t),t=e):n=="li"?e=t:n&&(e=null)}}function P6(i,t){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,t)}function G5(i){let t={};for(let e in i)t[e]=i[e];return t}function q5(i,t){let e=t.schema.nodes;for(let n in e){let r=e[n];if(!r.allowsMarkType(i))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:c,next:d}=s.edge(l);if(c==t||o.indexOf(d)<0&&a(d))return!0}};if(a(r.contentMatch))return!0}}var li=class i{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=Ep(e).createDocumentFragment());let r=n,o=[];return t.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[s][0])||c.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)r=o.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],d=this.serializeMark(c,a.isInline,e);d&&(o.push([c,r]),r.appendChild(d.dom),r=d.contentDOM||d.dom)}}r.appendChild(this.serializeNodeInner(a,e))}),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=cd(Ep(e),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&cd(Ep(n),r(t,e),null,t.attrs)}static renderSpec(t,e,n=null,r){return cd(t,e,n,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new i(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=K5(t.nodes);return e.text||(e.text=n=>n.text),e}static marksFromSchema(t){return K5(t.marks)}};function K5(i){let t={};for(let e in i){let n=i[e].spec.toDOM;n&&(t[e]=n)}return t}function Ep(i){return i.document||window.document}var Y5=new WeakMap;function R6(i){let t=Y5.get(i);return t===void 0&&Y5.set(i,t=O6(i)),t}function O6(i){let t=null;function e(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")t||(t=[]),t.push(n);else for(let r=0;r<n.length;r++)e(n[r]);else for(let r in n)e(n[r])}return e(i),t}function cd(i,t,e,n){if(typeof t=="string")return{dom:i.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=R6(n))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=r.indexOf(" ");a>0&&(e=r.slice(0,a),r=r.slice(a+1));let s,l=e?i.createElementNS(e,r):i.createElement(r),c=t[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let h in c)if(c[h]!=null){let g=h.indexOf(" ");g>0?l.setAttributeNS(h.slice(0,g),h.slice(g+1),c[h]):l.setAttribute(h,c[h])}}for(let h=d;h<t.length;h++){let g=t[h];if(g===0){if(h<t.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:_,contentDOM:b}=cd(i,g,e,n);if(l.appendChild(_),b){if(s)throw new RangeError("Multiple content holes");s=b}}}return{dom:l,contentDOM:s}}var f_=65535,g_=Math.pow(2,16);function N6(i,t){return i+t*g_}function h_(i){return i&f_}function F6(i){return(i-(i&f_))/g_}var __=1,v_=2,gd=4,b_=8,Cs=class{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(this.delInfo&b_)>0}get deletedBefore(){return(this.delInfo&(__|gd))>0}get deletedAfter(){return(this.delInfo&(v_|gd))>0}get deletedAcross(){return(this.delInfo&gd)>0}},ci=class i{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&i.empty)return i.empty}recover(t){let e=0,n=h_(t);if(!this.inverted)for(let r=0;r<n;r++)e+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[n*3]+e+F6(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[s+o],d=this.ranges[s+a],h=l+c;if(t<=h){let g=c?t==l?-1:t==h?1:e:e,_=l+r+(g<0?0:d);if(n)return _;let b=t==(e<0?l:h)?null:N6(s/3,t-l),C=t==l?v_:t==h?__:gd;return(e<0?t!=l:t!=h)&&(C|=b_),new Cs(_,C,b)}r+=d-c}return n?t+r:new Cs(t+r,0,null)}touches(t,e){let n=0,r=h_(e),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?n:0);if(l>t)break;let c=this.ranges[s+o],d=l+c;if(t<=d&&s==r*3)return!0;n+=this.ranges[s+a]-c}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let a=this.ranges[r],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),c=this.ranges[r+e],d=this.ranges[r+n];t(s,s+c,l,l+d),o+=d-c}}invert(){return new i(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?i.empty:new i(t<0?[0,-t,0]:[0,0,t])}};ci.empty=new ci([]);var Ss=class i{constructor(t,e,n=0,r=t?t.length:0){this.mirror=e,this.from=n,this.to=r,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new i(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),e!=null&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,n=this._maps.length;e<t._maps.length;e++){let r=t.getMirror(e);this.appendMap(t._maps[e],r!=null&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this._maps.length+t._maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t._maps[e].invert(),r!=null&&r>e?n-r-1:void 0)}}invert(){let t=new i;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this._maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],s=a.mapResult(t,e);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(s.recover);continue}}r|=s.delInfo,t=s.pos}return n?t:new Cs(t,r,null)}},Pp=Object.create(null),yt=class{getMap(){return ci.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Pp[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in Pp)throw new RangeError("Duplicate use of step JSON ID "+t);return Pp[t]=e,e.prototype.jsonID=t,e}},Dt=class i{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new i(t,null)}static fail(t){return new i(null,t)}static fromReplace(t,e,n,r){try{return i.ok(t.replace(e,n,r))}catch(o){if(o instanceof Pr)return i.fail(o.message);throw o}}};function Lp(i,t,e){let n=[];for(let r=0;r<i.childCount;r++){let o=i.child(r);o.content.size&&(o=o.copy(Lp(o.content,t,o))),o.isInline&&(o=t(o,e,r)),n.push(o)}return L.fromArray(n)}var Es=class i extends yt{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new z(Lp(e.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),r),e.openStart,e.openEnd);return Dt.fromReplace(t,this.from,this.to,o)}invert(){return new Nr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};yt.jsonID("addMark",Es);var Nr=class i extends yt{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new z(Lp(e.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),e.openStart,e.openEnd);return Dt.fromReplace(t,this.from,this.to,n)}invert(){return new Es(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new i(e.pos,n.pos,this.mark)}merge(t){return t instanceof i&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new i(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new i(e.from,e.to,t.markFromJSON(e.mark))}};yt.jsonID("removeMark",Nr);var Ds=class i extends yt{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Dt.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Dt.fromReplace(t,this.pos,this.pos+1,new z(L.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let n=this.mark.addToSet(e.marks);if(n.length==e.marks.length){for(let r=0;r<e.marks.length;r++)if(!e.marks[r].isInSet(n))return new i(this.pos,e.marks[r]);return new i(this.pos,this.mark)}}return new Zo(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};yt.jsonID("addNodeMark",Ds);var Zo=class i extends yt{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Dt.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Dt.fromReplace(t,this.pos,this.pos+1,new z(L.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new Ds(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new i(e.pos,t.markFromJSON(e.mark))}};yt.jsonID("removeNodeMark",Zo);var sn=class i extends yt{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&Np(t,this.from,this.to)?Dt.fail("Structure replace would overwrite content"):Dt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ci([this.from,this.to-this.from,this.slice.size])}invert(t){return new i(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new i(e.pos,Math.max(e.pos,n.pos),this.slice,this.structure)}merge(t){if(!(t instanceof i)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?z.empty:new z(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new i(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?z.empty:new z(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new i(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new i(e.from,e.to,z.fromJSON(t,e.slice),!!e.structure)}};yt.jsonID("replace",sn);var wt=class i extends yt{constructor(t,e,n,r,o,a,s=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=a,this.structure=s}apply(t){if(this.structure&&(Np(t,this.from,this.gapFrom)||Np(t,this.gapTo,this.to)))return Dt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Dt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?Dt.fromReplace(t,this.from,this.to,n):Dt.fail("Content does not fit in gap")}getMap(){return new ci([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new i(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||o>n.pos?null:new i(e.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new i(e.from,e.to,e.gapFrom,e.gapTo,z.fromJSON(t,e.slice),e.insert,!!e.structure)}};yt.jsonID("replaceAround",wt);function Np(i,t,e){let n=i.resolve(t),r=e-t,o=n.depth;for(;r>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,r--;if(r>0){let a=n.node(o).maybeChild(n.indexAfter(o));for(;r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}}return!1}function L6(i,t,e,n){let r=[],o=[],a,s;i.doc.nodesBetween(t,e,(l,c,d)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&d.type.allowsMarkType(n.type)){let g=Math.max(c,t),_=Math.min(c+l.nodeSize,e),b=n.addToSet(h);for(let C=0;C<h.length;C++)h[C].isInSet(b)||(a&&a.to==g&&a.mark.eq(h[C])?a.to=_:r.push(a=new Nr(g,_,h[C])));s&&s.to==g?s.to=_:o.push(s=new Es(g,_,n))}}),r.forEach(l=>i.step(l)),o.forEach(l=>i.step(l))}function V6(i,t,e,n){let r=[],o=0;i.doc.nodesBetween(t,e,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(n instanceof bs){let c=a.marks,d;for(;d=n.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let c=Math.min(s+a.nodeSize,e);for(let d=0;d<l.length;d++){let h=l[d],g;for(let _=0;_<r.length;_++){let b=r[_];b.step==o-1&&h.eq(r[_].style)&&(g=b)}g?(g.to=c,g.step=o):r.push({style:h,from:Math.max(s,t),to:c,step:o})}}}),r.forEach(a=>i.step(new Nr(a.from,a.to,a.style)))}function Vp(i,t,e,n=e.contentMatch,r=!0){let o=i.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),d=s+c.nodeSize,h=n.matchType(c.type);if(!h)a.push(new sn(s,d,z.empty));else{n=h;for(let g=0;g<c.marks.length;g++)e.allowsMarkType(c.marks[g].type)||i.step(new Nr(s,d,c.marks[g]));if(r&&c.isText&&e.whitespace!="pre"){let g,_=/\r?\n|\r/g,b;for(;g=_.exec(c.text);)b||(b=new z(L.from(e.schema.text(" ",e.allowedMarks(c.marks))),0,0)),a.push(new sn(s+g.index,s+g.index+g[0].length,b))}}s=d}if(!n.validEnd){let l=n.fillBefore(L.empty,!0);i.replace(s,s,new z(l,0,0))}for(let l=a.length-1;l>=0;l--)i.step(a[l])}function B6(i,t,e){return(t==0||i.canReplace(t,i.childCount))&&(e==i.childCount||i.canReplace(0,e))}function Fr(i){let e=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let n=i.depth;;--n){let r=i.$from.node(n),o=i.$from.index(n),a=i.$to.indexAfter(n);if(n<i.depth&&r.canReplace(o,a,e))return n;if(n==0||r.type.spec.isolating||!B6(r,o,a))break}return null}function H6(i,t,e){let{$from:n,$to:r,depth:o}=t,a=n.before(o+1),s=r.after(o+1),l=a,c=s,d=L.empty,h=0;for(let b=o,C=!1;b>e;b--)C||n.index(b)>0?(C=!0,d=L.from(n.node(b).copy(d)),h++):l--;let g=L.empty,_=0;for(let b=o,C=!1;b>e;b--)C||r.after(b+1)<r.end(b)?(C=!0,g=L.from(r.node(b).copy(g)),_++):c++;i.step(new wt(l,c,a,s,new z(d.append(g),h,_),d.size-h,!0))}function Uo(i,t,e=null,n=i){let r=j6(i,t),o=r&&Z6(n,t);return o?r.map(m_).concat({type:t,attrs:e}).concat(o.map(m_)):null}function m_(i){return{type:i,attrs:null}}function j6(i,t){let{parent:e,startIndex:n,endIndex:r}=i,o=e.contentMatchAt(n).findWrapping(t);if(!o)return null;let a=o.length?o[0]:t;return e.canReplaceWith(n,r,a)?o:null}function Z6(i,t){let{parent:e,startIndex:n,endIndex:r}=i,o=e.child(n),a=t.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=n;l&&c<r;c++)l=l.matchType(e.child(c).type);return!l||!l.validEnd?null:a}function z6(i,t,e){let n=L.empty;for(let a=e.length-1;a>=0;a--){if(n.size){let s=e[a].type.contentMatch.matchFragment(n);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=L.from(e[a].type.create(e[a].attrs,n))}let r=t.start,o=t.end;i.step(new wt(r,o,r,o,new z(n,0,0),e.length,!0))}function U6(i,t,e,n,r){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=i.steps.length;i.doc.nodesBetween(t,e,(a,s)=>{let l=typeof r=="function"?r(a):r;if(a.isTextblock&&!a.hasMarkup(n,l)&&W6(i.doc,i.mapping.slice(o).map(s),n)){let c=null;if(n.schema.linebreakReplacement){let _=n.whitespace=="pre",b=!!n.contentMatch.matchType(n.schema.linebreakReplacement);_&&!b?c=!1:!_&&b&&(c=!0)}c===!1&&w_(i,a,s,o),Vp(i,i.mapping.slice(o).map(s,1),n,void 0,c===null);let d=i.mapping.slice(o),h=d.map(s,1),g=d.map(s+a.nodeSize,1);return i.step(new wt(h,g,h+1,g-1,new z(L.from(n.create(l,null,a.marks)),0,0),1,!0)),c===!0&&y_(i,a,s,o),!1}})}function y_(i,t,e,n){t.forEach((r,o)=>{if(r.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(r.text);){let l=i.mapping.slice(n).map(e+1+o+a.index);i.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function w_(i,t,e,n){t.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let a=i.mapping.slice(n).map(e+1+o);i.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function W6(i,t,e){let n=i.resolve(t),r=n.index();return n.parent.canReplaceWith(r,r+1,e)}function $6(i,t,e,n,r){let o=i.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);let a=e.create(n,null,r||o.marks);if(o.isLeaf)return i.replaceWith(t,t+o.nodeSize,a);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);i.step(new wt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new z(L.from(a),0,0),1,!0))}function Zi(i,t,e=1,n){let r=i.resolve(t),o=r.depth-e,a=n&&n[n.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,d=e-2;c>o;c--,d--){let h=r.node(c),g=r.index(c);if(h.type.spec.isolating)return!1;let _=h.content.cutByIndex(g,h.childCount),b=n&&n[d+1];b&&(_=_.replaceChild(0,b.type.create(b.attrs)));let C=n&&n[d]||h;if(!h.canReplace(g+1,h.childCount)||!C.type.validContent(_))return!1}let s=r.indexAfter(o),l=n&&n[0];return r.node(o).canReplaceWith(s,s,l?l.type:r.node(o+1).type)}function G6(i,t,e=1,n){let r=i.doc.resolve(t),o=L.empty,a=L.empty;for(let s=r.depth,l=r.depth-e,c=e-1;s>l;s--,c--){o=L.from(r.node(s).copy(o));let d=n&&n[c];a=L.from(d?d.type.create(d.attrs,a):r.node(s).copy(a))}i.step(new sn(t,t,new z(o.append(a),e,e),!0))}function Lr(i,t){let e=i.resolve(t),n=e.index();return K6(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(n,n+1)}function q6(i,t){t.content.size||i.type.compatibleContent(t.type);let e=i.contentMatchAt(i.childCount),{linebreakReplacement:n}=i.type.schema;for(let r=0;r<t.childCount;r++){let o=t.child(r),a=o.type==n?i.type.schema.nodes.text:o.type;if(e=e.matchType(a),!e||!i.type.allowsMarks(o.marks))return!1}return e.validEnd}function K6(i,t){return!!(i&&t&&!i.isLeaf&&q6(i,t))}function Y6(i,t,e){let n=null,{linebreakReplacement:r}=i.doc.type.schema,o=i.doc.resolve(t-e),a=o.node().type;if(r&&a.inlineContent){let d=a.whitespace=="pre",h=!!a.contentMatch.matchType(r);d&&!h?n=!1:!d&&h&&(n=!0)}let s=i.steps.length;if(n===!1){let d=i.doc.resolve(t+e);w_(i,d.node(),d.before(),s)}a.inlineContent&&Vp(i,t+e-1,a,o.node().contentMatchAt(o.index()),n==null);let l=i.mapping.slice(s),c=l.map(t-e);if(i.step(new sn(c,l.map(t+e,-1),z.empty,!0)),n===!0){let d=i.doc.resolve(c);y_(i,d.node(),d.before(),i.steps.length)}return i}function J6(i,t,e){let n=i.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),e))return t;if(n.parentOffset==0)for(let r=n.depth-1;r>=0;r--){let o=n.index(r);if(n.node(r).canReplaceWith(o,o,e))return n.before(r+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let r=n.depth-1;r>=0;r--){let o=n.indexAfter(r);if(n.node(r).canReplaceWith(o,o,e))return n.after(r+1);if(o<n.node(r).childCount)return null}return null}function x_(i,t,e){let n=i.resolve(t);if(!e.content.size)return t;let r=e.content;for(let o=0;o<e.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(e.openStart==0&&e.size?2:1);o++)for(let a=n.depth;a>=0;a--){let s=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(s>0?1:0),c=n.node(a),d=!1;if(o==1)d=c.canReplace(l,l,r);else{let h=c.contentMatchAt(l).findWrapping(r.firstChild.type);d=h&&c.canReplaceWith(l,l,h[0])}if(d)return s==0?n.pos:s<0?n.before(a+1):n.after(a+1)}return null}function yd(i,t,e=t,n=z.empty){if(t==e&&!n.size)return null;let r=i.resolve(t),o=i.resolve(e);return C_(r,o,n)?new sn(t,e,n):new Fp(r,o,n).fit()}function C_(i,t,e){return!e.openStart&&!e.openEnd&&i.start()==t.start()&&i.parent.canReplace(i.index(),t.index(),e.content)}var Fp=class{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=L.empty;for(let r=0;r<=t.depth;r++){let o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=L.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(t<0?this.$to:n.doc.resolve(t));if(!r)return null;let o=this.placed,a=n.depth,s=r.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new z(o,a,s);return t>-1?new wt(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new sn(n.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let o=e.firstChild;if(e.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){t=n;break}e=o.content}for(let e=1;e<=2;e++)for(let n=e==1?t:this.unplaced.openStart;n>=0;n--){let r,o=null;n?(o=Rp(this.unplaced.content,n-1).firstChild,r=o.content):r=this.unplaced.content;let a=r.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],d,h=null;if(e==1&&(a?c.matchType(a.type)||(h=c.fillBefore(L.from(a),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:s,parent:o,inject:h};if(e==2&&a&&(d=c.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:s,parent:o,wrap:d};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=Rp(t,e);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new z(t,e+1,Math.max(n,r.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,r=Rp(t,e);if(r.childCount<=1&&e>0){let o=t.size-e<=e+r.size;this.unplaced=new z(ws(t,e-1,1),e-1,o?e-1:n)}else this.unplaced=new z(ws(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:r,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let C=0;C<o.length;C++)this.openFrontierNode(o[C]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-t,c=0,d=[],{match:h,type:g}=this.frontier[e];if(r){for(let C=0;C<r.childCount;C++)d.push(r.child(C));h=h.matchFragment(r)}let _=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let C=s.child(c),D=h.matchType(C.type);if(!D)break;c++,(c>1||l==0||C.content.size)&&(h=D,d.push(S_(C.mark(g.allowedMarks(C.marks)),c==1?l:0,c==s.childCount?_:-1)))}let b=c==s.childCount;b||(_=-1),this.placed=xs(this.placed,e,L.from(d)),this.frontier[e].match=h,b&&_<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,D=s;C<_;C++){let F=D.lastChild;this.frontier.push({type:F.type,match:F.contentMatchAt(F.childCount)}),D=F.content}this.unplaced=b?t==0?z.empty:new z(ws(a.content,t-1,1),t-1,_<0?a.openEnd:t-1):new z(ws(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!Op(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=Op(t,e,r,n,o);if(a){for(let s=e-1;s>=0;s--){let{match:l,type:c}=this.frontier[s],d=Op(t,s,c,l,!0);if(!d||d.childCount)continue e}return{depth:e,fit:a,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=xs(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(t,e=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=xs(this.placed,this.depth,L.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(L.empty,!0);e.childCount&&(this.placed=xs(this.placed,this.frontier.length,e))}};function ws(i,t,e){return t==0?i.cutByIndex(e,i.childCount):i.replaceChild(0,i.firstChild.copy(ws(i.firstChild.content,t-1,e)))}function xs(i,t,e){return t==0?i.append(e):i.replaceChild(i.childCount-1,i.lastChild.copy(xs(i.lastChild.content,t-1,e)))}function Rp(i,t){for(let e=0;e<t;e++)i=i.firstChild.content;return i}function S_(i,t,e){if(t<=0)return i;let n=i.content;return t>1&&(n=n.replaceChild(0,S_(n.firstChild,t-1,n.childCount==1?e-1:0))),t>0&&(n=i.type.contentMatch.fillBefore(n).append(n),e<=0&&(n=n.append(i.type.contentMatch.matchFragment(n).fillBefore(L.empty,!0)))),i.copy(n)}function Op(i,t,e,n,r){let o=i.node(t),a=r?i.indexAfter(t):i.index(t);if(a==o.childCount&&!e.compatibleContent(o.type))return null;let s=n.fillBefore(o.content,!0,a);return s&&!X6(e,o.content,a)?s:null}function X6(i,t,e){for(let n=e;n<t.childCount;n++)if(!i.allowsMarks(t.child(n).marks))return!0;return!1}function Q6(i){return i.spec.defining||i.spec.definingForContent}function e8(i,t,e,n){if(!n.size)return i.deleteRange(t,e);let r=i.doc.resolve(t),o=i.doc.resolve(e);if(C_(r,o,n))return i.step(new sn(t,e,n));let a=D_(r,i.doc.resolve(e));a[a.length-1]==0&&a.pop();let s=-(r.depth+1);a.unshift(s);for(let g=r.depth,_=r.pos-1;g>0;g--,_--){let b=r.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(g)>-1?s=g:r.before(g)==_&&a.splice(1,0,-g)}let l=a.indexOf(s),c=[],d=n.openStart;for(let g=n.content,_=0;;_++){let b=g.firstChild;if(c.push(b),_==n.openStart)break;g=b.content}for(let g=d-1;g>=0;g--){let _=c[g],b=Q6(_.type);if(b&&!_.sameMarkup(r.node(Math.abs(s)-1)))d=g;else if(b||!_.type.isTextblock)break}for(let g=n.openStart;g>=0;g--){let _=(g+d+1)%(n.openStart+1),b=c[_];if(b)for(let C=0;C<a.length;C++){let D=a[(C+l)%a.length],F=!0;D<0&&(F=!1,D=-D);let pe=r.node(D-1),ae=r.index(D-1);if(pe.canReplaceWith(ae,ae,b.type,b.marks))return i.replace(r.before(D),F?o.after(D):e,new z(E_(n.content,0,n.openStart,_),_,n.openEnd))}}let h=i.steps.length;for(let g=a.length-1;g>=0&&(i.replace(t,e,n),!(i.steps.length>h));g--){let _=a[g];_<0||(t=r.before(_),e=o.after(_))}}function E_(i,t,e,n,r){if(t<e){let o=i.firstChild;i=i.replaceChild(0,o.copy(E_(o.content,t+1,e,n,o)))}if(t>n){let o=r.contentMatchAt(0),a=o.fillBefore(i).append(i);i=a.append(o.matchFragment(a).fillBefore(L.empty,!0))}return i}function t8(i,t,e,n){if(!n.isInline&&t==e&&i.doc.resolve(t).parent.content.size){let r=J6(i.doc,t,n.type);r!=null&&(t=e=r)}i.replaceRange(t,e,new z(L.from(n),0,0))}function n8(i,t,e){let n=i.doc.resolve(t),r=i.doc.resolve(e),o=D_(n,r);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||n.node(s).type.contentMatch.validEnd)return i.delete(n.start(s),r.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return i.delete(n.before(s),r.after(s))}for(let a=1;a<=n.depth&&a<=r.depth;a++)if(t-n.start(a)==n.depth-a&&e>n.end(a)&&r.end(a)-e!=r.depth-a&&n.start(a-1)==r.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),r.index(a-1)))return i.delete(n.before(a),e);i.delete(t,e)}function D_(i,t){let e=[],n=Math.min(i.depth,t.depth);for(let r=n;r>=0;r--){let o=i.start(r);if(o<i.pos-(i.depth-r)||t.end(r)>t.pos+(t.depth-r)||i.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==i.depth&&r==t.depth&&i.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&e.push(r)}return e}var _d=class i extends yt{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return Dt.fail("No node at attribute step's position");let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,null,e.marks);return Dt.fromReplace(t,this.pos,this.pos+1,new z(L.from(r),0,e.isLeaf?0:1))}getMap(){return ci.empty}invert(t){return new i(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new i(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new i(e.pos,e.attr,e.value)}};yt.jsonID("attr",_d);var vd=class i extends yt{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let r in t.attrs)e[r]=t.attrs[r];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return Dt.ok(n)}getMap(){return ci.empty}invert(t){return new i(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new i(e.attr,e.value)}};yt.jsonID("docAttr",vd);var zo=class extends Error{};zo=function i(t){let e=Error.call(this,t);return e.__proto__=i.prototype,e};zo.prototype=Object.create(Error.prototype);zo.prototype.constructor=zo;zo.prototype.name="TransformError";var bd=class{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Ss}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new zo(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=z.empty){let r=yd(this.doc,t,e,n);return r&&this.step(r),this}replaceWith(t,e,n){return this.replace(t,e,new z(L.from(n),0,0))}delete(t,e){return this.replace(t,e,z.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return e8(this,t,e,n),this}replaceRangeWith(t,e,n){return t8(this,t,e,n),this}deleteRange(t,e){return n8(this,t,e),this}lift(t,e){return H6(this,t,e),this}join(t,e=1){return Y6(this,t,e),this}wrap(t,e){return z6(this,t,e),this}setBlockType(t,e=t,n,r=null){return U6(this,t,e,n,r),this}setNodeMarkup(t,e,n=null,r){return $6(this,t,e,n,r),this}setNodeAttribute(t,e,n){return this.step(new _d(t,e,n)),this}setDocAttribute(t,e){return this.step(new vd(t,e)),this}addNodeMark(t,e){return this.step(new Ds(t,e)),this}removeNodeMark(t,e){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(e instanceof Be)e.isInSet(n.marks)&&this.step(new Zo(t,e));else{let r=n.marks,o,a=[];for(;o=e.isInSet(r);)a.push(new Zo(t,o)),r=o.removeFromSet(r);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,e=1,n){return G6(this,t,e,n),this}addMark(t,e,n){return L6(this,t,e,n),this}removeMark(t,e,n){return V6(this,t,e,n),this}clearIncompatible(t,e,n){return Vp(this,t,e,n),this}};var Bp=Object.create(null),ye=class{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new $o(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=z.empty){let n=e.content.lastChild,r=null;for(let s=0;s<e.openEnd;s++)r=n,n=n.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],d=t.mapping.slice(o);t.replaceRange(d.map(l.pos),d.map(c.pos),s?z.empty:e),s==0&&k_(t,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:a,$to:s}=r[o],l=t.mapping.slice(n),c=l.map(a.pos),d=l.map(s.pos);o?t.deleteRange(c,d):(t.replaceRangeWith(c,d,e),k_(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new Le(t):Wo(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let o=t.depth-1;o>=0;o--){let a=e<0?Wo(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):Wo(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(a)return a}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new ln(t.node(0))}static atStart(t){return Wo(t,t,0,0,1)||new ln(t)}static atEnd(t){return Wo(t,t,t.content.size,t.childCount,-1)||new ln(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Bp[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in Bp)throw new RangeError("Duplicate use of selection JSON ID "+t);return Bp[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Le.between(this.$anchor,this.$head).getBookmark()}};ye.prototype.visible=!0;var $o=class{constructor(t,e){this.$from=t,this.$to=e}},M_=!1;function A_(i){!M_&&!i.parent.inlineContent&&(M_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}var Le=class i extends ye{constructor(t,e=t){A_(t),A_(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return ye.near(n);let r=t.resolve(e.map(this.anchor));return new i(r.parent.inlineContent?r:n,n)}replace(t,e=z.empty){if(super.replace(t,e),e==z.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof i&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new xd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new i(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if((!n||r)&&(n=r>=0?1:-1),!e.parent.inlineContent){let o=ye.findFrom(e,n,!0)||ye.findFrom(e,-n,!0);if(o)e=o.$head;else return ye.near(e,n)}return t.parent.inlineContent||(r==0?t=e:(t=(ye.findFrom(t,-n,!0)||ye.findFrom(t,n,!0)).$anchor,t.pos<e.pos!=r<0&&(t=e))),new i(t,e)}};ye.jsonID("text",Le);var xd=class i{constructor(t,e){this.anchor=t,this.head=e}map(t){return new i(t.map(this.anchor),t.map(this.head))}resolve(t){return Le.between(t.resolve(this.anchor),t.resolve(this.head))}},re=class i extends ye{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),o=t.resolve(r);return n?ye.near(o):new i(o)}content(){return new z(L.from(this.node),0,0)}eq(t){return t instanceof i&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new jp(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new i(t.resolve(e.anchor))}static create(t,e){return new i(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};re.prototype.visible=!1;ye.jsonID("node",re);var jp=class i{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new xd(n,n):new i(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&re.isSelectable(n)?new re(e):ye.near(e)}},ln=class i extends ye{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=z.empty){if(e==z.empty){t.delete(0,t.doc.content.size);let n=ye.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new i(t)}map(t){return new i(t)}eq(t){return t instanceof i}getBookmark(){return i8}};ye.jsonID("all",ln);var i8={map(){return this},resolve(i){return new ln(i)}};function Wo(i,t,e,n,r,o=!1){if(t.inlineContent)return Le.create(i,e);for(let a=n-(r>0?0:1);r>0?a<t.childCount:a>=0;a+=r){let s=t.child(a);if(s.isAtom){if(!o&&re.isSelectable(s))return re.create(i,e-(r<0?s.nodeSize:0))}else{let l=Wo(i,s,e+r,r<0?s.childCount:0,r,o);if(l)return l}e+=s.nodeSize*r}return null}function k_(i,t,e){let n=i.steps.length-1;if(n<t)return;let r=i.steps[n];if(!(r instanceof sn||r instanceof wt))return;let o=i.mapping.maps[n],a;o.forEach((s,l,c,d)=>{a==null&&(a=d)}),i.setSelection(ye.near(i.doc.resolve(a),e))}var T_=1,wd=2,I_=4,Zp=class extends bd{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|T_)&~wd,this.storedMarks=null,this}get selectionSet(){return(this.updated&T_)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=wd,this}ensureMarks(t){return Be.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&wd)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~wd,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Be.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(n==null&&(n=e),n=n??e,!t)return this.deleteRange(e,n);let o=this.storedMarks;if(!o){let a=this.doc.resolve(e);o=n==e?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(ye.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=I_,this}get scrolledIntoView(){return(this.updated&I_)>0}};function P_(i,t){return!t||!i?i:i.bind(t)}var Vr=class{constructor(t,e,n){this.name=t,this.init=P_(e.init,n),this.apply=P_(e.apply,n)}},r8=[new Vr("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new Vr("selection",{init(i,t){return i.selection||ye.atStart(t.doc)},apply(i){return i.selection}}),new Vr("storedMarks",{init(i){return i.storedMarks||null},apply(i,t,e,n){return n.selection.$cursor?i.storedMarks:null}}),new Vr("scrollToSelection",{init(){return 0},apply(i,t){return i.scrolledIntoView?t+1:t}})],Ms=class{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=r8.slice(),e&&e.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Vr(n.key,n.spec.state,n))})}},Cd=class i{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=r?r[a].n:0,c=r?r[a].state:this,d=l<e.length&&s.spec.appendTransaction.call(s,l?e.slice(l):e,c,n);if(d&&n.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",t),!r){r=[];for(let h=0;h<this.config.plugins.length;h++)r.push(h<a?{state:n,n:e.length}:{state:this,n:0})}e.push(d),n=n.applyInner(d),o=!0}r&&(r[a]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new i(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}return e}get tr(){return new Zp(this)}static create(t){let e=new Ms(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new i(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new Ms(this.schema,t.plugins),n=e.fields,r=new i(e);for(let o=0;o<n.length;o++){let a=n[o].name;r[a]=this.hasOwnProperty(a)?this[a]:n[o].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(n=>n.toJSON())),t&&typeof t=="object")for(let n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new Ms(t.schema,t.plugins),o=new i(r);return r.fields.forEach(a=>{if(a.name=="doc")o.doc=Wn.fromJSON(t.schema,e.doc);else if(a.name=="selection")o.selection=ye.fromJSON(o.doc,e.selection);else if(a.name=="storedMarks")e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let s in n){let l=n[s],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,s)){o[a.name]=c.fromJSON.call(l,t,e[s],o);return}}o[a.name]=a.init(t,o)}}),o}};function R_(i,t,e){for(let n in i){let r=i[n];r instanceof Function?r=r.bind(t):n=="handleDOMEvents"&&(r=R_(r,t,{})),e[n]=r}return e}var Ot=class{constructor(t){this.spec=t,this.props={},t.props&&R_(t.props,this,this.props),this.key=t.key?t.key.key:O_("plugin")}getState(t){return t[this.key]}},Hp=Object.create(null);function O_(i){return i in Hp?i+"$"+ ++Hp[i]:(Hp[i]=0,i+"$")}var cn=class{constructor(t="key"){this.key=O_(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}};var Mt=function(i){for(var t=0;;t++)if(i=i.previousSibling,!i)return t},Jo=function(i){let t=i.assignedSlot||i.parentNode;return t&&t.nodeType==11?t.host:t},qp=null,ui=function(i,t,e){let n=qp||(qp=document.createRange());return n.setEnd(i,e??i.nodeValue.length),n.setStart(i,t||0),n},o8=function(){qp=null},Wr=function(i,t,e,n){return e&&(N_(i,t,e,n,-1)||N_(i,t,e,n,1))},a8=/^(img|br|input|textarea|hr)$/i;function N_(i,t,e,n,r){for(var o;;){if(i==e&&t==n)return!0;if(t==(r<0?0:yn(i))){let a=i.parentNode;if(!a||a.nodeType!=1||Ns(i)||a8.test(i.nodeName)||i.contentEditable=="false")return!1;t=Mt(i)+(r<0?0:1),i=a}else if(i.nodeType==1){let a=i.childNodes[t+(r<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=r;else return!1;else i=a,t=r<0?yn(i):0}else return!1}}function yn(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function s8(i,t){for(;;){if(i.nodeType==3&&t)return i;if(i.nodeType==1&&t>0){if(i.contentEditable=="false")return null;i=i.childNodes[t-1],t=yn(i)}else if(i.parentNode&&!Ns(i))t=Mt(i),i=i.parentNode;else return null}}function l8(i,t){for(;;){if(i.nodeType==3&&t<i.nodeValue.length)return i;if(i.nodeType==1&&t<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[t],t=0}else if(i.parentNode&&!Ns(i))t=Mt(i)+1,i=i.parentNode;else return null}}function c8(i,t,e){for(let n=t==0,r=t==yn(i);n||r;){if(i==e)return!0;let o=Mt(i);if(i=i.parentNode,!i)return!1;n=n&&o==0,r=r&&o==yn(i)}}function Ns(i){let t;for(let e=i;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==i||t.contentDOM==i)}var Od=function(i){return i.focusNode&&Wr(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function Br(i,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=i,e.key=e.code=t,e}function d8(i){let t=i.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function u8(i,t,e){if(i.caretPositionFromPoint)try{let n=i.caretPositionFromPoint(t,e);if(n)return{node:n.offsetNode,offset:Math.min(yn(n.offsetNode),n.offset)}}catch{}if(i.caretRangeFromPoint){let n=i.caretRangeFromPoint(t,e);if(n)return{node:n.startContainer,offset:Math.min(yn(n.startContainer),n.startOffset)}}}var $n=typeof navigator<"u"?navigator:null,F_=typeof document<"u"?document:null,qi=$n&&$n.userAgent||"",Kp=/Edge\/(\d+)/.exec(qi),m2=/MSIE \d/.exec(qi),Yp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(qi),Qt=!!(m2||Yp||Kp),$i=m2?document.documentMode:Yp?+Yp[1]:Kp?+Kp[1]:0,Rn=!Qt&&/gecko\/(\d+)/i.test(qi);Rn&&+(/Firefox\/(\d+)/.exec(qi)||[0,0])[1];var Jp=!Qt&&/Chrome\/(\d+)/.exec(qi),Ft=!!Jp,f2=Jp?+Jp[1]:0,jt=!Qt&&!!$n&&/Apple Computer/.test($n.vendor),Xo=jt&&(/Mobile\/\w+/.test(qi)||!!$n&&$n.maxTouchPoints>2),bn=Xo||($n?/Mac/.test($n.platform):!1),p8=$n?/Win/.test($n.platform):!1,pi=/Android \d/.test(qi),Fs=!!F_&&"webkitFontSmoothing"in F_.documentElement.style,h8=Fs?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function m8(i){let t=i.defaultView&&i.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function di(i,t){return typeof i=="number"?i:i[t]}function f8(i){let t=i.getBoundingClientRect(),e=t.width/i.offsetWidth||1,n=t.height/i.offsetHeight||1;return{left:t.left,right:t.left+i.clientWidth*e,top:t.top,bottom:t.top+i.clientHeight*n}}function L_(i,t,e){let n=i.someProp("scrollThreshold")||0,r=i.someProp("scrollMargin")||5,o=i.dom.ownerDocument;for(let a=e||i.dom;a;){if(a.nodeType!=1){a=Jo(a);continue}let s=a,l=s==o.body,c=l?m8(o):f8(s),d=0,h=0;if(t.top<c.top+di(n,"top")?h=-(c.top-t.top+di(r,"top")):t.bottom>c.bottom-di(n,"bottom")&&(h=t.bottom-t.top>c.bottom-c.top?t.top+di(r,"top")-c.top:t.bottom-c.bottom+di(r,"bottom")),t.left<c.left+di(n,"left")?d=-(c.left-t.left+di(r,"left")):t.right>c.right-di(n,"right")&&(d=t.right-c.right+di(r,"right")),d||h)if(l)o.defaultView.scrollBy(d,h);else{let _=s.scrollLeft,b=s.scrollTop;h&&(s.scrollTop+=h),d&&(s.scrollLeft+=d);let C=s.scrollLeft-_,D=s.scrollTop-b;t={left:t.left-C,top:t.top-D,right:t.right-C,bottom:t.bottom-D}}let g=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(g))break;a=g=="absolute"?a.offsetParent:Jo(a)}}function g8(i){let t=i.dom.getBoundingClientRect(),e=Math.max(0,t.top),n,r;for(let o=(t.left+t.right)/2,a=e+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=i.root.elementFromPoint(o,a);if(!s||s==i.dom||!i.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=e-20){n=s,r=l.top;break}}return{refDOM:n,refTop:r,stack:g2(i.dom)}}function g2(i){let t=[],e=i.ownerDocument;for(let n=i;n&&(t.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),i!=e);n=Jo(n));return t}function _8({refDOM:i,refTop:t,stack:e}){let n=i?i.getBoundingClientRect().top:0;_2(e,n==0?0:n-t)}function _2(i,t){for(let e=0;e<i.length;e++){let{dom:n,top:r,left:o}=i[e];n.scrollTop!=r+t&&(n.scrollTop=r+t),n.scrollLeft!=o&&(n.scrollLeft=o)}}var Go=null;function v8(i){if(i.setActive)return i.setActive();if(Go)return i.focus(Go);let t=g2(i);i.focus(Go==null?{get preventScroll(){return Go={preventScroll:!0},!0}}:void 0),Go||(Go=!1,_2(t,0))}function v2(i,t){let e,n=2e8,r,o=0,a=t.top,s=t.top,l,c;for(let d=i.firstChild,h=0;d;d=d.nextSibling,h++){let g;if(d.nodeType==1)g=d.getClientRects();else if(d.nodeType==3)g=ui(d).getClientRects();else continue;for(let _=0;_<g.length;_++){let b=g[_];if(b.top<=a&&b.bottom>=s){a=Math.max(b.bottom,a),s=Math.min(b.top,s);let C=b.left>t.left?b.left-t.left:b.right<t.left?t.left-b.right:0;if(C<n){e=d,n=C,r=C&&e.nodeType==3?{left:b.right<t.left?b.right:b.left,top:t.top}:t,d.nodeType==1&&C&&(o=h+(t.left>=(b.left+b.right)/2?1:0));continue}}else b.top>t.top&&!l&&b.left<=t.left&&b.right>=t.left&&(l=d,c={left:Math.max(b.left,Math.min(b.right,t.left)),top:b.top});!e&&(t.left>=b.right&&t.top>=b.top||t.left>=b.left&&t.top>=b.bottom)&&(o=h+1)}}return!e&&l&&(e=l,r=c,n=0),e&&e.nodeType==3?b8(e,r):!e||n&&e.nodeType==1?{node:i,offset:o}:v2(e,r)}function b8(i,t){let e=i.nodeValue.length,n=document.createRange();for(let r=0;r<e;r++){n.setEnd(i,r+1),n.setStart(i,r);let o=zi(n,1);if(o.top!=o.bottom&&ph(t,o))return{node:i,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:i,offset:0}}function ph(i,t){return i.left>=t.left-1&&i.left<=t.right+1&&i.top>=t.top-1&&i.top<=t.bottom+1}function y8(i,t){let e=i.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<i.getBoundingClientRect().left?e:i}function w8(i,t,e){let{node:n,offset:r}=v2(t,e),o=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();o=a.left!=a.right&&e.left>(a.left+a.right)/2?1:-1}return i.docView.posFromDOM(n,r,o)}function x8(i,t,e,n){let r=-1;for(let o=t,a=!1;o!=i.dom;){let s=i.docView.nearestDesc(o,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&(!a&&l.left>n.left||l.top>n.top?r=s.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(r=s.posAfter),a=!0),!s.contentDOM&&r<0&&!s.node.isText))return(s.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;o=s.dom.parentNode}return r>-1?r:i.docView.posFromDOM(t,e,-1)}function b2(i,t,e){let n=i.childNodes.length;if(n&&e.top<e.bottom)for(let r=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-e.top)/(e.bottom-e.top))-2)),o=r;;){let a=i.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let c=s[l];if(ph(t,c))return b2(a,t,c)}}if((o=(o+1)%n)==r)break}return i}function C8(i,t){let e=i.dom.ownerDocument,n,r=0,o=u8(e,t.left,t.top);o&&({node:n,offset:r}=o);let a=(i.root.elementFromPoint?i.root:e).elementFromPoint(t.left,t.top),s;if(!a||!i.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=i.dom.getBoundingClientRect();if(!ph(t,c)||(a=b2(i.dom,t,c),!a))return null}if(jt)for(let c=a;n&&c;c=Jo(c))c.draggable&&(n=void 0);if(a=y8(a,t),n){if(Rn&&n.nodeType==1&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let d=n.childNodes[r],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&r++}let c;Fs&&r&&n.nodeType==1&&(c=n.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&r--,n==i.dom&&r==n.childNodes.length-1&&n.lastChild.nodeType==1&&t.top>n.lastChild.getBoundingClientRect().bottom?s=i.state.doc.content.size:(r==0||n.nodeType!=1||n.childNodes[r-1].nodeName!="BR")&&(s=x8(i,n,r,t))}s==null&&(s=w8(i,a,t));let l=i.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function V_(i){return i.top<i.bottom||i.left<i.right}function zi(i,t){let e=i.getClientRects();if(e.length){let n=e[t<0?0:e.length-1];if(V_(n))return n}return Array.prototype.find.call(e,V_)||i.getBoundingClientRect()}var S8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function y2(i,t,e){let{node:n,offset:r,atom:o}=i.docView.domFromPos(t,e<0?-1:1),a=Fs||Rn;if(n.nodeType==3)if(a&&(S8.test(n.nodeValue)||(e<0?!r:r==n.nodeValue.length))){let l=zi(ui(n,r,r),e);if(Rn&&r&&/\s/.test(n.nodeValue[r-1])&&r<n.nodeValue.length){let c=zi(ui(n,r-1,r-1),-1);if(c.top==l.top){let d=zi(ui(n,r,r+1),-1);if(d.top!=l.top)return As(d,d.left<c.left)}}return l}else{let l=r,c=r,d=e<0?1:-1;return e<0&&!r?(c++,d=-1):e>=0&&r==n.nodeValue.length?(l--,d=1):e<0?l--:c++,As(zi(ui(n,l,c),d),d<0)}if(!i.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&r&&(e<0||r==yn(n))){let l=n.childNodes[r-1];if(l.nodeType==1)return zp(l.getBoundingClientRect(),!1)}if(o==null&&r<yn(n)){let l=n.childNodes[r];if(l.nodeType==1)return zp(l.getBoundingClientRect(),!0)}return zp(n.getBoundingClientRect(),e>=0)}if(o==null&&r&&(e<0||r==yn(n))){let l=n.childNodes[r-1],c=l.nodeType==3?ui(l,yn(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return As(zi(c,1),!1)}if(o==null&&r<yn(n)){let l=n.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ui(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return As(zi(c,-1),!0)}return As(zi(n.nodeType==3?ui(n):n,-e),e>=0)}function As(i,t){if(i.width==0)return i;let e=t?i.left:i.right;return{top:i.top,bottom:i.bottom,left:e,right:e}}function zp(i,t){if(i.height==0)return i;let e=t?i.top:i.bottom;return{top:e,bottom:e,left:i.left,right:i.right}}function w2(i,t,e){let n=i.state,r=i.root.activeElement;n!=t&&i.updateState(t),r!=i.dom&&i.focus();try{return e()}finally{n!=t&&i.updateState(n),r!=i.dom&&r&&r.focus()}}function E8(i,t,e){let n=t.selection,r=e=="up"?n.$from:n.$to;return w2(i,t,()=>{let{node:o}=i.docView.domFromPos(r.pos,e=="up"?-1:1);for(;;){let s=i.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.contentDOM||s.dom;break}o=s.dom.parentNode}let a=y2(i,r.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=ui(s,0,s.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(e=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}var D8=/[\u0590-\u08ac]/;function M8(i,t,e){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let r=n.parentOffset,o=!r,a=r==n.parent.content.size,s=i.domSelection();return s?!D8.test(n.parent.textContent)||!s.modify?e=="left"||e=="backward"?o:a:w2(i,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:h}=i.domSelectionRange(),g=s.caretBidiLevel;s.modify("move",e,"character");let _=n.depth?i.docView.domAfterPos(n.before()):i.dom,{focusNode:b,focusOffset:C}=i.domSelectionRange(),D=b&&!_.contains(b.nodeType==1?b:b.parentNode)||l==b&&c==C;try{s.collapse(d,h),l&&(l!=d||c!=h)&&s.extend&&s.extend(l,c)}catch{}return g!=null&&(s.caretBidiLevel=g),D}):n.pos==n.start()||n.pos==n.end()}var B_=null,H_=null,j_=!1;function A8(i,t,e){return B_==t&&H_==e?j_:(B_=t,H_=e,j_=e=="up"||e=="down"?E8(i,t,e):M8(i,t,e))}var wn=0,Z_=1,Hr=2,Gn=3,$r=class{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=wn,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){let o,a;if(t==this.contentDOM)o=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=e>Mt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&e==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??n>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let o=this.getDesc(r),a;if(o&&(!e||o.node))if(n&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))n=!1;else return o}}getDesc(t){let e=t.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)for(let a=0;a<r.children.length;a++){let s=r.children[a];if(s.size){r=s;break}}return r}if(t<o)return r.descAt(t-n-r.border);n=o}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let n=0,r=0;for(let o=0;n<this.children.length;n++){let a=this.children[n],s=o+a.size;if(s>t||a instanceof Dd){r=t-o;break}o=s}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof Sd&&o.side>=0;n--);if(e<=0){let o,a=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,a=!1);return o&&e&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,e):{node:this.contentDOM,offset:o?Mt(o.dom)+1:0}}else{let o,a=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,e):{node:this.contentDOM,offset:o?Mt(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let a=n,s=0;;s++){let l=this.children[s],c=a+l.size;if(r==-1&&t<=c){let d=a+l.border;if(t>=d&&e<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,d);t=a;for(let h=s;h>0;h--){let g=this.children[h-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){r=Mt(g.dom)+1;break}t-=g.size}r==-1&&(r=0)}if(r>-1&&(c>e||s==this.children.length-1)){e=c;for(let d=s+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=Mt(h.dom);break}e+=h.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(e.nodeType!=1||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let o=Math.min(t,e),a=Math.max(t,e);for(let _=0,b=0;_<this.children.length;_++){let C=this.children[_],D=b+C.size;if(o>b&&a<D)return C.setSelection(t-b-C.border,e-b-C.border,n,r);b=D}let s=this.domFromPos(t,t?-1:1),l=e==t?s:this.domFromPos(e,e?-1:1),c=n.root.getSelection(),d=n.domSelectionRange(),h=!1;if((Rn||jt)&&t==e){let{node:_,offset:b}=s;if(_.nodeType==3){if(h=!!(b&&_.nodeValue[b-1]==`
`),h&&b==_.nodeValue.length)for(let C=_,D;C;C=C.parentNode){if(D=C.nextSibling){D.nodeName=="BR"&&(s=l={node:D.parentNode,offset:Mt(D)+1});break}let F=C.pmViewDesc;if(F&&F.node&&F.node.isBlock)break}}else{let C=_.childNodes[b-1];h=C&&(C.nodeName=="BR"||C.contentEditable=="false")}}if(Rn&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let _=d.focusNode.childNodes[d.focusOffset];_&&_.contentEditable=="false"&&(r=!0)}if(!(r||h&&jt)&&Wr(s.node,s.offset,d.anchorNode,d.anchorOffset)&&Wr(l.node,l.offset,d.focusNode,d.focusOffset))return;let g=!1;if((c.extend||t==e)&&!h){c.collapse(s.node,s.offset);try{t!=e&&c.extend(l.node,l.offset),g=!0}catch{}}if(!g){if(t>e){let b=s;s=l,l=b}let _=document.createRange();_.setEnd(l.node,l.offset),_.setStart(s.node,s.offset),c.removeAllRanges(),c.addRange(_)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],a=n+o.size;if(n==a?t<=a&&e>=n:t<a&&e>n){let s=n+o.border,l=a-o.border;if(t>=s&&e<=l){this.dirty=t==n||e==a?Hr:Z_,t==s&&e==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Gn:o.markDirty(t-s,e-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Hr:Gn}n=a}this.dirty=Hr}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=t==1?Hr:Z_;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}},Sd=class extends $r{constructor(t,e,n,r){let o,a=e.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!e.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=e,this.widget=e,o=this}matchesWidget(t){return this.dirty==wn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}},Xp=class extends $r{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}},Qo=class i extends $r{constructor(t,e,n,r,o){super(t,[],n,r),this.mark=e,this.spec=o}static create(t,e,n,r){let o=r.nodeViews[e.type.name],a=o&&o(e,r,n);return(!a||!a.dom)&&(a=li.renderSpec(document,e.type.spec.toDOM(e,n),null,e.attrs)),new i(t,e,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Gn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Gn&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=wn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=wn}}slice(t,e,n){let r=i.create(this.parent,this.mark,!0,n),o=this.children,a=this.size;e<a&&(o=nh(o,e,a,n)),t>0&&(o=nh(o,0,t,n));for(let s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},Gi=class i extends $r{constructor(t,e,n,r,o,a,s,l,c){super(t,[],o,a),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(t,e,n,r,o,a){let s=o.nodeViews[e.type.name],l,c=s&&s(e,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,r),d=c&&c.dom,h=c&&c.contentDOM;if(e.isText){if(!d)d=document.createTextNode(e.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=li.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!h&&!e.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),e.type.spec.draggable&&(d.draggable=!0));let g=d;return d=S2(d,n,e),c?l=new Qp(t,e,n,r,d,h||null,g,c,o,a+1):e.isText?new Ed(t,e,n,r,d,g,o):new i(t,e,n,r,d,h||null,g,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>L.empty)}return t}matchesNode(t,e,n){return this.dirty==wn&&t.eq(this.node)&&Md(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new th(this,a&&a.node,t);P8(this.node,this.innerDeco,(c,d,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,t):c.type.side>=0&&!h&&l.syncToMarks(d==this.node.childCount?Be.none:this.node.child(d).marks,n,t),l.placeWidget(c,t,r)},(c,d,h,g)=>{l.syncToMarks(c.marks,n,t);let _;l.findNodeMatch(c,d,h,g)||s&&t.state.selection.from>r&&t.state.selection.to<r+c.nodeSize&&(_=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,d,h,_,t)||l.updateNextNode(c,d,h,t,g,r)||l.addNode(c,d,h,t,r),r+=c.nodeSize}),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Hr)&&(a&&this.protectLocalComposition(t,a),x2(this.contentDOM,this.children,t),Xo&&R8(this.dom))}localCompositionInfo(t,e){let{from:n,to:r}=t.state.selection;if(!(t.state.selection instanceof Le)||n<e||r>e+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,s=O8(this.node.content,a,n-e,r-e);return s<0?null:{node:o,pos:s,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let o=e;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new Xp(this,o,e,r);t.input.compositionNodes.push(a),this.children=nh(this.children,n,n+r.length,t,a)}update(t,e,n,r){return this.dirty==Gn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=wn}updateOuterDeco(t){if(Md(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=C2(this.dom,this.nodeDOM,eh(this.outerDeco,this.node,e),eh(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function z_(i,t,e,n,r){S2(n,t,i);let o=new Gi(void 0,i,t,e,n,n,n,r,0);return o.contentDOM&&o.updateChildren(r,0),o}var Ed=class i extends Gi{constructor(t,e,n,r,o,a,s){super(t,e,n,r,o,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return this.dirty==Gn||this.dirty!=wn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=wn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=wn,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,n){let r=this.node.cut(t,e),o=document.createTextNode(r.text);return new i(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=Gn)}get domAtom(){return!1}isText(t){return this.node.text==t}},Dd=class extends $r{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==wn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},Qp=class extends Gi{constructor(t,e,n,r,o,a,s,l,c,d){super(t,e,n,r,o,a,s,c,d),this.spec=l}update(t,e,n,r){if(this.dirty==Gn)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,e,n);return o&&this.updateInner(t,e,n,r),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n.root):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}};function x2(i,t,e){let n=i.firstChild,r=!1;for(let o=0;o<t.length;o++){let a=t[o],s=a.dom;if(s.parentNode==i){for(;s!=n;)n=U_(n),r=!0;n=n.nextSibling}else r=!0,i.insertBefore(s,n);if(a instanceof Qo){let l=n?n.previousSibling:i.lastChild;x2(a.contentDOM,a.children,e),n=l?l.nextSibling:i.firstChild}}for(;n;)n=U_(n),r=!0;r&&e.trackWrites==i&&(e.trackWrites=null)}var ks=function(i){i&&(this.nodeName=i)};ks.prototype=Object.create(null);var jr=[new ks];function eh(i,t,e){if(i.length==0)return jr;let n=e?jr[0]:new ks,r=[n];for(let o=0;o<i.length;o++){let a=i[o].type.attrs;if(a){a.nodeName&&r.push(n=new ks(a.nodeName));for(let s in a){let l=a[s];l!=null&&(e&&r.length==1&&r.push(n=new ks(t.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+l:s=="style"?n.style=(n.style?n.style+";":"")+l:s!="nodeName"&&(n[s]=l))}}}return r}function C2(i,t,e,n){if(e==jr&&n==jr)return t;let r=t;for(let o=0;o<n.length;o++){let a=n[o],s=e[o];if(o){let l;s&&s.nodeName==a.nodeName&&r!=i&&(l=r.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(r),s=jr[0]),r=l}k8(r,s||jr[0],a)}return r}function k8(i,t,e){for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in e)&&i.removeAttribute(n);for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&e[n]!=t[n]&&i.setAttribute(n,e[n]);if(t.class!=e.class){let n=t.class?t.class.split(" ").filter(Boolean):[],r=e.class?e.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)r.indexOf(n[o])==-1&&i.classList.remove(n[o]);for(let o=0;o<r.length;o++)n.indexOf(r[o])==-1&&i.classList.add(r[o]);i.classList.length==0&&i.removeAttribute("class")}if(t.style!=e.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(t.style);)i.style.removeProperty(r[1])}e.style&&(i.style.cssText+=e.style)}}function S2(i,t,e){return C2(i,i,jr,eh(t,e,i.nodeType!=1))}function Md(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(!i[e].type.eq(t[e].type))return!1;return!0}function U_(i){let t=i.nextSibling;return i.parentNode.removeChild(i),t}var th=class{constructor(t,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=T8(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,o=this.stack.length>>1,a=Math.min(o,t.length);for(;r<a&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=wn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){s=l;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=Qo.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,e,n,r){let o=-1,a;if(r>=this.preMatch.index&&(a=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&a.matchesNode(t,e,n))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let c=this.top.children[s];if(c.matchesNode(t,e,n)&&!this.preMatch.matched.has(c)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,r,o){let a=this.top.children[r];return a.dirty==Gn&&a.dom==a.contentDOM&&(a.dirty=Hr),a.update(t,e,n,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let n=t.pmViewDesc;if(n){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r}return-1}t=e}}updateNextNode(t,e,n,r,o,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Gi){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let d=l.dom,h,g=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Gn&&Md(e,l.outerDeco));if(!g&&l.update(t,e,n,r))return this.destroyBetween(this.index,s),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!g&&(h=this.recreateWrapper(l,t,e,n,r,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Hr,h.updateChildren(r,a+1),h.dirty=wn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,o,a){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!Md(n,t.outerDeco)||!r.eq(t.innerDeco))return null;let s=Gi.create(this.top,e,n,r,o,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,e,n,r,o){let a=Gi.create(this.top,t,e,n,r,o);a.contentDOM&&a.updateChildren(r,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new Sd(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Qo;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof Ed)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((jt||Ft)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);t=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),t=="BR"&&(n.className="ProseMirror-trailingBreak");let r=new Dd(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}};function T8(i,t){let e=t,n=e.children.length,r=i.childCount,o=new Map,a=[];e:for(;r>0;){let s;for(;;)if(n){let c=e.children[n-1];if(c instanceof Qo)e=c,n=c.children.length;else{s=c,n--;break}}else{if(e==t)break e;n=e.parent.children.indexOf(e),e=e.parent}let l=s.node;if(l){if(l!=i.child(r-1))break;--r,o.set(s,r),a.push(s)}}return{index:r,matched:o,matches:a.reverse()}}function I8(i,t){return i.type.side-t.type.side}function P8(i,t,e,n){let r=t.locals(i),o=0;if(r.length==0){for(let c=0;c<i.childCount;c++){let d=i.child(c);n(d,r,t.forChild(o,d),c),o+=d.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let d,h;for(;a<r.length&&r[a].to==o;){let D=r[a++];D.widget&&(d?(h||(h=[d])).push(D):d=D)}if(d)if(h){h.sort(I8);for(let D=0;D<h.length;D++)e(h[D],c,!!l)}else e(d,c,!!l);let g,_;if(l)_=-1,g=l,l=null;else if(c<i.childCount)_=c,g=i.child(c++);else break;for(let D=0;D<s.length;D++)s[D].to<=o&&s.splice(D--,1);for(;a<r.length&&r[a].from<=o&&r[a].to>o;)s.push(r[a++]);let b=o+g.nodeSize;if(g.isText){let D=b;a<r.length&&r[a].from<D&&(D=r[a].from);for(let F=0;F<s.length;F++)s[F].to<D&&(D=s[F].to);D<b&&(l=g.cut(D-o),g=g.cut(0,D-o),b=D,_=-1)}else for(;a<r.length&&r[a].to<b;)a++;let C=g.isInline&&!g.isLeaf?s.filter(D=>!D.inline):s.slice();n(g,C,t.forChild(o,g),_),o=b}}function R8(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let t=i.style.cssText;i.style.cssText=t+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=t}}function O8(i,t,e,n){for(let r=0,o=0;r<i.childCount&&o<=n;){let a=i.child(r++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;r<i.childCount;){let c=i.child(r++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=e){if(o>=n&&l.slice(n-t.length-s,n-s)==t)return n-t.length;let c=s<n?l.lastIndexOf(t,n-s-1):-1;if(c>=0&&c+t.length+s>=e)return s+c;if(e==n&&l.length>=n+t.length-s&&l.slice(n-s,n-s+t.length)==t)return n}}return-1}function nh(i,t,e,n,r){let o=[];for(let a=0,s=0;a<i.length;a++){let l=i[a],c=s,d=s+=l.size;c>=e||d<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,n)),r&&(o.push(r),r=void 0),d>e&&o.push(l.slice(e-c,l.size,n)))}return o}function hh(i,t=null){let e=i.domSelectionRange(),n=i.state.doc;if(!e.focusNode)return null;let r=i.docView.nearestDesc(e.focusNode),o=r&&r.size==0,a=i.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(a<0)return null;let s=n.resolve(a),l,c;if(Od(e)){for(l=a;r&&!r.node;)r=r.parent;let h=r.node;if(r&&h.isAtom&&re.isSelectable(h)&&r.parent&&!(h.isInline&&c8(e.focusNode,e.focusOffset,r.dom))){let g=r.posBefore;c=new re(a==g?s:n.resolve(g))}}else{if(e instanceof i.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let h=a,g=a;for(let _=0;_<e.rangeCount;_++){let b=e.getRangeAt(_);h=Math.min(h,i.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,i.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(h<0)return null;[l,a]=g==i.state.selection.anchor?[g,h]:[h,g],s=n.resolve(a)}else l=i.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(l<0)return null}let d=n.resolve(l);if(!c){let h=t=="pointer"||i.state.selection.head<s.pos&&!o?1:-1;c=mh(i,d,s,h)}return c}function E2(i){return i.editable?i.hasFocus():M2(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function hi(i,t=!1){let e=i.state.selection;if(D2(i,e),!!E2(i)){if(!t&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&Ft){let n=i.domSelectionRange(),r=i.domObserver.currentSelection;if(n.anchorNode&&r.anchorNode&&Wr(n.anchorNode,n.anchorOffset,r.anchorNode,r.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)F8(i);else{let{anchor:n,head:r}=e,o,a;W_&&!(e instanceof Le)&&(e.$from.parent.inlineContent||(o=$_(i,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(a=$_(i,e.to))),i.docView.setSelection(n,r,i,t),W_&&(o&&G_(o),a&&G_(a)),e.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&N8(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}var W_=jt||Ft&&f2<63;function $_(i,t){let{node:e,offset:n}=i.docView.domFromPos(t,0),r=n<e.childNodes.length?e.childNodes[n]:null,o=n?e.childNodes[n-1]:null;if(jt&&r&&r.contentEditable=="false")return Up(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return Up(r);if(o)return Up(o)}}function Up(i){return i.contentEditable="true",jt&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function G_(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function N8(i){let t=i.dom.ownerDocument;t.removeEventListener("selectionchange",i.input.hideSelectionGuard);let e=i.domSelectionRange(),n=e.anchorNode,r=e.anchorOffset;t.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(e.anchorNode!=n||e.anchorOffset!=r)&&(t.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!E2(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function F8(i){let t=i.domSelection(),e=document.createRange();if(!t)return;let n=i.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.setStart(n.parentNode,Mt(n)+1):e.setStart(n,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e),!r&&!i.state.selection.visible&&Qt&&$i<=11&&(n.disabled=!0,n.disabled=!1)}function D2(i,t){if(t instanceof re){let e=i.docView.descAt(t.from);e!=i.lastSelectedViewDesc&&(q_(i),e&&e.selectNode(),i.lastSelectedViewDesc=e)}else q_(i)}function q_(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function mh(i,t,e,n){return i.someProp("createSelectionBetween",r=>r(i,t,e))||Le.between(t,e,n)}function K_(i){return i.editable&&!i.hasFocus()?!1:M2(i)}function M2(i){let t=i.domSelectionRange();if(!t.anchorNode)return!1;try{return i.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(i.editable||i.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function L8(i){let t=i.docView.domFromPos(i.state.selection.anchor,0),e=i.domSelectionRange();return Wr(t.node,t.offset,e.anchorNode,e.anchorOffset)}function ih(i,t){let{$anchor:e,$head:n}=i.selection,r=t>0?e.max(n):e.min(n),o=r.parent.inlineContent?r.depth?i.doc.resolve(t>0?r.after():r.before()):null:r;return o&&ye.findFrom(o,t)}function Ui(i,t){return i.dispatch(i.state.tr.setSelection(t).scrollIntoView()),!0}function Y_(i,t,e){let n=i.state.selection;if(n instanceof Le)if(e.indexOf("s")>-1){let{$head:r}=n,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=i.state.doc.resolve(r.pos+o.nodeSize*(t<0?-1:1));return Ui(i,new Le(n.$anchor,a))}else if(n.empty){if(i.endOfTextblock(t>0?"forward":"backward")){let r=ih(i.state,t);return r&&r instanceof re?Ui(i,r):!1}else if(!(bn&&e.indexOf("m")>-1)){let r=n.$head,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,a;if(!o||o.isText)return!1;let s=t<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(a=i.docView.descAt(s))&&!a.contentDOM?re.isSelectable(o)?Ui(i,new re(t<0?i.state.doc.resolve(r.pos-o.nodeSize):r)):Fs?Ui(i,new Le(i.state.doc.resolve(t<0?s:s+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof re&&n.node.isInline)return Ui(i,new Le(t>0?n.$to:n.$from));{let r=ih(i.state,t);return r?Ui(i,r):!1}}}function Ad(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Ts(i,t){let e=i.pmViewDesc;return e&&e.size==0&&(t<0||i.nextSibling||i.nodeName!="BR")}function qo(i,t){return t<0?V8(i):B8(i)}function V8(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r,o,a=!1;for(Rn&&e.nodeType==1&&n<Ad(e)&&Ts(e.childNodes[n],-1)&&(a=!0);;)if(n>0){if(e.nodeType!=1)break;{let s=e.childNodes[n-1];if(Ts(s,-1))r=e,o=--n;else if(s.nodeType==3)e=s,n=e.nodeValue.length;else break}}else{if(A2(e))break;{let s=e.previousSibling;for(;s&&Ts(s,-1);)r=e.parentNode,o=Mt(s),s=s.previousSibling;if(s)e=s,n=Ad(e);else{if(e=e.parentNode,e==i.dom)break;n=0}}}a?rh(i,e,n):r&&rh(i,r,o)}function B8(i){let t=i.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r=Ad(e),o,a;for(;;)if(n<r){if(e.nodeType!=1)break;let s=e.childNodes[n];if(Ts(s,1))o=e,a=++n;else break}else{if(A2(e))break;{let s=e.nextSibling;for(;s&&Ts(s,1);)o=s.parentNode,a=Mt(s)+1,s=s.nextSibling;if(s)e=s,n=0,r=Ad(e);else{if(e=e.parentNode,e==i.dom)break;n=r=0}}}o&&rh(i,o,a)}function A2(i){let t=i.pmViewDesc;return t&&t.node&&t.node.isBlock}function H8(i,t){for(;i&&t==i.childNodes.length&&!Ns(i);)t=Mt(i)+1,i=i.parentNode;for(;i&&t<i.childNodes.length;){let e=i.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=0}}function j8(i,t){for(;i&&!t&&!Ns(i);)t=Mt(i),i=i.parentNode;for(;i&&t;){let e=i.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;i=e,t=i.childNodes.length}}function rh(i,t,e){if(t.nodeType!=3){let o,a;(a=H8(t,e))?(t=a,e=0):(o=j8(t,e))&&(t=o,e=o.nodeValue.length)}let n=i.domSelection();if(!n)return;if(Od(n)){let o=document.createRange();o.setEnd(t,e),o.setStart(t,e),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(t,e);i.domObserver.setCurSelection();let{state:r}=i;setTimeout(()=>{i.state==r&&hi(i)},50)}function J_(i,t){let e=i.state.doc.resolve(t);if(!(Ft||p8)&&e.parent.inlineContent){let r=i.coordsAtPos(t);if(t>e.start()){let o=i.coordsAtPos(t-1),a=(o.top+o.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<e.end()){let o=i.coordsAtPos(t+1),a=(o.top+o.bottom)/2;if(a>r.top&&a<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function X_(i,t,e){let n=i.state.selection;if(n instanceof Le&&!n.empty||e.indexOf("s")>-1||bn&&e.indexOf("m")>-1)return!1;let{$from:r,$to:o}=n;if(!r.parent.inlineContent||i.endOfTextblock(t<0?"up":"down")){let a=ih(i.state,t);if(a&&a instanceof re)return Ui(i,a)}if(!r.parent.inlineContent){let a=t<0?r:o,s=n instanceof ln?ye.near(a,t):ye.findFrom(a,t);return s?Ui(i,s):!1}return!1}function Q_(i,t){if(!(i.state.selection instanceof Le))return!0;let{$head:e,$anchor:n,empty:r}=i.state.selection;if(!e.sameParent(n))return!0;if(!r)return!1;if(i.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(o&&!o.isText){let a=i.state.tr;return t<0?a.delete(e.pos-o.nodeSize,e.pos):a.delete(e.pos,e.pos+o.nodeSize),i.dispatch(a),!0}return!1}function e2(i,t,e){i.domObserver.stop(),t.contentEditable=e,i.domObserver.start()}function Z8(i){if(!jt||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=i.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let n=t.firstChild;e2(i,n,"true"),setTimeout(()=>e2(i,n,"false"),20)}return!1}function z8(i){let t="";return i.ctrlKey&&(t+="c"),i.metaKey&&(t+="m"),i.altKey&&(t+="a"),i.shiftKey&&(t+="s"),t}function U8(i,t){let e=t.keyCode,n=z8(t);if(e==8||bn&&e==72&&n=="c")return Q_(i,-1)||qo(i,-1);if(e==46&&!t.shiftKey||bn&&e==68&&n=="c")return Q_(i,1)||qo(i,1);if(e==13||e==27)return!0;if(e==37||bn&&e==66&&n=="c"){let r=e==37?J_(i,i.state.selection.from)=="ltr"?-1:1:-1;return Y_(i,r,n)||qo(i,r)}else if(e==39||bn&&e==70&&n=="c"){let r=e==39?J_(i,i.state.selection.from)=="ltr"?1:-1:1;return Y_(i,r,n)||qo(i,r)}else{if(e==38||bn&&e==80&&n=="c")return X_(i,-1,n)||qo(i,-1);if(e==40||bn&&e==78&&n=="c")return Z8(i)||X_(i,1,n)||qo(i,1);if(n==(bn?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function fh(i,t){i.someProp("transformCopied",_=>{t=_(t,i)});let e=[],{content:n,openStart:r,openEnd:o}=t;for(;r>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){r--,o--;let _=n.firstChild;e.push(_.type.name,_.attrs!=_.type.defaultAttrs?_.attrs:null),n=_.content}let a=i.someProp("clipboardSerializer")||li.fromSchema(i.state.schema),s=O2(),l=s.createElement("div");l.appendChild(a.serializeFragment(n,{document:s}));let c=l.firstChild,d,h=0;for(;c&&c.nodeType==1&&(d=R2[c.nodeName.toLowerCase()]);){for(let _=d.length-1;_>=0;_--){let b=s.createElement(d[_]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${o}${h?` -${h}`:""} ${JSON.stringify(e)}`);let g=i.someProp("clipboardTextSerializer",_=>_(t,i))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:g,slice:t}}function k2(i,t,e,n,r){let o=r.parent.type.spec.code,a,s;if(!e&&!t)return null;let l=t&&(n||o||!e);if(l){if(i.someProp("transformPastedText",g=>{t=g(t,o||n,i)}),o)return t?new z(L.from(i.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):z.empty;let h=i.someProp("clipboardTextParser",g=>g(t,r,n,i));if(h)s=h;else{let g=r.marks(),{schema:_}=i.state,b=li.fromSchema(_);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(C=>{let D=a.appendChild(document.createElement("p"));C&&D.appendChild(b.serializeNode(_.text(C,g)))})}}else i.someProp("transformPastedHTML",h=>{e=h(e,i)}),a=q8(e),Fs&&K8(a);let c=a&&a.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(s||(s=(i.someProp("clipboardParser")||i.someProp("domParser")||ji.fromSchema(i.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||d),context:r,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!W8.test(g.parentNode.nodeName)?{ignore:!0}:null}})),d)s=Y8(t2(s,+d[1],+d[2]),d[4]);else if(s=z.maxOpen($8(s.content,r),!0),s.openStart||s.openEnd){let h=0,g=0;for(let _=s.content.firstChild;h<s.openStart&&!_.type.spec.isolating;h++,_=_.firstChild);for(let _=s.content.lastChild;g<s.openEnd&&!_.type.spec.isolating;g++,_=_.lastChild);s=t2(s,h,g)}return i.someProp("transformPasted",h=>{s=h(s,i)}),s}var W8=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function $8(i,t){if(i.childCount<2)return i;for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.index(e)),o,a=[];if(i.forEach(s=>{if(!a)return;let l=r.findWrapping(s.type),c;if(!l)return a=null;if(c=a.length&&o.length&&I2(l,o,s,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=P2(a[a.length-1],o.length));let d=T2(s,l);a.push(d),r=r.matchType(d.type),o=l}}),a)return L.from(a)}return i}function T2(i,t,e=0){for(let n=t.length-1;n>=e;n--)i=t[n].create(null,L.from(i));return i}function I2(i,t,e,n,r){if(r<i.length&&r<t.length&&i[r]==t[r]){let o=I2(i,t,e,n.lastChild,r+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(r==i.length-1?e.type:i[r+1]))return n.copy(n.content.append(L.from(T2(e,i,r+1))))}}function P2(i,t){if(t==0)return i;let e=i.content.replaceChild(i.childCount-1,P2(i.lastChild,t-1)),n=i.contentMatchAt(i.childCount).fillBefore(L.empty,!0);return i.copy(e.append(n))}function oh(i,t,e,n,r,o){let a=t<0?i.firstChild:i.lastChild,s=a.content;return i.childCount>1&&(o=0),r<n-1&&(s=oh(s,t,e,n,r+1,o)),r>=e&&(s=t<0?a.contentMatchAt(0).fillBefore(s,o<=r).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(L.empty,!0))),i.replaceChild(t<0?0:i.childCount-1,a.copy(s))}function t2(i,t,e){return t<i.openStart&&(i=new z(oh(i.content,-1,t,i.openStart,0,i.openEnd),t,i.openEnd)),e<i.openEnd&&(i=new z(oh(i.content,1,e,i.openEnd,0,0),i.openStart,e)),i}var R2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},n2=null;function O2(){return n2||(n2=document.implementation.createHTMLDocument("title"))}var Wp=null;function G8(i){let t=window.trustedTypes;return t?(Wp||(Wp=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),Wp.createHTML(i)):i}function q8(i){let t=/^(\s*<meta [^>]*>)*/.exec(i);t&&(i=i.slice(t[0].length));let e=O2().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(i),r;if((r=n&&R2[n[1].toLowerCase()])&&(i=r.map(o=>"<"+o+">").join("")+i+r.map(o=>"</"+o+">").reverse().join("")),e.innerHTML=G8(i),r)for(let o=0;o<r.length;o++)e=e.querySelector(r[o])||e;return e}function K8(i){let t=i.querySelectorAll(Ft?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let n=t[e];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),n)}}function Y8(i,t){if(!i.size)return i;let e=i.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return i}let{content:r,openStart:o,openEnd:a}=i;for(let s=n.length-2;s>=0;s-=2){let l=e.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;r=L.from(l.create(n[s+1],r)),o++,a++}return new z(r,o,a)}var Zt={},zt={},J8={touchstart:!0,touchmove:!0},ah=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function X8(i){for(let t in Zt){let e=Zt[t];i.dom.addEventListener(t,i.input.eventHandlers[t]=n=>{eS(i,n)&&!gh(i,n)&&(i.editable||!(n.type in zt))&&e(i,n)},J8[t]?{passive:!0}:void 0)}jt&&i.dom.addEventListener("input",()=>null),sh(i)}function Wi(i,t){i.input.lastSelectionOrigin=t,i.input.lastSelectionTime=Date.now()}function Q8(i){i.domObserver.stop();for(let t in i.input.eventHandlers)i.dom.removeEventListener(t,i.input.eventHandlers[t]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function sh(i){i.someProp("handleDOMEvents",t=>{for(let e in t)i.input.eventHandlers[e]||i.dom.addEventListener(e,i.input.eventHandlers[e]=n=>gh(i,n))})}function gh(i,t){return i.someProp("handleDOMEvents",e=>{let n=e[t.type];return n?n(i,t)||t.defaultPrevented:!1})}function eS(i,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=i.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function tS(i,t){!gh(i,t)&&Zt[t.type]&&(i.editable||!(t.type in zt))&&Zt[t.type](i,t)}zt.keydown=(i,t)=>{let e=t;if(i.input.shiftKey=e.keyCode==16||e.shiftKey,!F2(i,e)&&(i.input.lastKeyCode=e.keyCode,i.input.lastKeyCodeTime=Date.now(),!(pi&&Ft&&e.keyCode==13)))if(e.keyCode!=229&&i.domObserver.forceFlush(),Xo&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let n=Date.now();i.input.lastIOSEnter=n,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==n&&(i.someProp("handleKeyDown",r=>r(i,Br(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",n=>n(i,e))||U8(i,e)?e.preventDefault():Wi(i,"key")};zt.keyup=(i,t)=>{t.keyCode==16&&(i.input.shiftKey=!1)};zt.keypress=(i,t)=>{let e=t;if(F2(i,e)||!e.charCode||e.ctrlKey&&!e.altKey||bn&&e.metaKey)return;if(i.someProp("handleKeyPress",r=>r(i,e))){e.preventDefault();return}let n=i.state.selection;if(!(n instanceof Le)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(e.charCode),o=()=>i.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!i.someProp("handleTextInput",a=>a(i,n.$from.pos,n.$to.pos,r,o))&&i.dispatch(o()),e.preventDefault()}};function Nd(i){return{left:i.clientX,top:i.clientY}}function nS(i,t){let e=t.x-i.clientX,n=t.y-i.clientY;return e*e+n*n<100}function _h(i,t,e,n,r){if(n==-1)return!1;let o=i.state.doc.resolve(n);for(let a=o.depth+1;a>0;a--)if(i.someProp(t,s=>a>o.depth?s(i,e,o.nodeAfter,o.before(a),r,!0):s(i,e,o.node(a),o.before(a),r,!1)))return!0;return!1}function Yo(i,t,e){if(i.focused||i.focus(),i.state.selection.eq(t))return;let n=i.state.tr.setSelection(t);e=="pointer"&&n.setMeta("pointer",!0),i.dispatch(n)}function iS(i,t){if(t==-1)return!1;let e=i.state.doc.resolve(t),n=e.nodeAfter;return n&&n.isAtom&&re.isSelectable(n)?(Yo(i,new re(e),"pointer"),!0):!1}function rS(i,t){if(t==-1)return!1;let e=i.state.selection,n,r;e instanceof re&&(n=e.node);let o=i.state.doc.resolve(t);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(re.isSelectable(s)){n&&e.$from.depth>0&&a>=e.$from.depth&&o.before(e.$from.depth+1)==e.$from.pos?r=o.before(e.$from.depth):r=o.before(a);break}}return r!=null?(Yo(i,re.create(i.state.doc,r),"pointer"),!0):!1}function oS(i,t,e,n,r){return _h(i,"handleClickOn",t,e,n)||i.someProp("handleClick",o=>o(i,t,n))||(r?rS(i,e):iS(i,e))}function aS(i,t,e,n){return _h(i,"handleDoubleClickOn",t,e,n)||i.someProp("handleDoubleClick",r=>r(i,t,n))}function sS(i,t,e,n){return _h(i,"handleTripleClickOn",t,e,n)||i.someProp("handleTripleClick",r=>r(i,t,n))||lS(i,e,n)}function lS(i,t,e){if(e.button!=0)return!1;let n=i.state.doc;if(t==-1)return n.inlineContent?(Yo(i,Le.create(n,0,n.content.size),"pointer"),!0):!1;let r=n.resolve(t);for(let o=r.depth+1;o>0;o--){let a=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(a.inlineContent)Yo(i,Le.create(n,s+1,s+1+a.content.size),"pointer");else if(re.isSelectable(a))Yo(i,re.create(n,s),"pointer");else continue;return!0}}function vh(i){return kd(i)}var N2=bn?"metaKey":"ctrlKey";Zt.mousedown=(i,t)=>{let e=t;i.input.shiftKey=e.shiftKey;let n=vh(i),r=Date.now(),o="singleClick";r-i.input.lastClick.time<500&&nS(e,i.input.lastClick)&&!e[N2]&&i.input.lastClick.button==e.button&&(i.input.lastClick.type=="singleClick"?o="doubleClick":i.input.lastClick.type=="doubleClick"&&(o="tripleClick")),i.input.lastClick={time:r,x:e.clientX,y:e.clientY,type:o,button:e.button};let a=i.posAtCoords(Nd(e));a&&(o=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new lh(i,a,e,!!n)):(o=="doubleClick"?aS:sS)(i,a.pos,a.inside,e)?e.preventDefault():Wi(i,"pointer"))};var lh=class{constructor(t,e,n,r){this.view=t,this.pos=e,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[N2],this.allowDefault=n.shiftKey;let o,a;if(e.inside>-1)o=t.state.doc.nodeAt(e.inside),a=e.inside;else{let d=t.state.doc.resolve(e.pos);o=d.parent,a=d.depth?d.before():0}let s=r?null:n.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof re&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Rn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Wi(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>hi(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Nd(t))),this.updateAllowDefault(t),this.allowDefault||!e?Wi(this.view,"pointer"):oS(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||jt&&this.mightDrag&&!this.mightDrag.node.isAtom||Ft&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Yo(this.view,ye.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Wi(this.view,"pointer")}move(t){this.updateAllowDefault(t),Wi(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}};Zt.touchstart=i=>{i.input.lastTouch=Date.now(),vh(i),Wi(i,"pointer")};Zt.touchmove=i=>{i.input.lastTouch=Date.now(),Wi(i,"pointer")};Zt.contextmenu=i=>vh(i);function F2(i,t){return i.composing?!0:jt&&Math.abs(t.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}var cS=pi?5e3:-1;zt.compositionstart=zt.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:t}=i,e=t.selection.$to;if(t.selection instanceof Le&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||e.marks(),kd(i,!0),i.markCursor=null;else if(kd(i,!t.selection.empty),Rn&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let n=i.domSelectionRange();for(let r=n.focusNode,o=n.focusOffset;r&&r.nodeType==1&&o!=0;){let a=o<0?r.lastChild:r.childNodes[o-1];if(!a)break;if(a.nodeType==3){let s=i.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else r=a,o=-1}}i.input.composing=!0}L2(i,cS)};zt.compositionend=(i,t)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=t.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,L2(i,20))};function L2(i,t){clearTimeout(i.input.composingTimeout),t>-1&&(i.input.composingTimeout=setTimeout(()=>kd(i),t))}function V2(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=uS());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function dS(i){let t=i.domSelectionRange();if(!t.focusNode)return null;let e=s8(t.focusNode,t.focusOffset),n=l8(t.focusNode,t.focusOffset);if(e&&n&&e!=n){let r=n.pmViewDesc,o=i.domObserver.lastChangedTextNode;if(e==o||n==o)return o;if(!r||!r.isText(n.nodeValue))return n;if(i.input.compositionNode==n){let a=e.pmViewDesc;if(!(!a||!a.isText(e.nodeValue)))return n}}return e||n}function uS(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function kd(i,t=!1){if(!(pi&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),V2(i),t||i.docView&&i.docView.dirty){let e=hh(i),n=i.state.selection;return e&&!e.eq(n)?i.dispatch(i.state.tr.setSelection(e)):(i.markCursor||t)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function pS(i,t){if(!i.dom.parentNode)return;let e=i.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),r=document.createRange();r.selectNodeContents(t),i.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),i.focus()},50)}var Is=Qt&&$i<15||Xo&&h8<604;Zt.copy=zt.cut=(i,t)=>{let e=t,n=i.state.selection,r=e.type=="cut";if(n.empty)return;let o=Is?null:e.clipboardData,a=n.content(),{dom:s,text:l}=fh(i,a);o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):pS(i,s),r&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function hS(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function mS(i,t){if(!i.dom.parentNode)return;let e=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,n=i.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let r=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),n.parentNode&&n.parentNode.removeChild(n),e?Ps(i,n.value,null,r,t):Ps(i,n.textContent,n.innerHTML,r,t)},50)}function Ps(i,t,e,n,r){let o=k2(i,t,e,n,i.state.selection.$from);if(i.someProp("handlePaste",l=>l(i,r,o||z.empty)))return!0;if(!o)return!1;let a=hS(o),s=a?i.state.tr.replaceSelectionWith(a,n):i.state.tr.replaceSelection(o);return i.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function B2(i){let t=i.getData("text/plain")||i.getData("Text");if(t)return t;let e=i.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}zt.paste=(i,t)=>{let e=t;if(i.composing&&!pi)return;let n=Is?null:e.clipboardData,r=i.input.shiftKey&&i.input.lastKeyCode!=45;n&&Ps(i,B2(n),n.getData("text/html"),r,e)?e.preventDefault():mS(i,e)};var Td=class{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}},fS=bn?"altKey":"ctrlKey";function H2(i,t){let e=i.someProp("dragCopies",n=>!n(t));return e??!t[fS]}Zt.dragstart=(i,t)=>{let e=t,n=i.input.mouseDown;if(n&&n.done(),!e.dataTransfer)return;let r=i.state.selection,o=r.empty?null:i.posAtCoords(Nd(e)),a;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof re?r.to-1:r.to))){if(n&&n.mightDrag)a=re.create(i.state.doc,n.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let h=i.docView.nearestDesc(e.target,!0);h&&h.node.type.spec.draggable&&h!=i.docView&&(a=re.create(i.state.doc,h.posBefore))}}let s=(a||i.state.selection).content(),{dom:l,text:c,slice:d}=fh(i,s);(!e.dataTransfer.files.length||!Ft||f2>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(Is?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",Is||e.dataTransfer.setData("text/plain",c),i.dragging=new Td(d,H2(i,e),a)};Zt.dragend=i=>{let t=i.dragging;window.setTimeout(()=>{i.dragging==t&&(i.dragging=null)},50)};zt.dragover=zt.dragenter=(i,t)=>t.preventDefault();zt.drop=(i,t)=>{let e=t,n=i.dragging;if(i.dragging=null,!e.dataTransfer)return;let r=i.posAtCoords(Nd(e));if(!r)return;let o=i.state.doc.resolve(r.pos),a=n&&n.slice;a?i.someProp("transformPasted",b=>{a=b(a,i)}):a=k2(i,B2(e.dataTransfer),Is?null:e.dataTransfer.getData("text/html"),!1,o);let s=!!(n&&H2(i,e));if(i.someProp("handleDrop",b=>b(i,e,a||z.empty,s))){e.preventDefault();return}if(!a)return;e.preventDefault();let l=a?x_(i.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let c=i.state.tr;if(s){let{node:b}=n;b?b.replace(c):c.deleteSelection()}let d=c.mapping.map(l),h=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=c.doc;if(h?c.replaceRangeWith(d,d,a.content.firstChild):c.replaceRange(d,d,a),c.doc.eq(g))return;let _=c.doc.resolve(d);if(h&&re.isSelectable(a.content.firstChild)&&_.nodeAfter&&_.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new re(_));else{let b=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((C,D,F,pe)=>b=pe),c.setSelection(mh(i,_,c.doc.resolve(b)))}i.focus(),i.dispatch(c.setMeta("uiEvent","drop"))};Zt.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&hi(i)},20))};Zt.blur=(i,t)=>{let e=t;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),e.relatedTarget&&i.dom.contains(e.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)};Zt.beforeinput=(i,t)=>{if(Ft&&pi&&t.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:n}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=n||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",o=>o(i,Br(8,"Backspace")))))return;let{$cursor:r}=i.state.selection;r&&r.pos>0&&i.dispatch(i.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let i in zt)Zt[i]=zt[i];function Rs(i,t){if(i==t)return!0;for(let e in i)if(i[e]!==t[e])return!1;for(let e in t)if(!(e in i))return!1;return!0}var Id=class i{constructor(t,e){this.toDOM=t,this.spec=e||zr,this.side=this.spec.side||0}map(t,e,n,r){let{pos:o,deleted:a}=t.mapResult(e.from+r,this.side<0?-1:1);return a?null:new qn(o-n,o-n,this)}valid(){return!0}eq(t){return this==t||t instanceof i&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Rs(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}},Zr=class i{constructor(t,e){this.attrs=t,this.spec=e||zr}map(t,e,n,r){let o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,a=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new qn(o,a,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof i&&Rs(this.attrs,t.attrs)&&Rs(this.spec,t.spec)}static is(t){return t.type instanceof i}destroy(){}},ch=class i{constructor(t,e){this.attrs=t,this.spec=e||zr}map(t,e,n,r){let o=t.mapResult(e.from+r,1);if(o.deleted)return null;let a=t.mapResult(e.to+r,-1);return a.deleted||a.pos<=o.pos?null:new qn(o.pos-n,a.pos-n,this)}valid(t,e){let{index:n,offset:r}=t.content.findIndex(e.from),o;return r==e.from&&!(o=t.child(n)).isText&&r+o.nodeSize==e.to}eq(t){return this==t||t instanceof i&&Rs(this.attrs,t.attrs)&&Rs(this.spec,t.spec)}destroy(){}},qn=class i{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new i(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new i(t,t,new Id(e,n))}static inline(t,e,n,r){return new i(t,e,new Zr(n,r))}static node(t,e,n,r){return new i(t,e,new ch(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Zr}get widget(){return this.type instanceof Id}},Ko=[],zr={},Ht=class i{constructor(t,e){this.local=t.length?t:Ko,this.children=e.length?e:Ko}static create(t,e){return e.length?Rd(e,t,0,zr):Nt}find(t,e,n){let r=[];return this.findInner(t??0,e??1e9,r,0,n),r}findInner(t,e,n,r,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,e-s,n,r+s,o)}}map(t,e,n){return this==Nt||t.maps.length==0?this:this.mapInner(t,e,0,0,n||zr)}mapInner(t,e,n,r,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,n,r);l&&l.type.valid(e,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?gS(this.children,a||[],t,e,n,r,o):a?new i(a.sort(Ur),Ko):Nt}add(t,e){return e.length?this==Nt?i.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,o=0;t.forEach((s,l)=>{let c=l+n,d;if(d=Z2(e,s,c)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(s,d,c+1):r.splice(o,0,l,l+s.nodeSize,Rd(d,s,c+1,zr)),o+=3}});let a=j2(o?z2(e):e,-n);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new i(a.length?this.local.concat(a).sort(Ur):this.local,r||this.children)}remove(t){return t.length==0||this==Nt?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let a,s=n[o]+e,l=n[o+1]+e;for(let d=0,h;d<t.length;d++)(h=t[d])&&h.from>s&&h.to<l&&(t[d]=null,(a||(a=[])).push(h));if(!a)continue;n==this.children&&(n=this.children.slice());let c=n[o+2].removeInner(a,s+1);c!=Nt?n[o+2]=c:(n.splice(o,3),o-=3)}if(r.length){for(let o=0,a;o<t.length;o++)if(a=t[o])for(let s=0;s<r.length;s++)r[s].eq(a,e)&&(r==this.local&&(r=this.local.slice()),r.splice(s--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new i(r,n):Nt}forChild(t,e){if(this==Nt)return this;if(e.isLeaf)return i.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(n=this.children[s+2]);break}let o=t+1,a=o+e.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Zr){let c=Math.max(o,l.from)-o,d=Math.min(a,l.to)-o;c<d&&(r||(r=[])).push(l.copy(c,d))}}if(r){let s=new i(r.sort(Ur),Ko);return n?new Pd([s,n]):s}return n||Nt}eq(t){if(this==t)return!0;if(!(t instanceof i)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return bh(this.localsInner(t))}localsInner(t){if(this==Nt)return Ko;if(t.inlineContent||!this.local.some(Zr.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Zr||e.push(this.local[n]);return e}forEachSet(t){t(this)}};Ht.empty=new Ht([],[]);Ht.removeOverlap=bh;var Nt=Ht.empty,Pd=class i{constructor(t){this.members=t}map(t,e){let n=this.members.map(r=>r.map(t,e,zr));return i.from(n)}forChild(t,e){if(e.isLeaf)return Ht.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(t,e);o!=Nt&&(o instanceof i?n=n.concat(o.members):n.push(o))}return i.from(n)}eq(t){if(!(t instanceof i)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(t);if(o.length)if(!e)e=o;else{n&&(e=e.slice(),n=!1);for(let a=0;a<o.length;a++)e.push(o[a])}}return e?bh(n?e:e.sort(Ur)):Ko}static from(t){switch(t.length){case 0:return Nt;case 1:return t[0];default:return new i(t.every(e=>e instanceof Ht)?t:t.reduce((e,n)=>e.concat(n instanceof Ht?n:n.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}};function gS(i,t,e,n,r,o,a){let s=i.slice();for(let c=0,d=o;c<e.maps.length;c++){let h=0;e.maps[c].forEach((g,_,b,C)=>{let D=C-b-(_-g);for(let F=0;F<s.length;F+=3){let pe=s[F+1];if(pe<0||g>pe+d-h)continue;let ae=s[F]+d-h;_>=ae?s[F+1]=g<=ae?-2:-1:g>=d&&D&&(s[F]+=D,s[F+1]+=D)}h+=D}),d=e.maps[c].map(d,-1)}let l=!1;for(let c=0;c<s.length;c+=3)if(s[c+1]<0){if(s[c+1]==-2){l=!0,s[c+1]=-1;continue}let d=e.map(i[c]+o),h=d-r;if(h<0||h>=n.content.size){l=!0;continue}let g=e.map(i[c+1]+o,-1),_=g-r,{index:b,offset:C}=n.content.findIndex(h),D=n.maybeChild(b);if(D&&C==h&&C+D.nodeSize==_){let F=s[c+2].mapInner(e,D,d+1,i[c]+o+1,a);F!=Nt?(s[c]=h,s[c+1]=_,s[c+2]=F):(s[c+1]=-2,l=!0)}else l=!0}if(l){let c=_S(s,i,t,e,r,o,a),d=Rd(c,n,0,a);t=d.local;for(let h=0;h<s.length;h+=3)s[h+1]<0&&(s.splice(h,3),h-=3);for(let h=0,g=0;h<d.children.length;h+=3){let _=d.children[h];for(;g<s.length&&s[g]<_;)g+=3;s.splice(g,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Ht(t.sort(Ur),s)}function j2(i,t){if(!t||!i.length)return i;let e=[];for(let n=0;n<i.length;n++){let r=i[n];e.push(new qn(r.from+t,r.to+t,r.type))}return e}function _S(i,t,e,n,r,o,a){function s(l,c){for(let d=0;d<l.local.length;d++){let h=l.local[d].map(n,r,c);h?e.push(h):a.onRemove&&a.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)s(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<i.length;l+=3)i[l+1]==-1&&s(i[l+2],t[l]+o+1);return e}function Z2(i,t,e){if(t.isLeaf)return null;let n=e+t.nodeSize,r=null;for(let o=0,a;o<i.length;o++)(a=i[o])&&a.from>e&&a.to<n&&((r||(r=[])).push(a),i[o]=null);return r}function z2(i){let t=[];for(let e=0;e<i.length;e++)i[e]!=null&&t.push(i[e]);return t}function Rd(i,t,e,n){let r=[],o=!1;t.forEach((s,l)=>{let c=Z2(i,s,l+e);if(c){o=!0;let d=Rd(c,s,e+l+1,n);d!=Nt&&r.push(l,l+s.nodeSize,d)}});let a=j2(o?z2(i):i,-e).sort(Ur);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new Ht(a,r):Nt}function Ur(i,t){return i.from-t.from||i.to-t.to}function bh(i){let t=i;for(let e=0;e<t.length-1;e++){let n=t[e];if(n.from!=n.to)for(let r=e+1;r<t.length;r++){let o=t[r];if(o.from==n.from){o.to!=n.to&&(t==i&&(t=i.slice()),t[r]=o.copy(o.from,n.to),i2(t,r+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==i&&(t=i.slice()),t[e]=n.copy(n.from,o.from),i2(t,r,n.copy(o.from,n.to)));break}}}return t}function i2(i,t,e){for(;t<i.length&&Ur(e,i[t])>0;)t++;i.splice(t,0,e)}function $p(i){let t=[];return i.someProp("decorations",e=>{let n=e(i.state);n&&n!=Nt&&t.push(n)}),i.cursorWrapper&&t.push(Ht.create(i.state.doc,[i.cursorWrapper.deco])),Pd.from(t)}var vS={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},bS=Qt&&$i<=11,dh=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}},uh=class{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new dh,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let r=0;r<n.length;r++)this.queue.push(n[r]);Qt&&$i<=11&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),bS&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,vS)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(K_(this.view)){if(this.suppressingSelectionUpdates)return hi(this.view);if(Qt&&$i<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Wr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,n;for(let o=t.focusNode;o;o=Jo(o))e.add(o);for(let o=t.anchorNode;o;o=Jo(o))if(e.has(o)){n=o;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&K_(t)&&!this.ignoreSelectionChange(n),o=-1,a=-1,s=!1,l=[];if(t.editable)for(let d=0;d<e.length;d++){let h=this.registerMutation(e[d],l);h&&(o=o<0?h.from:Math.min(h.from,o),a=a<0?h.to:Math.max(h.to,a),h.typeOver&&(s=!0))}if(Rn&&l.length){let d=l.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,g]=d;h.parentNode&&h.parentNode.parentNode==g.parentNode?g.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let g of d){let _=g.parentNode;_&&_.nodeName=="LI"&&(!h||xS(t,h)!=_)&&g.remove()}}}let c=null;o<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Od(n)&&(c=hh(t))&&c.eq(ye.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,hi(t),this.currentSelection.set(n),t.scrollToSelection()):(o>-1||r)&&(o>-1&&(t.docView.markDirty(o,a),yS(t)),this.handleDOMChange(o,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(n)||hi(t),this.currentSelection.set(n))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let h=t.addedNodes[d];e.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,o=t.nextSibling;if(Qt&&$i<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:h,nextSibling:g}=t.addedNodes[d];(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(r=h),(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(o=g)}let a=r&&r.parentNode==t.target?Mt(r)+1:0,s=n.localPosFromDOM(t.target,a,-1),l=o&&o.parentNode==t.target?Mt(o):t.target.childNodes.length,c=n.localPosFromDOM(t.target,l,1);return{from:s,to:c}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=t.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}},r2=new WeakMap,o2=!1;function yS(i){if(!r2.has(i)&&(r2.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=Rn,o2)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),o2=!0}}function a2(i,t){let e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset,a=i.domAtPos(i.state.selection.anchor);return Wr(a.node,a.offset,r,o)&&([e,n,r,o]=[r,o,e,n]),{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:o}}function wS(i,t){if(t.getComposedRanges){let r=t.getComposedRanges(i.root)[0];if(r)return a2(i,r)}let e;function n(r){r.preventDefault(),r.stopImmediatePropagation(),e=r.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",n,!0),e?a2(i,e):null}function xS(i,t){for(let e=t.parentNode;e&&e!=i.dom;e=e.parentNode){let n=i.docView.nearestDesc(e,!0);if(n&&n.node.isBlock)return e}return null}function CS(i,t,e){let{node:n,fromOffset:r,toOffset:o,from:a,to:s}=i.docView.parseRange(t,e),l=i.domSelectionRange(),c,d=l.anchorNode;if(d&&i.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],Od(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Ft&&i.input.lastKeyCode===8)for(let D=o;D>r;D--){let F=n.childNodes[D-1],pe=F.pmViewDesc;if(F.nodeName=="BR"&&!pe){o=D;break}if(!pe||pe.size)break}let h=i.state.doc,g=i.someProp("domParser")||ji.fromSchema(i.state.schema),_=h.resolve(a),b=null,C=g.parse(n,{topNode:_.parent,topMatch:_.parent.contentMatchAt(_.index()),topOpen:!0,from:r,to:o,preserveWhitespace:_.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:SS,context:_});if(c&&c[0].pos!=null){let D=c[0].pos,F=c[1]&&c[1].pos;F==null&&(F=D),b={anchor:D+a,head:F+a}}return{doc:C,sel:b,from:a,to:s}}function SS(i){let t=i.pmViewDesc;if(t)return t.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(jt&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(i.parentNode.lastChild==i||jt&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}var ES=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function DS(i,t,e,n,r){let o=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,t<0){let Ae=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,_t=hh(i,Ae);if(_t&&!i.state.selection.eq(_t)){if(Ft&&pi&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",iv=>iv(i,Br(13,"Enter"))))return;let Ut=i.state.tr.setSelection(_t);Ae=="pointer"?Ut.setMeta("pointer",!0):Ae=="key"&&Ut.scrollIntoView(),o&&Ut.setMeta("composition",o),i.dispatch(Ut)}return}let a=i.state.doc.resolve(t),s=a.sharedDepth(e);t=a.before(s+1),e=i.state.doc.resolve(e).after(s+1);let l=i.state.selection,c=CS(i,t,e),d=i.state.doc,h=d.slice(c.from,c.to),g,_;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(g=i.state.selection.to,_="end"):(g=i.state.selection.from,_="start"),i.input.lastKeyCode=null;let b=kS(h.content,c.doc.content,c.from,g,_);if(b&&i.input.domChangeCount++,(Xo&&i.input.lastIOSEnter>Date.now()-225||pi)&&r.some(Ae=>Ae.nodeType==1&&!ES.test(Ae.nodeName))&&(!b||b.endA>=b.endB)&&i.someProp("handleKeyDown",Ae=>Ae(i,Br(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!b)if(n&&l instanceof Le&&!l.empty&&l.$head.sameParent(l.$anchor)&&!i.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))b={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let Ae=s2(i,i.state.doc,c.sel);if(Ae&&!Ae.eq(i.state.selection)){let _t=i.state.tr.setSelection(Ae);o&&_t.setMeta("composition",o),i.dispatch(_t)}}return}i.state.selection.from<i.state.selection.to&&b.start==b.endB&&i.state.selection instanceof Le&&(b.start>i.state.selection.from&&b.start<=i.state.selection.from+2&&i.state.selection.from>=c.from?b.start=i.state.selection.from:b.endA<i.state.selection.to&&b.endA>=i.state.selection.to-2&&i.state.selection.to<=c.to&&(b.endB+=i.state.selection.to-b.endA,b.endA=i.state.selection.to)),Qt&&$i<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>c.from&&c.doc.textBetween(b.start-c.from-1,b.start-c.from+1)==" \xA0"&&(b.start--,b.endA--,b.endB--);let C=c.doc.resolveNoCache(b.start-c.from),D=c.doc.resolveNoCache(b.endB-c.from),F=d.resolve(b.start),pe=C.sameParent(D)&&C.parent.inlineContent&&F.end()>=b.endA,ae;if((Xo&&i.input.lastIOSEnter>Date.now()-225&&(!pe||r.some(Ae=>Ae.nodeName=="DIV"||Ae.nodeName=="P"))||!pe&&C.pos<c.doc.content.size&&(!C.sameParent(D)||!C.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(C.pos,D.pos,"",""))&&(ae=ye.findFrom(c.doc.resolve(C.pos+1),1,!0))&&ae.head>C.pos)&&i.someProp("handleKeyDown",Ae=>Ae(i,Br(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>b.start&&AS(d,b.start,b.endA,C,D)&&i.someProp("handleKeyDown",Ae=>Ae(i,Br(8,"Backspace")))){pi&&Ft&&i.domObserver.suppressSelectionUpdates();return}Ft&&b.endB==b.start&&(i.input.lastChromeDelete=Date.now()),pi&&!pe&&C.start()!=D.start()&&D.parentOffset==0&&C.depth==D.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==b.endA&&(b.endB-=2,D=c.doc.resolveNoCache(b.endB-c.from),setTimeout(()=>{i.someProp("handleKeyDown",function(Ae){return Ae(i,Br(13,"Enter"))})},20));let Ye=b.start,xt=b.endA,Xr=Ae=>{let _t=Ae||i.state.tr.replace(Ye,xt,c.doc.slice(b.start-c.from,b.endB-c.from));if(c.sel){let Ut=s2(i,_t.doc,c.sel);Ut&&!(Ft&&i.composing&&Ut.empty&&(b.start!=b.endB||i.input.lastChromeDelete<Date.now()-100)&&(Ut.head==Ye||Ut.head==_t.mapping.map(xt)-1)||Qt&&Ut.empty&&Ut.head==Ye)&&_t.setSelection(Ut)}return o&&_t.setMeta("composition",o),_t.scrollIntoView()},Zs;if(pe){if(C.pos==D.pos){Qt&&$i<=11&&C.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>hi(i),20));let Ae=Xr(i.state.tr.delete(Ye,xt)),_t=d.resolve(b.start).marksAcross(d.resolve(b.endA));_t&&Ae.ensureMarks(_t),i.dispatch(Ae)}else if(b.endA==b.endB&&(Zs=MS(C.parent.content.cut(C.parentOffset,D.parentOffset),F.parent.content.cut(F.parentOffset,b.endA-F.start())))){let Ae=Xr(i.state.tr);Zs.type=="add"?Ae.addMark(Ye,xt,Zs.mark):Ae.removeMark(Ye,xt,Zs.mark),i.dispatch(Ae)}else if(C.parent.child(C.index()).isText&&C.index()==D.index()-(D.textOffset?0:1)){let Ae=C.parent.textBetween(C.parentOffset,D.parentOffset),_t=()=>Xr(i.state.tr.insertText(Ae,Ye,xt));i.someProp("handleTextInput",Ut=>Ut(i,Ye,xt,Ae,_t))||i.dispatch(_t())}}else i.dispatch(Xr())}function s2(i,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:mh(i,t.resolve(e.anchor),t.resolve(e.head))}function MS(i,t){let e=i.firstChild.marks,n=t.firstChild.marks,r=e,o=n,a,s,l;for(let d=0;d<n.length;d++)r=n[d].removeFromSet(r);for(let d=0;d<e.length;d++)o=e[d].removeFromSet(o);if(r.length==1&&o.length==0)s=r[0],a="add",l=d=>d.mark(s.addToSet(d.marks));else if(r.length==0&&o.length==1)s=o[0],a="remove",l=d=>d.mark(s.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<t.childCount;d++)c.push(l(t.child(d)));if(L.from(c).eq(i))return{mark:s,type:a}}function AS(i,t,e,n,r){if(e-t<=r.pos-n.pos||Gp(n,!0,!1)<r.pos)return!1;let o=i.resolve(t);if(!n.parent.isTextblock){let s=o.nodeAfter;return s!=null&&e==t+s.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=i.resolve(Gp(o,!0,!0));return!a.parent.isTextblock||a.pos>e||Gp(a,!0,!1)<e?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function Gp(i,t,e){let n=i.depth,r=t?i.end():i.pos;for(;n>0&&(t||i.indexAfter(n)==i.node(n).childCount);)n--,r++,t=!1;if(e){let o=i.node(n).maybeChild(i.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function kS(i,t,e,n,r){let o=i.findDiffStart(t,e);if(o==null)return null;let{a,b:s}=i.findDiffEnd(t,e+i.size,e+t.size);if(r=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&i.size<t.size){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<t.size&&l2(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<i.size&&l2(i.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}function l2(i){if(i.length!=2)return!1;let t=i.charCodeAt(0),e=i.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}var Os=class{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ah,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(h2),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=u2(this),d2(this),this.nodeViews=p2(this),this.docView=z_(this.state.doc,c2(this),$p(this),this.dom,this),this.domObserver=new uh(this,(n,r,o,a)=>DS(this,n,r,o,a)),this.domObserver.start(),X8(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&sh(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(h2),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n;let r=this.state,o=!1,a=!1;t.storedMarks&&this.composing&&(V2(this),a=!0),this.state=t;let s=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(s||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let _=p2(this);IS(_,this.nodeViews)&&(this.nodeViews=_,o=!0)}(s||e.handleDOMEvents!=this._props.handleDOMEvents)&&sh(this),this.editable=u2(this),d2(this);let l=$p(this),c=c2(this),d=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",h=o||!this.docView.matchesNode(t.doc,c,l);(h||!t.selection.eq(r.selection))&&(a=!0);let g=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&g8(this);if(a){this.domObserver.stop();let _=h&&(Qt||Ft)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&TS(r.selection,t.selection);if(h){let b=Ft?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=dS(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=z_(t.doc,c,l,this.dom,this)),b&&!this.trackWrites&&(_=!0)}_||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&L8(this))?hi(this,_):(D2(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((n=this.dragging)===null||n===void 0)&&n.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():g&&_8(g)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof re){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&L_(this,e.getBoundingClientRect(),t)}else L_(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let n=this.directPlugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let n=this.state.plugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}}updateDraggedNode(t,e){let n=t.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let o=n.from+(this.state.doc.content.size-e.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(r=o)}this.dragging=new Td(t.slice,t.move,r<0?void 0:re.create(this.state.doc,r))}someProp(t,e){let n=this._props&&this._props[t],r;if(n!=null&&(r=e?e(n):n))return r;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(r=e?e(s):s))return r}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[t];if(s!=null&&(r=e?e(s):s))return r}}hasFocus(){if(Qt){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&v8(this.dom),hi(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return C8(this,t)}coordsAtPos(t,e=1){return y2(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return A8(this,e||this.state,t)}pasteHTML(t,e){return Ps(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return Ps(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return fh(this,t)}destroy(){this.docView&&(Q8(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$p(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,o8())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return tS(this,t)}domSelectionRange(){let t=this.domSelection();return t?jt&&this.root.nodeType===11&&d8(this.dom.ownerDocument)==this.dom&&wS(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};Os.prototype.dispatch=function(i){let t=this._props.dispatchTransaction;t?t.call(this,i):this.updateState(this.state.apply(i))};function c2(i){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(i.editable),i.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(i.state)),e)for(let n in e)n=="class"?t.class+=" "+e[n]:n=="style"?t.style=(t.style?t.style+";":"")+e[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(e[n]))}),t.translate||(t.translate="no"),[qn.node(0,i.state.doc.content.size,t)]}function d2(i){if(i.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),i.cursorWrapper={dom:t,deco:qn.widget(i.state.selection.from,t,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function u2(i){return!i.someProp("editable",t=>t(i.state)===!1)}function TS(i,t){let e=Math.min(i.$anchor.sharedDepth(i.head),t.$anchor.sharedDepth(t.head));return i.$anchor.start(e)!=t.$anchor.start(e)}function p2(i){let t=Object.create(null);function e(n){for(let r in n)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=n[r])}return i.someProp("nodeViews",e),i.someProp("markViews",e),t}function IS(i,t){let e=0,n=0;for(let r in i){if(i[r]!=t[r])return!0;e++}for(let r in t)n++;return e!=n}function h2(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var PS=["ol",0],RS=["ul",0],OS=["li",0],U2={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(i){return{order:i.hasAttribute("start")?+i.getAttribute("start"):1}}}],toDOM(i){return i.attrs.order==1?PS:["ol",{start:i.attrs.order},0]}},W2={parseDOM:[{tag:"ul"}],toDOM(){return RS}},$2={parseDOM:[{tag:"li"}],toDOM(){return OS},defining:!0};function G2(i,t=null){return function(e,n){let{$from:r,$to:o}=e.selection,a=r.blockRange(o);if(!a)return!1;let s=n?e.tr:null;return NS(s,a,i,t)?(n&&n(s.scrollIntoView()),!0):!1}}function NS(i,t,e,n=null){let r=!1,o=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);o=new Rr(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Rr(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let s=Uo(o,e,n,t);return s?(i&&FS(i,t,s,r,e),!0):!1}function FS(i,t,e,n,r){let o=L.empty;for(let d=e.length-1;d>=0;d--)o=L.from(e[d].type.create(e[d].attrs,o));i.step(new wt(t.start-(n?2:0),t.end,t.start,t.end,new z(o,0,0),e.length,!0));let a=0;for(let d=0;d<e.length;d++)e[d].type==r&&(a=d+1);let s=e.length-a,l=t.start+e.length-(n?2:0),c=t.parent;for(let d=t.startIndex,h=t.endIndex,g=!0;d<h;d++,g=!1)!g&&Zi(i.doc,l,s)&&(i.split(l,s),l+=2*s),l+=c.child(d).nodeSize;return i}function q2(i,t){return function(e,n){let{$from:r,$to:o,node:a}=e.selection;if(a&&a.isBlock||r.depth<2||!r.sameParent(o))return!1;let s=r.node(-1);if(s.type!=i)return!1;if(r.parent.content.size==0&&r.node(-1).childCount==r.indexAfter(-1)){if(r.depth==3||r.node(-3).type!=i||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let h=L.empty,g=r.index(-1)?1:r.index(-2)?2:3;for(let F=r.depth-g;F>=r.depth-3;F--)h=L.from(r.node(F).copy(h));let _=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;h=h.append(L.from(i.createAndFill()));let b=r.before(r.depth-(g-1)),C=e.tr.replace(b,r.after(-_),new z(h,4-g,0)),D=-1;C.doc.nodesBetween(b,C.doc.content.size,(F,pe)=>{if(D>-1)return!1;F.isTextblock&&F.content.size==0&&(D=pe+1)}),D>-1&&C.setSelection(ye.near(C.doc.resolve(D))),n(C.scrollIntoView())}return!0}let l=o.pos==r.end()?s.contentMatchAt(0).defaultType:null,c=e.tr.delete(r.pos,o.pos),d=l?[t?{type:i,attrs:t}:null,{type:l}]:void 0;return Zi(c.doc,r.pos,2,d)?(n&&n(c.split(r.pos,2,d).scrollIntoView()),!0):!1}}function yh(i){return function(t,e){let{$from:n,$to:r}=t.selection,o=n.blockRange(r,a=>a.childCount>0&&a.firstChild.type==i);return o?e?n.node(o.depth-1).type==i?LS(t,e,i,o):VS(t,e,o):!0:!1}}function LS(i,t,e,n){let r=i.tr,o=n.end,a=n.$to.end(n.depth);o<a&&(r.step(new wt(o-1,a,o,a,new z(L.from(e.create(null,n.parent.copy())),1,0),1,!0)),n=new Rr(r.doc.resolve(n.$from.pos),r.doc.resolve(a),n.depth));let s=Fr(n);if(s==null)return!1;r.lift(n,s);let l=r.doc.resolve(r.mapping.map(o,-1)-1);return Lr(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),t(r.scrollIntoView()),!0}function VS(i,t,e){let n=i.tr,r=e.parent;for(let _=e.end,b=e.endIndex-1,C=e.startIndex;b>C;b--)_-=r.child(b).nodeSize,n.delete(_-1,_+1);let o=n.doc.resolve(e.start),a=o.nodeAfter;if(n.mapping.map(e.end)!=e.start+o.nodeAfter.nodeSize)return!1;let s=e.startIndex==0,l=e.endIndex==r.childCount,c=o.node(-1),d=o.index(-1);if(!c.canReplace(d+(s?0:1),d+1,a.content.append(l?L.empty:L.from(r))))return!1;let h=o.pos,g=h+a.nodeSize;return n.step(new wt(h-(s?1:0),g+(l?1:0),h+1,g-1,new z((s?L.empty:L.from(r.copy(L.empty))).append(l?L.empty:L.from(r.copy(L.empty))),s?0:1,l?0:1),s?0:1)),t(n.scrollIntoView()),!0}function wh(i){return function(t,e){let{$from:n,$to:r}=t.selection,o=n.blockRange(r,c=>c.childCount>0&&c.firstChild.type==i);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=i)return!1;if(e){let c=l.lastChild&&l.lastChild.type==s.type,d=L.from(c?i.create():null),h=new z(L.from(i.create(null,L.from(s.type.create(null,d)))),c?3:1,0),g=o.start,_=o.end;e(t.tr.step(new wt(g-(c?3:1),_,g,_,h,1,!0)).scrollIntoView())}return!0}}var HS={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(i){return{href:i.getAttribute("href"),title:i.getAttribute("title"),target:i.getAttribute("target")}}}],toDOM(i){let{href:t,title:e,target:n}=i.attrs;return["a",{href:t,title:e,target:n},0]}},jS={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},ZS={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:i=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(i)&&null}],toDOM(){return["strong",0]}},zS={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},US={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},WS={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},$S={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:i=>({color:i})}],toDOM(i){let{color:t}=i.attrs;return["span",{style:`color:${t};`},0]}},GS={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:i=>({backgroundColor:i})}],toDOM(i){let{backgroundColor:t}=i.attrs;return["span",{style:`background-color:${t};`},0]}},qS={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},KS={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},YS={link:HS,em:jS,strong:ZS,code:zS,u:US,s:WS,text_color:$S,text_background_color:GS,sup:qS,sub:KS},JS={content:"block+"},XS={group:"inline"},QS={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{align:t,indent:e}=i.attrs,n={textAlign:t!=="left"?t:null,marginLeft:e!==null?`${e*40}px`:null};return["p",{style:sd(n)||null,"data-indent":e??null},0]}},eE={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(i){let t=i.getAttribute("data-indent")||null;return{indent:parseInt(t,10)||null}}}],toDOM(i){let{indent:t}=i.attrs,e={marginLeft:t!==null?`${t*40}px`:null};return["blockquote",{style:sd(e)||null,"data-indent":t??null},0]}},tE={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},nE={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:1,align:e,indent:parseInt(n,10)||null}}},{tag:"h2",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:2,align:e,indent:parseInt(n,10)||null}}},{tag:"h3",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:3,align:e,indent:parseInt(n,10)||null}}},{tag:"h4",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:4,align:e,indent:parseInt(n,10)||null}}},{tag:"h5",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:5,align:e,indent:parseInt(n,10)||null}}},{tag:"h6",getAttrs(i){let{textAlign:t}=i.style,e=i.getAttribute("align")||t||null,n=i.getAttribute("data-indent")||null;return{level:6,align:e,indent:parseInt(n,10)||null}}}],toDOM(i){let{level:t,align:e,indent:n}=i.attrs,r={textAlign:e!=="left"?e:null,marginLeft:n!==null?`${n*40}px`:null},a={style:sd(r)||null,"data-indent":n??null};return[`h${t}`,a,0]}},iE={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},rE={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},oE={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(i){return{src:i.getAttribute("src"),title:i.getAttribute("title"),alt:i.getAttribute("alt"),width:i.getAttribute("width")}}}],toDOM(i){let{src:t,alt:e,title:n,width:r}=i.attrs;return["img",{src:t,alt:e,title:n,width:r}]}},aE=Ce(T({},$2),{content:"paragraph block*"}),sE=Ce(T({},U2),{content:"list_item+",group:"block"}),lE=Ce(T({},W2),{content:"list_item+",group:"block"}),cE={doc:JS,text:XS,paragraph:QS,blockquote:eE,horizontal_rule:tE,heading:nE,hard_break:rE,code_block:iE,image:oE,list_item:aE,ordered_list:sE,bullet_list:lE},Ls=new md({marks:YS,nodes:cE});var Y2=(i,t)=>i.selection.empty?!1:(t&&t(i.tr.deleteSelection().scrollIntoView()),!0);function dE(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("backward",i):e.parentOffset>0)?null:e}var uE=(i,t,e)=>{let n=dE(i,e);if(!n)return!1;let r=J2(n);if(!r){let a=n.blockRange(),s=a&&Fr(a);return s==null?!1:(t&&t(i.tr.lift(a,s).scrollIntoView()),!0)}let o=r.nodeBefore;if(e7(i,r,t,-1))return!0;if(n.parent.content.size==0&&(ea(o,"end")||re.isSelectable(o)))for(let a=n.depth;;a--){let s=yd(i.doc,n.before(a),n.after(a),z.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=i.tr.step(s);l.setSelection(ea(o,"end")?ye.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):re.create(l.doc,r.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return o.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1};function ea(i,t,e=!1){for(let n=i;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(e&&n.childCount!=1)return!1}return!1}var pE=(i,t,e)=>{let{$head:n,empty:r}=i.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("backward",i):n.parentOffset>0)return!1;o=J2(n)}let a=o&&o.nodeBefore;return!a||!re.isSelectable(a)?!1:(t&&t(i.tr.setSelection(re.create(i.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function J2(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){if(i.index(t)>0)return i.doc.resolve(i.before(t+1));if(i.node(t).type.spec.isolating)break}return null}function hE(i,t){let{$cursor:e}=i.selection;return!e||(t?!t.endOfTextblock("forward",i):e.parentOffset<e.parent.content.size)?null:e}var mE=(i,t,e)=>{let n=hE(i,e);if(!n)return!1;let r=X2(n);if(!r)return!1;let o=r.nodeAfter;if(e7(i,r,t,1))return!0;if(n.parent.content.size==0&&(ea(o,"start")||re.isSelectable(o))){let a=yd(i.doc,n.before(),n.after(),z.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=i.tr.step(a);s.setSelection(ea(o,"start")?ye.findFrom(s.doc.resolve(s.mapping.map(r.pos)),1):re.create(s.doc,s.mapping.map(r.pos))),t(s.scrollIntoView())}return!0}}return o.isAtom&&r.depth==n.depth-1?(t&&t(i.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},fE=(i,t,e)=>{let{$head:n,empty:r}=i.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("forward",i):n.parentOffset<n.parent.content.size)return!1;o=X2(n)}let a=o&&o.nodeAfter;return!a||!re.isSelectable(a)?!1:(t&&t(i.tr.setSelection(re.create(i.doc,o.pos)).scrollIntoView()),!0)};function X2(i){if(!i.parent.type.spec.isolating)for(let t=i.depth-1;t>=0;t--){let e=i.node(t);if(i.index(t)+1<e.childCount)return i.doc.resolve(i.after(t+1));if(e.type.spec.isolating)break}return null}var Q2=(i,t)=>{let{$from:e,$to:n}=i.selection,r=e.blockRange(n),o=r&&Fr(r);return o==null?!1:(t&&t(i.tr.lift(r,o).scrollIntoView()),!0)},Ch=(i,t)=>{let{$head:e,$anchor:n}=i.selection;return!e.parent.type.spec.code||!e.sameParent(n)?!1:(t&&t(i.tr.insertText(`
`).scrollIntoView()),!0)};function Sh(i){for(let t=0;t<i.edgeCount;t++){let{type:e}=i.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}var Eh=(i,t)=>{let{$head:e,$anchor:n}=i.selection;if(!e.parent.type.spec.code||!e.sameParent(n))return!1;let r=e.node(-1),o=e.indexAfter(-1),a=Sh(r.contentMatchAt(o));if(!a||!r.canReplaceWith(o,o,a))return!1;if(t){let s=e.after(),l=i.tr.replaceWith(s,s,a.createAndFill());l.setSelection(ye.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},Dh=(i,t)=>{let e=i.selection,{$from:n,$to:r}=e;if(e instanceof ln||n.parent.inlineContent||r.parent.inlineContent)return!1;let o=Sh(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let a=(!n.parentOffset&&r.index()<r.parent.childCount?n:r).pos,s=i.tr.insert(a,o.createAndFill());s.setSelection(Le.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},Mh=(i,t)=>{let{$cursor:e}=i.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let o=e.before();if(Zi(i.doc,o))return t&&t(i.tr.split(o).scrollIntoView()),!0}let n=e.blockRange(),r=n&&Fr(n);return r==null?!1:(t&&t(i.tr.lift(n,r).scrollIntoView()),!0)};function gE(i){return(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof re&&t.selection.node.isBlock)return!n.parentOffset||!Zi(t.doc,n.pos)?!1:(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o=[],a,s,l=!1,c=!1;for(let _=n.depth;;_--)if(n.node(_).isBlock){l=n.end(_)==n.pos+(n.depth-_),c=n.start(_)==n.pos-(n.depth-_),s=Sh(n.node(_-1).contentMatchAt(n.indexAfter(_-1)));let C=i&&i(r.parent,l,n);o.unshift(C||(l&&s?{type:s}:null)),a=_;break}else{if(_==1)return!1;o.unshift(null)}let d=t.tr;(t.selection instanceof Le||t.selection instanceof ln)&&d.deleteSelection();let h=d.mapping.map(n.pos),g=Zi(d.doc,h,o.length,o);if(g||(o[0]=s?{type:s}:null,g=Zi(d.doc,h,o.length,o)),!g)return!1;if(d.split(h,o.length,o),!l&&c&&n.node(a).type!=s){let _=d.mapping.map(n.before(a)),b=d.doc.resolve(_);s&&n.node(a-1).canReplaceWith(b.index(),b.index()+1,s)&&d.setNodeMarkup(d.mapping.map(n.before(a)),s)}return e&&e(d.scrollIntoView()),!0}}var Ah=gE();var _E=(i,t)=>(t&&t(i.tr.setSelection(new ln(i.doc))),!0);function vE(i,t,e){let n=t.nodeBefore,r=t.nodeAfter,o=t.index();return!n||!r||!n.type.compatibleContent(r.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(e&&e(i.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(r.isTextblock||Lr(i.doc,t.pos))?!1:(e&&e(i.tr.join(t.pos).scrollIntoView()),!0)}function e7(i,t,e,n){let r=t.nodeBefore,o=t.nodeAfter,a,s,l=r.type.spec.isolating||o.type.spec.isolating;if(!l&&vE(i,t,e))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(s=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&s.matchType(a[0]||o.type).validEnd){if(e){let _=t.pos+o.nodeSize,b=L.empty;for(let F=a.length-1;F>=0;F--)b=L.from(a[F].create(null,b));b=L.from(r.copy(b));let C=i.tr.step(new wt(t.pos-1,_,t.pos,_,new z(b,1,0),a.length,!0)),D=C.doc.resolve(_+2*a.length);D.nodeAfter&&D.nodeAfter.type==r.type&&Lr(C.doc,D.pos)&&C.join(D.pos),e(C.scrollIntoView())}return!0}let d=o.type.spec.isolating||n>0&&l?null:ye.findFrom(t,1),h=d&&d.$from.blockRange(d.$to),g=h&&Fr(h);if(g!=null&&g>=t.depth)return e&&e(i.tr.lift(h,g).scrollIntoView()),!0;if(c&&ea(o,"start",!0)&&ea(r,"end")){let _=r,b=[];for(;b.push(_),!_.isTextblock;)_=_.lastChild;let C=o,D=1;for(;!C.isTextblock;C=C.firstChild)D++;if(_.canReplace(_.childCount,_.childCount,C.content)){if(e){let F=L.empty;for(let ae=b.length-1;ae>=0;ae--)F=L.from(b[ae].copy(F));let pe=i.tr.step(new wt(t.pos-b.length,t.pos+o.nodeSize,t.pos+D,t.pos+o.nodeSize-D,new z(F,b.length,0),0,!0));e(pe.scrollIntoView())}return!0}}return!1}function t7(i){return function(t,e){let n=t.selection,r=i<0?n.$from:n.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(e&&e(t.tr.setSelection(Le.create(t.doc,i<0?r.start(o):r.end(o)))),!0):!1}}var bE=t7(-1),yE=t7(1);function n7(i,t=null){return function(e,n){let{$from:r,$to:o}=e.selection,a=r.blockRange(o),s=a&&Uo(a,i,t);return s?(n&&n(e.tr.wrap(a,s).scrollIntoView()),!0):!1}}function Fd(i,t=null){return function(e,n){let r=!1;for(let o=0;o<e.selection.ranges.length&&!r;o++){let{$from:{pos:a},$to:{pos:s}}=e.selection.ranges[o];e.doc.nodesBetween(a,s,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(i,t)))if(l.type==i)r=!0;else{let d=e.doc.resolve(c),h=d.index();r=d.parent.canReplaceWith(h,h+1,i)}})}if(!r)return!1;if(n){let o=e.tr;for(let a=0;a<e.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=e.selection.ranges[a];o.setBlockType(s,l,i,t)}n(o.scrollIntoView())}return!0}}function wE(i,t,e,n){for(let r=0;r<t.length;r++){let{$from:o,$to:a}=t[r],s=o.depth==0?i.inlineContent&&i.type.allowsMarkType(e):!1;if(i.nodesBetween(o.pos,a.pos,(l,c)=>{if(s||!n&&l.isAtom&&l.isInline&&c>=o.pos&&c+l.nodeSize<=a.pos)return!1;s=l.inlineContent&&l.type.allowsMarkType(e)}),s)return!0}return!1}function xE(i){let t=[];for(let e=0;e<i.length;e++){let{$from:n,$to:r}=i[e];n.doc.nodesBetween(n.pos,r.pos,(o,a)=>{if(o.isAtom&&o.content.size&&o.isInline&&a>=n.pos&&a+o.nodeSize<=r.pos)return a+1>n.pos&&t.push(new $o(n,n.doc.resolve(a+1))),n=n.doc.resolve(a+1+o.content.size),!1}),n.pos<r.pos&&t.push(new $o(n,r))}return t}function Gr(i,t=null,e){let n=(e&&e.removeWhenPresent)!==!1,r=(e&&e.enterInlineAtoms)!==!1,o=!(e&&e.includeWhitespace);return function(a,s){let{empty:l,$cursor:c,ranges:d}=a.selection;if(l&&!c||!wE(a.doc,d,i,r))return!1;if(s)if(c)i.isInSet(a.storedMarks||c.marks())?s(a.tr.removeStoredMark(i)):s(a.tr.addStoredMark(i.create(t)));else{let h,g=a.tr;r||(d=xE(d)),n?h=!d.some(_=>a.doc.rangeHasMark(_.$from.pos,_.$to.pos,i)):h=!d.every(_=>{let b=!1;return g.doc.nodesBetween(_.$from.pos,_.$to.pos,(C,D,F)=>{if(b)return!1;b=!i.isInSet(C.marks)&&!!F&&F.type.allowsMarkType(i)&&!(C.isText&&/^\s*$/.test(C.textBetween(Math.max(0,_.$from.pos-D),Math.min(C.nodeSize,_.$to.pos-D))))}),!b});for(let _=0;_<d.length;_++){let{$from:b,$to:C}=d[_];if(!h)g.removeMark(b.pos,C.pos,i);else{let D=b.pos,F=C.pos,pe=b.nodeAfter,ae=C.nodeBefore,Ye=o&&pe&&pe.isText?/^\s*/.exec(pe.text)[0].length:0,xt=o&&ae&&ae.isText?/\s*$/.exec(ae.text)[0].length:0;D+Ye<F&&(D+=Ye,F-=xt),g.addMark(D,F,i.create(t))}}s(g.scrollIntoView())}return!0}}function ta(...i){return function(t,e,n){for(let r=0;r<i.length;r++)if(i[r](t,e,n))return!0;return!1}}var xh=ta(Y2,uE,pE),K2=ta(Y2,mE,fE),mi={Enter:ta(Ch,Dh,Mh,Ah),"Mod-Enter":Eh,Backspace:xh,"Mod-Backspace":xh,"Shift-Backspace":xh,Delete:K2,"Mod-Delete":K2,"Mod-a":_E},i7={"Ctrl-h":mi.Backspace,"Alt-Backspace":mi["Mod-Backspace"],"Ctrl-d":mi.Delete,"Ctrl-Alt-Backspace":mi["Mod-Delete"],"Alt-Delete":mi["Mod-Delete"],"Alt-d":mi["Mod-Delete"],"Ctrl-a":bE,"Ctrl-e":yE};for(let i in mi)i7[i]=mi[i];var CE=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,r7=CE?i7:mi;var xn=class{constructor(t,e,n={}){this.match=t,this.match=t,this.handler=typeof e=="string"?SE(e):e,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}};function SE(i){return function(t,e,n,r){let o=i;if(e[1]){let a=e[0].lastIndexOf(e[1]);o+=e[0].slice(a+e[1].length),n+=a;let s=n-r;s>0&&(o=e[0].slice(a-s,a)+o,n=r)}return t.tr.insertText(o,n,r)}}var EE=500;function a7({rules:i}){let t=new Ot({state:{init(){return null},apply(e,n){let r=e.getMeta(this);return r||(e.selectionSet||e.docChanged?null:n)}},props:{handleTextInput(e,n,r,o){return o7(e,n,r,o,i,t)},handleDOMEvents:{compositionend:e=>{setTimeout(()=>{let{$cursor:n}=e.state.selection;n&&o7(e,n.pos,n.pos,"",i,t)})}}},isInputRules:!0});return t}function o7(i,t,e,n,r,o){if(i.composing)return!1;let a=i.state,s=a.doc.resolve(t),l=s.parent.textBetween(Math.max(0,s.parentOffset-EE),s.parentOffset,null,"\uFFFC")+n;for(let c=0;c<r.length;c++){let d=r[c];if(!d.inCodeMark&&s.marks().some(_=>_.type.spec.code))continue;if(s.parent.type.spec.code){if(!d.inCode)continue}else if(d.inCode==="only")continue;let h=d.match.exec(l),g=h&&h[0].length>=n.length&&d.handler(a,h,t-(h[0].length-n.length),e);if(g)return d.undoable&&g.setMeta(o,{transform:g,from:t,to:e,text:n}),i.dispatch(g),!0}return!1}var s7=new xn(/--$/,"\u2014",{inCodeMark:!1}),l7=new xn(/\.\.\.$/,"\u2026",{inCodeMark:!1}),DE=new xn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C",{inCodeMark:!1}),ME=new xn(/"$/,"\u201D",{inCodeMark:!1}),AE=new xn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018",{inCodeMark:!1}),kE=new xn(/'$/,"\u2019",{inCodeMark:!1}),c7=[DE,ME,AE,kE];function Ld(i,t,e=null,n){return new xn(i,(r,o,a,s)=>{let l=e instanceof Function?e(o):e,c=r.tr.delete(a,s),d=c.doc.resolve(a),h=d.blockRange(),g=h&&Uo(h,t,l);if(!g)return null;c.wrap(h,g);let _=c.doc.resolve(a-1).nodeBefore;return _&&_.type==t&&Lr(c.doc,a-1)&&(!n||n(o,_))&&c.join(a-1),c})}function kh(i,t,e=null){return new xn(i,(n,r,o,a)=>{let s=n.doc.resolve(o),l=e instanceof Function?e(r):e;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?n.tr.delete(o,a).setBlockType(o,o,t,l):null})}var Vd=(i,t)=>{let{from:e,$from:n,to:r,empty:o}=i.selection;return o?!!t.isInSet(i.storedMarks||n.marks()):i.doc.rangeHasMark(e,r,t)},TE=(i,t)=>{for(let e=t.depth;e>0;e-=1)if(t.node(e).type===i)return t.node(e).type;return null},Th=(i,t,e={})=>{let{selection:n}=i,{$from:r,to:o}=n,a=TE(t,r);return!Object.entries(e).length||!a?!!a:o<=r.end()&&r.parent.hasMarkup(t,e)},d7=i=>{let t=[],{selection:e,storedMarks:n}=i,{from:r,to:o,empty:a,$from:s}=e;return a?t=n||s.marks():i.doc.nodesBetween(r,o,l=>{t=[...t,...l.marks]}),t},Ih=i=>{let t=[],{selection:{from:e,to:n}}=i;return i.doc.nodesBetween(e,n,r=>{t.push(r)}),t},Ph=(i,t,e)=>{for(let n of t){let{$from:r,$to:o}=n,a=r.depth===0?i.type.allowsMarkType(e):!1;if(i.nodesBetween(r.pos,o.pos,s=>a?!1:(a=s.inlineContent&&s.type.allowsMarkType(e),!0)),a)return!0}return!1},Rh=(i,t,e)=>new xn(i,(n,r,o,a)=>{let{tr:s}=n,l=o,c=a,[d,,h]=r,g=d.search(/\S/);if(h){let _=o+d.indexOf(h),b=_+h.length;b<a&&s.delete(b,a),_>o&&s.delete(o+g,_),c=o+h.length+g}return s.addMark(l,c,t.create(e)),s.removeStoredMark(t),s}),u7=(i,t)=>{let{$from:e}=i.selection;for(let n=e.depth;n>=0;n-=1){let r=e.index(n);if(e.node(n).canReplaceWith(r,r,t))return!0}return!1};var p7=()=>(i,t)=>{let{doc:e,selection:n,tr:r,schema:o}=i,{$head:{pos:a},from:s,to:l}=n,c=o.marks.link;if(s===l){let d=e.resolve(a),h=a-d.textOffset,g=h+d.parent.child(d.index()).nodeSize;r.removeMark(h,g,c)}else r.removeMark(s,l,c);return r.docChanged?(t?.(r),!0):!1},Oh=(i,t={})=>(e,n)=>{let{tr:r,selection:o}=e,{empty:a,ranges:s,$from:l,$to:c}=o;if(a&&o instanceof Le){let{$cursor:d}=o;if(!d||!Ph(e.doc,s,i)||(r.addStoredMark(i.create(t)),!r.storedMarksSet))return!1;n?.(r)}else{if(r.addMark(l.pos,c.pos,i.create(t)),!r.docChanged)return!1;n?.(r.scrollIntoView())}return!0},h7=i=>(t,e)=>{let{tr:n,selection:r,storedMarks:o,doc:a}=t,{empty:s,ranges:l}=r;if(s&&r instanceof Le){let{$cursor:c}=r;if(!c||!Ph(t.doc,l,i))return!1;if(i.isInSet(o||c.marks()))return n.removeStoredMark(i),e?.(n),!0}else{for(let c of l){let{$from:d,$to:h}=c;a.rangeHasMark(d.pos,h.pos,i)&&n.removeMark(d.pos,h.pos,i)}if(!n.docChanged)return!1;e?.(n.scrollIntoView())}return!1};var Bd=200,At=function(){};At.prototype.append=function(t){return t.length?(t=At.from(t),!this.length&&t||t.length<Bd&&this.leafAppend(t)||this.length<Bd&&t.leafPrepend(this)||this.appendInner(t)):this};At.prototype.prepend=function(t){return t.length?At.from(t).append(this):this};At.prototype.appendInner=function(t){return new IE(this,t)};At.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?At.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};At.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};At.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)};At.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(o,a){return r.push(t(o,a))},e,n),r};At.from=function(t){return t instanceof At?t:t&&t.length?new m7(t):At.empty};var m7=function(i){function t(n){i.call(this),this.values=n}i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,a,s){for(var l=o;l<a;l++)if(r(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,a,s){for(var l=o-1;l>=a;l--)if(r(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Bd)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Bd)return new t(r.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(At);At.empty=new m7([]);var IE=function(i){function t(e,n){i.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return i&&(t.__proto__=i),t.prototype=Object.create(i&&i.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,r,o,a){var s=this.left.length;if(r<s&&this.left.forEachInner(n,r,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(r-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(n,r,o,a){var s=this.left.length;if(r>s&&this.right.forEachInvertedInner(n,r-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(r,s),o,a)===!1)return!1},t.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(n,r):n>=o?this.right.slice(n-o,r-o):this.left.slice(n,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new t(r,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(At),Nh=At;var PE=500,Kr=class i{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let r,o;e&&(r=this.remapping(n,this.items.length),o=r.maps.length);let a=t.tr,s,l,c=[],d=[];return this.items.forEach((h,g)=>{if(!h.step){r||(r=this.remapping(n,g+1),o=r.maps.length),o--,d.push(h);return}if(r){d.push(new Kn(h.map));let _=h.step.map(r.slice(o)),b;_&&a.maybeStep(_).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],c.push(new Kn(b,void 0,void 0,c.length+d.length))),o--,b&&r.appendMap(b,o)}else a.maybeStep(h.step);if(h.selection)return s=r?h.selection.map(r.slice(o)):h.selection,l=new i(this.items.slice(0,n).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,e,n,r){let o=[],a=this.eventCount,s=this.items,l=!r&&s.length?s.get(s.length-1):null;for(let d=0;d<t.steps.length;d++){let h=t.steps[d].invert(t.docs[d]),g=new Kn(t.mapping.maps[d],h,e),_;(_=l&&l.merge(g))&&(g=_,d?o.pop():s=s.slice(0,s.length-1)),o.push(g),e&&(a++,e=void 0),r||(l=g)}let c=a-n.depth;return c>OE&&(s=RE(s,c),a-=c),new i(s.append(o),a)}remapping(t,e){let n=new Ss;return this.items.forEach((r,o)=>{let a=r.mirrorOffset!=null&&o-r.mirrorOffset>=t?n.maps.length-r.mirrorOffset:void 0;n.appendMap(r.map,a)},t,e),n}addMaps(t){return this.eventCount==0?this:new i(this.items.append(t.map(e=>new Kn(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(g=>{g.selection&&s--},r);let l=e;this.items.forEach(g=>{let _=o.getMirror(--l);if(_==null)return;a=Math.min(a,_);let b=o.maps[_];if(g.step){let C=t.steps[_].invert(t.docs[_]),D=g.selection&&g.selection.map(o.slice(l+1,_));D&&s++,n.push(new Kn(b,C,D))}else n.push(new Kn(b))},r);let c=[];for(let g=e;g<a;g++)c.push(new Kn(o.maps[g]));let d=this.items.slice(0,r).append(c).append(n),h=new i(d,s);return h.emptyItemCount()>PE&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((a,s)=>{if(s>=t)r.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(e.slice(n)),c=l&&l.getMap();if(n--,c&&e.appendMap(c,n),l){let d=a.selection&&a.selection.map(e.slice(n));d&&o++;let h=new Kn(c.invert(),l,d),g,_=r.length-1;(g=r.length&&r[_].merge(h))?r[_]=g:r.push(h)}}else a.map&&n--},this.items.length,0),new i(Nh.from(r.reverse()),o)}};Kr.empty=new Kr(Nh.empty,0);function RE(i,t){let e;return i.forEach((n,r)=>{if(n.selection&&t--==0)return e=r,!1}),i.slice(e)}var Kn=class i{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new i(e.getMap().invert(),e,this.selection)}}},Yn=class{constructor(t,e,n,r,o){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}},OE=20;function NE(i,t,e,n){let r=e.getMeta(qr),o;if(r)return r.historyState;e.getMeta(VE)&&(i=new Yn(i.done,i.undone,null,0,-1));let a=e.getMeta("appendedTransaction");if(e.steps.length==0)return i;if(a&&a.getMeta(qr))return a.getMeta(qr).redo?new Yn(i.done.addTransform(e,void 0,n,Hd(t)),i.undone,f7(e.mapping.maps),i.prevTime,i.prevComposition):new Yn(i.done,i.undone.addTransform(e,void 0,n,Hd(t)),null,i.prevTime,i.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=e.getMeta("composition"),l=i.prevTime==0||!a&&i.prevComposition!=s&&(i.prevTime<(e.time||0)-n.newGroupDelay||!FE(e,i.prevRanges)),c=a?Fh(i.prevRanges,e.mapping):f7(e.mapping.maps);return new Yn(i.done.addTransform(e,l?t.selection.getBookmark():void 0,n,Hd(t)),Kr.empty,c,e.time,s??i.prevComposition)}else return(o=e.getMeta("rebased"))?new Yn(i.done.rebased(e,o),i.undone.rebased(e,o),Fh(i.prevRanges,e.mapping),i.prevTime,i.prevComposition):new Yn(i.done.addMaps(e.mapping.maps),i.undone.addMaps(e.mapping.maps),Fh(i.prevRanges,e.mapping),i.prevTime,i.prevComposition)}function FE(i,t){if(!t)return!1;if(!i.docChanged)return!0;let e=!1;return i.mapping.maps[0].forEach((n,r)=>{for(let o=0;o<t.length;o+=2)n<=t[o+1]&&r>=t[o]&&(e=!0)}),e}function f7(i){let t=[];for(let e=i.length-1;e>=0&&t.length==0;e--)i[e].forEach((n,r,o,a)=>t.push(o,a));return t}function Fh(i,t){if(!i)return null;let e=[];for(let n=0;n<i.length;n+=2){let r=t.map(i[n],1),o=t.map(i[n+1],-1);r<=o&&e.push(r,o)}return e}function LE(i,t,e){let n=Hd(t),r=qr.get(t).spec.config,o=(e?i.undone:i.done).popEvent(t,n);if(!o)return null;let a=o.selection.resolve(o.transform.doc),s=(e?i.done:i.undone).addTransform(o.transform,t.selection.getBookmark(),r,n),l=new Yn(e?s:o.remaining,e?o.remaining:s,null,0,-1);return o.transform.setSelection(a).setMeta(qr,{redo:e,historyState:l})}var Lh=!1,g7=null;function Hd(i){let t=i.plugins;if(g7!=t){Lh=!1,g7=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Lh=!0;break}}return Lh}var qr=new cn("history"),VE=new cn("closeHistory");function _7(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new Ot({key:qr,state:{init(){return new Yn(Kr.empty,Kr.empty,null,0,-1)},apply(t,e,n){return NE(e,n,t,i)}},config:i,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r=n=="historyUndo"?Zd:n=="historyRedo"?Vs:null;return r?(e.preventDefault(),r(t.state,t.dispatch)):!1}}}})}function jd(i,t){return(e,n)=>{let r=qr.getState(e);if(!r||(i?r.undone:r.done).eventCount==0)return!1;if(n){let o=LE(r,e,i);o&&n(t?o.scrollIntoView():o)}return!0}}var Zd=jd(!1,!0),Vs=jd(!0,!0),XZ=jd(!1,!1),QZ=jd(!0,!1);var fi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ud={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},BE=typeof navigator<"u"&&/Mac/.test(navigator.platform),HE=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(ct=0;ct<10;ct++)fi[48+ct]=fi[96+ct]=String(ct);var ct;for(ct=1;ct<=24;ct++)fi[ct+111]="F"+ct;var ct;for(ct=65;ct<=90;ct++)fi[ct]=String.fromCharCode(ct+32),Ud[ct]=String.fromCharCode(ct);var ct;for(zd in fi)Ud.hasOwnProperty(zd)||(Ud[zd]=fi[zd]);var zd;function v7(i){var t=BE&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||HE&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",e=!t&&i.key||(i.shiftKey?Ud:fi)[i.keyCode]||i.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}var jE=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),ZE=typeof navigator<"u"&&/Win/.test(navigator.platform);function zE(i){let t=i.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let n,r,o,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))jE?a=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),a&&(e="Meta-"+e),o&&(e="Shift-"+e),e}function UE(i){let t=Object.create(null);for(let e in i)t[zE(e)]=i[e];return t}function Vh(i,t,e=!0){return t.altKey&&(i="Alt-"+i),t.ctrlKey&&(i="Ctrl-"+i),t.metaKey&&(i="Meta-"+i),e&&t.shiftKey&&(i="Shift-"+i),i}function Bs(i){return new Ot({props:{handleKeyDown:WE(i)}})}function WE(i){let t=UE(i);return function(e,n){let r=v7(n),o,a=t[Vh(r,n)];if(a&&a(e.state,e.dispatch,e))return!0;if(r.length==1&&r!=" "){if(n.shiftKey){let s=t[Vh(r,n,!1)];if(s&&s(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(ZE&&n.ctrlKey&&n.altKey)&&(o=fi[n.keyCode])&&o!=r){let s=t[Vh(o,n)];if(s&&s(e.state,e.dispatch,e))return!0}}return!1}}var $E=["imgEl"],GE=i=>({"NgxEditor__Resizer--Active":i});function qE(i,t){if(i&1){let e=Z();u(0,"span",4)(1,"span",5),E("mousedown",function(r){M(e);let o=x();return A(o.startResizing(r,"left"))}),p(),u(2,"span",6),E("mousedown",function(r){M(e);let o=x();return A(o.startResizing(r,"right"))}),p(),u(3,"span",7),E("mousedown",function(r){M(e);let o=x();return A(o.startResizing(r,"left"))}),p(),u(4,"span",8),E("mousedown",function(r){M(e);let o=x();return A(o.startResizing(r,"right"))}),p()()}}var KE=["ngxEditor"],YE=["*"];function JE(i,t){if(i&1&&(u(0,"div",12),f(1),_e(2,"async"),p()),i&2){let e=x(2);m(),we(" ",Pe(2,1,(e.href.errors==null?null:e.href.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function XE(i,t){if(i&1&&(u(0,"div",12),f(1),p()),i&2){let e=x(2);m(),we(" ",(e.text.errors==null?null:e.text.errors.required)&&"This is required"," ")}}function QE(i,t){if(i&1&&(u(0,"div",4)(1,"div",5)(2,"label"),w(3,"input",13),f(4),_e(5,"async"),p()()()),i&2){let e=x(2);m(4),we(" ",Pe(5,1,e.getLabel("openInNewTab"))," ")}}function eD(i,t){if(i&1){let e=Z();u(0,"div",2)(1,"form",3),E("ngSubmit",function(r){M(e);let o=x();return A(o.insertLink(r))}),u(2,"div",4)(3,"div",5)(4,"label",6),f(5),_e(6,"async"),p(),w(7,"input",7),k(8,JE,3,3,"div",8),p()(),u(9,"div",4)(10,"div",5)(11,"label",6),f(12),_e(13,"async"),p(),w(14,"input",9),k(15,XE,2,1,"div",8),p()(),k(16,QE,6,3,"div",10),u(17,"button",11),f(18),_e(19,"async"),p()()()}if(i&2){let e=x();m(),v("formGroup",e.form),m(3),v("htmlFor",e.getId("link-popup-url")),m(),P(Pe(6,12,e.getLabel("url"))),m(2),v("id",e.getId("link-popup-url")),m(),v("ngIf",e.href.touched&&e.href.invalid),m(3),v("htmlFor",e.getId("link-popup-label")),m(),P(Pe(13,14,e.getLabel("text"))),m(2),v("id",e.getId("link-popup-label")),m(),v("ngIf",e.text.touched&&e.text.invalid),m(),v("ngIf",e.options.showOpenInNewTab),m(),v("disabled",!e.form.valid),m(),P(Pe(19,16,e.getLabel("insert")))}}var tD=(i,t)=>({"NgxEditor__Dropdown--Active":i,"NgxEditor--Disabled":t});function nD(i,t){if(i&1){let e=Z();u(0,"button",4),_e(1,"async"),E("mousedown",function(r){let o=M(e).$implicit,a=x(2);return A(a.onDropdownItemMouseClick(r,o))})("keydown.enter",function(r){let o=M(e).$implicit,a=x(2);return A(a.onDropdownItemKeydown(r,o))})("keydown.space",function(r){let o=M(e).$implicit,a=x(2);return A(a.onDropdownItemKeydown(r,o))}),f(2),_e(3,"async"),p()}if(i&2){let e=t.$implicit,n=x(2);v("ngClass",We(8,tD,e===n.activeItem,n.disabledItems.includes(e)))("ariaLabel",Pe(1,4,n.getName(e))),He("aria-selected",e===n.activeItem),m(2),we(" ",Pe(3,6,n.getName(e))," ")}}function iD(i,t){if(i&1&&(u(0,"div",2),k(1,nD,4,11,"button",3),p()),i&2){let e=x();m(),v("ngForOf",e.items)("ngForTrackBy",e.trackByIndex)}}function rD(i,t){if(i&1&&(u(0,"div",12),f(1),_e(2,"async"),p()),i&2){let e=x(2);m(),we(" ",Pe(2,1,(e.src.errors==null?null:e.src.errors.pattern)&&e.getLabel("enterValidUrl"))," ")}}function oD(i,t){if(i&1){let e=Z();u(0,"div",2)(1,"form",3),E("ngSubmit",function(r){M(e);let o=x();return A(o.insertLink(r))}),u(2,"div",4)(3,"div",5)(4,"label",6),f(5),_e(6,"async"),p(),w(7,"input",7),k(8,rD,3,3,"div",8),p()(),u(9,"div",4)(10,"div",5)(11,"label",6),f(12),_e(13,"async"),p(),w(14,"input",9),p()(),u(15,"div",4)(16,"div",5)(17,"label",6),f(18),_e(19,"async"),p(),w(20,"input",10),p()(),u(21,"button",11),f(22),_e(23,"async"),p()()()}if(i&2){let e=x();m(),v("formGroup",e.form),m(3),v("htmlFor",e.getId("image-popup-url")),m(),P(Pe(6,13,e.getLabel("url"))),m(2),v("id",e.getId("image-popup-url")),m(),v("ngIf",e.src.touched&&e.src.invalid),m(3),v("htmlFor",e.getId("image-popup-label")),m(),P(Pe(13,15,e.getLabel("altText"))),m(2),v("id",e.getId("image-popup-label")),m(3),v("htmlFor",e.getId("image-popup-title")),m(),P(Pe(19,17,e.getLabel("title"))),m(2),v("id",e.getId("image-popup-title")),m(),v("disabled",!e.form.valid||!e.form.dirty),m(),P(Pe(23,19,e.getLabel("insert")))}}var aD=(i,t)=>({backgroundColor:i,color:t}),sD=i=>({"NgxEditor__Color--Active":i});function lD(i,t){if(i&1){let e=Z();u(0,"button",7),E("mousedown",function(r){let o=M(e).$implicit,a=x(3);return A(a.onColorSelectMouseClick(r,o))})("keydown.enter",function(){let r=M(e).$implicit,o=x(3);return A(o.onColorSelectKeydown(r))})("keydown.space",function(){let r=M(e).$implicit,o=x(3);return A(o.onColorSelectKeydown(r))}),p()}if(i&2){let e=t.$implicit,n=x(3);v("ngStyle",We(3,aD,e,n.getContrastYIQ(e)))("title",e)("ngClass",be(6,sD,n.activeColors.includes(e)))}}function cD(i,t){if(i&1&&(u(0,"div",5),k(1,lD,1,8,"button",6),p()),i&2){let e=t.$implicit,n=x(2);m(),v("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function dD(i,t){if(i&1){let e=Z();u(0,"div",2),k(1,cD,2,2,"div",3),u(2,"button",4),E("mousedown",function(r){M(e);let o=x();return A(o.onRemoveMouseClick(r))})("keydown.enter",function(){M(e);let r=x();return A(r.onRemoveKeydown())})("keydown.space",function(){M(e);let r=x();return A(r.onRemoveKeydown())}),f(3),_e(4,"async"),p()()}if(i&2){let e=x();m(),v("ngForOf",e.presets)("ngForTrackBy",e.trackByIndex),m(),v("disabled",!e.isActive),m(),we(" ",Pe(4,4,e.getLabel("remove"))," ")}}var uD=(i,t)=>({"NgxEditor--Disabled":i,"NgxEditor__MenuBar--Reverse":t});function pD(i,t){if(i&1&&w(0,"ngx-toggle-command",7),i&2){let e=x().$implicit,n=x(2);Vt(n.iconContainerClass),v("toolbarItem",e)}}function hD(i,t){if(i&1&&w(0,"ngx-insert-command",7),i&2){let e=x().$implicit,n=x(2);Vt(n.iconContainerClass),v("toolbarItem",e)}}function mD(i,t){if(i&1&&(bi(0),w(1,"ngx-link",8),yi()),i&2){let e=x().$implicit,n=x(2);m(),Vt(n.iconContainerClass),v("options",n.getLinkOptions(e))}}function fD(i,t){if(i&1&&w(0,"ngx-image"),i&2){let e=x(3);Vt(e.iconContainerClass)}}function gD(i,t){if(i&1&&w(0,"ngx-dropdown",10),i&2){let e=t.$implicit,n=x(4);Vt(n.dropdownContainerClass),v("group",e.key)("items",e.value)}}function _D(i,t){if(i&1&&(bi(0),k(1,gD,1,4,"ngx-dropdown",9),_e(2,"keyvalue"),yi()),i&2){let e=x().$implicit,n=x(2);m(),v("ngForOf",Pe(2,2,n.getDropdownItems(e)))("ngForTrackBy",n.trackByIndex)}}function vD(i,t){if(i&1&&w(0,"ngx-color-picker",11),i&2){let e=x(3);Vt(e.iconContainerClass),v("presets",e.presets)}}function bD(i,t){if(i&1&&w(0,"ngx-color-picker",12),i&2){let e=x(3);Vt(e.iconContainerClass),v("presets",e.presets)}}function yD(i,t){if(i&1&&w(0,"div"),i&2){let e=x(3);Vt(e.seperatorClass)}}function wD(i,t){if(i&1&&(bi(0),k(1,pD,1,3,"ngx-toggle-command",3)(2,hD,1,3,"ngx-insert-command",3)(3,mD,2,3,"ng-container",2)(4,fD,1,2,"ngx-image",4)(5,_D,3,4,"ng-container",2)(6,vD,1,3,"ngx-color-picker",5)(7,bD,1,3,"ngx-color-picker",6)(8,yD,1,2,"div",4),yi()),i&2){let e=t.$implicit,n=t.last,r=x().last,o=x();m(),v("ngIf",o.toggleCommands.includes(e)),m(),v("ngIf",o.insertCommands.includes(e)),m(),v("ngIf",o.isLinkItem(e)),m(),v("ngIf",e==="image"),m(),v("ngIf",o.isDropDown(e)),m(),v("ngIf",e==="text_color"),m(),v("ngIf",e==="background_color"),m(),v("ngIf",n&&!r)}}function xD(i,t){if(i&1&&(bi(0),k(1,wD,9,8,"ng-container",1),yi()),i&2){let e=t.$implicit,n=x();m(),v("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function CD(i,t){if(i&1&&(bi(0),Nn(1,13),yi()),i&2){let e=x();m(),v("ngTemplateOutlet",e.customMenuRef)}}var SD=(i=!0)=>new Ot({key:new cn("editable"),state:{init(){return i},apply(t,e){return t.getMeta("UPDATE_EDITABLE")??e}},props:{editable(t){return this.getState(t)},attributes(t){return this.getState(t)?null:{class:"NgxEditor__Content--Disabled"}}}}),ED="NgxEditor__Placeholder",DD=i=>new Ot({key:new cn("placeholder"),state:{init(){return i??""},apply(t,e){return t.getMeta("UPDATE_PLACEHOLDER")??e}},props:{decorations(t){let{doc:e}=t,{textContent:n,childCount:r}=e,o=this.getState(t);if(!o||r>1)return Ht.empty;let a=[],s=(l,c)=>{if(l.type.isBlock&&l.childCount===0&&n.length===0){let d=c,h=c+l.nodeSize,g=qn.node(d,h,{class:ED,"data-placeholder":o,"data-align":l.attrs.align??null});a.push(g)}return!1};return e.descendants(s),Ht.create(e,a)}}}),MD=(i={})=>new Ot({key:new cn("attributes"),props:{attributes:i}}),AD=i=>new Ot({key:new cn("focus"),props:{handleDOMEvents:{focus:()=>(i(),!1)}}}),kD=i=>new Ot({key:new cn("blur"),props:{handleDOMEvents:{blur:()=>(i(),!1)}}}),TD=(()=>{class i{src;alt="";title="";outerWidth="";selected=!1;view;imageResize=new j;imgEl;startResizing(e,n){e.preventDefault(),this.resizeImage(e,n)}resizeImage(e,n){let r=e.pageX,o=this.imgEl.nativeElement.clientWidth,a=n==="left",{width:s}=window.getComputedStyle(this.view.dom),l=parseInt(s,10),c=h=>{let _=h.pageX-r,b=a?o-_:o+_;b>l||b<20||(this.outerWidth=`${b}px`)},d=h=>{h.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",d),this.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["ngx-image-view"]],viewQuery:function(n,r){if(n&1&&Re($E,7),n&2){let o;ne(o=ie())&&(r.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},standalone:!1,decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(n,r){n&1&&(u(0,"span",1),k(1,qE,5,0,"span",2),w(2,"img",3,0),p()),n&2&&(Dn("width",r.outerWidth),v("ngClass",be(7,GE,r.selected)),m(),v("ngIf",r.selected),m(),v("src",r.src,qs)("alt",r.alt)("title",r.title))},dependencies:[Se,de],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]})}return i})(),Bh=class{dom;view;getPos;applicationRef;imageComponentRef;resizeSubscription;node;updating=!1;constructor(t,e,n,r){this.applicationRef=r.get(ei),this.imageComponentRef=so(TD,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(t.attrs),this.imageComponentRef.instance.view=e,this.dom=this.imageComponentRef.location.nativeElement,this.view=e,this.node=t,this.getPos=n,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(t,e){return JSON.stringify(t)===JSON.stringify(e)}setNodeAttributes(t){this.imageComponentRef.instance.src=t.src,this.imageComponentRef.instance.alt=t.alt,this.imageComponentRef.instance.title=t.title,this.imageComponentRef.instance.outerWidth=t.width}handleResize=()=>{if(this.updating)return;let{state:t,dispatch:e}=this.view,{tr:n}=t,r=n.setNodeMarkup(this.getPos(),void 0,Ce(T({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),o=r.doc.resolve(this.getPos()),a=new re(o);r.setSelection(a),e(r)};update(t){return t.type!==this.node.type?!1:(this.node=t,this.computeChanges(this.node.attrs,t.attrs)&&(this.updating=!0,this.setNodeAttributes(t.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},ID=i=>new Ot({key:new cn("image-resize"),props:{nodeViews:{image:(t,e,n)=>new Bh(t,e,n,i)}}}),PD=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,A7=i=>{let t=[];return i.forEach(e=>{if(e.isText){let n=e.text,r=0,o=PD.exec(n);if(o){let a=o.index,s=a+o[0].length,{link:l}=e.type.schema.marks;a>0&&t.push(e.cut(r,a));let c=n.slice(a,s);t.push(e.cut(a,s).mark(l.create({href:c}).addToSet(e.marks))),r=s}r<n.length&&t.push(e.cut(r))}else t.push(e.copy(A7(e.content)))}),L.fromArray(t)},RD=()=>new Ot({key:new cn("linkify"),props:{transformPasted:i=>new z(A7(i.content),i.openStart,i.openEnd)}}),k7=i=>typeof i=="string",OD=()=>window.trustedTypes,T7=i=>OD()?.isHTML(i)??!1,I7=i=>k7(i)||T7(i),P7={type:"doc",content:[{type:"paragraph"}]},ND=(i,t)=>{let e=t??Ls,n=e.nodeFromJSON(i),r=li.fromSchema(e).serializeFragment(n.content),o=document.createElement("div");return o.appendChild(r),o.innerHTML},FD=(i,t,e)=>{let n=t??Ls,r=document.createElement("div");return r.innerHTML=i,ji.fromSchema(n).parse(r,e).toJSON()},b7=(i,t,e)=>{if(!i)return t.nodeFromJSON(P7);if(!I7(i))return t.nodeFromJSON(i);let n=FD(i,t,e);return t.nodeFromJSON(n)},R7=(()=>{class i{renderer;injector;elementRef;constructor(e,n,r){this.renderer=e,this.injector=n,this.elementRef=r}ngxEditor;editor;outputFormat;placeholder="Type Here...";focusOut=new j;focusIn=new j;unsubscribe=new H;onChange=()=>{};onTouched=()=>{};writeValue(e){!this.outputFormat&&I7(e)&&(this.outputFormat="html"),this.editor.setContent(e??P7)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.setMeta("UPDATE_EDITABLE",!e),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}handleChange(e){if(this.outputFormat==="html"){let n=ND(e,this.editor.schema);this.onChange(n);return}this.onChange(e)}setMeta(e,n){let{dispatch:r,state:{tr:o}}=this.editor.view;r(o.setMeta(e,n))}setPlaceholder(e){this.setMeta("UPDATE_PLACEHOLDER",e)}registerPlugins(){this.editor.registerPlugin(SD()),this.editor.registerPlugin(DD(this.placeholder)),this.editor.registerPlugin(MD({class:"NgxEditor__Content"})),this.editor.registerPlugin(AD(()=>{this.focusIn.emit()})),this.editor.registerPlugin(kD(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(ID(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(RD())}ngOnInit(){if(!this.editor)throw new Ho("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(ke(this.unsubscribe)).subscribe(e=>{this.handleChange(e)})}ngOnChanges(e){e.placeholder&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static \u0275fac=function(n){return new(n||i)(S(Je),S(Te),S(J))};static \u0275cmp=R({type:i,selectors:[["ngx-editor"]],viewQuery:function(n,r){if(n&1&&Re(KE,7),n&2){let o;ne(o=ie())&&(r.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},standalone:!1,features:[Ue([{provide:In,useExisting:$t(()=>i),multi:!0}]),je],ngContentSelectors:YE,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(n,r){n&1&&(tn(),u(0,"div",1,0),ht(2),p())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2})}return i})(),Ki=(()=>{class i{editor;customMenuRefChange=new H;setCustomMenuRef(e){this.customMenuRefChange.next(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Jn=class{name;constructor(t){this.name=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?Oh(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?Gr(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?Vd(t,n):!1}canExecute(t){return this.toggle()(t)}},Hh=class{toggle(){return(t,e)=>{let{schema:n}=t,r=n.nodes.blockquote;return r?this.isActive(t)?Q2(t,e):n7(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=e.nodes.blockquote;return n?Th(t,n):!1}canExecute(t){return this.toggle()(t)}},jh=class{insert(){return(t,e)=>{let{schema:n,tr:r}=t,o=n.nodes.horizontal_rule;return o?(e(r.replaceSelectionWith(o.create()).scrollIntoView()),!0):!1}}canExecute(t){return u7(t,t.schema.nodes.horizontal_rule)}},ia=class{isBulletList=!1;constructor(t=!1){this.isBulletList=t}getType(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list}toggle(){return(t,e)=>{let{schema:n}=t,r=this.getType(n);return r?this.isActive(t)?yh(n.nodes.list_item)(t,e):G2(r)(t,e):!1}}isActive(t){let{schema:e}=t,n=this.getType(e);return n?Th(t,n):!1}canExecute(t){return this.toggle()(t)}},gi=class{level;constructor(t){this.level=t}apply(){return(t,e)=>{let{schema:n}=t,r=n.nodes.heading;return r?Fd(r)(t,e):!1}}toggle(){return(t,e)=>{let{schema:n,selection:r,doc:o}=t,a=n.nodes.heading;if(!a)return!1;let s=r.$from.before(1),c=o.nodeAt(s)?.attrs??{};return this.isActive(t)?Fd(n.nodes.paragraph,c)(t,e):Fd(a,Ce(T({},c),{level:this.level}))(t,e)}}isActive(t){let{schema:e}=t,n=Ih(t),r=e.nodes.heading;if(!r)return!1;let o=[r,e.nodes.text,e.nodes.blockquote];return!!n.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(t){return this.toggle()(t)}},Yr=class{align;constructor(t){this.align=t}toggle(){return(t,e)=>{let{doc:n,selection:r,tr:o,schema:a}=t,{from:s,to:l}=r,c=!1;return n.nodesBetween(s,l,(d,h)=>{let g=d.type;if([a.nodes.paragraph,a.nodes.heading].includes(g)){c=!0;let _=d.attrs.align===this.align?null:this.align;o.setNodeMarkup(h,g,Ce(T({},d.attrs),{align:_}))}return!0}),c?(o.docChanged&&e?.(o),!0):!1}}isActive(t){return!!Ih(t).find(r=>r.attrs.align===this.align)}canExecute(t){return this.toggle()(t)}},LD={strict:!0},Zh=class{update(t){return(e,n)=>{let{schema:r,selection:o}=e,a=r.marks.link;return!a||o.empty?!1:Gr(a,t)(e,n)}}insert(t,e){return(n,r)=>{let{schema:o,tr:a}=n;if(!o.marks.link)return!1;let l={href:e.href,title:e.title??t,target:e.target??"_blank"},c=o.text(t,[o.marks.link.create(l)]);return a.replaceSelectionWith(c,!1).scrollIntoView(),a.docChanged?(r?.(a),!0):!1}}isActive(t,e=LD){if(e.strict)return!0;let{schema:n}=t,r=n.marks.link;return r?Vd(t,r):!1}remove(t,e){return p7()(t,e)}canExecute(t){let e={href:""};return this.insert("Exec",e)(t)||this.update(e)(t)}},O7=class{insert(t,e){return(n,r)=>{let{schema:o,tr:a,selection:s}=n,l=o.nodes.image;if(!l)return!1;let c=T({width:null,src:t},e);!c.width&&s instanceof re&&s.node.type===l&&(c.width=s.node.attrs.width),a.replaceSelectionWith(l.createAndFill(c));let d=a.doc.resolve(a.selection.anchor-a.selection.$anchor.nodeBefore.nodeSize);return a.setSelection(new re(d)).scrollIntoView(),a.docChanged?(r?.(a),!0):!1}}isActive(t){let{selection:e}=t;return e instanceof re?e.node.type.name==="image":!1}},na=class{name;attrName;constructor(t,e="color"){this.name=t,this.attrName=e}apply(t){return(e,n)=>{let{schema:r,selection:o,doc:a}=e,s=r.marks[this.name];if(!s)return!1;let{from:l,to:c,empty:d}=o;if(!d&&l+1===c){let h=a.nodeAt(l);if(h?.isAtom&&!h.isText&&h.isLeaf)return!1}return Oh(s,t)(e,n)}}isActive(t){let{schema:e}=t,n=e.marks[this.name];return n?Vd(t,n):!1}getActiveColors(t){if(!this.isActive(t))return[];let{schema:e}=t;return d7(t).filter(o=>o.type===e.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(t,e)=>{let{schema:n}=t,r=n.marks[this.name];return r?h7(r)(t,e):!1}}canExecute(t){let e=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(e)(t)}},VD=["link"],zh=class{insert(){return(t,e)=>{let{tr:n}=t,{ranges:r,empty:o}=n.selection;return o||(Object.entries(t.schema.marks).forEach(([a,s])=>{VD.includes(a)||r.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos,s)})}),e(n)),!0}}canExecute(){return!0}},BD=["paragraph","heading","blockquote"],y7=0,w7=10,HD=(i,t,e)=>{let n=i.doc.nodeAt(t);if(!n)return!1;let r=n.attrs.indent??0,o=j5(r+(e==="increase"?1:-1),y7,w7);if(o===r||o<y7||o>w7)return!1;let a=Ce(T({},n.attrs),{indent:o});return i.setNodeMarkup(t,n.type,a),!0},ra=class{method="increase";constructor(t){this.method=t}insert(){return(t,e)=>{let{tr:n,doc:r}=t,{from:o,to:a}=n.selection,s=!1;return r.nodesBetween(o,a,(l,c)=>{let d=l.type;return BD.includes(d.name)?(s=HD(n,c,this.method),!1):!l.type.name.includes("list")}),s?(n.docChanged&&e?.(n),!0):!1}}canExecute(t){return this.insert()(t)}},$d=class{mode="undo";constructor(t){this.mode=t}insert(){return(t,e)=>this.mode==="undo"?Zd(t,e):Vs(t,e)}canExecute(t){return this.insert()(t)}},jD=new Jn("strong"),ZD=new Jn("em"),zD=new Jn("code"),UD=new Jn("u"),WD=new Jn("s"),$D=new Hh,GD=new jh,qD=new zh,KD=new ia(!0),YD=new ia(!1),JD=new gi(1),XD=new gi(2),QD=new gi(3),eM=new gi(4),tM=new gi(5),nM=new gi(6),iM=new Yr("left"),rM=new Yr("center"),oM=new Yr("right"),aM=new Yr("justify"),sM=new Zh,lM=new O7,cM=new na("text_color","color"),dM=new na("text_background_color","backgroundColor"),uM=new ra("increase"),pM=new ra("decrease"),hM=new Jn("sup"),mM=new Jn("sub"),fM=new $d("undo"),gM=new $d("redo"),Gd={bold:jD,italic:ZD,code:zD,underline:UD,strike:WD,blockquote:$D,bullet_list:KD,ordered_list:YD,h1:JD,h2:XD,h3:QD,h4:eM,h5:tM,h6:nM,align_left:iM,align_center:rM,align_right:oM,align_justify:aM,superscript:hM,subscript:mM},x7={horizontal_rule:GD,format_clear:qD,indent:uM,outdent:pM,undo:fM,redo:gM},Hs=sM,C7=lM,_M=cM,vM=dM,Uh={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},Wh=class{locals=Uh;constructor(t={}){this.locals=T(T({},Uh),t)}get=t=>{let e=this.locals[t];return e?Yi(e)?e:q(e):q("")}},bM=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,yM=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,wM=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,xM=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,CM=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,SM=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,EM=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,DM=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,MM=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,AM=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,kM=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,TM=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,IM=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,PM=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,RM=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,OM=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,NM=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,FM=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,LM=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,VM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',BM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',HM='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',jM='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',ZM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',zM='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',UM=20,WM=20,$M="currentColor",N7={bold:bM,italic:yM,code:wM,underline:xM,strike:CM,ordered_list:SM,bullet_list:EM,blockquote:DM,link:MM,unlink:AM,image:kM,align_left:TM,align_center:IM,align_right:PM,align_justify:RM,text_color:OM,color_fill:NM,horizontal_rule:FM,format_clear:LM,indent:VM,outdent:BM,superscript:HM,subscript:jM,undo:ZM,redo:zM,path:"<path></path>"},$h=class{static get(t,e=$M){let n=N7[t];return n&&(n.includes("<path")||n.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${e}
          height=${UM}
          width=${WM}
        >
          ${n}
        </svg>
      `:n}},Gh=(()=>{class i{locals={};icons={};static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Jr=(()=>{class i{config;constructor(e){this.config=e}get locals(){return new Wh(this.config.locals)}getIcon(e){return this.config.icons[e]?this.config.icons[e]:$h.get(e)}static \u0275fac=function(n){return new(n||i)(B(Gh,8))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),S7=i=>({locals:i.locals??{},icons:i.icons??{}}),oa=(()=>{class i{sanitizer;constructor(e){this.sanitizer=e}transform(e){return T7(e)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(n){return new(n||i)(S(Yu,16))};static \u0275pipe=ro({name:"sanitizeHtml",type:i,pure:!0,standalone:!1})}return i})(),GM=(()=>{class i{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;isActive=!1;disabled=!1;updateSubscription;constructor(e,n){this.ngxeService=e,this.menuService=n}toggle(){let{state:e,dispatch:n}=this.editorView;Gd[this.name].toggle()(e,n)}onMouseClick(e){e.preventDefault(),e.button===0&&this.toggle()}onKeydown(){this.toggle()}update=e=>{let{state:n}=e,r=Gd[this.name];this.isActive=r.isActive(n),this.disabled=!r.canExecute(n)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(S(Jr),S(Ki))};static \u0275cmp=R({type:i,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},standalone:!1,decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,r){n&1&&(u(0,"button",0),_e(1,"sanitizeHtml"),_e(2,"async"),_e(3,"async"),E("mousedown",function(a){return r.onMouseClick(a)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),p()),n&2&&(ve("NgxEditor__MenuItem--Active",r.isActive)("NgxEditor--Disabled",r.disabled),v("disabled",r.disabled)("innerHTML",Pe(1,8,r.html),io)("title",Pe(2,10,r.getTitle(r.name)))("ariaLabel",Pe(3,12,r.getTitle(r.name))))},dependencies:[Ci,oa],encapsulation:2})}return i})(),qM=(()=>{class i{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;disabled=!1;updateSubscription;constructor(e,n){this.ngxeService=e,this.menuService=n}onMouseClick(e){e.preventDefault(),e.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:e,dispatch:n}=this.editorView;x7[this.name].insert()(e,n)}update=e=>{let{state:n}=e,r=x7[this.name];this.disabled=!r.canExecute(n)};getTitle(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(S(Jr),S(Ki))};static \u0275cmp=R({type:i,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},standalone:!1,decls:4,vars:12,consts:[[1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,r){n&1&&(u(0,"button",0),_e(1,"sanitizeHtml"),_e(2,"async"),_e(3,"async"),E("mousedown",function(a){return r.onMouseClick(a)})("keydown.enter",function(){return r.onKeydown()})("keydown.space",function(){return r.onKeydown()}),p()),n&2&&(ve("NgxEditor--Disabled",r.disabled),v("disabled",r.disabled)("innerHTML",Pe(1,6,r.html),io)("title",Pe(2,8,r.getTitle(r.name)))("ariaLabel",Pe(3,10,r.getTitle(r.name))))},dependencies:[Ci,oa],encapsulation:2})}return i})(),E7={showOpenInNewTab:!0},KM=(()=>{class i{el;ngxeService;menuService;options=E7;showPopup=!1;isActive=!1;canExecute=!0;componentId=xp();form;editorView;updateSubscription;constructor(e,n,r){this.el=e,this.ngxeService=n,this.menuService=r}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:e,dispatch:n}=this.editorView;if(this.isActive){Hs.remove(e,n);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}setText=()=>{let{state:{selection:e,doc:n}}=this.editorView,{empty:r,from:o,to:a}=e,s=r?"":n.textBetween(o,a);s&&(this.text.patchValue(s),this.text.disable())};update=e=>{let{state:n}=e;this.isActive=Hs.isActive(n,{strict:!1}),this.canExecute=Hs.canExecute(n)};insertLink(e){e.preventDefault();let{text:n,href:r,openInNewTab:o}=this.form.getRawValue(),{dispatch:a,state:s}=this.editorView,{selection:l}=s,c;this.options.showOpenInNewTab&&(c=o?"_blank":"_self");let d={title:r,href:r,target:c};l.empty?(Hs.insert(n,d)(s,a),this.editorView.focus()):Hs.update(d)(s,a),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new Xa({href:new ii("",[Ti.required,Ti.pattern(this.menuService.editor.linkValidationPattern)]),text:new ii("",[Ti.required]),openInNewTab:new ii(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(S(J),S(Jr),S(Ki))};static \u0275cmp=R({type:i,selectors:[["ngx-link"]],hostBindings:function(n,r){n&1&&E("mousedown",function(a){return r.onDocumentClick(a)},!1,ma)},inputs:{options:[2,"options","options",e=>T(T({},E7),e)]},standalone:!1,decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(n,r){n&1&&(u(0,"button",0),_e(1,"sanitizeHtml"),_e(2,"async"),_e(3,"async"),E("mousedown",function(a){return r.onTogglePopupMouseClick(a)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),p(),k(4,eD,20,18,"div",1)),n&2&&(ve("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),v("disabled",!r.canExecute)("innerHTML",Pe(1,10,r.icon),io)("title",Pe(2,12,r.title))("ariaLabel",Pe(3,14,r.title))("ariaExpanded",r.showPopup),m(4),v("ngIf",r.showPopup))},dependencies:[de,B0,ze,es,Ie,L0,sc,lc,Ci,oa],encapsulation:2})}return i})(),YM=(()=>{class i{ngxeService;menuService;el;editorView;updateSubscription;group;items;isDropdownOpen=!1;disabledItems=[];activeItem;constructor(e,n,r){this.ngxeService=e,this.menuService=n,this.el=r}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(e){return this.ngxeService.locals.get(e)}getIsDropdownActive(e){return this.activeItem===e}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(e){e.preventDefault(),e.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(e){return e}selectItem(e){let n=Gd[e],{state:r,dispatch:o}=this.editorView;n.toggle()(r,o),this.isDropdownOpen=!1}onDropdownItemMouseClick(e,n){e.preventDefault(),e.button===0&&this.selectItem(n)}onDropdownItemKeydown(e,n){e.preventDefault(),this.selectItem(n)}update=e=>{let{state:n}=e;this.disabledItems=[];let r=[];this.items.forEach(o=>{let a=Gd[o];a.isActive(n)&&r.push(o),a.canExecute(n)||this.disabledItems.push(o)}),r.length===1?[this.activeItem]=r:this.activeItem=null};ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(S(Jr),S(Ki),S(J))};static \u0275cmp=R({type:i,selectors:[["ngx-dropdown"]],hostBindings:function(n,r){n&1&&E("mousedown",function(a){return r.onDocumentClick(a.target)},!1,ma)},inputs:{group:"group",items:"items"},standalone:!1,decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(n,r){n&1&&(u(0,"button",0),_e(1,"async"),E("mousedown",function(a){return r.onToggleDropdownMouseClick(a)})("keydown.enter",function(){return r.onToggleDropdownKeydown()})("keydown.space",function(){return r.onToggleDropdownKeydown()}),f(2),_e(3,"async"),p(),k(4,iD,2,2,"div",1)),n&2&&(ve("NgxEditor__Dropdown--Selected",r.isSelected)("NgxEditor--Disabled",r.isDropdownDisabled),v("disabled",r.isDropdownDisabled)("ariaLabel",Pe(1,9,r.getName(r.activeItem||r.group)))("ariaExpanded",r.isDropdownOpen),m(2),we(" ",Pe(3,11,r.getName(r.activeItem||r.group)),`
`),m(2),v("ngIf",r.isDropdownOpen))},dependencies:[Se,xe,de,Ci],encapsulation:2})}return i})(),JM=(()=>{class i{el;ngxeService;menuService;showPopup=!1;isActive=!1;componentId=xp();updateSubscription;form=new Xa({src:new ii("",[Ti.required,Ti.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new ii(""),title:new ii("")});editorView;constructor(e,n,r){this.el=e,this.ngxeService=n,this.menuService=r}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()}getId(e){return`${e}-${this.componentId}`}getLabel(e){return this.ngxeService.locals.get(e)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(e){e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:e}=this.editorView,{selection:n}=e;if(n instanceof re&&this.isActive){let{src:r,alt:o="",title:a=""}=n.node.attrs;this.form.setValue({src:r,alt:o,title:a})}}update=e=>{let{state:n}=e;this.isActive=C7.isActive(n)};insertLink(e){e.preventDefault();let{src:n,alt:r,title:o}=this.form.getRawValue(),{dispatch:a,state:s}=this.editorView,l={alt:r,title:o};C7.insert(n,l)(s,a),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(S(J),S(Jr),S(Ki))};static \u0275cmp=R({type:i,selectors:[["ngx-image"]],hostBindings:function(n,r){n&1&&E("mousedown",function(a){return r.onDocumentClick(a)},!1,ma)},standalone:!1,decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(n,r){n&1&&(u(0,"button",0),_e(1,"sanitizeHtml"),_e(2,"async"),_e(3,"async"),E("mousedown",function(a){return r.onTogglePopupMouseClick(a)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),p(),k(4,oD,24,21,"div",1)),n&2&&(ve("NgxEditor__MenuItem--Active",r.isActive||r.showPopup),v("innerHTML",Pe(1,7,r.icon),io)("title",Pe(2,9,r.getLabel("insertImage")))("ariaLabel",Pe(3,11,r.getLabel("insertImage")))("ariaExpanded",r.showPopup),m(4),v("ngIf",r.showPopup))},dependencies:[de,B0,ze,Ie,L0,sc,lc,Ci,oa],encapsulation:2})}return i})(),XM=(()=>{class i{el;menuService;ngxeService;presets;type;constructor(e,n,r){this.el=e,this.menuService=n,this.ngxeService=r}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?_M:vM}updateSubscription;editorView;showPopup=!1;isActive=!1;activeColors=[];canExecute=!0;getContrastYIQ(e){let n=e.replace("#",""),r=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),a=parseInt(n.substring(4,6),16);return(r*299+o*587+a*114)/1e3>=128?"black":"white"}onDocumentClick(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(e){e.preventDefault(),e.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:e,dispatch:n}=this.editorView;this.command.remove()(e,n),this.hidePopup()}onRemoveMouseClick(e){e.preventDefault(),e.button===0&&(e.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(e){return e}selectColor(e){let{state:n,dispatch:r}=this.editorView;if(this.type==="text_color"){let o={color:e};this.command.apply(o)(n,r)}else{let o={backgroundColor:e};this.command.apply(o)(n,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(e,n){e.preventDefault(),e.button===0&&this.selectColor(n)}onColorSelectKeydown(e){this.selectColor(e)}update=e=>{let{state:n}=e;this.canExecute=this.command.canExecute(n),this.isActive=this.command.isActive(n),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(n))};getLabel(e){return this.ngxeService.locals.get(e)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(e=>{this.update(e)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(S(J),S(Ki),S(Jr))};static \u0275cmp=R({type:i,selectors:[["ngx-color-picker"]],hostBindings:function(n,r){n&1&&E("mousedown",function(a){return r.onDocumentClick(a)},!1,ma)},inputs:{presets:"presets",type:"type"},standalone:!1,decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(n,r){n&1&&(u(0,"button",0),_e(1,"sanitizeHtml"),_e(2,"async"),_e(3,"async"),E("mousedown",function(a){return r.onTogglePopupMouseClick(a)})("keydown.enter",function(){return r.onTogglePopupKeydown()})("keydown.space",function(){return r.onTogglePopupKeydown()}),p(),k(4,dD,5,6,"div",1)),n&2&&(ve("NgxEditor__MenuItem--Active",r.isActive||r.showPopup)("NgxEditor--Disabled",!r.canExecute),v("disabled",!r.canExecute)("innerHTML",Pe(1,9,r.icon),io)("title",Pe(2,11,r.title))("ariaLabel",Pe(3,13,r.title)),m(4),v("ngIf",r.showPopup))},dependencies:[Se,xe,de,Ou,Ci,oa],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']})}return i})();var QM=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var e9=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],F7=(()=>{class i{menuService;toolbar=QM;colorPresets=e9;disabled=!1;editor;customMenuRef=null;dropdownPlacement="bottom";toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"];insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"];iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"];dropdownContainerClass=["NgxEditor__Dropdown"];seperatorClass=["NgxEditor__Seperator"];constructor(e){this.menuService=e}get presets(){let n=[];return this.colorPresets.forEach((r,o)=>{let a=Math.floor(o/8);n[a]||n.push([]),n[a].push(r)}),n}trackByIndex(e){return e}isDropDown(e){return!!e?.heading}getDropdownItems(e){return e}isLinkItem(e){return e==="link"?!0:typeof e=="object"&&typeof e?.link=="object"}isLinkWithOptions(e){return typeof e=="object"&&typeof e?.link=="object"}getLinkOptions(e){return e?.link}ngOnInit(){if(!this.editor)throw new Ho("Required editor instance to initialize menu component");this.menuService.editor=this.editor}static \u0275fac=function(n){return new(n||i)(S(Ki))};static \u0275cmp=R({type:i,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},standalone:!1,features:[Ue([Ki])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(n,r){n&1&&(u(0,"div",0),k(1,xD,2,2,"ng-container",1)(2,CD,2,1,"ng-container",2),p()),n&2&&(v("ngClass",We(4,uD,r.disabled,r.dropdownPlacement==="top")),m(),v("ngForOf",r.toolbar)("ngForTrackBy",r.trackByIndex),m(),v("ngIf",r.customMenuRef))},dependencies:[Se,xe,de,xi,GM,qM,KM,YM,JM,XM,Nu],encapsulation:2})}return i})();var t9=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({providers:[oa],imports:[Y,X1]})}return i})(),Wd=new N("NgxEditorConfig"),D7={locals:Uh,icons:N7},L7=(()=>{class i{static forRoot(e=D7){return{ngModule:i,providers:[{provide:Wd,useValue:e},{provide:Gh,useFactory:S7,deps:[Wd]}]}}static forChild(e=D7){return{ngModule:i,providers:[{provide:Wd,useValue:e},{provide:Gh,useFactory:S7,deps:[Wd]},Jr]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({imports:[Y,t9]})}return i})();var en=(i,t=!1)=>(e,n)=>{let r=new Jn(i);return t?r.toggle()(e,n):r.apply()(e,n)},qh=class{view;state;tr;constructor(t){if(!t)throw new Ho("Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}applyTrx=t=>{this.state=this.state.apply(t??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)};dispatch=t=>{this.applyTrx(t)};exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0}focus(t="end"){let e=t==="start"?ye.atStart(this.state.doc):ye.atEnd(this.state.doc);return this.tr.setSelection(e),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(t){return this.tr.insertText(t),this.applyTrx(),this}insertNewLine(){return ta(...[Ch,Dh,Mh,Ah])(this.state,this.dispatch),this}applyMark(t){return en(t,!1)(this.state,this.dispatch),this}toggleMark(t){return en(t,!0)(this.state,this.dispatch),this}bold(){return en("strong")(this.state,this.dispatch),this}toggleBold(){return en("strong",!0)(this.state,this.dispatch),this}italics(){return en("em")(this.state,this.dispatch),this}toggleItalics(){return en("em",!0)(this.state,this.dispatch),this}underline(){return en("u")(this.state,this.dispatch),this}toggleUnderline(){return en("u",!0)(this.state,this.dispatch),this}strike(){return en("s")(this.state,this.dispatch),this}toggleStrike(){return en("s",!0)(this.state,this.dispatch),this}code(){return en("code")(this.state,this.dispatch),this}toggleCode(){return en("code",!0)(this.state,this.dispatch),this}superscript(){return en("sup")(this.state,this.dispatch),this}subscript(){return en("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new ia(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new ia(!0).toggle()(this.state,this.dispatch),this}toggleHeading(t){return new gi(t).toggle()(this.state,this.dispatch),this}insertLink(t,e){return new Zh().insert(t,e)(this.state,this.dispatch),this}updateLink(t){return new Zh().update(t)(this.state,this.dispatch),this}insertImage(t,e={}){return new O7().insert(t,e)(this.state,this.dispatch),this}textColor(t){return new na("text_color").apply({color:t})(this.state,this.dispatch),this}backgroundColor(t){return new na("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this}removeTextColor(){return new na("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new na("text_background_color").remove()(this.state,this.dispatch),this}align(t){return new Yr(t).toggle()(this.state,this.dispatch),this}insertHTML(t){let{selection:e,schema:n,tr:r}=this.state,{from:o,to:a}=e,s=document.createElement("div");s.innerHTML=k7(t)?t.trim():t;let l=ji.fromSchema(n).parseSlice(s),c=r.replaceRange(o,a,l);return this.applyTrx(c),this}indent(){return new ra("increase").insert()(this.state,this.dispatch),this}outdent(){return new ra("decrease").insert()(this.state,this.dispatch),this}},n9=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,i9=i=>Ld(/^\s*>\s$/,i),r9=i=>Ld(/^(?:\d+)\.\s$/,i,t=>({order:Number(t[1])}),(t,e)=>e.childCount+e.attrs.order===Number(t[1])),o9=i=>Ld(/^\s*(?:[-+*])\s$/,i),a9=i=>kh(/^```$/,i),s9=(i,t)=>kh(new RegExp(`^(#{1,${t}})\\s$`),i,e=>({level:e[1].length})),l9=i=>Rh(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,i),c9=i=>Rh(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,i),d9=i=>{let t=c7.concat(l7,s7);return t.push(l9(i.marks.strong)),t.push(c9(i.marks.em)),t.push(i9(i.nodes.blockquote)),t.push(r9(i.nodes.ordered_list)),t.push(o9(i.nodes.bullet_list)),t.push(a9(i.nodes.code_block)),t.push(s9(i.nodes.heading,6)),a7({rules:t})},u9=(i,t)=>{let e={};e["Mod-z"]=Zd,n9?e["Shift-Mod-z"]=Vs:e["Mod-y"]=Vs;let n=[Bs({"Mod-b":Gr(i.marks.strong),"Mod-i":Gr(i.marks.em),"Mod-u":Gr(i.marks.u),"Mod-`":Gr(i.marks.code)}),Bs({Enter:q2(i.nodes.list_item),"Shift-Enter":ta(Eh,(r,o)=>{let{tr:a}=r,s=i.nodes.hard_break;return o(a.replaceSelectionWith(s.create()).scrollIntoView()),!0}),"Mod-[":yh(i.nodes.list_item),"Mod-]":wh(i.nodes.list_item),Tab:wh(i.nodes.list_item)}),Bs(r7)];return t.history&&n.push(Bs(e)),n},p9=(i,t)=>{let e=[];return t.keyboardShortcuts&&e.push(...u9(i,{history:t.history})),t.history&&e.push(_7()),t.inputRules&&e.push(d9(i)),e},V7={linkOnPaste:!0,resizeImage:!0},M7={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Ls,plugins:[],nodeViews:{},attributes:{},features:V7,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},qd=class{options;view;constructor(t=M7){this.options=T(T({},M7),t),this.createEditor()}valueChangesSubject=new H;updateSubject=new H;get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Ls}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new qh(this.view)}get features(){return T(T({},V7),this.options.features)}handleTransactions(t){let e=this.view.state.apply(t);if(this.view.updateState(e),this.updateSubject.next(this.view),!t.docChanged&&!t.getMeta("FORCE_EMIT"))return;let n=e.doc.toJSON();this.valueChangesSubject.next(n)}createEditor(){let{options:t,schema:e}=this,{content:n=null,nodeViews:r}=t,{history:o=!0,keyboardShortcuts:a=!0,inputRules:s=!0}=t,l=b7(n,e,t.parseOptions),c=t.plugins??[],d=t.attributes??{},h=p9(e,{history:o,keyboardShortcuts:a,inputRules:s});this.view=new Os(null,{state:Cd.create({doc:l,schema:e,plugins:[...h,...c]}),nodeViews:r,dispatchTransaction:this.handleTransactions.bind(this),attributes:d,handleScrollToSelection:t.handleScrollToSelection})}setContent(t){if(H5(t))return;let{state:e}=this.view,{tr:n,doc:r}=e,o=b7(t,this.schema,this.options.parseOptions);n.replaceWith(0,e.doc.content.size,o),!r.eq(n.doc)&&n.docChanged&&this.view.dispatch(n)}registerPlugin(t){let{state:e}=this.view,n=[...e.plugins,t],r=e.reconfigure({plugins:n});this.view.updateState(r)}destroy(){this.view.destroy()}};var Kd=class i{editor;html="";ngOnInit(){this.editor=new qd}ngOnDestroy(){this.editor.destroy()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-pengajuan-memo-internal"]],decls:6,vars:5,consts:[[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[1,"NgxEditor__Wrapper"],[3,"editor"],[3,"editor","ngModel","disabled","placeholder"]],template:function(e,n){e&1&&(u(0,"div")(1,"p",0),f(2,"Request Memo Internal"),p(),u(3,"div",1),w(4,"ngx-editor-menu",2)(5,"ngx-editor",3),p()()),e&2&&(m(4),v("editor",n.editor),m(),v("editor",n.editor)("ngModel",n.html)("disabled",!1)("placeholder","Type here..."))},dependencies:[L7,R7,F7,Y,ue,Ie,Fe],encapsulation:2})};function m9(i,t){i&1&&(u(0,"div"),w(1,"app-c-loading-spin"),p())}var Yd=class i{is_fetching=!0;editor_val="";ngOnInit(){return O(this,null,function*(){this.fetchAll()})}fetchAll(){this.is_fetching=!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=R({type:i,selectors:[["app-p-new-memo"]],decls:4,vars:1,consts:[[1,"grow","bg-red-400"],[1,"w-fit","text-2xl","mb-4"],[4,"ngIf"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),f(2," New Memo Internal "),p(),k(3,m9,2,0,"div",2),p()),e&2&&(m(3),v("ngIf",n.is_fetching))},dependencies:[vn,Y,de,ue],encapsulation:2})};var aa=class i{constructor(t,e,n,r,o){this.http=t;this.user_rep=e;this.login_rep=n;this.repFetch=r;this.snackbar=o}arr_parent_banks=[];getParentBanks(){return O(this,null,function*(){console.log("getParentBanks");let t=yield this.repFetch.fetch_get_auto({},"get_banks_parent");return this.arr_parent_banks=t.data,t})}getArrParentBanks(t){return O(this,null,function*(){return t.data})}add_bank(t){return O(this,null,function*(){let e=t,n=yield this.repFetch.fetch_post_auto(e,"add_bank");return n.status!=200?(this.snackbar.open(n.message,void 0,{duration:5e3,panelClass:"notif_failed"}),!1):(this.snackbar.open(n.message,void 0,{duration:5e3,panelClass:"notif_success"}),!0)})}bank_final_validator(t){console.log("bank_final_validator"),console.log(t);let e="";if(t.is_va==!0){if(t.bank_name.trim().length==0||t.bank_name==null)return e="Nama bank tidak boleh kosong",this.snackbar.open(e,void 0,{duration:5e3,panelClass:"notif_failed"}),!1;if(t.bank_parent==null)return e="Bank parent tidak boleh kosong",this.snackbar.open(e,void 0,{duration:5e3,panelClass:"notif_failed"}),!1}else{if(t.bank_name.trim().length==0||t.bank_name==null)return e="Nama bank tidak boleh kosong",this.snackbar.open(e,void 0,{duration:5e3,panelClass:"notif_failed"}),!1;if(t.bank_code.length==0)return e="Kode bank tidak boleh kosong",this.snackbar.open(e,void 0,{duration:5e3,panelClass:"notif_failed"}),!1}return!0}update_bank(t){return O(this,null,function*(){t.EMPL_CODE=this.user_rep.get_usr_empl_code();let e=t,n=yield this.repFetch.fetch_post_auto(e,"update_bank");return console.log(n),console.log(n.status),n.status==200?(this.snackbar.open("Perubahan berhasil",void 0,{duration:5e3,panelClass:"notif_success"}),!0):(this.snackbar.open("Perubahan gagal",void 0,{duration:5e3,panelClass:"notif_failed"}),!1)})}static \u0275fac=function(e){return new(e||i)(B(Ee),B(lt),B(Vo),B(Un),B(Ge))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var f9=i=>({"opacity-40":i});function g9(i,t){if(i&1&&(u(0,"ng-option",13),f(1),p()),i&2){let e=t.$implicit;v("value",e.BANK_ID),m(),P(e.BANK_NAME)}}function _9(i,t){if(i&1){let e=Z();u(0,"div",2)(1,"p",3),f(2,"Bank Parent Name : "),p(),w(3,"div",4),u(4,"ng-select",11),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_parent_bank,r)||(o.act_parent_bank=r),A(r)}),E("change",function(r){M(e);let o=x();return A(o.change_parent(r))}),k(5,g9,2,2,"ng-option",12),p()()}if(i&2){let e=x();m(4),W("ngModel",e.act_parent_bank),m(),v("ngForOf",e.arr_parent_banks)}}function v9(i,t){if(i&1){let e=Z();u(0,"div",14)(1,"button",15),E("click",function(){M(e);let r=x();return A(r.update_bank())}),ee(),u(2,"svg",16),w(3,"path",17),p(),De(),u(4,"p",18),f(5,"Simpan Perubahan"),p()(),w(6,"div",4),u(7,"button",19),E("click",function(){M(e);let r=x();return A(r.remove_suppl())}),ee(),u(8,"svg",16),w(9,"path",20),p(),De(),u(10,"p",18),f(11,"Remove Supplier"),p()()()}if(i&2){let e=x();m(),v("ngClass",be(1,f9,e.is_fetching_update))}}function b9(i,t){i&1&&(u(0,"div",21)(1,"p"),f(2,"Proccessing..."),p()())}var Jd=class i{constructor(t){this.repSetup=t}is_fetching_update;data_new;arr_parent_banks=[];act_parent_bank="346";data;closePopupEvent=new j;refreshData=new j;ngOnInit(){this.setData()}setData(){this.data_new=T({},this.data),this.arr_parent_banks=this.repSetup.arr_parent_banks,this.act_parent_bank=this.data_new.BANK_PARENT_NAME,console.log(this.data_new)}remove_suppl(){throw new Error("Method not implemented.")}update_bank(){return O(this,null,function*(){if(!this.is_fetching_update){this.is_fetching_update=!0;try{if(yield this.repSetup.update_bank(this.data_new)){this.refreshData.emit(),this.closePopupEvent.emit();return}else return}catch(t){console.log(t)}}this.is_fetching_update=!1})}cancelAction(t){t.stopPropagation()}closeThis(){this.closePopupEvent.emit()}change_parent(t){this.data_new.BANK_PARENT_ID=this.act_parent_bank}static \u0275fac=function(e){return new(e||i)(S(aa))};static \u0275cmp=R({type:i,selectors:[["app-c-bank-box"]],inputs:{data:"data"},outputs:{closePopupEvent:"closePopupEvent",refreshData:"refreshData"},decls:34,vars:8,consts:[[1,"w-[100vw]","h-[100vh]","bg-[#0000006b]","fixed","z-20","left-0","top-0","flex","items-center","justify-center",3,"click"],[1,"w-[45vw]","h-fit","p-4","bg-white","text-sm","rounded-md","relative","border-2","border-[#e0e0e0]","flex","flex-col","space-y-2",3,"click"],[1,"flex","flex-row","items-center"],[1,"text-sm","w-40"],[1,"mx-2"],[1,"p-1","px-2","w-[26vw]","grow","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],["disabled","",1,"p-1","px-2","w-[26vw]","grow","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModelChange","ngModel"],["disabled","",1,"p-1","px-2","w-[26vw]","grow","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"ngModel"],["class","flex flex-row items-center",4,"ngIf"],["class","flex flex-row justify-between mt-4",4,"ngIf"],["class","mt-4 h-[43px] flex items-center justify-center",4,"ngIf"],[1,"grow",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-row","justify-between","mt-4"],[1,"p-2","bg-green-700","border-2","border-green-600","text-white","fill-white","rounded-md","flex","flex-row","items-center","opacity-100",3,"click","ngClass"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 256 256"],["d","M219.31,72,184,36.69A15.86,15.86,0,0,0,172.69,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V83.31A15.86,15.86,0,0,0,219.31,72ZM168,208H88V152h80Zm40,0H184V152a16,16,0,0,0-16-16H88a16,16,0,0,0-16,16v56H48V48H172.69L208,83.31ZM160,72a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h56A8,8,0,0,1,160,72Z"],[1,"ml-1"],[1,"p-2","bg-red-700","border-2","border-red-600","text-white","fill-white","rounded-md","flex","flex-row","items-center",3,"click"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"mt-4","h-[43px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0),E("click",function(){return n.closeThis()}),u(1,"div",1),E("click",function(o){return n.cancelAction(o)}),u(2,"div",2)(3,"p",3),f(4,"Nama Bank : "),p(),w(5,"div",4),u(6,"input",5),G("ngModelChange",function(o){return $(n.data_new.BANK_NAME,o)||(n.data_new.BANK_NAME=o),o}),p()(),u(7,"div",2)(8,"p",3),f(9,"Kode Bank : "),p(),w(10,"div",4),u(11,"input",6),G("ngModelChange",function(o){return $(n.data_new.BANK_CODE,o)||(n.data_new.BANK_CODE=o),o}),p()(),u(12,"div",2)(13,"p",3),f(14,"Is Virtual Account (VA) : "),p(),w(15,"div",4)(16,"input",7),p(),k(17,_9,6,2,"div",8),u(18,"div",2)(19,"p",3),f(20,"Is Active : "),p(),w(21,"div",4),u(22,"select",5),G("ngModelChange",function(o){return $(n.data_new.IS_ACTIVE,o)||(n.data_new.IS_ACTIVE=o),o}),u(23,"option"),f(24,"Y"),p(),u(25,"option"),f(26,"N"),p()()(),u(27,"div",2)(28,"p",3),f(29,"Created By : "),p(),w(30,"div",4)(31,"input",7),p(),k(32,v9,12,3,"div",9)(33,b9,3,0,"div",10),p()()),e&2&&(m(6),W("ngModel",n.data_new.BANK_NAME),m(5),W("ngModel",n.data_new.BANK_CODE),m(5),v("ngModel",n.data_new.IS_VA),m(),v("ngIf",n.data_new.IS_VA=="Y"),m(5),W("ngModel",n.data_new.IS_ACTIVE),m(9),v("ngModel",n.data.CREATED_BY),m(),v("ngIf",!n.is_fetching_update),m(),v("ngIf",n.is_fetching_update))},dependencies:[Y,Se,xe,de,ue,ot,at,ze,Pt,Ie,Fe,fn,kr],encapsulation:2})};var H7=i=>({"placeholder-opacity-100":i}),y9=(i,t)=>({"bg-gray-300":i,"opacity-50":t});function w9(i,t){if(i&1){let e=Z();u(0,"div")(1,"app-c-bank-box",20),E("closePopupEvent",function(){M(e);let r=x();return A(r.f_close_bank_box())})("refreshData",function(){M(e);let r=x();return A(r.getTableData())}),p()()}if(i&2){let e=x();m(),v("data",e.act_bank_detail)}}function x9(i,t){if(i&1&&(u(0,"ng-option",24),f(1),p()),i&2){let e=t.$implicit;v("value",e.BANK_ID),m(),P(e.BANK_NAME)}}function C9(i,t){if(i&1){let e=Z();u(0,"div"),w(1,"div",7),u(2,"div",4)(3,"label",0),f(4,"Bank Parent:"),p(),u(5,"p",8),f(6," Pilih parent bank virtual account. "),p(),u(7,"div",21)(8,"ng-select",22),E("remove",function(){M(e);let r=x();return A(r.clear_act_bank())})("clear",function(){M(e);let r=x();return A(r.clear_act_bank())})("change",function(r){M(e);let o=x();return A(o.on_bank_parent_change(r))}),k(9,x9,2,2,"ng-option",23),p()()()()}if(i&2){let e=x();m(9),v("ngForOf",e.arr_banks)}}function S9(i,t){if(i&1){let e=Z();u(0,"tr",60)(1,"td",61),f(2),p(),u(3,"td",62),f(4),p(),u(5,"td",63),f(6),p(),u(7,"td",63),f(8),p(),u(9,"td",63),f(10),p(),u(11,"td",63),f(12),p(),u(13,"td",64)(14,"button",65),E("click",function(){let r=M(e).index,o=x(3);return A(o.f_show_bank_box(r))}),f(15," Action "),p()()()}if(i&2){let e,n,r=t.$implicit,o=t.index;m(2),P(o+1),m(2),P(r.BANK_NAME),m(2),P((e=r.BANK_CODE)!==null&&e!==void 0?e:"-"),m(2),P(r.IS_VA),m(2),P((n=r.BANK_PARENT_NAME)!==null&&n!==void 0?n:"-"),m(2),P(r.IS_ACTIVE)}}function E9(i,t){i&1&&(u(0,"div",66),f(1," No Data "),p())}function D9(i,t){if(i&1){let e=Z();u(0,"div",42)(1,"table",43)(2,"thead",44)(3,"tr",0)(4,"th",45),f(5,"NO"),p(),u(6,"th",46),f(7,"Nama Bank"),p(),u(8,"th",47),f(9,"Kode Bank"),p(),u(10,"th",48),f(11,"Is Virtual Account"),p(),u(12,"th",46),f(13,"Bank parent"),p(),u(14,"th",49),f(15,"Is Active"),p(),u(16,"th",50),f(17,"ACTION"),p()()(),u(18,"tbody",51),k(19,S9,16,6,"tr",52),p()(),k(20,E9,2,0,"div",53),u(21,"div",54)(22,"button",55),E("click",function(){M(e);let r=x(2);return A(r.pgDown())}),ee(),u(23,"svg",56),w(24,"path",57),p()(),De(),u(25,"input",58),G("ngModelChange",function(r){M(e);let o=x(2);return $(o.act_page,r)||(o.act_page=r),A(r)}),E("keydown.enter",function(){M(e);let r=x(2);return A(r.getTableData())}),p(),u(26,"button",55),E("click",function(){M(e);let r=x(2);return A(r.pgUp())}),ee(),u(27,"svg",56),w(28,"path",59),p()()()()}if(i&2){let e=x(2);m(19),v("ngForOf",e.tableData),m(),v("ngIf",e.tableData.length==0),m(5),W("ngModel",e.act_page)}}function M9(i,t){i&1&&(u(0,"div",67)(1,"p"),f(2,"Fetching data..."),p()())}function A9(i,t){if(i&1){let e=Z();u(0,"div",25),w(1,"div",26),u(2,"p",1),f(3,"Edit Bank"),p(),u(4,"div",27)(5,"div",28)(6,"input",29),G("ngModelChange",function(r){M(e);let o=x();return $(o.q_search,r)||(o.q_search=r),A(r)}),E("keyup.enter",function(){M(e);let r=x();return A(r.getTableData())}),p(),w(7,"div",17),u(8,"Button",30),E("click",function(){M(e);let r=x();return A(r.getTableData())}),u(9,"p",31),f(10,"Search"),p(),w(11,"div",32),ee(),u(12,"svg",33),w(13,"path",34),p()()(),De(),w(14,"div",17),u(15,"Button",35),E("click",function(){M(e);let r=x();return A(r.getTableData())}),u(16,"p",36),f(17,"Refresh"),p(),w(18,"div",37),ee(),u(19,"svg",38),w(20,"path",39),p()()(),k(21,D9,29,3,"div",40)(22,M9,3,0,"div",41),De(),w(23,"div",26),p()}if(i&2){let e=x();m(6),W("ngModel",e.q_search),m(15),v("ngIf",!e.is_fetching_data),m(),v("ngIf",e.is_fetching_data)}}var Xd=class i{constructor(t,e,n,r){this.repSetup=t;this.repFetch=e;this.repUser=n;this.snackbar=r}act_page=1;is_fetching_data;tableData=[];arr_banks=[];arr_banks_base=[];list_bank=[];act_bank_detail=null;is_fetching=!1;is_fetching_new=!1;can_add_suppl=!1;bank_parent_id=null;is_va=!1;show_box=!1;q_search="";bank_name="";bank_code="";ngOnInit(){this.initLoad()}initLoad(){return O(this,null,function*(){yield this.getParentBanks()})}getTableData(){return O(this,null,function*(){let t={q_page:this.act_page,q_search:this.q_search.trim()};this.tableData=(yield this.repFetch.fetch_get_auto(t,"get_bank_setup")).data})}getParentBanks(){return O(this,null,function*(){this.arr_banks_base=yield this.repSetup.getParentBanks(),this.arr_banks=yield this.repSetup.getArrParentBanks(this.arr_banks_base),console.log(this.arr_banks)})}on_va_change(t){t.target.checked?(this.bank_code=null,this.is_va=!0):(this.is_va=!1,this.bank_parent_id=null)}on_bank_parent_change(t){this.bank_parent_id=t.toString()}clear_act_bank(){this.bank_parent_id=null}listen_inps(){}pgUp(){this.act_page++,localStorage.setItem("q_paging",this.act_page.toString()),this.getTableData()}pgDown(){this.act_page>1&&(this.act_page--,localStorage.setItem("q_paging",this.act_page.toString()),this.getTableData())}add_bank(){return O(this,null,function*(){if(!this.is_fetching_new){let t={bank_code:this.bank_code,bank_name:this.bank_name,is_va:this.is_va,bank_parent:this.bank_parent_id,empl_code:this.repUser.get_usr_empl_code()};this.is_fetching_new=!0,this.repSetup.bank_final_validator(t)&&(yield this.repSetup.add_bank(t))&&this.clear_inp(),this.is_fetching_new=!1}})}clear_inp(){this.bank_code=null,this.bank_name="",this.is_va=!1,this.bank_parent_id=null}reset_add_bank(){throw new Error("Method not implemented.")}get_suppliers(){throw new Error("Method not implemented.")}f_show_bank_box(t){if(!this.repUser.isAdmin()){this.snackbar.open("Bukan administrator",void 0,{duration:5e3,panelClass:"notif_failed"});return}this.can_add_suppl=!0,this.act_bank_detail=this.tableData[t],this.show_box=!0}f_close_bank_box(){this.show_box=!1}static \u0275fac=function(e){return new(e||i)(S(aa),S(Un),S(lt),S(Ge))};static \u0275cmp=R({type:i,selectors:[["app-p-setup-bank"]],decls:32,vars:17,consts:[[1,""],[1,"text-2xl","mb-4","font-medium","tracking-wide","rounded-md","w-fit"],[4,"ngIf"],[1,"text-sm"],[1,"flex","flex-col","justify-center"],[1,"mb-2"],[1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","ngModel"],[1,"my-4"],[1,"text-sm","text-[#888]","tracking-wide","rounded-md","w-fit","mb-2"],["type","number",1,"p-2","w-[30vw]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"input","ngModelChange","disabled","ngModel"],[1,"flex","flex-row","items-center"],["for","va_bool",1,"select-none","mr-2","pb-[2px]"],["id","va_bool","type","checkbox",1,"h-[15px]","w-[15px]","tracking-wide","rounded-md","border-gray-200","border-2","focus:ring-0","outline-blue-200","transition-all",3,"change","ngModelChange","ngModel"],[1,"my-6"],[1,"flex","flex-row"],[1,"w-24","p-2","bg-red-700","border-2","opacity-100","border-red-600","text-white","rounded-md","transition-all",3,"click"],[3,"ngClass"],[1,"mx-1"],[1,"w-44","p-2","bg-green-700","border-2","opacity-100","border-green-600","text-white","rounded-md","transition-all",3,"click","ngClass"],["class","flex flex-col",4,"ngIf"],[3,"closePopupEvent","refreshData","data"],[1,"w-[30vw]"],[3,"remove","clear","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col"],[1,"py-8"],[1,"mb-4","flex","flex-row","items-center"],[1,"rounded-full","border","border-gray-400","p-1","flex","flex-row","items-center","w-fit"],["placeholder","Search",1,"p-2","ml-2","bg-none","rounded-full","outline-none","text-sm","w-[200px]",3,"ngModelChange","keyup.enter","ngModel"],[1,"p-1","h-fit","bg-[#252525]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-2","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[2px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[3px]"],["d","M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"],[1,"p-1","px-2","h-fit","bg-[#252525]","hover:bg-[#333]","fill-white","rounded-full","text-white","w-fit","flex","items-center",3,"click"],[1,"ml-1","tracking-wide","text-sm","mb-[0.6px]"],[1,"mx-[0.6px]"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 256 256",1,"p-[2px]"],["d","M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"],["class"," border rounded-md flex flex-col justify-between h-[440px]",4,"ngIf"],["class","w-full h-[560px] flex items-center justify-center",4,"ngIf"],[1,"border","rounded-md","flex","flex-col","justify-between","h-[440px]"],[1,"w-full","overflow-x-auto","table-fixed","divide-y","divide-gray-200","rounded-t-md","text-xs"],[1,"w-full","divide-y"],[1,"w-[30px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[130px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[50px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[80px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[40px]","border-slate-500","font-medium","pl-2","py-4"],[1,"w-[60px]","border-slate-500","font-medium","pl-2","py-4"],[1,"border-separate","pt-10"],["class","h-8 flex-grow-0 odd:bg-gray-100 border-b",4,"ngFor","ngForOf"],["class","w-full flex items-center justify-center h-[10px]",4,"ngIf"],[1,"flex","w-full","flex-row","justify-center","items-center","p-4","border-t-2","border-[#eee]"],[1,"p-2","border","border-gray-700","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"],["type","number",1,"text-xl","font-medium","mx-4","w-10","text-center",3,"ngModelChange","keydown.enter","ngModel"],["d","M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"],[1,"h-8","flex-grow-0","odd:bg-gray-100","border-b"],[1,"px-2","border","border-l-0","text-center"],[1,"px-2","border","text-start"],[1,"px-2","border","text-center"],[1,"px-2","border","border-r-0","text-center","py-2"],[1,"mx-2","rounded-full","px-4","py-1","bg-[#242424]","text-white",3,"click"],[1,"w-full","flex","items-center","justify-center","h-[10px]"],[1,"w-full","h-[560px]","flex","items-center","justify-center"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"p",1),f(2,"Set Up Bank"),p(),k(3,w9,2,1,"div",2),u(4,"div",3)(5,"div",4)(6,"label",5),f(7,"Nama Bank :"),p(),u(8,"input",6),E("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.bank_name,o)||(n.bank_name=o),o}),p()(),w(9,"div",7),u(10,"div",4)(11,"label",0),f(12,"Kode bank :"),p(),u(13,"p",8),f(14," Pastikan bank yang akan didaftarkan belum terdaftar berdasarkan KODE BANK. "),p(),u(15,"input",9),E("input",function(){return n.listen_inps()}),G("ngModelChange",function(o){return $(n.bank_code,o)||(n.bank_code=o),o}),p()(),w(16,"div",7),u(17,"div",10)(18,"label",11),f(19,"Virtual Account :"),p(),u(20,"input",12),E("change",function(o){return n.on_va_change(o)}),G("ngModelChange",function(o){return $(n.is_va,o)||(n.is_va=o),o}),p()(),k(21,C9,10,1,"div",2),w(22,"div",13),u(23,"div",14)(24,"button",15),E("click",function(){return n.reset_add_bank()}),u(25,"p",16),f(26,"Reset"),p()(),w(27,"div",17),u(28,"button",18),E("click",function(){return n.add_bank()}),u(29,"p",16),f(30,"Tambah Bank"),p()()()(),k(31,A9,24,3,"div",19),p()),e&2&&(m(3),v("ngIf",n.show_box),m(5),W("ngModel",n.bank_name),m(7),v("disabled",n.is_va),W("ngModel",n.bank_code),m(5),W("ngModel",n.is_va),m(),v("ngIf",n.is_va),m(4),v("ngClass",be(10,H7,n.is_fetching===!0)),m(3),v("ngClass",We(12,y9,n.is_fetching===!0,!n.can_add_suppl)),m(),v("ngClass",be(15,H7,n.is_fetching===!0)),m(2),v("ngIf",!0))},dependencies:[Y,Se,xe,de,ue,ze,ri,es,Ie,Fe,fn,kr,Jd],encapsulation:2})};function k9(i,t){if(i&1&&(u(0,"option",10),f(1),p()),i&2){let e=t.$implicit;v("value",e.empl_branch),m(),we(" ",e.cabang,"")}}function T9(i,t){if(i&1){let e=Z();u(0,"select",8),E("change",function(r){M(e);let o=x();return A(o.on_lov_cabang_change(r))}),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_cabang,r)||(o.act_cabang=r),A(r)}),k(1,k9,2,2,"option",9),p()}if(i&2){let e=x();W("ngModel",e.act_cabang),m(),v("ngForOf",e.lov_cabang)}}function I9(i,t){if(i&1&&(u(0,"option",12),f(1),p()),i&2){let e=t.$implicit;v("value",e.personal_subarea),m(),we("",e.job_name," ")}}function P9(i,t){if(i&1){let e=Z();u(0,"select",8),E("change",function(r){M(e);let o=x();return A(o.on_lov0_change(r))}),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_sub_area,r)||(o.act_sub_area=r),A(r)}),k(1,I9,2,2,"option",11),p()}if(i&2){let e=x();W("ngModel",e.act_sub_area),m(),v("ngForOf",e.lov0)}}function R9(i,t){if(i&1&&(u(0,"option"),f(1),p()),i&2){let e=t.$implicit;m(),P(e.empl_name)}}function O9(i,t){if(i&1){let e=Z();u(0,"select",8),E("change",function(r){M(e);let o=x();return A(o.on_lov1_change(r))}),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_person,r)||(o.act_person=r),A(r)}),k(1,R9,2,1,"option",13),p()}if(i&2){let e=x();W("ngModel",e.act_person),m(),v("ngForOf",e.lov1)}}function N9(i,t){if(i&1&&(u(0,"option"),f(1),p()),i&2){let e=t.$implicit;m(),P(e)}}function F9(i,t){if(i&1){let e=Z();u(0,"select",8),E("change",function(r){M(e);let o=x();return A(o.on_checker_change(r))}),G("ngModelChange",function(r){M(e);let o=x();return $(o.act_checker,r)||(o.act_checker=r),A(r)}),k(1,N9,2,1,"option",13),p()}if(i&2){let e=x();W("ngModel",e.act_checker),m(),v("ngForOf",e.arr_checker)}}var Qd=class i{constructor(t,e,n){this.http=t;this.repUser=e;this.router=n}itemData;itemIndex;total_i;itemDataChange=new j;deleteThis=new j;itemDataVal;act_user;act_cabang;act_sub_area;act_job;act_person;act_person_obj;act_checker;last_item=!1;exl_empl_code;lov_cabang;lov0;lov1;fetching_cabang=!0;fetching_subarea=!0;fetching_person=!0;arr_checker=["APPROVE","CEK"];ngOnInit(){this.initLoad()}initLoad(){return O(this,null,function*(){this.set_init(),yield this.get_cabang(),this.act_user=this.repUser.get_usr_empl_code()})}set_init(){this.itemDataVal=T({},this.itemData),this.act_cabang="-",this.act_person=null,this.act_person_obj=null,this.last_item=this.itemIndex+1==this.total_i,console.log(this.itemIndex+1),console.log(this.total_i)}on_lov_cabang_change(t){return O(this,null,function*(){let e=t.target,n=e.value,r=e.options[e.selectedIndex].text,o=e.selectedIndex,a=this.lov_cabang[o];this.act_cabang=n,this.act_job=null,this.act_person=null,this.act_sub_area=a.personal_subarea,this.act_checker=null,this.act_person=null,this.act_person_obj=null,yield this.get_appr_subarea()})}on_lov0_change(t){return O(this,null,function*(){let e=t.target,n=e.value,r=e.options[e.selectedIndex].text;this.act_sub_area=n,this.act_job=r,console.log([this.act_person,this.act_person_obj]),this.act_checker=null,this.act_person=null,yield this.get_appr_person()})}on_lov1_change(t){return O(this,null,function*(){let e=t.target,n=e.options[e.selectedIndex].index;this.act_person_obj=this.lov1[n],this.act_checker=null})}on_checker_change(t){let n=t.target.selectedIndex;this.change_act_person()}change_act_person(){this.itemData.EMPL_NAME=this.act_person_obj.empl_name,this.itemData.EMPL_CODE=this.act_person_obj.empl_code,this.itemData.LVL=this.itemIndex,this.itemData.POSISION=this.act_checker,this.itemDataChange.emit(this.itemData)}removeThis(t){console.log(this.itemIndex),this.deleteThis.emit(this.itemIndex)}get_cabang(){return O(this,null,function*(){this.fetching_cabang=!0;let t={personal_subarea:Me(this.router).personal_subarea,EMPL_BRANCH:Me(this.router).EMPL_BRANCH};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_user_cabang",{params:t}));console.log(e),this.lov_cabang=e.data,this.act_cabang=null,this.act_job=null,this.fetching_cabang=!1})}get_appr_subarea(){return O(this,null,function*(){console.log("get_appr_subarea"),this.fetching_subarea=!0;let t={empl_branch:this.act_cabang,empl_subarea:this.act_sub_area};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_appr_subarea",{params:t}));this.act_sub_area=null,this.lov0=e.data,this.act_job=null,this.act_person=null,this.fetching_subarea=!1})}get_appr_person(){return O(this,null,function*(){console.log("get_user_cabang"),this.fetching_person=!0;let t={EMPL_BRANCH:this.act_cabang,empl_subarea:this.act_sub_area,ACT_JOB:this.act_job,act_user:this.act_user};var e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/get_appr_person",{params:t}));this.lov1=e.data,this.act_person_obj=null,this.act_person=null,this.fetching_person=!1})}static \u0275fac=function(e){return new(e||i)(S(Ee),S(lt),S(te))};static \u0275cmp=R({type:i,selectors:[["app-c-approval-item-v2"]],inputs:{itemData:"itemData",itemIndex:"itemIndex",total_i:"total_i"},outputs:{itemDataChange:"itemDataChange",deleteThis:"deleteThis"},decls:12,vars:5,consts:[[1,"w-full","flex","flex-row","justify-between","items-center","p-2","py-0","border","bg-white","border-gray-300","rounded-md","drop-shadow-sm"],[1,"flex","flex-row","grow","items-center"],[1,"pl-1","pr-4","w-8","text-center","select-none"],["class","w-[240px] mr-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md focus:ring-blue-500 focus:border-blue-500 block p-1.5 ",3,"ngModel","change","ngModelChange",4,"ngIf"],[1,""],[1,"p-2","text-[#c92f2f]","rounded-md","fill-[#c92f2f]",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 256 256"],["d","M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"],[1,"w-[240px]","mr-4","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-md","focus:ring-blue-500","focus:border-blue-500","block","p-1.5",3,"change","ngModelChange","ngModel"],["class","",3,"value",4,"ngFor","ngForOf"],[1,"",3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1)(2,"p",2),f(3),p(),k(4,T9,2,2,"select",3)(5,P9,2,2,"select",3)(6,O9,2,2,"select",3)(7,F9,2,2,"select",3),p(),u(8,"div",4)(9,"button",5),E("click",function(o){return n.removeThis(o)}),ee(),u(10,"svg",6),w(11,"path",7),p()()()()),e&2&&(m(3),P(n.itemIndex+1),m(),v("ngIf",!n.fetching_cabang),m(),v("ngIf",n.act_cabang!=null&&!n.fetching_cabang),m(),v("ngIf",n.act_job!=null&&!n.fetching_person),m(),v("ngIf",n.act_person_obj!=null&&n.act_cabang!=null&&n.act_person_obj!=null))},dependencies:[ue,ot,at,Pt,Ie,Fe,Y,xe,de],encapsulation:2})};function L9(i,t){if(i&1){let e=Z();u(0,"div",5)(1,"app-c-approval-item-v2",6),E("deleteThis",function(){let r=M(e).index,o=x();return A(o.delete_row(r))}),G("itemDataChange",function(r){let o=M(e).index,a=x();return $(a.arr_item[o],r)||(a.arr_item[o]=r),A(r)}),E("itemDataChange",function(r){M(e);let o=x();return A(o.updateItem(r))}),p()()}if(i&2){let e=t.index,n=x();m(),v("itemIndex",e),W("itemData",n.arr_item[e])}}var eu=class i{constructor(t){this.snackbar=t}arr_item$=new vt([]);arr_item=[];isDone=!0;ngOnInit(){this.arr_item$.subscribe(t=>{})}add_komite(){this.arr_item.push({EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null});let e=[...this.arr_item$.getValue(),{EMPL_NAME:null,EMPL_CODE:null,POSISION:null,LVL:null}];this.arr_item$.next(e)}drop(t){Vi(this.arr_item,t.previousIndex,t.currentIndex),this.arr_item$.next(this.arr_item)}check_komite(){console.log("check komite");for(var t of this.arr_item)if(t.EMPL_CODE==null)return console.log("approve 0"),this.isDone=!1,!1;return!0}get_komite(){return this.arr_item}view_komite(){console.log(this.arr_item)}updateItem(t){console.log("updateItem"),console.log(t)}delete_row(t){this.arr_item.splice(t,1)}static \u0275fac=function(e){return new(e||i)(S(Ge))};static \u0275cmp=R({type:i,selectors:[["app-c-approval-comp"]],decls:7,vars:1,consts:[[1,"p-1","border","border-gray-400","rounded-md","flex-col","flex","items-start","h-[300px]","overflow-y-auto"],["cdkDropList","",1,"space-y-2","flex","flex-col","w-full",3,"cdkDropListDropped"],["cdkDrag","","class","",4,"ngFor","ngForOf"],[1,"flex","flex-row"],[1,"mt-2","rounded-md","px-2","py-1","bg-gray-600","text-white",3,"click"],["cdkDrag","",1,""],[3,"deleteThis","itemDataChange","itemIndex","itemData"]],template:function(e,n){e&1&&(u(0,"div")(1,"div",0)(2,"div",1),E("cdkDropListDropped",function(o){return n.drop(o)}),k(3,L9,2,2,"div",2),p()(),u(4,"div",3)(5,"button",4),E("click",function(){return n.add_komite()}),f(6,"Add komite"),p()()()),e&2&&(m(3),v("ngForOf",n.arr_item))},dependencies:[Y,xe,ue,Qd,Rc,Pc],encapsulation:2})};var js=(()=>{class i{_listeners=[];notify(e,n){for(let r of this._listeners)r(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var j7=new N("CdkAccordion");var Z7=(()=>{class i{accordion=y(j7,{optional:!0,skipSelf:!0});_changeDetectorRef=y(qe);_expansionDispatcher=y(js);_openCloseAllSubscription=kt.EMPTY;closed=new j;opened=new j;destroyed=new j;expandedChange=new j;id=y(Pn).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",se],disabled:[2,"disabled","disabled",se]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ue([{provide:j7,useValue:void 0}])]})}return i})(),z7=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({})}return i})();var H9=["body"],j9=["bodyWrapper"],Z9=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],z9=["mat-expansion-panel-header","*","mat-action-row"];function U9(i,t){}var W9=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],$9=["mat-panel-title","mat-panel-description","*"];function G9(i,t){i&1&&(u(0,"span",1),ee(),u(1,"svg",2),w(2,"path",3),p()())}var U7=new N("MAT_ACCORDION"),W7=new N("MAT_EXPANSION_PANEL"),q9=(()=>{class i{_template=y(ge);_expansionPanel=y(W7,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]})}return i})(),$7=new N("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Kh=(()=>{class i extends Z7{_viewContainerRef=y(ut);_animationsDisabled=y(it,{optional:!0})==="NoopAnimations";_document=y(K);_ngZone=y(oe);_elementRef=y(J);_renderer=y(Je);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new j;afterCollapse=new j;_inputChanges=new H;accordion=y(U7,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=y(Pn).getId("mat-expansion-panel-header-");constructor(){super();let e=y($7,{optional:!0});this._expansionDispatcher=y(js),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(un(null),Qe(()=>this.expanded&&!this._portal),Lt(1)).subscribe(()=>{this._portal=new ai(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:n})=>{e===this._bodyWrapper?.nativeElement&&n==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,o){if(n&1&&mt(o,q9,5),n&2){let a;ne(a=ie())&&(r._lazyContent=a.first)}},viewQuery:function(n,r){if(n&1&&(Re(H9,5),Re(j9,5)),n&2){let o;ne(o=ie())&&(r._body=o.first),ne(o=ie())&&(r._bodyWrapper=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(n,r){n&2&&ve("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",se],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ue([{provide:U7,useValue:void 0},{provide:W7,useExisting:i}]),Xe,je],ngContentSelectors:z9,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){n&1&&(tn(Z9),ht(0),u(1,"div",2,0)(3,"div",3,1)(5,"div",4),ht(6,1),k(7,U9,0,0,"ng-template",5),p(),ht(8,2),p()()),n&2&&(m(),He("inert",r.expanded?null:""),m(2),v("id",r.id),He("aria-labelledby",r._headerId),m(4),v("cdkPortalOutlet",r._portal))},dependencies:[Po],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return i})();var G7=(()=>{class i{panel=y(Kh,{host:!0});_element=y(J);_focusMonitor=y(xr);_changeDetectorRef=y(qe);_parentChangeSubscription=kt.EMPTY;constructor(){y(Jt).load(zc);let e=this.panel,n=y($7,{optional:!0}),r=y(new $s("tabindex"),{optional:!0}),o=e.accordion?e.accordion._stateChanges.pipe(Qe(a=>!!(a.hideToggle||a.togglePosition))):Cn;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=dn(e.opened,e.closed,o,e._inputChanges.pipe(Qe(a=>!!(a.hideToggle||a.disabled||a.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Qe(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),n&&(this.expandedHeight=n.expandedHeight,this.collapsedHeight=n.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:pc(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=R({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(n,r){n&1&&E("click",function(){return r._toggle()})("keydown",function(a){return r._keydown(a)}),n&2&&(He("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Dn("height",r._getHeaderHeight()),ve("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:It(e)]},ngContentSelectors:$9,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){n&1&&(tn(W9),u(0,"span",0),ht(1),ht(2,1),ht(3,2),p(),k(4,G9,3,0,"span",1)),n&2&&(ve("mat-content-hide-toggle",!r._showToggle()),m(4),pt(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return i})();var q7=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=U({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return i})();var K7=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ce({type:i});static \u0275inj=le({imports:[Ar,z7,Ro]})}return i})();var Y9=["approvalComp"],tu=class i{constructor(t){this.sb=t}approvalComp;get_komite(){if(this.approvalComp.check_komite()){let t=this.approvalComp.get_komite();this.sb.open("Lanjut",void 0,{duration:5e3,panelClass:"notif_failed"})}else this.sb.open("Pengisian komite belum lengkap",void 0,{duration:5e3,panelClass:"notif_failed"})}static \u0275fac=function(e){return new(e||i)(S(Ge))};static \u0275cmp=R({type:i,selectors:[["app-p-debug"]],viewQuery:function(e,n){if(e&1&&Re(Y9,5),e&2){let r;ne(r=ie())&&(n.approvalComp=r.first)}},decls:15,vars:0,consts:[["approvalComp",""],[1,"grow"],[1,"text-2xl","pb-10","font-medium"],[1,""],[1,"text-xl","pb-2"],[1,"mt-2","rounded-md","p-1","px-2","bg-gray-200",3,"click"],[1,"py-10"]],template:function(e,n){if(e&1){let r=Z();u(0,"div",1)(1,"p",2),f(2,"Debug Page"),p(),u(3,"mat-expansion-panel",3)(4,"mat-expansion-panel-header",3)(5,"mat-panel-title"),f(6," Approval Komite Comp "),p()(),u(7,"div")(8,"p",4),f(9,"Approval comp"),p(),w(10,"app-c-approval-comp",null,0),u(12,"button",5),E("click",function(){return M(r),A(n.get_komite())}),f(13,"Save pengajuan"),p()()(),w(14,"div",6),p()}},dependencies:[eu,K7,Kh,G7,q7],encapsulation:2})};var Y7=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"",component:Dc,canActivateChild:[gs],children:[{path:"home",component:Mc},{path:"new-approval",component:fs},{path:"info-pengajuan",component:Kc},{path:"approve-pengajuan",component:Yc},{path:"cek-pengajuan",component:Jc},{path:"revisi-pengajuan",component:Xc},{path:"user-settings",component:fs},{path:"page-debug",component:tu},{path:"profile",component:Qc},{path:"request-dtl",component:td},{path:"suppliers",component:od},{path:"jenis_transaksi",component:ad},{path:"setup-bank",component:Xd},{path:"d-sig",component:id},{path:"pengajuan-mi",component:Kd},{path:"new-memo",component:Yd}]},{path:"login",component:qc,canActivate:[gs]}];var J9="@",X9=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=y(Te);loadingSchedulerFn=y(Q9,{optional:!0});_engine;constructor(e,n,r,o,a){this.doc=e,this.delegate=n,this.zone=r,this.animationType=o,this.moduleImpl=a}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-OQAA3HWP.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new he(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Yh(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let s=a.createRenderer(e,n);o.use(s),this.scheduler??=this.injector.get(om,null,{optional:!0}),this.scheduler?.notify(10)}).catch(a=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){Ks()};static \u0275prov=I({token:i,factory:i.\u0275fac})}return i})(),Yh=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,n,r)),this.delegate.listen(t,e,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(J9)}},Q9=new N("");function J7(i="animations"){return tr("NgAsyncAnimations"),Qi([{provide:rt,useFactory:(t,e,n)=>new X9(t,e,n,i),deps:[K,sr,oe]},{provide:it,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var X7='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375Zm9.586 4.594a.75.75 0 0 0-1.172-.938l-2.476 3.096-.908-.907a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.116-.062l3-3.75Z" clip-rule="evenodd"></path></svg>',Q7='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375ZM6 12a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V12Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 15a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V15Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 18a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V18Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg>';var ev='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M11.828 2.25c-.916 0-1.699.663-1.85 1.567l-.091.549a.798.798 0 0 1-.517.608 7.45 7.45 0 0 0-.478.198.798.798 0 0 1-.796-.064l-.453-.324a1.875 1.875 0 0 0-2.416.2l-.243.243a1.875 1.875 0 0 0-.2 2.416l.324.453a.798.798 0 0 1 .064.796 7.448 7.448 0 0 0-.198.478.798.798 0 0 1-.608.517l-.55.092a1.875 1.875 0 0 0-1.566 1.849v.344c0 .916.663 1.699 1.567 1.85l.549.091c.281.047.508.25.608.517.06.162.127.321.198.478a.798.798 0 0 1-.064.796l-.324.453a1.875 1.875 0 0 0 .2 2.416l.243.243c.648.648 1.67.733 2.416.2l.453-.324a.798.798 0 0 1 .796-.064c.157.071.316.137.478.198.267.1.47.327.517.608l.092.55c.15.903.932 1.566 1.849 1.566h.344c.916 0 1.699-.663 1.85-1.567l.091-.549a.798.798 0 0 1 .517-.608 7.52 7.52 0 0 0 .478-.198.798.798 0 0 1 .796.064l.453.324a1.875 1.875 0 0 0 2.416-.2l.243-.243c.648-.648.733-1.67.2-2.416l-.324-.453a.798.798 0 0 1-.064-.796c.071-.157.137-.316.198-.478.1-.267.327-.47.608-.517l.55-.091a1.875 1.875 0 0 0 1.566-1.85v-.344c0-.916-.663-1.699-1.567-1.85l-.549-.091a.798.798 0 0 1-.608-.517 7.507 7.507 0 0 0-.198-.478.798.798 0 0 1 .064-.796l.324-.453a1.875 1.875 0 0 0-.2-2.416l-.243-.243a1.875 1.875 0 0 0-2.416-.2l-.453.324a.798.798 0 0 1-.796.064 7.462 7.462 0 0 0-.478-.198.798.798 0 0 1-.517-.608l-.091-.55a1.875 1.875 0 0 0-1.85-1.566h-.344ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z" clip-rule="evenodd"></path></svg>';var tv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M4.125 3C3.089 3 2.25 3.84 2.25 4.875V18a3 3 0 0 0 3 3h15a3 3 0 0 1-3-3V4.875C17.25 3.839 16.41 3 15.375 3H4.125ZM12 9.75a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H12Zm-.75-2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75ZM6 12.75a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5H6Zm-.75 3.75a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75ZM6 6.75a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-3A.75.75 0 0 0 9 6.75H6Z" clip-rule="evenodd"></path><path d="M18.75 6.75h1.875c.621 0 1.125.504 1.125 1.125V18a1.5 1.5 0 0 1-3 0V6.75Z"></path></svg>';var nv={providers:[wm({eventCoalescing:!0}),E0(Y7),_1(),J7(),vl(),v1({heroClipboardDocumentListSolid:Q7,heroNewspaperSolid:tv,heroClipboardDocumentCheckSolid:X7,heroCog8ToothSolid:ev})]};var nu=class i{constructor(t,e){this.http=t;this.router=e}title="TF_E_Approval";ngOnInit(){this.checkSession()}checkSession(){return O(this,null,function*(){try{let t={authorization:`bearer ${Me(this.router).token}`},e=yield Q(this.http.get(X.env_dev.host+"/api-eappr/session_check",{headers:t}));return e.status==401&&(localStorage.clear(),this.router.navigate(["/login"])),e}catch(t){console.log(t)}})}static \u0275fac=function(e){return new(e||i)(S(Ee),S(te))};static \u0275cmp=R({type:i,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"main"]],template:function(e,n){e&1&&w(0,"main",0)(1,"router-outlet")},dependencies:[mr,Ve],encapsulation:2})};Uu(nu,nv).catch(i=>console.error(i));
